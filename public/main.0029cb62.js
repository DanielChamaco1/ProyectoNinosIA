parcelRequire = (function (e, r, t, n) {
  var i,
    o = "function" == typeof parcelRequire && parcelRequire,
    u = "function" == typeof require && require;
  function f(t, n) {
    if (!r[t]) {
      if (!e[t]) {
        var i = "function" == typeof parcelRequire && parcelRequire;
        if (!n && i) return i(t, !0);
        if (o) return o(t, !0);
        if (u && "string" == typeof t) return u(t);
        var c = new Error("Cannot find module '" + t + "'");
        throw ((c.code = "MODULE_NOT_FOUND"), c);
      }
      (p.resolve = function (r) {
        return e[t][1][r] || r;
      }),
        (p.cache = {});
      var l = (r[t] = new f.Module(t));
      e[t][0].call(l.exports, p, l, l.exports, this);
    }
    return r[t].exports;
    function p(e) {
      return f(p.resolve(e));
    }
  }
  (f.isParcelRequire = !0),
    (f.Module = function (e) {
      (this.id = e), (this.bundle = f), (this.exports = {});
    }),
    (f.modules = e),
    (f.cache = r),
    (f.parent = o),
    (f.register = function (r, t) {
      e[r] = [
        function (e, r) {
          r.exports = t;
        },
        {},
      ];
    });
  for (var c = 0; c < t.length; c++)
    try {
      f(t[c]);
    } catch (e) {
      i || (i = e);
    }
  if (t.length) {
    var l = f(t[t.length - 1]);
    "object" == typeof exports && "undefined" != typeof module
      ? (module.exports = l)
      : "function" == typeof define && define.amd
      ? define(function () {
          return l;
        })
      : n && (this[n] = l);
  }
  if (((parcelRequire = f), i)) throw i;
  return f;
})(
  {
    qf4T: [
      function (require, module, exports) {
        var e = (module.exports =
          "undefined" != typeof window && window.Math == Math
            ? window
            : "undefined" != typeof self && self.Math == Math
            ? self
            : Function("return this")());
        "number" == typeof __g && (__g = e);
      },
      {},
    ],
    uHgd: [
      function (require, module, exports) {
        var r = {}.hasOwnProperty;
        module.exports = function (e, n) {
          return r.call(e, n);
        };
      },
      {},
    ],
    BXiR: [
      function (require, module, exports) {
        module.exports = function (r) {
          try {
            return !!r();
          } catch (t) {
            return !0;
          }
        };
      },
      {},
    ],
    P9Ib: [
      function (require, module, exports) {
        module.exports = !require("./_fails")(function () {
          return (
            7 !=
            Object.defineProperty({}, "a", {
              get: function () {
                return 7;
              },
            }).a
          );
        });
      },
      { "./_fails": "BXiR" },
    ],
    ss9A: [
      function (require, module, exports) {
        var e = (module.exports = { version: "2.6.12" });
        "number" == typeof __e && (__e = e);
      },
      {},
    ],
    M7z6: [
      function (require, module, exports) {
        module.exports = function (o) {
          return "object" == typeof o ? null !== o : "function" == typeof o;
        };
      },
      {},
    ],
    eT53: [
      function (require, module, exports) {
        var r = require("./_is-object");
        module.exports = function (e) {
          if (!r(e)) throw TypeError(e + " is not an object!");
          return e;
        };
      },
      { "./_is-object": "M7z6" },
    ],
    vZ6E: [
      function (require, module, exports) {
        var e = require("./_is-object"),
          r = require("./_global").document,
          t = e(r) && e(r.createElement);
        module.exports = function (e) {
          return t ? r.createElement(e) : {};
        };
      },
      { "./_is-object": "M7z6", "./_global": "qf4T" },
    ],
    o6Gq: [
      function (require, module, exports) {
        module.exports =
          !require("./_descriptors") &&
          !require("./_fails")(function () {
            return (
              7 !=
              Object.defineProperty(require("./_dom-create")("div"), "a", {
                get: function () {
                  return 7;
                },
              }).a
            );
          });
      },
      { "./_descriptors": "P9Ib", "./_fails": "BXiR", "./_dom-create": "vZ6E" },
    ],
    y37I: [
      function (require, module, exports) {
        var t = require("./_is-object");
        module.exports = function (r, e) {
          if (!t(r)) return r;
          var o, n;
          if (e && "function" == typeof (o = r.toString) && !t((n = o.call(r))))
            return n;
          if ("function" == typeof (o = r.valueOf) && !t((n = o.call(r))))
            return n;
          if (
            !e &&
            "function" == typeof (o = r.toString) &&
            !t((n = o.call(r)))
          )
            return n;
          throw TypeError("Can't convert object to primitive value");
        };
      },
      { "./_is-object": "M7z6" },
    ],
    nw8e: [
      function (require, module, exports) {
        var e = require("./_an-object"),
          r = require("./_ie8-dom-define"),
          t = require("./_to-primitive"),
          i = Object.defineProperty;
        exports.f = require("./_descriptors")
          ? Object.defineProperty
          : function (o, n, u) {
              if ((e(o), (n = t(n, !0)), e(u), r))
                try {
                  return i(o, n, u);
                } catch (c) {}
              if ("get" in u || "set" in u)
                throw TypeError("Accessors not supported!");
              return "value" in u && (o[n] = u.value), o;
            };
      },
      {
        "./_an-object": "eT53",
        "./_ie8-dom-define": "o6Gq",
        "./_to-primitive": "y37I",
        "./_descriptors": "P9Ib",
      },
    ],
    uJ6d: [
      function (require, module, exports) {
        module.exports = function (e, r) {
          return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: r,
          };
        };
      },
      {},
    ],
    NXbe: [
      function (require, module, exports) {
        var r = require("./_object-dp"),
          e = require("./_property-desc");
        module.exports = require("./_descriptors")
          ? function (t, u, o) {
              return r.f(t, u, e(1, o));
            }
          : function (r, e, t) {
              return (r[e] = t), r;
            };
      },
      {
        "./_object-dp": "nw8e",
        "./_property-desc": "uJ6d",
        "./_descriptors": "P9Ib",
      },
    ],
    U49f: [
      function (require, module, exports) {
        var o = 0,
          t = Math.random();
        module.exports = function (n) {
          return "Symbol(".concat(
            void 0 === n ? "" : n,
            ")_",
            (++o + t).toString(36)
          );
        };
      },
      {},
    ],
    H21C: [
      function (require, module, exports) {
        module.exports = !1;
      },
      {},
    ],
    zGcK: [
      function (require, module, exports) {
        var r = require("./_core"),
          e = require("./_global"),
          o = "__core-js_shared__",
          i = e[o] || (e[o] = {});
        (module.exports = function (r, e) {
          return i[r] || (i[r] = void 0 !== e ? e : {});
        })("versions", []).push({
          version: r.version,
          mode: require("./_library") ? "pure" : "global",
          copyright: "© 2020 Denis Pushkarev (zloirock.ru)",
        });
      },
      { "./_core": "ss9A", "./_global": "qf4T", "./_library": "H21C" },
    ],
    d5RU: [
      function (require, module, exports) {
        module.exports = require("./_shared")(
          "native-function-to-string",
          Function.toString
        );
      },
      { "./_shared": "zGcK" },
    ],
    PHot: [
      function (require, module, exports) {
        var e = require("./_global"),
          r = require("./_hide"),
          t = require("./_has"),
          i = require("./_uid")("src"),
          n = require("./_function-to-string"),
          o = "toString",
          u = ("" + n).split(o);
        (require("./_core").inspectSource = function (e) {
          return n.call(e);
        }),
          (module.exports = function (n, o, c, l) {
            var s = "function" == typeof c;
            s && (t(c, "name") || r(c, "name", o)),
              n[o] !== c &&
                (s &&
                  (t(c, i) || r(c, i, n[o] ? "" + n[o] : u.join(String(o)))),
                n === e
                  ? (n[o] = c)
                  : l
                  ? n[o]
                    ? (n[o] = c)
                    : r(n, o, c)
                  : (delete n[o], r(n, o, c)));
          })(Function.prototype, o, function () {
            return ("function" == typeof this && this[i]) || n.call(this);
          });
      },
      {
        "./_global": "qf4T",
        "./_hide": "NXbe",
        "./_has": "uHgd",
        "./_uid": "U49f",
        "./_function-to-string": "d5RU",
        "./_core": "ss9A",
      },
    ],
    kYjc: [
      function (require, module, exports) {
        module.exports = function (o) {
          if ("function" != typeof o)
            throw TypeError(o + " is not a function!");
          return o;
        };
      },
      {},
    ],
    E3Kh: [
      function (require, module, exports) {
        var r = require("./_a-function");
        module.exports = function (n, t, u) {
          if ((r(n), void 0 === t)) return n;
          switch (u) {
            case 1:
              return function (r) {
                return n.call(t, r);
              };
            case 2:
              return function (r, u) {
                return n.call(t, r, u);
              };
            case 3:
              return function (r, u, e) {
                return n.call(t, r, u, e);
              };
          }
          return function () {
            return n.apply(t, arguments);
          };
        };
      },
      { "./_a-function": "kYjc" },
    ],
    izCb: [
      function (require, module, exports) {
        var e = require("./_global"),
          r = require("./_core"),
          o = require("./_hide"),
          i = require("./_redefine"),
          u = require("./_ctx"),
          n = "prototype",
          t = function (c, f, l) {
            var q,
              _,
              a,
              d,
              p = c & t.F,
              v = c & t.G,
              F = c & t.S,
              x = c & t.P,
              y = c & t.B,
              B = v ? e : F ? e[f] || (e[f] = {}) : (e[f] || {})[n],
              G = v ? r : r[f] || (r[f] = {}),
              P = G[n] || (G[n] = {});
            for (q in (v && (l = f), l))
              (a = ((_ = !p && B && void 0 !== B[q]) ? B : l)[q]),
                (d =
                  y && _
                    ? u(a, e)
                    : x && "function" == typeof a
                    ? u(Function.call, a)
                    : a),
                B && i(B, q, a, c & t.U),
                G[q] != a && o(G, q, d),
                x && P[q] != a && (P[q] = a);
          };
        (e.core = r),
          (t.F = 1),
          (t.G = 2),
          (t.S = 4),
          (t.P = 8),
          (t.B = 16),
          (t.W = 32),
          (t.U = 64),
          (t.R = 128),
          (module.exports = t);
      },
      {
        "./_global": "qf4T",
        "./_core": "ss9A",
        "./_hide": "NXbe",
        "./_redefine": "PHot",
        "./_ctx": "E3Kh",
      },
    ],
    AoVy: [
      function (require, module, exports) {
        var e = require("./_uid")("meta"),
          r = require("./_is-object"),
          t = require("./_has"),
          n = require("./_object-dp").f,
          i = 0,
          u =
            Object.isExtensible ||
            function () {
              return !0;
            },
          f = !require("./_fails")(function () {
            return u(Object.preventExtensions({}));
          }),
          o = function (r) {
            n(r, e, { value: { i: "O" + ++i, w: {} } });
          },
          s = function (n, i) {
            if (!r(n))
              return "symbol" == typeof n
                ? n
                : ("string" == typeof n ? "S" : "P") + n;
            if (!t(n, e)) {
              if (!u(n)) return "F";
              if (!i) return "E";
              o(n);
            }
            return n[e].i;
          },
          c = function (r, n) {
            if (!t(r, e)) {
              if (!u(r)) return !0;
              if (!n) return !1;
              o(r);
            }
            return r[e].w;
          },
          E = function (r) {
            return f && a.NEED && u(r) && !t(r, e) && o(r), r;
          },
          a = (module.exports = {
            KEY: e,
            NEED: !1,
            fastKey: s,
            getWeak: c,
            onFreeze: E,
          });
      },
      {
        "./_uid": "U49f",
        "./_is-object": "M7z6",
        "./_has": "uHgd",
        "./_object-dp": "nw8e",
        "./_fails": "BXiR",
      },
    ],
    AIP1: [
      function (require, module, exports) {
        var e = require("./_shared")("wks"),
          r = require("./_uid"),
          o = require("./_global").Symbol,
          u = "function" == typeof o,
          i = (module.exports = function (i) {
            return e[i] || (e[i] = (u && o[i]) || (u ? o : r)("Symbol." + i));
          });
        i.store = e;
      },
      { "./_shared": "zGcK", "./_uid": "U49f", "./_global": "qf4T" },
    ],
    rq3q: [
      function (require, module, exports) {
        var e = require("./_object-dp").f,
          r = require("./_has"),
          o = require("./_wks")("toStringTag");
        module.exports = function (t, u, i) {
          t &&
            !r((t = i ? t : t.prototype), o) &&
            e(t, o, { configurable: !0, value: u });
        };
      },
      { "./_object-dp": "nw8e", "./_has": "uHgd", "./_wks": "AIP1" },
    ],
    AuE7: [
      function (require, module, exports) {
        exports.f = require("./_wks");
      },
      { "./_wks": "AIP1" },
    ],
    r4vV: [
      function (require, module, exports) {
        var r = require("./_global"),
          e = require("./_core"),
          o = require("./_library"),
          i = require("./_wks-ext"),
          l = require("./_object-dp").f;
        module.exports = function (u) {
          var a = e.Symbol || (e.Symbol = o ? {} : r.Symbol || {});
          "_" == u.charAt(0) || u in a || l(a, u, { value: i.f(u) });
        };
      },
      {
        "./_global": "qf4T",
        "./_core": "ss9A",
        "./_library": "H21C",
        "./_wks-ext": "AuE7",
        "./_object-dp": "nw8e",
      },
    ],
    Z5df: [
      function (require, module, exports) {
        var r = {}.toString;
        module.exports = function (t) {
          return r.call(t).slice(8, -1);
        };
      },
      {},
    ],
    nGau: [
      function (require, module, exports) {
        var e = require("./_cof");
        module.exports = Object("z").propertyIsEnumerable(0)
          ? Object
          : function (r) {
              return "String" == e(r) ? r.split("") : Object(r);
            };
      },
      { "./_cof": "Z5df" },
    ],
    BjjL: [
      function (require, module, exports) {
        module.exports = function (o) {
          if (null == o) throw TypeError("Can't call method on  " + o);
          return o;
        };
      },
      {},
    ],
    g6sb: [
      function (require, module, exports) {
        var e = require("./_iobject"),
          r = require("./_defined");
        module.exports = function (i) {
          return e(r(i));
        };
      },
      { "./_iobject": "nGau", "./_defined": "BjjL" },
    ],
    yjVO: [
      function (require, module, exports) {
        var o = Math.ceil,
          r = Math.floor;
        module.exports = function (t) {
          return isNaN((t = +t)) ? 0 : (t > 0 ? r : o)(t);
        };
      },
      {},
    ],
    dJBs: [
      function (require, module, exports) {
        var e = require("./_to-integer"),
          r = Math.min;
        module.exports = function (t) {
          return t > 0 ? r(e(t), 9007199254740991) : 0;
        };
      },
      { "./_to-integer": "yjVO" },
    ],
    vfEH: [
      function (require, module, exports) {
        var e = require("./_to-integer"),
          r = Math.max,
          t = Math.min;
        module.exports = function (n, a) {
          return (n = e(n)) < 0 ? r(n + a, 0) : t(n, a);
        };
      },
      { "./_to-integer": "yjVO" },
    ],
    Ca7J: [
      function (require, module, exports) {
        var e = require("./_to-iobject"),
          r = require("./_to-length"),
          t = require("./_to-absolute-index");
        module.exports = function (n) {
          return function (i, o, u) {
            var f,
              l = e(i),
              a = r(l.length),
              c = t(u, a);
            if (n && o != o) {
              for (; a > c; ) if ((f = l[c++]) != f) return !0;
            } else
              for (; a > c; c++)
                if ((n || c in l) && l[c] === o) return n || c || 0;
            return !n && -1;
          };
        };
      },
      {
        "./_to-iobject": "g6sb",
        "./_to-length": "dJBs",
        "./_to-absolute-index": "vfEH",
      },
    ],
    NaGB: [
      function (require, module, exports) {
        var e = require("./_shared")("keys"),
          r = require("./_uid");
        module.exports = function (u) {
          return e[u] || (e[u] = r(u));
        };
      },
      { "./_shared": "zGcK", "./_uid": "U49f" },
    ],
    vL0Z: [
      function (require, module, exports) {
        var r = require("./_has"),
          e = require("./_to-iobject"),
          u = require("./_array-includes")(!1),
          i = require("./_shared-key")("IE_PROTO");
        module.exports = function (o, a) {
          var n,
            s = e(o),
            t = 0,
            h = [];
          for (n in s) n != i && r(s, n) && h.push(n);
          for (; a.length > t; ) r(s, (n = a[t++])) && (~u(h, n) || h.push(n));
          return h;
        };
      },
      {
        "./_has": "uHgd",
        "./_to-iobject": "g6sb",
        "./_array-includes": "Ca7J",
        "./_shared-key": "NaGB",
      },
    ],
    bbv4: [
      function (require, module, exports) {
        module.exports =
          "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(
            ","
          );
      },
      {},
    ],
    U9a7: [
      function (require, module, exports) {
        var e = require("./_object-keys-internal"),
          r = require("./_enum-bug-keys");
        module.exports =
          Object.keys ||
          function (u) {
            return e(u, r);
          };
      },
      { "./_object-keys-internal": "vL0Z", "./_enum-bug-keys": "bbv4" },
    ],
    EWMd: [
      function (require, module, exports) {
        exports.f = Object.getOwnPropertySymbols;
      },
      {},
    ],
    vjRp: [
      function (require, module, exports) {
        exports.f = {}.propertyIsEnumerable;
      },
      {},
    ],
    jjwB: [
      function (require, module, exports) {
        var e = require("./_object-keys"),
          r = require("./_object-gops"),
          o = require("./_object-pie");
        module.exports = function (t) {
          var u = e(t),
            i = r.f;
          if (i)
            for (var c, f = i(t), a = o.f, l = 0; f.length > l; )
              a.call(t, (c = f[l++])) && u.push(c);
          return u;
        };
      },
      {
        "./_object-keys": "U9a7",
        "./_object-gops": "EWMd",
        "./_object-pie": "vjRp",
      },
    ],
    JTrm: [
      function (require, module, exports) {
        var r = require("./_cof");
        module.exports =
          Array.isArray ||
          function (e) {
            return "Array" == r(e);
          };
      },
      { "./_cof": "Z5df" },
    ],
    rfVX: [
      function (require, module, exports) {
        var e = require("./_defined");
        module.exports = function (r) {
          return Object(e(r));
        };
      },
      { "./_defined": "BjjL" },
    ],
    MiMz: [
      function (require, module, exports) {
        var e = require("./_object-dp"),
          r = require("./_an-object"),
          t = require("./_object-keys");
        module.exports = require("./_descriptors")
          ? Object.defineProperties
          : function (o, i) {
              r(o);
              for (var u, c = t(i), n = c.length, s = 0; n > s; )
                e.f(o, (u = c[s++]), i[u]);
              return o;
            };
      },
      {
        "./_object-dp": "nw8e",
        "./_an-object": "eT53",
        "./_object-keys": "U9a7",
        "./_descriptors": "P9Ib",
      },
    ],
    xjB1: [
      function (require, module, exports) {
        var e = require("./_global").document;
        module.exports = e && e.documentElement;
      },
      { "./_global": "qf4T" },
    ],
    sYaK: [
      function (require, module, exports) {
        var e = require("./_an-object"),
          r = require("./_object-dps"),
          t = require("./_enum-bug-keys"),
          n = require("./_shared-key")("IE_PROTO"),
          o = function () {},
          i = "prototype",
          u = function () {
            var e,
              r = require("./_dom-create")("iframe"),
              n = t.length;
            for (
              r.style.display = "none",
                require("./_html").appendChild(r),
                r.src = "javascript:",
                (e = r.contentWindow.document).open(),
                e.write("<script>document.F=Object</script>"),
                e.close(),
                u = e.F;
              n--;

            )
              delete u[i][t[n]];
            return u();
          };
        module.exports =
          Object.create ||
          function (t, c) {
            var a;
            return (
              null !== t
                ? ((o[i] = e(t)), (a = new o()), (o[i] = null), (a[n] = t))
                : (a = u()),
              void 0 === c ? a : r(a, c)
            );
          };
      },
      {
        "./_an-object": "eT53",
        "./_object-dps": "MiMz",
        "./_enum-bug-keys": "bbv4",
        "./_shared-key": "NaGB",
        "./_dom-create": "vZ6E",
        "./_html": "xjB1",
      },
    ],
    Vzm0: [
      function (require, module, exports) {
        var e = require("./_object-keys-internal"),
          r = require("./_enum-bug-keys").concat("length", "prototype");
        exports.f =
          Object.getOwnPropertyNames ||
          function (t) {
            return e(t, r);
          };
      },
      { "./_object-keys-internal": "vL0Z", "./_enum-bug-keys": "bbv4" },
    ],
    dvol: [
      function (require, module, exports) {
        var e = require("./_to-iobject"),
          t = require("./_object-gopn").f,
          o = {}.toString,
          r =
            "object" == typeof window && window && Object.getOwnPropertyNames
              ? Object.getOwnPropertyNames(window)
              : [],
          n = function (e) {
            try {
              return t(e);
            } catch (o) {
              return r.slice();
            }
          };
        module.exports.f = function (c) {
          return r && "[object Window]" == o.call(c) ? n(c) : t(e(c));
        };
      },
      { "./_to-iobject": "g6sb", "./_object-gopn": "Vzm0" },
    ],
    uIjZ: [
      function (require, module, exports) {
        var e = require("./_object-pie"),
          r = require("./_property-desc"),
          i = require("./_to-iobject"),
          t = require("./_to-primitive"),
          o = require("./_has"),
          c = require("./_ie8-dom-define"),
          u = Object.getOwnPropertyDescriptor;
        exports.f = require("./_descriptors")
          ? u
          : function (p, q) {
              if (((p = i(p)), (q = t(q, !0)), c))
                try {
                  return u(p, q);
                } catch (_) {}
              if (o(p, q)) return r(!e.f.call(p, q), p[q]);
            };
      },
      {
        "./_object-pie": "vjRp",
        "./_property-desc": "uJ6d",
        "./_to-iobject": "g6sb",
        "./_to-primitive": "y37I",
        "./_has": "uHgd",
        "./_ie8-dom-define": "o6Gq",
        "./_descriptors": "P9Ib",
      },
    ],
    uVn9: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_global"),
          r = require("./_has"),
          t = require("./_descriptors"),
          i = require("./_export"),
          n = require("./_redefine"),
          o = require("./_meta").KEY,
          u = require("./_fails"),
          s = require("./_shared"),
          f = require("./_set-to-string-tag"),
          c = require("./_uid"),
          a = require("./_wks"),
          l = require("./_wks-ext"),
          p = require("./_wks-define"),
          b = require("./_enum-keys"),
          y = require("./_is-array"),
          h = require("./_an-object"),
          _ = require("./_is-object"),
          q = require("./_to-object"),
          g = require("./_to-iobject"),
          m = require("./_to-primitive"),
          v = require("./_property-desc"),
          d = require("./_object-create"),
          S = require("./_object-gopn-ext"),
          j = require("./_object-gopd"),
          O = require("./_object-gops"),
          w = require("./_object-dp"),
          k = require("./_object-keys"),
          P = j.f,
          F = w.f,
          E = S.f,
          N = e.Symbol,
          J = e.JSON,
          x = J && J.stringify,
          I = "prototype",
          T = a("_hidden"),
          C = a("toPrimitive"),
          M = {}.propertyIsEnumerable,
          D = s("symbol-registry"),
          G = s("symbols"),
          K = s("op-symbols"),
          Q = Object[I],
          W = "function" == typeof N && !!O.f,
          Y = e.QObject,
          z = !Y || !Y[I] || !Y[I].findChild,
          A =
            t &&
            u(function () {
              return (
                7 !=
                d(
                  F({}, "a", {
                    get: function () {
                      return F(this, "a", { value: 7 }).a;
                    },
                  })
                ).a
              );
            })
              ? function (e, r, t) {
                  var i = P(Q, r);
                  i && delete Q[r], F(e, r, t), i && e !== Q && F(Q, r, i);
                }
              : F,
          B = function (e) {
            var r = (G[e] = d(N[I]));
            return (r._k = e), r;
          },
          H =
            W && "symbol" == typeof N.iterator
              ? function (e) {
                  return "symbol" == typeof e;
                }
              : function (e) {
                  return e instanceof N;
                },
          L = function (e, t, i) {
            return (
              e === Q && L(K, t, i),
              h(e),
              (t = m(t, !0)),
              h(i),
              r(G, t)
                ? (i.enumerable
                    ? (r(e, T) && e[T][t] && (e[T][t] = !1),
                      (i = d(i, { enumerable: v(0, !1) })))
                    : (r(e, T) || F(e, T, v(1, {})), (e[T][t] = !0)),
                  A(e, t, i))
                : F(e, t, i)
            );
          },
          R = function (e, r) {
            h(e);
            for (var t, i = b((r = g(r))), n = 0, o = i.length; o > n; )
              L(e, (t = i[n++]), r[t]);
            return e;
          },
          U = function (e, r) {
            return void 0 === r ? d(e) : R(d(e), r);
          },
          V = function (e) {
            var t = M.call(this, (e = m(e, !0)));
            return (
              !(this === Q && r(G, e) && !r(K, e)) &&
              (!(t || !r(this, e) || !r(G, e) || (r(this, T) && this[T][e])) ||
                t)
            );
          },
          X = function (e, t) {
            if (((e = g(e)), (t = m(t, !0)), e !== Q || !r(G, t) || r(K, t))) {
              var i = P(e, t);
              return (
                !i || !r(G, t) || (r(e, T) && e[T][t]) || (i.enumerable = !0), i
              );
            }
          },
          Z = function (e) {
            for (var t, i = E(g(e)), n = [], u = 0; i.length > u; )
              r(G, (t = i[u++])) || t == T || t == o || n.push(t);
            return n;
          },
          $ = function (e) {
            for (
              var t, i = e === Q, n = E(i ? K : g(e)), o = [], u = 0;
              n.length > u;

            )
              !r(G, (t = n[u++])) || (i && !r(Q, t)) || o.push(G[t]);
            return o;
          };
        W ||
          (n(
            (N = function () {
              if (this instanceof N)
                throw TypeError("Symbol is not a constructor!");
              var e = c(arguments.length > 0 ? arguments[0] : void 0),
                i = function (t) {
                  this === Q && i.call(K, t),
                    r(this, T) && r(this[T], e) && (this[T][e] = !1),
                    A(this, e, v(1, t));
                };
              return t && z && A(Q, e, { configurable: !0, set: i }), B(e);
            })[I],
            "toString",
            function () {
              return this._k;
            }
          ),
          (j.f = X),
          (w.f = L),
          (require("./_object-gopn").f = S.f = Z),
          (require("./_object-pie").f = V),
          (O.f = $),
          t && !require("./_library") && n(Q, "propertyIsEnumerable", V, !0),
          (l.f = function (e) {
            return B(a(e));
          })),
          i(i.G + i.W + i.F * !W, { Symbol: N });
        for (
          var ee =
              "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(
                ","
              ),
            re = 0;
          ee.length > re;

        )
          a(ee[re++]);
        for (var te = k(a.store), ie = 0; te.length > ie; ) p(te[ie++]);
        i(i.S + i.F * !W, "Symbol", {
          for: function (e) {
            return r(D, (e += "")) ? D[e] : (D[e] = N(e));
          },
          keyFor: function (e) {
            if (!H(e)) throw TypeError(e + " is not a symbol!");
            for (var r in D) if (D[r] === e) return r;
          },
          useSetter: function () {
            z = !0;
          },
          useSimple: function () {
            z = !1;
          },
        }),
          i(i.S + i.F * !W, "Object", {
            create: U,
            defineProperty: L,
            defineProperties: R,
            getOwnPropertyDescriptor: X,
            getOwnPropertyNames: Z,
            getOwnPropertySymbols: $,
          });
        var ne = u(function () {
          O.f(1);
        });
        i(i.S + i.F * ne, "Object", {
          getOwnPropertySymbols: function (e) {
            return O.f(q(e));
          },
        }),
          J &&
            i(
              i.S +
                i.F *
                  (!W ||
                    u(function () {
                      var e = N();
                      return (
                        "[null]" != x([e]) ||
                        "{}" != x({ a: e }) ||
                        "{}" != x(Object(e))
                      );
                    })),
              "JSON",
              {
                stringify: function (e) {
                  for (var r, t, i = [e], n = 1; arguments.length > n; )
                    i.push(arguments[n++]);
                  if (((t = r = i[1]), (_(r) || void 0 !== e) && !H(e)))
                    return (
                      y(r) ||
                        (r = function (e, r) {
                          if (
                            ("function" == typeof t && (r = t.call(this, e, r)),
                            !H(r))
                          )
                            return r;
                        }),
                      (i[1] = r),
                      x.apply(J, i)
                    );
                },
              }
            ),
          N[I][C] || require("./_hide")(N[I], C, N[I].valueOf),
          f(N, "Symbol"),
          f(Math, "Math", !0),
          f(e.JSON, "JSON", !0);
      },
      {
        "./_global": "qf4T",
        "./_has": "uHgd",
        "./_descriptors": "P9Ib",
        "./_export": "izCb",
        "./_redefine": "PHot",
        "./_meta": "AoVy",
        "./_fails": "BXiR",
        "./_shared": "zGcK",
        "./_set-to-string-tag": "rq3q",
        "./_uid": "U49f",
        "./_wks": "AIP1",
        "./_wks-ext": "AuE7",
        "./_wks-define": "r4vV",
        "./_enum-keys": "jjwB",
        "./_is-array": "JTrm",
        "./_an-object": "eT53",
        "./_is-object": "M7z6",
        "./_to-object": "rfVX",
        "./_to-iobject": "g6sb",
        "./_to-primitive": "y37I",
        "./_property-desc": "uJ6d",
        "./_object-create": "sYaK",
        "./_object-gopn-ext": "dvol",
        "./_object-gopd": "uIjZ",
        "./_object-gops": "EWMd",
        "./_object-dp": "nw8e",
        "./_object-keys": "U9a7",
        "./_object-gopn": "Vzm0",
        "./_object-pie": "vjRp",
        "./_library": "H21C",
        "./_hide": "NXbe",
      },
    ],
    D4xP: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "Object", { create: require("./_object-create") });
      },
      { "./_export": "izCb", "./_object-create": "sYaK" },
    ],
    TSUD: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S + e.F * !require("./_descriptors"), "Object", {
          defineProperty: require("./_object-dp").f,
        });
      },
      { "./_export": "izCb", "./_descriptors": "P9Ib", "./_object-dp": "nw8e" },
    ],
    AwOq: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S + e.F * !require("./_descriptors"), "Object", {
          defineProperties: require("./_object-dps"),
        });
      },
      {
        "./_export": "izCb",
        "./_descriptors": "P9Ib",
        "./_object-dps": "MiMz",
      },
    ],
    s7uf: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_core"),
          t = require("./_fails");
        module.exports = function (c, i) {
          var o = (r.Object || {})[c] || Object[c],
            u = {};
          (u[c] = i(o)),
            e(
              e.S +
                e.F *
                  t(function () {
                    o(1);
                  }),
              "Object",
              u
            );
        };
      },
      { "./_export": "izCb", "./_core": "ss9A", "./_fails": "BXiR" },
    ],
    nIty: [
      function (require, module, exports) {
        var r = require("./_to-iobject"),
          e = require("./_object-gopd").f;
        require("./_object-sap")("getOwnPropertyDescriptor", function () {
          return function (t, o) {
            return e(r(t), o);
          };
        });
      },
      {
        "./_to-iobject": "g6sb",
        "./_object-gopd": "uIjZ",
        "./_object-sap": "s7uf",
      },
    ],
    q6yw: [
      function (require, module, exports) {
        var t = require("./_has"),
          e = require("./_to-object"),
          o = require("./_shared-key")("IE_PROTO"),
          r = Object.prototype;
        module.exports =
          Object.getPrototypeOf ||
          function (c) {
            return (
              (c = e(c)),
              t(c, o)
                ? c[o]
                : "function" == typeof c.constructor &&
                  c instanceof c.constructor
                ? c.constructor.prototype
                : c instanceof Object
                ? r
                : null
            );
          };
      },
      { "./_has": "uHgd", "./_to-object": "rfVX", "./_shared-key": "NaGB" },
    ],
    ud3u: [
      function (require, module, exports) {
        var e = require("./_to-object"),
          r = require("./_object-gpo");
        require("./_object-sap")("getPrototypeOf", function () {
          return function (t) {
            return r(e(t));
          };
        });
      },
      {
        "./_to-object": "rfVX",
        "./_object-gpo": "q6yw",
        "./_object-sap": "s7uf",
      },
    ],
    m9aB: [
      function (require, module, exports) {
        var e = require("./_to-object"),
          r = require("./_object-keys");
        require("./_object-sap")("keys", function () {
          return function (t) {
            return r(e(t));
          };
        });
      },
      {
        "./_to-object": "rfVX",
        "./_object-keys": "U9a7",
        "./_object-sap": "s7uf",
      },
    ],
    i23Y: [
      function (require, module, exports) {
        require("./_object-sap")("getOwnPropertyNames", function () {
          return require("./_object-gopn-ext").f;
        });
      },
      { "./_object-sap": "s7uf", "./_object-gopn-ext": "dvol" },
    ],
    EO7q: [
      function (require, module, exports) {
        var e = require("./_is-object"),
          r = require("./_meta").onFreeze;
        require("./_object-sap")("freeze", function (n) {
          return function (t) {
            return n && e(t) ? n(r(t)) : t;
          };
        });
      },
      { "./_is-object": "M7z6", "./_meta": "AoVy", "./_object-sap": "s7uf" },
    ],
    GYFR: [
      function (require, module, exports) {
        var e = require("./_is-object"),
          r = require("./_meta").onFreeze;
        require("./_object-sap")("seal", function (n) {
          return function (t) {
            return n && e(t) ? n(r(t)) : t;
          };
        });
      },
      { "./_is-object": "M7z6", "./_meta": "AoVy", "./_object-sap": "s7uf" },
    ],
    llMc: [
      function (require, module, exports) {
        var e = require("./_is-object"),
          r = require("./_meta").onFreeze;
        require("./_object-sap")("preventExtensions", function (n) {
          return function (t) {
            return n && e(t) ? n(r(t)) : t;
          };
        });
      },
      { "./_is-object": "M7z6", "./_meta": "AoVy", "./_object-sap": "s7uf" },
    ],
    Z1rp: [
      function (require, module, exports) {
        var r = require("./_is-object");
        require("./_object-sap")("isFrozen", function (e) {
          return function (n) {
            return !r(n) || (!!e && e(n));
          };
        });
      },
      { "./_is-object": "M7z6", "./_object-sap": "s7uf" },
    ],
    Fckj: [
      function (require, module, exports) {
        var e = require("./_is-object");
        require("./_object-sap")("isSealed", function (r) {
          return function (i) {
            return !e(i) || (!!r && r(i));
          };
        });
      },
      { "./_is-object": "M7z6", "./_object-sap": "s7uf" },
    ],
    EYbC: [
      function (require, module, exports) {
        var e = require("./_is-object");
        require("./_object-sap")("isExtensible", function (r) {
          return function (i) {
            return !!e(i) && (!r || r(i));
          };
        });
      },
      { "./_is-object": "M7z6", "./_object-sap": "s7uf" },
    ],
    e3Bp: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_descriptors"),
          r = require("./_object-keys"),
          t = require("./_object-gops"),
          o = require("./_object-pie"),
          i = require("./_to-object"),
          c = require("./_iobject"),
          n = Object.assign;
        module.exports =
          !n ||
          require("./_fails")(function () {
            var e = {},
              r = {},
              t = Symbol(),
              o = "abcdefghijklmnopqrst";
            return (
              (e[t] = 7),
              o.split("").forEach(function (e) {
                r[e] = e;
              }),
              7 != n({}, e)[t] || Object.keys(n({}, r)).join("") != o
            );
          })
            ? function (n, u) {
                for (
                  var s = i(n), a = arguments.length, f = 1, b = t.f, j = o.f;
                  a > f;

                )
                  for (
                    var l,
                      q = c(arguments[f++]),
                      _ = b ? r(q).concat(b(q)) : r(q),
                      p = _.length,
                      g = 0;
                    p > g;

                  )
                    (l = _[g++]), (e && !j.call(q, l)) || (s[l] = q[l]);
                return s;
              }
            : n;
      },
      {
        "./_descriptors": "P9Ib",
        "./_object-keys": "U9a7",
        "./_object-gops": "EWMd",
        "./_object-pie": "vjRp",
        "./_to-object": "rfVX",
        "./_iobject": "nGau",
        "./_fails": "BXiR",
      },
    ],
    K3Jy: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S + e.F, "Object", { assign: require("./_object-assign") });
      },
      { "./_export": "izCb", "./_object-assign": "e3Bp" },
    ],
    zutv: [
      function (require, module, exports) {
        module.exports =
          Object.is ||
          function (e, t) {
            return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t;
          };
      },
      {},
    ],
    MlqR: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "Object", { is: require("./_same-value") });
      },
      { "./_export": "izCb", "./_same-value": "zutv" },
    ],
    vn3S: [
      function (require, module, exports) {
        var t = require("./_is-object"),
          e = require("./_an-object"),
          r = function (r, o) {
            if ((e(r), !t(o) && null !== o))
              throw TypeError(o + ": can't set as prototype!");
          };
        module.exports = {
          set:
            Object.setPrototypeOf ||
            ("__proto__" in {}
              ? (function (t, e, o) {
                  try {
                    (o = require("./_ctx")(
                      Function.call,
                      require("./_object-gopd").f(Object.prototype, "__proto__")
                        .set,
                      2
                    ))(t, []),
                      (e = !(t instanceof Array));
                  } catch (c) {
                    e = !0;
                  }
                  return function (t, c) {
                    return r(t, c), e ? (t.__proto__ = c) : o(t, c), t;
                  };
                })({}, !1)
              : void 0),
          check: r,
        };
      },
      {
        "./_is-object": "M7z6",
        "./_an-object": "eT53",
        "./_ctx": "E3Kh",
        "./_object-gopd": "uIjZ",
      },
    ],
    JGjq: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "Object", { setPrototypeOf: require("./_set-proto").set });
      },
      { "./_export": "izCb", "./_set-proto": "vn3S" },
    ],
    GM7B: [
      function (require, module, exports) {
        var e = require("./_cof"),
          t = require("./_wks")("toStringTag"),
          n =
            "Arguments" ==
            e(
              (function () {
                return arguments;
              })()
            ),
          r = function (e, t) {
            try {
              return e[t];
            } catch (n) {}
          };
        module.exports = function (u) {
          var o, c, i;
          return void 0 === u
            ? "Undefined"
            : null === u
            ? "Null"
            : "string" == typeof (c = r((o = Object(u)), t))
            ? c
            : n
            ? e(o)
            : "Object" == (i = e(o)) && "function" == typeof o.callee
            ? "Arguments"
            : i;
        };
      },
      { "./_cof": "Z5df", "./_wks": "AIP1" },
    ],
    zTK3: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_classof"),
          r = {};
        (r[require("./_wks")("toStringTag")] = "z"),
          r + "" != "[object z]" &&
            require("./_redefine")(
              Object.prototype,
              "toString",
              function () {
                return "[object " + e(this) + "]";
              },
              !0
            );
      },
      { "./_classof": "GM7B", "./_wks": "AIP1", "./_redefine": "PHot" },
    ],
    xcbV: [
      function (require, module, exports) {
        module.exports = function (e, r, l) {
          var a = void 0 === l;
          switch (r.length) {
            case 0:
              return a ? e() : e.call(l);
            case 1:
              return a ? e(r[0]) : e.call(l, r[0]);
            case 2:
              return a ? e(r[0], r[1]) : e.call(l, r[0], r[1]);
            case 3:
              return a ? e(r[0], r[1], r[2]) : e.call(l, r[0], r[1], r[2]);
            case 4:
              return a
                ? e(r[0], r[1], r[2], r[3])
                : e.call(l, r[0], r[1], r[2], r[3]);
          }
          return e.apply(l, r);
        };
      },
      {},
    ],
    h83E: [
      function (require, module, exports) {
        "use strict";
        var n = require("./_a-function"),
          t = require("./_is-object"),
          r = require("./_invoke"),
          e = [].slice,
          i = {},
          o = function (n, t, r) {
            if (!(t in i)) {
              for (var e = [], o = 0; o < t; o++) e[o] = "a[" + o + "]";
              i[t] = Function("F,a", "return new F(" + e.join(",") + ")");
            }
            return i[t](n, r);
          };
        module.exports =
          Function.bind ||
          function (i) {
            var u = n(this),
              c = e.call(arguments, 1),
              a = function () {
                var n = c.concat(e.call(arguments));
                return this instanceof a ? o(u, n.length, n) : r(u, n, i);
              };
            return t(u.prototype) && (a.prototype = u.prototype), a;
          };
      },
      { "./_a-function": "kYjc", "./_is-object": "M7z6", "./_invoke": "xcbV" },
    ],
    WIhg: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.P, "Function", { bind: require("./_bind") });
      },
      { "./_export": "izCb", "./_bind": "h83E" },
    ],
    N3yi: [
      function (require, module, exports) {
        var r = require("./_object-dp").f,
          t = Function.prototype,
          e = /^\s*function ([^ (]*)/,
          n = "name";
        n in t ||
          (require("./_descriptors") &&
            r(t, n, {
              configurable: !0,
              get: function () {
                try {
                  return ("" + this).match(e)[1];
                } catch (r) {
                  return "";
                }
              },
            }));
      },
      { "./_object-dp": "nw8e", "./_descriptors": "P9Ib" },
    ],
    a7bX: [
      function (require, module, exports) {
        "use strict";
        var t = require("./_is-object"),
          e = require("./_object-gpo"),
          r = require("./_wks")("hasInstance"),
          i = Function.prototype;
        r in i ||
          require("./_object-dp").f(i, r, {
            value: function (r) {
              if ("function" != typeof this || !t(r)) return !1;
              if (!t(this.prototype)) return r instanceof this;
              for (; (r = e(r)); ) if (this.prototype === r) return !0;
              return !1;
            },
          });
      },
      {
        "./_is-object": "M7z6",
        "./_object-gpo": "q6yw",
        "./_wks": "AIP1",
        "./_object-dp": "nw8e",
      },
    ],
    ECro: [
      function (require, module, exports) {
        module.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";
      },
      {},
    ],
    y5m2: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_defined"),
          i = require("./_fails"),
          n = require("./_string-ws"),
          t = "[" + n + "]",
          u = "​",
          o = RegExp("^" + t + t + "*"),
          p = RegExp(t + t + "*$"),
          a = function (e, t, o) {
            var p = {},
              a = i(function () {
                return !!n[e]() || u[e]() != u;
              }),
              f = (p[e] = a ? t(c) : n[e]);
            o && (p[o] = f), r(r.P + r.F * a, "String", p);
          },
          c = (a.trim = function (r, i) {
            return (
              (r = String(e(r))),
              1 & i && (r = r.replace(o, "")),
              2 & i && (r = r.replace(p, "")),
              r
            );
          });
        module.exports = a;
      },
      {
        "./_export": "izCb",
        "./_defined": "BjjL",
        "./_fails": "BXiR",
        "./_string-ws": "ECro",
      },
    ],
    pmYI: [
      function (require, module, exports) {
        var r = require("./_global").parseInt,
          e = require("./_string-trim").trim,
          t = require("./_string-ws"),
          i = /^[-+]?0[xX]/;
        module.exports =
          8 !== r(t + "08") || 22 !== r(t + "0x16")
            ? function (t, n) {
                var s = e(String(t), 3);
                return r(s, n >>> 0 || (i.test(s) ? 16 : 10));
              }
            : r;
      },
      { "./_global": "qf4T", "./_string-trim": "y5m2", "./_string-ws": "ECro" },
    ],
    C15x: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_parse-int");
        r(r.G + r.F * (parseInt != e), { parseInt: e });
      },
      { "./_export": "izCb", "./_parse-int": "pmYI" },
    ],
    NfQ8: [
      function (require, module, exports) {
        var r = require("./_global").parseFloat,
          e = require("./_string-trim").trim;
        module.exports =
          1 / r(require("./_string-ws") + "-0") != -1 / 0
            ? function (t) {
                var i = e(String(t), 3),
                  a = r(i);
                return 0 === a && "-" == i.charAt(0) ? -0 : a;
              }
            : r;
      },
      { "./_global": "qf4T", "./_string-trim": "y5m2", "./_string-ws": "ECro" },
    ],
    Q4DA: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_parse-float");
        r(r.G + r.F * (parseFloat != e), { parseFloat: e });
      },
      { "./_export": "izCb", "./_parse-float": "NfQ8" },
    ],
    ogxf: [
      function (require, module, exports) {
        var t = require("./_is-object"),
          o = require("./_set-proto").set;
        module.exports = function (r, e, p) {
          var u,
            n = e.constructor;
          return (
            n !== p &&
              "function" == typeof n &&
              (u = n.prototype) !== p.prototype &&
              t(u) &&
              o &&
              o(r, u),
            r
          );
        };
      },
      { "./_is-object": "M7z6", "./_set-proto": "vn3S" },
    ],
    kRGG: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_global"),
          r = require("./_has"),
          t = require("./_cof"),
          i = require("./_inherit-if-required"),
          a = require("./_to-primitive"),
          n = require("./_fails"),
          o = require("./_object-gopn").f,
          u = require("./_object-gopd").f,
          s = require("./_object-dp").f,
          c = require("./_string-trim").trim,
          f = "Number",
          _ = e[f],
          I = _,
          N = _.prototype,
          p = t(require("./_object-create")(N)) == f,
          l = "trim" in String.prototype,
          q = function (e) {
            var r = a(e, !1);
            if ("string" == typeof r && r.length > 2) {
              var t,
                i,
                n,
                o = (r = l ? r.trim() : c(r, 3)).charCodeAt(0);
              if (43 === o || 45 === o) {
                if (88 === (t = r.charCodeAt(2)) || 120 === t) return NaN;
              } else if (48 === o) {
                switch (r.charCodeAt(1)) {
                  case 66:
                  case 98:
                    (i = 2), (n = 49);
                    break;
                  case 79:
                  case 111:
                    (i = 8), (n = 55);
                    break;
                  default:
                    return +r;
                }
                for (var u, s = r.slice(2), f = 0, _ = s.length; f < _; f++)
                  if ((u = s.charCodeAt(f)) < 48 || u > n) return NaN;
                return parseInt(s, i);
              }
            }
            return +r;
          };
        if (!_(" 0o1") || !_("0b1") || _("+0x1")) {
          _ = function (e) {
            var r = arguments.length < 1 ? 0 : e,
              a = this;
            return a instanceof _ &&
              (p
                ? n(function () {
                    N.valueOf.call(a);
                  })
                : t(a) != f)
              ? i(new I(q(r)), a, _)
              : q(r);
          };
          for (
            var g,
              h = require("./_descriptors")
                ? o(I)
                : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(
                    ","
                  ),
              E = 0;
            h.length > E;
            E++
          )
            r(I, (g = h[E])) && !r(_, g) && s(_, g, u(I, g));
          (_.prototype = N),
            (N.constructor = _),
            require("./_redefine")(e, f, _);
        }
      },
      {
        "./_global": "qf4T",
        "./_has": "uHgd",
        "./_cof": "Z5df",
        "./_inherit-if-required": "ogxf",
        "./_to-primitive": "y37I",
        "./_fails": "BXiR",
        "./_object-gopn": "Vzm0",
        "./_object-gopd": "uIjZ",
        "./_object-dp": "nw8e",
        "./_string-trim": "y5m2",
        "./_object-create": "sYaK",
        "./_descriptors": "P9Ib",
        "./_redefine": "PHot",
      },
    ],
    AuPz: [
      function (require, module, exports) {
        var r = require("./_cof");
        module.exports = function (e, o) {
          if ("number" != typeof e && "Number" != r(e)) throw TypeError(o);
          return +e;
        };
      },
      { "./_cof": "Z5df" },
    ],
    UH4U: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_to-integer"),
          e = require("./_defined");
        module.exports = function (t) {
          var i = String(e(this)),
            n = "",
            o = r(t);
          if (o < 0 || o == 1 / 0) throw RangeError("Count can't be negative");
          for (; o > 0; (o >>>= 1) && (i += i)) 1 & o && (n += i);
          return n;
        };
      },
      { "./_to-integer": "yjVO", "./_defined": "BjjL" },
    ],
    vva0: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_to-integer"),
          i = require("./_a-number-value"),
          t = require("./_string-repeat"),
          n = (1).toFixed,
          o = Math.floor,
          u = [0, 0, 0, 0, 0, 0],
          f = "Number.toFixed: incorrect invocation!",
          a = "0",
          c = function (r, e) {
            for (var i = -1, t = e; ++i < 6; )
              (t += r * u[i]), (u[i] = t % 1e7), (t = o(t / 1e7));
          },
          l = function (r) {
            for (var e = 6, i = 0; --e >= 0; )
              (i += u[e]), (u[e] = o(i / r)), (i = (i % r) * 1e7);
          },
          v = function () {
            for (var r = 6, e = ""; --r >= 0; )
              if ("" !== e || 0 === r || 0 !== u[r]) {
                var i = String(u[r]);
                e = "" === e ? i : e + t.call(a, 7 - i.length) + i;
              }
            return e;
          },
          x = function (r, e, i) {
            return 0 === e
              ? i
              : e % 2 == 1
              ? x(r, e - 1, i * r)
              : x(r * r, e / 2, i);
          },
          d = function (r) {
            for (var e = 0, i = r; i >= 4096; ) (e += 12), (i /= 4096);
            for (; i >= 2; ) (e += 1), (i /= 2);
            return e;
          };
        r(
          r.P +
            r.F *
              ((!!n &&
                ("0.000" !== (8e-5).toFixed(3) ||
                  "1" !== (0.9).toFixed(0) ||
                  "1.25" !== (1.255).toFixed(2) ||
                  "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0))) ||
                !require("./_fails")(function () {
                  n.call({});
                })),
          "Number",
          {
            toFixed: function (r) {
              var n,
                o,
                u,
                s,
                F = i(this, f),
                g = e(r),
                b = "",
                h = a;
              if (g < 0 || g > 20) throw RangeError(f);
              if (F != F) return "NaN";
              if (F <= -1e21 || F >= 1e21) return String(F);
              if ((F < 0 && ((b = "-"), (F = -F)), F > 1e-21))
                if (
                  ((o =
                    (n = d(F * x(2, 69, 1)) - 69) < 0
                      ? F * x(2, -n, 1)
                      : F / x(2, n, 1)),
                  (o *= 4503599627370496),
                  (n = 52 - n) > 0)
                ) {
                  for (c(0, o), u = g; u >= 7; ) c(1e7, 0), (u -= 7);
                  for (c(x(10, u, 1), 0), u = n - 1; u >= 23; )
                    l(1 << 23), (u -= 23);
                  l(1 << u), c(1, 1), l(2), (h = v());
                } else c(0, o), c(1 << -n, 0), (h = v() + t.call(a, g));
              return (h =
                g > 0
                  ? b +
                    ((s = h.length) <= g
                      ? "0." + t.call(a, g - s) + h
                      : h.slice(0, s - g) + "." + h.slice(s - g))
                  : b + h);
            },
          }
        );
      },
      {
        "./_export": "izCb",
        "./_to-integer": "yjVO",
        "./_a-number-value": "AuPz",
        "./_string-repeat": "UH4U",
        "./_fails": "BXiR",
      },
    ],
    Y4ol: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          i = require("./_fails"),
          e = require("./_a-number-value"),
          n = (1).toPrecision;
        r(
          r.P +
            r.F *
              (i(function () {
                return "1" !== n.call(1, void 0);
              }) ||
                !i(function () {
                  n.call({});
                })),
          "Number",
          {
            toPrecision: function (r) {
              var i = e(this, "Number#toPrecision: incorrect invocation!");
              return void 0 === r ? n.call(i) : n.call(i, r);
            },
          }
        );
      },
      { "./_export": "izCb", "./_fails": "BXiR", "./_a-number-value": "AuPz" },
    ],
    DzYy: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Number", { EPSILON: Math.pow(2, -52) });
      },
      { "./_export": "izCb" },
    ],
    FuY7: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_global").isFinite;
        e(e.S, "Number", {
          isFinite: function (e) {
            return "number" == typeof e && r(e);
          },
        });
      },
      { "./_export": "izCb", "./_global": "qf4T" },
    ],
    T4z7: [
      function (require, module, exports) {
        var e = require("./_is-object"),
          r = Math.floor;
        module.exports = function (i) {
          return !e(i) && isFinite(i) && r(i) === i;
        };
      },
      { "./_is-object": "M7z6" },
    ],
    pwRL: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "Number", { isInteger: require("./_is-integer") });
      },
      { "./_export": "izCb", "./_is-integer": "T4z7" },
    ],
    SsgJ: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Number", {
          isNaN: function (r) {
            return r != r;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    qVIE: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_is-integer"),
          i = Math.abs;
        e(e.S, "Number", {
          isSafeInteger: function (e) {
            return r(e) && i(e) <= 9007199254740991;
          },
        });
      },
      { "./_export": "izCb", "./_is-integer": "T4z7" },
    ],
    shx2: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Number", { MAX_SAFE_INTEGER: 9007199254740991 });
      },
      { "./_export": "izCb" },
    ],
    ifBH: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Number", { MIN_SAFE_INTEGER: -9007199254740991 });
      },
      { "./_export": "izCb" },
    ],
    yjyf: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_parse-float");
        r(r.S + r.F * (Number.parseFloat != e), "Number", { parseFloat: e });
      },
      { "./_export": "izCb", "./_parse-float": "NfQ8" },
    ],
    Guno: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_parse-int");
        r(r.S + r.F * (Number.parseInt != e), "Number", { parseInt: e });
      },
      { "./_export": "izCb", "./_parse-int": "pmYI" },
    ],
    ggmj: [
      function (require, module, exports) {
        module.exports =
          Math.log1p ||
          function (e) {
            return (e = +e) > -1e-8 && e < 1e-8
              ? e - (e * e) / 2
              : Math.log(1 + e);
          };
      },
      {},
    ],
    py3M: [
      function (require, module, exports) {
        var a = require("./_export"),
          r = require("./_math-log1p"),
          t = Math.sqrt,
          h = Math.acosh;
        a(
          a.S +
            a.F *
              !(
                h &&
                710 == Math.floor(h(Number.MAX_VALUE)) &&
                h(1 / 0) == 1 / 0
              ),
          "Math",
          {
            acosh: function (a) {
              return (a = +a) < 1
                ? NaN
                : a > 94906265.62425156
                ? Math.log(a) + Math.LN2
                : r(a - 1 + t(a - 1) * t(a + 1));
            },
          }
        );
      },
      { "./_export": "izCb", "./_math-log1p": "ggmj" },
    ],
    ob11: [
      function (require, module, exports) {
        var t = require("./_export"),
          a = Math.asinh;
        function i(t) {
          return isFinite((t = +t)) && 0 != t
            ? t < 0
              ? -i(-t)
              : Math.log(t + Math.sqrt(t * t + 1))
            : t;
        }
        t(t.S + t.F * !(a && 1 / a(0) > 0), "Math", { asinh: i });
      },
      { "./_export": "izCb" },
    ],
    iUik: [
      function (require, module, exports) {
        var a = require("./_export"),
          t = Math.atanh;
        a(a.S + a.F * !(t && 1 / t(-0) < 0), "Math", {
          atanh: function (a) {
            return 0 == (a = +a) ? a : Math.log((1 + a) / (1 - a)) / 2;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    qtVy: [
      function (require, module, exports) {
        module.exports =
          Math.sign ||
          function (n) {
            return 0 == (n = +n) || n != n ? n : n < 0 ? -1 : 1;
          };
      },
      {},
    ],
    YRuK: [
      function (require, module, exports) {
        var r = require("./_export"),
          t = require("./_math-sign");
        r(r.S, "Math", {
          cbrt: function (r) {
            return t((r = +r)) * Math.pow(Math.abs(r), 1 / 3);
          },
        });
      },
      { "./_export": "izCb", "./_math-sign": "qtVy" },
    ],
    R2Qc: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          clz32: function (r) {
            return (r >>>= 0)
              ? 31 - Math.floor(Math.log(r + 0.5) * Math.LOG2E)
              : 32;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    nEse: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = Math.exp;
        r(r.S, "Math", {
          cosh: function (r) {
            return (e((r = +r)) + e(-r)) / 2;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    AF6f: [
      function (require, module, exports) {
        var e = Math.expm1;
        module.exports =
          !e ||
          e(10) > 22025.465794806718 ||
          e(10) < 22025.465794806718 ||
          -2e-17 != e(-2e-17)
            ? function (e) {
                return 0 == (e = +e)
                  ? e
                  : e > -1e-6 && e < 1e-6
                  ? e + (e * e) / 2
                  : Math.exp(e) - 1;
              }
            : e;
      },
      {},
    ],
    AmoX: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_math-expm1");
        e(e.S + e.F * (r != Math.expm1), "Math", { expm1: r });
      },
      { "./_export": "izCb", "./_math-expm1": "AF6f" },
    ],
    z6h7: [
      function (require, module, exports) {
        var r = require("./_math-sign"),
          t = Math.pow,
          n = t(2, -52),
          a = t(2, -23),
          u = t(2, 127) * (2 - a),
          e = t(2, -126),
          o = function (r) {
            return r + 1 / n - 1 / n;
          };
        module.exports =
          Math.fround ||
          function (t) {
            var h,
              i,
              f = Math.abs(t),
              s = r(t);
            return f < e
              ? s * o(f / e / a) * e * a
              : (i = (h = (1 + a / n) * f) - (h - f)) > u || i != i
              ? s * (1 / 0)
              : s * i;
          };
      },
      { "./_math-sign": "qtVy" },
    ],
    vmlq: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", { fround: require("./_math-fround") });
      },
      { "./_export": "izCb", "./_math-fround": "z6h7" },
    ],
    kLut: [
      function (require, module, exports) {
        var r = require("./_export"),
          t = Math.abs;
        r(r.S, "Math", {
          hypot: function (r, a) {
            for (var e, h, n = 0, o = 0, u = arguments.length, M = 0; o < u; )
              M < (e = t(arguments[o++]))
                ? ((n = n * (h = M / e) * h + 1), (M = e))
                : (n += e > 0 ? (h = e / M) * h : e);
            return M === 1 / 0 ? 1 / 0 : M * Math.sqrt(n);
          },
        });
      },
      { "./_export": "izCb" },
    ],
    A8J8: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = Math.imul;
        r(
          r.S +
            r.F *
              require("./_fails")(function () {
                return -5 != e(4294967295, 5) || 2 != e.length;
              }),
          "Math",
          {
            imul: function (r, e) {
              var t = +r,
                u = +e,
                i = 65535 & t,
                n = 65535 & u;
              return (
                0 |
                (i * n +
                  ((((65535 & (t >>> 16)) * n + i * (65535 & (u >>> 16))) <<
                    16) >>>
                    0))
              );
            },
          }
        );
      },
      { "./_export": "izCb", "./_fails": "BXiR" },
    ],
    VUW8: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          log10: function (r) {
            return Math.log(r) * Math.LOG10E;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    qtpC: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", { log1p: require("./_math-log1p") });
      },
      { "./_export": "izCb", "./_math-log1p": "ggmj" },
    ],
    Jo9J: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          log2: function (r) {
            return Math.log(r) / Math.LN2;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    mZl9: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", { sign: require("./_math-sign") });
      },
      { "./_export": "izCb", "./_math-sign": "qtVy" },
    ],
    m0zb: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_math-expm1"),
          t = Math.exp;
        e(
          e.S +
            e.F *
              require("./_fails")(function () {
                return -2e-17 != !Math.sinh(-2e-17);
              }),
          "Math",
          {
            sinh: function (e) {
              return Math.abs((e = +e)) < 1
                ? (r(e) - r(-e)) / 2
                : (t(e - 1) - t(-e - 1)) * (Math.E / 2);
            },
          }
        );
      },
      { "./_export": "izCb", "./_math-expm1": "AF6f", "./_fails": "BXiR" },
    ],
    Fnqw: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_math-expm1"),
          t = Math.exp;
        r(r.S, "Math", {
          tanh: function (r) {
            var a = e((r = +r)),
              h = e(-r);
            return a == 1 / 0 ? 1 : h == 1 / 0 ? -1 : (a - h) / (t(r) + t(-r));
          },
        });
      },
      { "./_export": "izCb", "./_math-expm1": "AF6f" },
    ],
    tiOR: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          trunc: function (r) {
            return (r > 0 ? Math.floor : Math.ceil)(r);
          },
        });
      },
      { "./_export": "izCb" },
    ],
    xSM3: [
      function (require, module, exports) {
        var r = require("./_export"),
          o = require("./_to-absolute-index"),
          e = String.fromCharCode,
          n = String.fromCodePoint;
        r(r.S + r.F * (!!n && 1 != n.length), "String", {
          fromCodePoint: function (r) {
            for (var n, t = [], i = arguments.length, a = 0; i > a; ) {
              if (((n = +arguments[a++]), o(n, 1114111) !== n))
                throw RangeError(n + " is not a valid code point");
              t.push(
                n < 65536
                  ? e(n)
                  : e(55296 + ((n -= 65536) >> 10), (n % 1024) + 56320)
              );
            }
            return t.join("");
          },
        });
      },
      { "./_export": "izCb", "./_to-absolute-index": "vfEH" },
    ],
    t29D: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_to-iobject"),
          t = require("./_to-length");
        r(r.S, "String", {
          raw: function (r) {
            for (
              var n = e(r.raw),
                i = t(n.length),
                o = arguments.length,
                u = [],
                g = 0;
              i > g;

            )
              u.push(String(n[g++])), g < o && u.push(String(arguments[g]));
            return u.join("");
          },
        });
      },
      { "./_export": "izCb", "./_to-iobject": "g6sb", "./_to-length": "dJBs" },
    ],
    ZW4n: [
      function (require, module, exports) {
        "use strict";
        require("./_string-trim")("trim", function (r) {
          return function () {
            return r(this, 3);
          };
        });
      },
      { "./_string-trim": "y5m2" },
    ],
    x5yM: [
      function (require, module, exports) {
        var e = require("./_to-integer"),
          r = require("./_defined");
        module.exports = function (t) {
          return function (n, i) {
            var o,
              u,
              c = String(r(n)),
              d = e(i),
              a = c.length;
            return d < 0 || d >= a
              ? t
                ? ""
                : void 0
              : (o = c.charCodeAt(d)) < 55296 ||
                o > 56319 ||
                d + 1 === a ||
                (u = c.charCodeAt(d + 1)) < 56320 ||
                u > 57343
              ? t
                ? c.charAt(d)
                : o
              : t
              ? c.slice(d, d + 2)
              : u - 56320 + ((o - 55296) << 10) + 65536;
          };
        };
      },
      { "./_to-integer": "yjVO", "./_defined": "BjjL" },
    ],
    JO4d: [
      function (require, module, exports) {
        module.exports = {};
      },
      {},
    ],
    ebgP: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_object-create"),
          r = require("./_property-desc"),
          t = require("./_set-to-string-tag"),
          i = {};
        require("./_hide")(i, require("./_wks")("iterator"), function () {
          return this;
        }),
          (module.exports = function (o, u, s) {
            (o.prototype = e(i, { next: r(1, s) })), t(o, u + " Iterator");
          });
      },
      {
        "./_object-create": "sYaK",
        "./_property-desc": "uJ6d",
        "./_set-to-string-tag": "rq3q",
        "./_hide": "NXbe",
        "./_wks": "AIP1",
      },
    ],
    mH0U: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_library"),
          r = require("./_export"),
          t = require("./_redefine"),
          i = require("./_hide"),
          n = require("./_iterators"),
          u = require("./_iter-create"),
          o = require("./_set-to-string-tag"),
          s = require("./_object-gpo"),
          a = require("./_wks")("iterator"),
          c = !([].keys && "next" in [].keys()),
          f = "@@iterator",
          l = "keys",
          q = "values",
          y = function () {
            return this;
          };
        module.exports = function (_, p, h, k, v, w, d) {
          u(h, p, k);
          var x,
            b,
            g,
            j = function (e) {
              if (!c && e in I) return I[e];
              switch (e) {
                case l:
                case q:
                  return function () {
                    return new h(this, e);
                  };
              }
              return function () {
                return new h(this, e);
              };
            },
            m = p + " Iterator",
            A = v == q,
            F = !1,
            I = _.prototype,
            O = I[a] || I[f] || (v && I[v]),
            P = O || j(v),
            z = v ? (A ? j("entries") : P) : void 0,
            B = ("Array" == p && I.entries) || O;
          if (
            (B &&
              (g = s(B.call(new _()))) !== Object.prototype &&
              g.next &&
              (o(g, m, !0), e || "function" == typeof g[a] || i(g, a, y)),
            A &&
              O &&
              O.name !== q &&
              ((F = !0),
              (P = function () {
                return O.call(this);
              })),
            (e && !d) || (!c && !F && I[a]) || i(I, a, P),
            (n[p] = P),
            (n[m] = y),
            v)
          )
            if (
              ((x = { values: A ? P : j(q), keys: w ? P : j(l), entries: z }),
              d)
            )
              for (b in x) b in I || t(I, b, x[b]);
            else r(r.P + r.F * (c || F), p, x);
          return x;
        };
      },
      {
        "./_library": "H21C",
        "./_export": "izCb",
        "./_redefine": "PHot",
        "./_hide": "NXbe",
        "./_iterators": "JO4d",
        "./_iter-create": "ebgP",
        "./_set-to-string-tag": "rq3q",
        "./_object-gpo": "q6yw",
        "./_wks": "AIP1",
      },
    ],
    tbKg: [
      function (require, module, exports) {
        "use strict";
        var i = require("./_string-at")(!0);
        require("./_iter-define")(
          String,
          "String",
          function (i) {
            (this._t = String(i)), (this._i = 0);
          },
          function () {
            var t,
              e = this._t,
              n = this._i;
            return n >= e.length
              ? { value: void 0, done: !0 }
              : ((t = i(e, n)), (this._i += t.length), { value: t, done: !1 });
          }
        );
      },
      { "./_string-at": "x5yM", "./_iter-define": "mH0U" },
    ],
    zR9y: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          t = require("./_string-at")(!1);
        r(r.P, "String", {
          codePointAt: function (r) {
            return t(this, r);
          },
        });
      },
      { "./_export": "izCb", "./_string-at": "x5yM" },
    ],
    WEVF: [
      function (require, module, exports) {
        var e = require("./_is-object"),
          r = require("./_cof"),
          i = require("./_wks")("match");
        module.exports = function (o) {
          var u;
          return e(o) && (void 0 !== (u = o[i]) ? !!u : "RegExp" == r(o));
        };
      },
      { "./_is-object": "M7z6", "./_cof": "Z5df", "./_wks": "AIP1" },
    ],
    GbTB: [
      function (require, module, exports) {
        var e = require("./_is-regexp"),
          r = require("./_defined");
        module.exports = function (i, t, n) {
          if (e(t)) throw TypeError("String#" + n + " doesn't accept regex!");
          return String(r(i));
        };
      },
      { "./_is-regexp": "WEVF", "./_defined": "BjjL" },
    ],
    AhNa: [
      function (require, module, exports) {
        var r = require("./_wks")("match");
        module.exports = function (t) {
          var c = /./;
          try {
            "/./"[t](c);
          } catch (e) {
            try {
              return (c[r] = !1), !"/./"[t](c);
            } catch (a) {}
          }
          return !0;
        };
      },
      { "./_wks": "AIP1" },
    ],
    zRn7: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          t = require("./_to-length"),
          i = require("./_string-context"),
          r = "endsWith",
          n = ""[r];
        e(e.P + e.F * require("./_fails-is-regexp")(r), "String", {
          endsWith: function (e) {
            var s = i(this, e, r),
              g = arguments.length > 1 ? arguments[1] : void 0,
              h = t(s.length),
              l = void 0 === g ? h : Math.min(t(g), h),
              u = String(e);
            return n ? n.call(s, u, l) : s.slice(l - u.length, l) === u;
          },
        });
      },
      {
        "./_export": "izCb",
        "./_to-length": "dJBs",
        "./_string-context": "GbTB",
        "./_fails-is-regexp": "AhNa",
      },
    ],
    fH7p: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          i = require("./_string-context"),
          r = "includes";
        e(e.P + e.F * require("./_fails-is-regexp")(r), "String", {
          includes: function (e) {
            return !!~i(this, e, r).indexOf(
              e,
              arguments.length > 1 ? arguments[1] : void 0
            );
          },
        });
      },
      {
        "./_export": "izCb",
        "./_string-context": "GbTB",
        "./_fails-is-regexp": "AhNa",
      },
    ],
    C85R: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.P, "String", { repeat: require("./_string-repeat") });
      },
      { "./_export": "izCb", "./_string-repeat": "UH4U" },
    ],
    w2SA: [
      function (require, module, exports) {
        "use strict";
        var t = require("./_export"),
          r = require("./_to-length"),
          e = require("./_string-context"),
          i = "startsWith",
          n = ""[i];
        t(t.P + t.F * require("./_fails-is-regexp")(i), "String", {
          startsWith: function (t) {
            var s = e(this, t, i),
              g = r(
                Math.min(arguments.length > 1 ? arguments[1] : void 0, s.length)
              ),
              h = String(t);
            return n ? n.call(s, h, g) : s.slice(g, g + h.length) === h;
          },
        });
      },
      {
        "./_export": "izCb",
        "./_to-length": "dJBs",
        "./_string-context": "GbTB",
        "./_fails-is-regexp": "AhNa",
      },
    ],
    NE20: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_fails"),
          t = require("./_defined"),
          n = /"/g,
          i = function (r, e, i, u) {
            var o = String(t(r)),
              a = "<" + e;
            return (
              "" !== i &&
                (a += " " + i + '="' + String(u).replace(n, "&quot;") + '"'),
              a + ">" + o + "</" + e + ">"
            );
          };
        module.exports = function (t, n) {
          var u = {};
          (u[t] = n(i)),
            r(
              r.P +
                r.F *
                  e(function () {
                    var r = ""[t]('"');
                    return r !== r.toLowerCase() || r.split('"').length > 3;
                  }),
              "String",
              u
            );
        };
      },
      { "./_export": "izCb", "./_fails": "BXiR", "./_defined": "BjjL" },
    ],
    USd7: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("anchor", function (n) {
          return function (r) {
            return n(this, "a", "name", r);
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    c1D0: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("big", function (t) {
          return function () {
            return t(this, "big", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    Ee86: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("blink", function (n) {
          return function () {
            return n(this, "blink", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    ry39: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("bold", function (t) {
          return function () {
            return t(this, "b", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    AHLq: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("fixed", function (t) {
          return function () {
            return t(this, "tt", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    H7V0: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("fontcolor", function (t) {
          return function (r) {
            return t(this, "font", "color", r);
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    Dx83: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("fontsize", function (t) {
          return function (n) {
            return t(this, "font", "size", n);
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    fRhg: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("italics", function (t) {
          return function () {
            return t(this, "i", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    Aaz0: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("link", function (r) {
          return function (t) {
            return r(this, "a", "href", t);
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    qBr3: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("small", function (t) {
          return function () {
            return t(this, "small", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    eNyu: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("strike", function (t) {
          return function () {
            return t(this, "strike", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    BVLK: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("sub", function (t) {
          return function () {
            return t(this, "sub", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    kMsL: [
      function (require, module, exports) {
        "use strict";
        require("./_string-html")("sup", function (t) {
          return function () {
            return t(this, "sup", "", "");
          };
        });
      },
      { "./_string-html": "NE20" },
    ],
    susM: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "Date", {
          now: function () {
            return new Date().getTime();
          },
        });
      },
      { "./_export": "izCb" },
    ],
    Gj6n: [
      function (require, module, exports) {
        "use strict";
        var t = require("./_export"),
          e = require("./_to-object"),
          r = require("./_to-primitive");
        t(
          t.P +
            t.F *
              require("./_fails")(function () {
                return (
                  null !== new Date(NaN).toJSON() ||
                  1 !==
                    Date.prototype.toJSON.call({
                      toISOString: function () {
                        return 1;
                      },
                    })
                );
              }),
          "Date",
          {
            toJSON: function (t) {
              var i = e(this),
                n = r(i);
              return "number" != typeof n || isFinite(n)
                ? i.toISOString()
                : null;
            },
          }
        );
      },
      {
        "./_export": "izCb",
        "./_to-object": "rfVX",
        "./_to-primitive": "y37I",
        "./_fails": "BXiR",
      },
    ],
    tJHX: [
      function (require, module, exports) {
        "use strict";
        var t = require("./_fails"),
          e = Date.prototype.getTime,
          i = Date.prototype.toISOString,
          n = function (t) {
            return t > 9 ? t : "0" + t;
          };
        module.exports =
          t(function () {
            return "0385-07-25T07:06:39.999Z" != i.call(new Date(-5e13 - 1));
          }) ||
          !t(function () {
            i.call(new Date(NaN));
          })
            ? function () {
                if (!isFinite(e.call(this)))
                  throw RangeError("Invalid time value");
                var t = this,
                  i = t.getUTCFullYear(),
                  r = t.getUTCMilliseconds(),
                  a = i < 0 ? "-" : i > 9999 ? "+" : "";
                return (
                  a +
                  ("00000" + Math.abs(i)).slice(a ? -6 : -4) +
                  "-" +
                  n(t.getUTCMonth() + 1) +
                  "-" +
                  n(t.getUTCDate()) +
                  "T" +
                  n(t.getUTCHours()) +
                  ":" +
                  n(t.getUTCMinutes()) +
                  ":" +
                  n(t.getUTCSeconds()) +
                  "." +
                  (r > 99 ? r : "0" + n(r)) +
                  "Z"
                );
              }
            : i;
      },
      { "./_fails": "BXiR" },
    ],
    oGqv: [
      function (require, module, exports) {
        var t = require("./_export"),
          r = require("./_date-to-iso-string");
        t(t.P + t.F * (Date.prototype.toISOString !== r), "Date", {
          toISOString: r,
        });
      },
      { "./_export": "izCb", "./_date-to-iso-string": "tJHX" },
    ],
    QX5V: [
      function (require, module, exports) {
        var e = Date.prototype,
          t = "Invalid Date",
          a = "toString",
          r = e[a],
          i = e.getTime;
        new Date(NaN) + "" != t &&
          require("./_redefine")(e, a, function () {
            var e = i.call(this);
            return e == e ? r.call(this) : t;
          });
      },
      { "./_redefine": "PHot" },
    ],
    pVj9: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_an-object"),
          e = require("./_to-primitive"),
          t = "number";
        module.exports = function (i) {
          if ("string" !== i && i !== t && "default" !== i)
            throw TypeError("Incorrect hint");
          return e(r(this), i != t);
        };
      },
      { "./_an-object": "eT53", "./_to-primitive": "y37I" },
    ],
    jQnQ: [
      function (require, module, exports) {
        var e = require("./_wks")("toPrimitive"),
          i = Date.prototype;
        e in i || require("./_hide")(i, e, require("./_date-to-primitive"));
      },
      { "./_wks": "AIP1", "./_hide": "NXbe", "./_date-to-primitive": "pVj9" },
    ],
    x7iF: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Array", { isArray: require("./_is-array") });
      },
      { "./_export": "izCb", "./_is-array": "JTrm" },
    ],
    RnOJ: [
      function (require, module, exports) {
        var r = require("./_an-object");
        module.exports = function (t, e, o, a) {
          try {
            return a ? e(r(o)[0], o[1]) : e(o);
          } catch (n) {
            var c = t.return;
            throw (void 0 !== c && r(c.call(t)), n);
          }
        };
      },
      { "./_an-object": "eT53" },
    ],
    B0pB: [
      function (require, module, exports) {
        var r = require("./_iterators"),
          e = require("./_wks")("iterator"),
          t = Array.prototype;
        module.exports = function (o) {
          return void 0 !== o && (r.Array === o || t[e] === o);
        };
      },
      { "./_iterators": "JO4d", "./_wks": "AIP1" },
    ],
    JCwR: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_object-dp"),
          r = require("./_property-desc");
        module.exports = function (t, i, o) {
          i in t ? e.f(t, i, r(0, o)) : (t[i] = o);
        };
      },
      { "./_object-dp": "nw8e", "./_property-desc": "uJ6d" },
    ],
    ia42: [
      function (require, module, exports) {
        var r = require("./_classof"),
          e = require("./_wks")("iterator"),
          t = require("./_iterators");
        module.exports = require("./_core").getIteratorMethod = function (o) {
          if (null != o) return o[e] || o["@@iterator"] || t[r(o)];
        };
      },
      {
        "./_classof": "GM7B",
        "./_wks": "AIP1",
        "./_iterators": "JO4d",
        "./_core": "ss9A",
      },
    ],
    md62: [
      function (require, module, exports) {
        var r = require("./_wks")("iterator"),
          t = !1;
        try {
          var n = [7][r]();
          (n.return = function () {
            t = !0;
          }),
            Array.from(n, function () {
              throw 2;
            });
        } catch (e) {}
        module.exports = function (n, u) {
          if (!u && !t) return !1;
          var o = !1;
          try {
            var c = [7],
              a = c[r]();
            (a.next = function () {
              return { done: (o = !0) };
            }),
              (c[r] = function () {
                return a;
              }),
              n(c);
          } catch (e) {}
          return o;
        };
      },
      { "./_wks": "AIP1" },
    ],
    RRcs: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_ctx"),
          r = require("./_export"),
          t = require("./_to-object"),
          i = require("./_iter-call"),
          o = require("./_is-array-iter"),
          u = require("./_to-length"),
          n = require("./_create-property"),
          a = require("./core.get-iterator-method");
        r(
          r.S +
            r.F *
              !require("./_iter-detect")(function (e) {
                Array.from(e);
              }),
          "Array",
          {
            from: function (r) {
              var l,
                c,
                f,
                q,
                _ = t(r),
                h = "function" == typeof this ? this : Array,
                v = arguments.length,
                y = v > 1 ? arguments[1] : void 0,
                d = void 0 !== y,
                s = 0,
                g = a(_);
              if (
                (d && (y = e(y, v > 2 ? arguments[2] : void 0, 2)),
                null == g || (h == Array && o(g)))
              )
                for (c = new h((l = u(_.length))); l > s; s++)
                  n(c, s, d ? y(_[s], s) : _[s]);
              else
                for (q = g.call(_), c = new h(); !(f = q.next()).done; s++)
                  n(c, s, d ? i(q, y, [f.value, s], !0) : f.value);
              return (c.length = s), c;
            },
          }
        );
      },
      {
        "./_ctx": "E3Kh",
        "./_export": "izCb",
        "./_to-object": "rfVX",
        "./_iter-call": "RnOJ",
        "./_is-array-iter": "B0pB",
        "./_to-length": "dJBs",
        "./_create-property": "JCwR",
        "./core.get-iterator-method": "ia42",
        "./_iter-detect": "md62",
      },
    ],
    RB6b: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_create-property");
        r(
          r.S +
            r.F *
              require("./_fails")(function () {
                function r() {}
                return !(Array.of.call(r) instanceof r);
              }),
          "Array",
          {
            of: function () {
              for (
                var r = 0,
                  t = arguments.length,
                  n = new ("function" == typeof this ? this : Array)(t);
                t > r;

              )
                e(n, r, arguments[r++]);
              return (n.length = t), n;
            },
          }
        );
      },
      { "./_export": "izCb", "./_create-property": "JCwR", "./_fails": "BXiR" },
    ],
    Hh2M: [
      function (require, module, exports) {
        "use strict";
        var l = require("./_fails");
        module.exports = function (n, u) {
          return (
            !!n &&
            l(function () {
              u ? n.call(null, function () {}, 1) : n.call(null);
            })
          );
        };
      },
      { "./_fails": "BXiR" },
    ],
    Rs6i: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_to-iobject"),
          i = [].join;
        r(
          r.P +
            r.F *
              (require("./_iobject") != Object ||
                !require("./_strict-method")(i)),
          "Array",
          {
            join: function (r) {
              return i.call(e(this), void 0 === r ? "," : r);
            },
          }
        );
      },
      {
        "./_export": "izCb",
        "./_to-iobject": "g6sb",
        "./_iobject": "nGau",
        "./_strict-method": "Hh2M",
      },
    ],
    btFn: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_html"),
          i = require("./_cof"),
          t = require("./_to-absolute-index"),
          u = require("./_to-length"),
          a = [].slice;
        r(
          r.P +
            r.F *
              require("./_fails")(function () {
                e && a.call(e);
              }),
          "Array",
          {
            slice: function (r, e) {
              var l = u(this.length),
                n = i(this);
              if (((e = void 0 === e ? l : e), "Array" == n))
                return a.call(this, r, e);
              for (
                var s = t(r, l),
                  c = t(e, l),
                  h = u(c - s),
                  o = new Array(h),
                  f = 0;
                f < h;
                f++
              )
                o[f] = "String" == n ? this.charAt(s + f) : this[s + f];
              return o;
            },
          }
        );
      },
      {
        "./_export": "izCb",
        "./_html": "xjB1",
        "./_cof": "Z5df",
        "./_to-absolute-index": "vfEH",
        "./_to-length": "dJBs",
        "./_fails": "BXiR",
      },
    ],
    nrVf: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          t = require("./_a-function"),
          i = require("./_to-object"),
          e = require("./_fails"),
          o = [].sort,
          u = [1, 2, 3];
        r(
          r.P +
            r.F *
              (e(function () {
                u.sort(void 0);
              }) ||
                !e(function () {
                  u.sort(null);
                }) ||
                !require("./_strict-method")(o)),
          "Array",
          {
            sort: function (r) {
              return void 0 === r ? o.call(i(this)) : o.call(i(this), t(r));
            },
          }
        );
      },
      {
        "./_export": "izCb",
        "./_a-function": "kYjc",
        "./_to-object": "rfVX",
        "./_fails": "BXiR",
        "./_strict-method": "Hh2M",
      },
    ],
    NNbH: [
      function (require, module, exports) {
        var r = require("./_is-object"),
          e = require("./_is-array"),
          o = require("./_wks")("species");
        module.exports = function (i) {
          var t;
          return (
            e(i) &&
              ("function" != typeof (t = i.constructor) ||
                (t !== Array && !e(t.prototype)) ||
                (t = void 0),
              r(t) && null === (t = t[o]) && (t = void 0)),
            void 0 === t ? Array : t
          );
        };
      },
      { "./_is-object": "M7z6", "./_is-array": "JTrm", "./_wks": "AIP1" },
    ],
    igas: [
      function (require, module, exports) {
        var r = require("./_array-species-constructor");
        module.exports = function (e, n) {
          return new (r(e))(n);
        };
      },
      { "./_array-species-constructor": "NNbH" },
    ],
    AuPh: [
      function (require, module, exports) {
        var e = require("./_ctx"),
          r = require("./_iobject"),
          t = require("./_to-object"),
          i = require("./_to-length"),
          u = require("./_array-species-create");
        module.exports = function (n, c) {
          var s = 1 == n,
            a = 2 == n,
            o = 3 == n,
            f = 4 == n,
            l = 6 == n,
            q = 5 == n || l,
            _ = c || u;
          return function (u, c, h) {
            for (
              var v,
                p,
                b = t(u),
                d = r(b),
                g = e(c, h, 3),
                j = i(d.length),
                x = 0,
                m = s ? _(u, j) : a ? _(u, 0) : void 0;
              j > x;
              x++
            )
              if ((q || x in d) && ((p = g((v = d[x]), x, b)), n))
                if (s) m[x] = p;
                else if (p)
                  switch (n) {
                    case 3:
                      return !0;
                    case 5:
                      return v;
                    case 6:
                      return x;
                    case 2:
                      m.push(v);
                  }
                else if (f) return !1;
            return l ? -1 : o || f ? f : m;
          };
        };
      },
      {
        "./_ctx": "E3Kh",
        "./_iobject": "nGau",
        "./_to-object": "rfVX",
        "./_to-length": "dJBs",
        "./_array-species-create": "igas",
      },
    ],
    VsIt: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-methods")(0),
          t = require("./_strict-method")([].forEach, !0);
        r(r.P + r.F * !t, "Array", {
          forEach: function (r) {
            return e(this, r, arguments[1]);
          },
        });
      },
      {
        "./_export": "izCb",
        "./_array-methods": "AuPh",
        "./_strict-method": "Hh2M",
      },
    ],
    RBsu: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-methods")(1);
        r(r.P + r.F * !require("./_strict-method")([].map, !0), "Array", {
          map: function (r) {
            return e(this, r, arguments[1]);
          },
        });
      },
      {
        "./_export": "izCb",
        "./_array-methods": "AuPh",
        "./_strict-method": "Hh2M",
      },
    ],
    GyG6: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-methods")(2);
        r(r.P + r.F * !require("./_strict-method")([].filter, !0), "Array", {
          filter: function (r) {
            return e(this, r, arguments[1]);
          },
        });
      },
      {
        "./_export": "izCb",
        "./_array-methods": "AuPh",
        "./_strict-method": "Hh2M",
      },
    ],
    dwTY: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-methods")(3);
        r(r.P + r.F * !require("./_strict-method")([].some, !0), "Array", {
          some: function (r) {
            return e(this, r, arguments[1]);
          },
        });
      },
      {
        "./_export": "izCb",
        "./_array-methods": "AuPh",
        "./_strict-method": "Hh2M",
      },
    ],
    AJ80: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-methods")(4);
        r(r.P + r.F * !require("./_strict-method")([].every, !0), "Array", {
          every: function (r) {
            return e(this, r, arguments[1]);
          },
        });
      },
      {
        "./_export": "izCb",
        "./_array-methods": "AuPh",
        "./_strict-method": "Hh2M",
      },
    ],
    BcRj: [
      function (require, module, exports) {
        var r = require("./_a-function"),
          e = require("./_to-object"),
          i = require("./_iobject"),
          o = require("./_to-length");
        module.exports = function (t, n, u, a, f) {
          r(n);
          var c = e(t),
            l = i(c),
            h = o(c.length),
            q = f ? h - 1 : 0,
            _ = f ? -1 : 1;
          if (u < 2)
            for (;;) {
              if (q in l) {
                (a = l[q]), (q += _);
                break;
              }
              if (((q += _), f ? q < 0 : h <= q))
                throw TypeError("Reduce of empty array with no initial value");
            }
          for (; f ? q >= 0 : h > q; q += _) q in l && (a = n(a, l[q], q, c));
          return a;
        };
      },
      {
        "./_a-function": "kYjc",
        "./_to-object": "rfVX",
        "./_iobject": "nGau",
        "./_to-length": "dJBs",
      },
    ],
    UGP9: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-reduce");
        r(r.P + r.F * !require("./_strict-method")([].reduce, !0), "Array", {
          reduce: function (r) {
            return e(this, r, arguments.length, arguments[1], !1);
          },
        });
      },
      {
        "./_export": "izCb",
        "./_array-reduce": "BcRj",
        "./_strict-method": "Hh2M",
      },
    ],
    qhGD: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-reduce");
        r(
          r.P + r.F * !require("./_strict-method")([].reduceRight, !0),
          "Array",
          {
            reduceRight: function (r) {
              return e(this, r, arguments.length, arguments[1], !0);
            },
          }
        );
      },
      {
        "./_export": "izCb",
        "./_array-reduce": "BcRj",
        "./_strict-method": "Hh2M",
      },
    ],
    LvRh: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-includes")(!1),
          i = [].indexOf,
          t = !!i && 1 / [1].indexOf(1, -0) < 0;
        r(r.P + r.F * (t || !require("./_strict-method")(i)), "Array", {
          indexOf: function (r) {
            return t ? i.apply(this, arguments) || 0 : e(this, r, arguments[1]);
          },
        });
      },
      {
        "./_export": "izCb",
        "./_array-includes": "Ca7J",
        "./_strict-method": "Hh2M",
      },
    ],
    kVuL: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          r = require("./_to-iobject"),
          t = require("./_to-integer"),
          i = require("./_to-length"),
          n = [].lastIndexOf,
          u = !!n && 1 / [1].lastIndexOf(1, -0) < 0;
        e(e.P + e.F * (u || !require("./_strict-method")(n)), "Array", {
          lastIndexOf: function (e) {
            if (u) return n.apply(this, arguments) || 0;
            var a = r(this),
              o = i(a.length),
              s = o - 1;
            for (
              arguments.length > 1 && (s = Math.min(s, t(arguments[1]))),
                s < 0 && (s = o + s);
              s >= 0;
              s--
            )
              if (s in a && a[s] === e) return s || 0;
            return -1;
          },
        });
      },
      {
        "./_export": "izCb",
        "./_to-iobject": "g6sb",
        "./_to-integer": "yjVO",
        "./_to-length": "dJBs",
        "./_strict-method": "Hh2M",
      },
    ],
    Oppn: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_to-object"),
          t = require("./_to-absolute-index"),
          i = require("./_to-length");
        module.exports =
          [].copyWithin ||
          function (r, o) {
            var n = e(this),
              u = i(n.length),
              h = t(r, u),
              l = t(o, u),
              d = arguments.length > 2 ? arguments[2] : void 0,
              s = Math.min((void 0 === d ? u : t(d, u)) - l, u - h),
              a = 1;
            for (
              l < h && h < l + s && ((a = -1), (l += s - 1), (h += s - 1));
              s-- > 0;

            )
              l in n ? (n[h] = n[l]) : delete n[h], (h += a), (l += a);
            return n;
          };
      },
      {
        "./_to-object": "rfVX",
        "./_to-absolute-index": "vfEH",
        "./_to-length": "dJBs",
      },
    ],
    Z7eD: [
      function (require, module, exports) {
        var e = require("./_wks")("unscopables"),
          r = Array.prototype;
        null == r[e] && require("./_hide")(r, e, {}),
          (module.exports = function (o) {
            r[e][o] = !0;
          });
      },
      { "./_wks": "AIP1", "./_hide": "NXbe" },
    ],
    tWTB: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.P, "Array", { copyWithin: require("./_array-copy-within") }),
          require("./_add-to-unscopables")("copyWithin");
      },
      {
        "./_export": "izCb",
        "./_array-copy-within": "Oppn",
        "./_add-to-unscopables": "Z7eD",
      },
    ],
    hphS: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_to-object"),
          t = require("./_to-absolute-index"),
          r = require("./_to-length");
        module.exports = function (o) {
          for (
            var i = e(this),
              u = r(i.length),
              n = arguments.length,
              d = t(n > 1 ? arguments[1] : void 0, u),
              l = n > 2 ? arguments[2] : void 0,
              s = void 0 === l ? u : t(l, u);
            s > d;

          )
            i[d++] = o;
          return i;
        };
      },
      {
        "./_to-object": "rfVX",
        "./_to-absolute-index": "vfEH",
        "./_to-length": "dJBs",
      },
    ],
    hUQ6: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.P, "Array", { fill: require("./_array-fill") }),
          require("./_add-to-unscopables")("fill");
      },
      {
        "./_export": "izCb",
        "./_array-fill": "hphS",
        "./_add-to-unscopables": "Z7eD",
      },
    ],
    Qppk: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-methods")(5),
          i = "find",
          n = !0;
        i in [] &&
          Array(1)[i](function () {
            n = !1;
          }),
          r(r.P + r.F * n, "Array", {
            find: function (r) {
              return e(this, r, arguments.length > 1 ? arguments[1] : void 0);
            },
          }),
          require("./_add-to-unscopables")(i);
      },
      {
        "./_export": "izCb",
        "./_array-methods": "AuPh",
        "./_add-to-unscopables": "Z7eD",
      },
    ],
    sVmK: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-methods")(6),
          n = "findIndex",
          i = !0;
        n in [] &&
          Array(1)[n](function () {
            i = !1;
          }),
          r(r.P + r.F * i, "Array", {
            findIndex: function (r) {
              return e(this, r, arguments.length > 1 ? arguments[1] : void 0);
            },
          }),
          require("./_add-to-unscopables")(n);
      },
      {
        "./_export": "izCb",
        "./_array-methods": "AuPh",
        "./_add-to-unscopables": "Z7eD",
      },
    ],
    h4dH: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_global"),
          r = require("./_object-dp"),
          i = require("./_descriptors"),
          t = require("./_wks")("species");
        module.exports = function (u) {
          var s = e[u];
          i &&
            s &&
            !s[t] &&
            r.f(s, t, {
              configurable: !0,
              get: function () {
                return this;
              },
            });
        };
      },
      {
        "./_global": "qf4T",
        "./_object-dp": "nw8e",
        "./_descriptors": "P9Ib",
        "./_wks": "AIP1",
      },
    ],
    smn3: [
      function (require, module, exports) {
        require("./_set-species")("Array");
      },
      { "./_set-species": "h4dH" },
    ],
    x8b3: [
      function (require, module, exports) {
        module.exports = function (e, n) {
          return { value: n, done: !!e };
        };
      },
      {},
    ],
    wVEN: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_add-to-unscopables"),
          r = require("./_iter-step"),
          t = require("./_iterators"),
          i = require("./_to-iobject");
        (module.exports = require("./_iter-define")(
          Array,
          "Array",
          function (e, r) {
            (this._t = i(e)), (this._i = 0), (this._k = r);
          },
          function () {
            var e = this._t,
              t = this._k,
              i = this._i++;
            return !e || i >= e.length
              ? ((this._t = void 0), r(1))
              : r(0, "keys" == t ? i : "values" == t ? e[i] : [i, e[i]]);
          },
          "values"
        )),
          (t.Arguments = t.Array),
          e("keys"),
          e("values"),
          e("entries");
      },
      {
        "./_add-to-unscopables": "Z7eD",
        "./_iter-step": "x8b3",
        "./_iterators": "JO4d",
        "./_to-iobject": "g6sb",
        "./_iter-define": "mH0U",
      },
    ],
    hgks: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_an-object");
        module.exports = function () {
          var i = e(this),
            r = "";
          return (
            i.global && (r += "g"),
            i.ignoreCase && (r += "i"),
            i.multiline && (r += "m"),
            i.unicode && (r += "u"),
            i.sticky && (r += "y"),
            r
          );
        };
      },
      { "./_an-object": "eT53" },
    ],
    BenF: [
      function (require, module, exports) {
        var e = require("./_global"),
          r = require("./_inherit-if-required"),
          i = require("./_object-dp").f,
          t = require("./_object-gopn").f,
          n = require("./_is-regexp"),
          o = require("./_flags"),
          u = e.RegExp,
          c = u,
          s = u.prototype,
          f = /a/g,
          a = /a/g,
          g = new u(f) !== f;
        if (
          require("./_descriptors") &&
          (!g ||
            require("./_fails")(function () {
              return (
                (a[require("./_wks")("match")] = !1),
                u(f) != f || u(a) == a || "/a/i" != u(f, "i")
              );
            }))
        ) {
          u = function (e, i) {
            var t = this instanceof u,
              f = n(e),
              a = void 0 === i;
            return !t && f && e.constructor === u && a
              ? e
              : r(
                  g
                    ? new c(f && !a ? e.source : e, i)
                    : c(
                        (f = e instanceof u) ? e.source : e,
                        f && a ? o.call(e) : i
                      ),
                  t ? this : s,
                  u
                );
          };
          for (
            var p = function (e) {
                (e in u) ||
                  i(u, e, {
                    configurable: !0,
                    get: function () {
                      return c[e];
                    },
                    set: function (r) {
                      c[e] = r;
                    },
                  });
              },
              q = t(c),
              _ = 0;
            q.length > _;

          )
            p(q[_++]);
          (s.constructor = u),
            (u.prototype = s),
            require("./_redefine")(e, "RegExp", u);
        }
        require("./_set-species")("RegExp");
      },
      {
        "./_global": "qf4T",
        "./_inherit-if-required": "ogxf",
        "./_object-dp": "nw8e",
        "./_object-gopn": "Vzm0",
        "./_is-regexp": "WEVF",
        "./_flags": "hgks",
        "./_descriptors": "P9Ib",
        "./_fails": "BXiR",
        "./_wks": "AIP1",
        "./_redefine": "PHot",
        "./_set-species": "h4dH",
      },
    ],
    ZcPD: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_flags"),
          l = RegExp.prototype.exec,
          t = String.prototype.replace,
          r = l,
          a = "lastIndex",
          n = (function () {
            var e = /a/,
              t = /b*/g;
            return l.call(e, "a"), l.call(t, "a"), 0 !== e[a] || 0 !== t[a];
          })(),
          o = void 0 !== /()??/.exec("")[1],
          c = n || o;
        c &&
          (r = function (r) {
            var c,
              i,
              g,
              u,
              p = this;
            return (
              o && (i = new RegExp("^" + p.source + "$(?!\\s)", e.call(p))),
              n && (c = p[a]),
              (g = l.call(p, r)),
              n && g && (p[a] = p.global ? g.index + g[0].length : c),
              o &&
                g &&
                g.length > 1 &&
                t.call(g[0], i, function () {
                  for (u = 1; u < arguments.length - 2; u++)
                    void 0 === arguments[u] && (g[u] = void 0);
                }),
              g
            );
          }),
          (module.exports = r);
      },
      { "./_flags": "hgks" },
    ],
    S07n: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_regexp-exec");
        require("./_export")(
          { target: "RegExp", proto: !0, forced: e !== /./.exec },
          { exec: e }
        );
      },
      { "./_regexp-exec": "ZcPD", "./_export": "izCb" },
    ],
    pDhD: [
      function (require, module, exports) {
        require("./_descriptors") &&
          "g" != /./g.flags &&
          require("./_object-dp").f(RegExp.prototype, "flags", {
            configurable: !0,
            get: require("./_flags"),
          });
      },
      { "./_descriptors": "P9Ib", "./_object-dp": "nw8e", "./_flags": "hgks" },
    ],
    iflU: [
      function (require, module, exports) {
        "use strict";
        require("./es6.regexp.flags");
        var e = require("./_an-object"),
          r = require("./_flags"),
          i = require("./_descriptors"),
          n = "toString",
          t = /./[n],
          a = function (e) {
            require("./_redefine")(RegExp.prototype, n, e, !0);
          };
        require("./_fails")(function () {
          return "/a/b" != t.call({ source: "a", flags: "b" });
        })
          ? a(function () {
              var n = e(this);
              return "/".concat(
                n.source,
                "/",
                "flags" in n
                  ? n.flags
                  : !i && n instanceof RegExp
                  ? r.call(n)
                  : void 0
              );
            })
          : t.name != n &&
            a(function () {
              return t.call(this);
            });
      },
      {
        "./es6.regexp.flags": "pDhD",
        "./_an-object": "eT53",
        "./_flags": "hgks",
        "./_descriptors": "P9Ib",
        "./_redefine": "PHot",
        "./_fails": "BXiR",
      },
    ],
    t3as: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_string-at")(!0);
        module.exports = function (t, e, n) {
          return e + (n ? r(t, e).length : 1);
        };
      },
      { "./_string-at": "x5yM" },
    ],
    sNFG: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_classof"),
          r = RegExp.prototype.exec;
        module.exports = function (t, o) {
          var c = t.exec;
          if ("function" == typeof c) {
            var n = c.call(t, o);
            if ("object" != typeof n)
              throw new TypeError(
                "RegExp exec method returned something other than an Object or null"
              );
            return n;
          }
          if ("RegExp" !== e(t))
            throw new TypeError("RegExp#exec called on incompatible receiver");
          return r.call(t, o);
        };
      },
      { "./_classof": "GM7B" },
    ],
    LmBS: [
      function (require, module, exports) {
        "use strict";
        require("./es6.regexp.exec");
        var e = require("./_redefine"),
          r = require("./_hide"),
          n = require("./_fails"),
          t = require("./_defined"),
          u = require("./_wks"),
          i = require("./_regexp-exec"),
          c = u("species"),
          o = !n(function () {
            var e = /./;
            return (
              (e.exec = function () {
                var e = [];
                return (e.groups = { a: "7" }), e;
              }),
              "7" !== "".replace(e, "$<a>")
            );
          }),
          a = (function () {
            var e = /(?:)/,
              r = e.exec;
            e.exec = function () {
              return r.apply(this, arguments);
            };
            var n = "ab".split(e);
            return 2 === n.length && "a" === n[0] && "b" === n[1];
          })();
        module.exports = function (l, f, p) {
          var s = u(l),
            v = !n(function () {
              var e = {};
              return (
                (e[s] = function () {
                  return 7;
                }),
                7 != ""[l](e)
              );
            }),
            x = v
              ? !n(function () {
                  var e = !1,
                    r = /a/;
                  return (
                    (r.exec = function () {
                      return (e = !0), null;
                    }),
                    "split" === l &&
                      ((r.constructor = {}),
                      (r.constructor[c] = function () {
                        return r;
                      })),
                    r[s](""),
                    !e
                  );
                })
              : void 0;
          if (!v || !x || ("replace" === l && !o) || ("split" === l && !a)) {
            var d = /./[s],
              q = p(t, s, ""[l], function (e, r, n, t, u) {
                return r.exec === i
                  ? v && !u
                    ? { done: !0, value: d.call(r, n, t) }
                    : { done: !0, value: e.call(n, r, t) }
                  : { done: !1 };
              }),
              g = q[0],
              _ = q[1];
            e(String.prototype, l, g),
              r(
                RegExp.prototype,
                s,
                2 == f
                  ? function (e, r) {
                      return _.call(e, this, r);
                    }
                  : function (e) {
                      return _.call(e, this);
                    }
              );
          }
        };
      },
      {
        "./es6.regexp.exec": "S07n",
        "./_redefine": "PHot",
        "./_hide": "NXbe",
        "./_fails": "BXiR",
        "./_defined": "BjjL",
        "./_wks": "AIP1",
        "./_regexp-exec": "ZcPD",
      },
    ],
    RTfC: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_an-object"),
          e = require("./_to-length"),
          n = require("./_advance-string-index"),
          t = require("./_regexp-exec-abstract");
        require("./_fix-re-wks")("match", 1, function (i, a, u, l) {
          return [
            function (r) {
              var e = i(this),
                n = null == r ? void 0 : r[a];
              return void 0 !== n ? n.call(r, e) : new RegExp(r)[a](String(e));
            },
            function (i) {
              var a = l(u, i, this);
              if (a.done) return a.value;
              var c = r(i),
                o = String(this);
              if (!c.global) return t(c, o);
              var s = c.unicode;
              c.lastIndex = 0;
              for (var v, d = [], g = 0; null !== (v = t(c, o)); ) {
                var x = String(v[0]);
                (d[g] = x),
                  "" === x && (c.lastIndex = n(o, e(c.lastIndex), s)),
                  g++;
              }
              return 0 === g ? null : d;
            },
          ];
        });
      },
      {
        "./_an-object": "eT53",
        "./_to-length": "dJBs",
        "./_advance-string-index": "t3as",
        "./_regexp-exec-abstract": "sNFG",
        "./_fix-re-wks": "LmBS",
      },
    ],
    KGao: [
      function (require, module, exports) {
        var global = arguments[3];
        var r = arguments[3],
          e = require("./_an-object"),
          t = require("./_to-object"),
          n = require("./_to-length"),
          i = require("./_to-integer"),
          a = require("./_advance-string-index"),
          u = require("./_regexp-exec-abstract"),
          c = Math.max,
          l = Math.min,
          o = Math.floor,
          v = /\$([$&`']|\d\d?|<[^>]*>)/g,
          s = /\$([$&`']|\d\d?)/g,
          g = function (r) {
            return void 0 === r ? r : String(r);
          };
        require("./_fix-re-wks")("replace", 2, function (r, d, f, h) {
          return [
            function (e, t) {
              var n = r(this),
                i = null == e ? void 0 : e[d];
              return void 0 !== i ? i.call(e, n, t) : f.call(String(n), e, t);
            },
            function (r, t) {
              var o = h(f, r, this, t);
              if (o.done) return o.value;
              var v = e(r),
                s = String(this),
                d = "function" == typeof t;
              d || (t = String(t));
              var x = v.global;
              if (x) {
                var b = v.unicode;
                v.lastIndex = 0;
              }
              for (var q = []; ; ) {
                var S = u(v, s);
                if (null === S) break;
                if ((q.push(S), !x)) break;
                "" === String(S[0]) && (v.lastIndex = a(s, n(v.lastIndex), b));
              }
              for (var _ = "", $ = 0, k = 0; k < q.length; k++) {
                S = q[k];
                for (
                  var m = String(S[0]),
                    A = c(l(i(S.index), s.length), 0),
                    I = [],
                    M = 1;
                  M < S.length;
                  M++
                )
                  I.push(g(S[M]));
                var j = S.groups;
                if (d) {
                  var w = [m].concat(I, A, s);
                  void 0 !== j && w.push(j);
                  var y = String(t.apply(void 0, w));
                } else y = p(m, s, A, I, j, t);
                A >= $ && ((_ += s.slice($, A) + y), ($ = A + m.length));
              }
              return _ + s.slice($);
            },
          ];
          function p(r, e, n, i, a, u) {
            var c = n + r.length,
              l = i.length,
              g = s;
            return (
              void 0 !== a && ((a = t(a)), (g = v)),
              f.call(u, g, function (t, u) {
                var v;
                switch (u.charAt(0)) {
                  case "$":
                    return "$";
                  case "&":
                    return r;
                  case "`":
                    return e.slice(0, n);
                  case "'":
                    return e.slice(c);
                  case "<":
                    v = a[u.slice(1, -1)];
                    break;
                  default:
                    var s = +u;
                    if (0 === s) return t;
                    if (s > l) {
                      var g = o(s / 10);
                      return 0 === g
                        ? t
                        : g <= l
                        ? void 0 === i[g - 1]
                          ? u.charAt(1)
                          : i[g - 1] + u.charAt(1)
                        : t;
                    }
                    v = i[s - 1];
                }
                return void 0 === v ? "" : v;
              })
            );
          }
        });
      },
      {
        "./_an-object": "eT53",
        "./_to-object": "rfVX",
        "./_to-length": "dJBs",
        "./_to-integer": "yjVO",
        "./_advance-string-index": "t3as",
        "./_regexp-exec-abstract": "sNFG",
        "./_fix-re-wks": "LmBS",
      },
    ],
    zOab: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_an-object"),
          r = require("./_same-value"),
          n = require("./_regexp-exec-abstract");
        require("./_fix-re-wks")("search", 1, function (t, i, a, u) {
          return [
            function (e) {
              var r = t(this),
                n = null == e ? void 0 : e[i];
              return void 0 !== n ? n.call(e, r) : new RegExp(e)[i](String(r));
            },
            function (t) {
              var i = u(a, t, this);
              if (i.done) return i.value;
              var s = e(t),
                l = String(this),
                c = s.lastIndex;
              r(c, 0) || (s.lastIndex = 0);
              var v = n(s, l);
              return (
                r(s.lastIndex, c) || (s.lastIndex = c),
                null === v ? -1 : v.index
              );
            },
          ];
        });
      },
      {
        "./_an-object": "eT53",
        "./_same-value": "zutv",
        "./_regexp-exec-abstract": "sNFG",
        "./_fix-re-wks": "LmBS",
      },
    ],
    ExG3: [
      function (require, module, exports) {
        var r = require("./_an-object"),
          e = require("./_a-function"),
          u = require("./_wks")("species");
        module.exports = function (n, o) {
          var i,
            t = r(n).constructor;
          return void 0 === t || null == (i = r(t)[u]) ? o : e(i);
        };
      },
      { "./_an-object": "eT53", "./_a-function": "kYjc", "./_wks": "AIP1" },
    ],
    aOHf: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_is-regexp"),
          r = require("./_an-object"),
          i = require("./_species-constructor"),
          n = require("./_advance-string-index"),
          t = require("./_to-length"),
          u = require("./_regexp-exec-abstract"),
          l = require("./_regexp-exec"),
          s = require("./_fails"),
          c = Math.min,
          a = [].push,
          o = "split",
          g = "length",
          h = "lastIndex",
          d = 4294967295,
          f = !s(function () {
            RegExp(d, "y");
          });
        require("./_fix-re-wks")("split", 2, function (s, v, p, x) {
          var q;
          return (
            (q =
              "c" == "abbc"[o](/(b)*/)[1] ||
              4 != "test"[o](/(?:)/, -1)[g] ||
              2 != "ab"[o](/(?:ab)*/)[g] ||
              4 != "."[o](/(.?)(.?)/)[g] ||
              "."[o](/()()/)[g] > 1 ||
              ""[o](/.?/)[g]
                ? function (r, i) {
                    var n = String(this);
                    if (void 0 === r && 0 === i) return [];
                    if (!e(r)) return p.call(n, r, i);
                    for (
                      var t,
                        u,
                        s,
                        c = [],
                        o =
                          (r.ignoreCase ? "i" : "") +
                          (r.multiline ? "m" : "") +
                          (r.unicode ? "u" : "") +
                          (r.sticky ? "y" : ""),
                        f = 0,
                        v = void 0 === i ? d : i >>> 0,
                        x = new RegExp(r.source, o + "g");
                      (t = l.call(x, n)) &&
                      !(
                        (u = x[h]) > f &&
                        (c.push(n.slice(f, t.index)),
                        t[g] > 1 && t.index < n[g] && a.apply(c, t.slice(1)),
                        (s = t[0][g]),
                        (f = u),
                        c[g] >= v)
                      );

                    )
                      x[h] === t.index && x[h]++;
                    return (
                      f === n[g]
                        ? (!s && x.test("")) || c.push("")
                        : c.push(n.slice(f)),
                      c[g] > v ? c.slice(0, v) : c
                    );
                  }
                : "0"[o](void 0, 0)[g]
                ? function (e, r) {
                    return void 0 === e && 0 === r ? [] : p.call(this, e, r);
                  }
                : p),
            [
              function (e, r) {
                var i = s(this),
                  n = null == e ? void 0 : e[v];
                return void 0 !== n ? n.call(e, i, r) : q.call(String(i), e, r);
              },
              function (e, l) {
                var s = x(q, e, this, l, q !== p);
                if (s.done) return s.value;
                var a = r(e),
                  o = String(this),
                  g = i(a, RegExp),
                  h = a.unicode,
                  v =
                    (a.ignoreCase ? "i" : "") +
                    (a.multiline ? "m" : "") +
                    (a.unicode ? "u" : "") +
                    (f ? "y" : "g"),
                  _ = new g(f ? a : "^(?:" + a.source + ")", v),
                  b = void 0 === l ? d : l >>> 0;
                if (0 === b) return [];
                if (0 === o.length) return null === u(_, o) ? [o] : [];
                for (var m = 0, y = 0, w = []; y < o.length; ) {
                  _.lastIndex = f ? y : 0;
                  var E,
                    I = u(_, f ? o : o.slice(y));
                  if (
                    null === I ||
                    (E = c(t(_.lastIndex + (f ? 0 : y)), o.length)) === m
                  )
                    y = n(o, y, h);
                  else {
                    if ((w.push(o.slice(m, y)), w.length === b)) return w;
                    for (var R = 1; R <= I.length - 1; R++)
                      if ((w.push(I[R]), w.length === b)) return w;
                    y = m = E;
                  }
                }
                return w.push(o.slice(m)), w;
              },
            ]
          );
        });
      },
      {
        "./_is-regexp": "WEVF",
        "./_an-object": "eT53",
        "./_species-constructor": "ExG3",
        "./_advance-string-index": "t3as",
        "./_to-length": "dJBs",
        "./_regexp-exec-abstract": "sNFG",
        "./_regexp-exec": "ZcPD",
        "./_fails": "BXiR",
        "./_fix-re-wks": "LmBS",
      },
    ],
    yJTF: [
      function (require, module, exports) {
        module.exports = function (o, n, r, i) {
          if (!(o instanceof n) || (void 0 !== i && i in o))
            throw TypeError(r + ": incorrect invocation!");
          return o;
        };
      },
      {},
    ],
    Abke: [
      function (require, module, exports) {
        var e = require("./_ctx"),
          r = require("./_iter-call"),
          t = require("./_is-array-iter"),
          i = require("./_an-object"),
          o = require("./_to-length"),
          n = require("./core.get-iterator-method"),
          u = {},
          a = {},
          f = (module.exports = function (f, l, c, q, _) {
            var h,
              s,
              d,
              g,
              p = _
                ? function () {
                    return f;
                  }
                : n(f),
              v = e(c, q, l ? 2 : 1),
              x = 0;
            if ("function" != typeof p)
              throw TypeError(f + " is not iterable!");
            if (t(p)) {
              for (h = o(f.length); h > x; x++)
                if (
                  (g = l ? v(i((s = f[x]))[0], s[1]) : v(f[x])) === u ||
                  g === a
                )
                  return g;
            } else
              for (d = p.call(f); !(s = d.next()).done; )
                if ((g = r(d, v, s.value, l)) === u || g === a) return g;
          });
        (f.BREAK = u), (f.RETURN = a);
      },
      {
        "./_ctx": "E3Kh",
        "./_iter-call": "RnOJ",
        "./_is-array-iter": "B0pB",
        "./_an-object": "eT53",
        "./_to-length": "dJBs",
        "./core.get-iterator-method": "ia42",
      },
    ],
    KY9y: [
      function (require, module, exports) {
        var e,
          t,
          n,
          i = require("./_ctx"),
          o = require("./_invoke"),
          r = require("./_html"),
          s = require("./_dom-create"),
          a = require("./_global"),
          c = a.process,
          u = a.setImmediate,
          p = a.clearImmediate,
          f = a.MessageChannel,
          l = a.Dispatch,
          d = 0,
          m = {},
          h = "onreadystatechange",
          g = function () {
            var e = +this;
            if (m.hasOwnProperty(e)) {
              var t = m[e];
              delete m[e], t();
            }
          },
          v = function (e) {
            g.call(e.data);
          };
        (u && p) ||
          ((u = function (t) {
            for (var n = [], i = 1; arguments.length > i; )
              n.push(arguments[i++]);
            return (
              (m[++d] = function () {
                o("function" == typeof t ? t : Function(t), n);
              }),
              e(d),
              d
            );
          }),
          (p = function (e) {
            delete m[e];
          }),
          "process" == require("./_cof")(c)
            ? (e = function (e) {
                c.nextTick(i(g, e, 1));
              })
            : l && l.now
            ? (e = function (e) {
                l.now(i(g, e, 1));
              })
            : f
            ? ((n = (t = new f()).port2),
              (t.port1.onmessage = v),
              (e = i(n.postMessage, n, 1)))
            : a.addEventListener &&
              "function" == typeof postMessage &&
              !a.importScripts
            ? ((e = function (e) {
                a.postMessage(e + "", "*");
              }),
              a.addEventListener("message", v, !1))
            : (e =
                h in s("script")
                  ? function (e) {
                      r.appendChild(s("script"))[h] = function () {
                        r.removeChild(this), g.call(e);
                      };
                    }
                  : function (e) {
                      setTimeout(i(g, e, 1), 0);
                    })),
          (module.exports = { set: u, clear: p });
      },
      {
        "./_ctx": "E3Kh",
        "./_invoke": "xcbV",
        "./_html": "xjB1",
        "./_dom-create": "vZ6E",
        "./_global": "qf4T",
        "./_cof": "Z5df",
      },
    ],
    sFAp: [
      function (require, module, exports) {
        var e = require("./_global"),
          t = require("./_task").set,
          r = e.MutationObserver || e.WebKitMutationObserver,
          n = e.process,
          o = e.Promise,
          a = "process" == require("./_cof")(n);
        module.exports = function () {
          var i,
            c,
            s,
            v = function () {
              var e, t;
              for (a && (e = n.domain) && e.exit(); i; ) {
                (t = i.fn), (i = i.next);
                try {
                  t();
                } catch (r) {
                  throw (i ? s() : (c = void 0), r);
                }
              }
              (c = void 0), e && e.enter();
            };
          if (a)
            s = function () {
              n.nextTick(v);
            };
          else if (!r || (e.navigator && e.navigator.standalone))
            if (o && o.resolve) {
              var u = o.resolve(void 0);
              s = function () {
                u.then(v);
              };
            } else
              s = function () {
                t.call(e, v);
              };
          else {
            var f = !0,
              l = document.createTextNode("");
            new r(v).observe(l, { characterData: !0 }),
              (s = function () {
                l.data = f = !f;
              });
          }
          return function (e) {
            var t = { fn: e, next: void 0 };
            c && (c.next = t), i || ((i = t), s()), (c = t);
          };
        };
      },
      { "./_global": "qf4T", "./_task": "KY9y", "./_cof": "Z5df" },
    ],
    L7XN: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_a-function");
        function e(e) {
          var o, t;
          (this.promise = new e(function (r, e) {
            if (void 0 !== o || void 0 !== t)
              throw TypeError("Bad Promise constructor");
            (o = r), (t = e);
          })),
            (this.resolve = r(o)),
            (this.reject = r(t));
        }
        module.exports.f = function (r) {
          return new e(r);
        };
      },
      { "./_a-function": "kYjc" },
    ],
    tyG8: [
      function (require, module, exports) {
        module.exports = function (e) {
          try {
            return { e: !1, v: e() };
          } catch (r) {
            return { e: !0, v: r };
          }
        };
      },
      {},
    ],
    O5uh: [
      function (require, module, exports) {
        var e = require("./_global"),
          r = e.navigator;
        module.exports = (r && r.userAgent) || "";
      },
      { "./_global": "qf4T" },
    ],
    cNG8: [
      function (require, module, exports) {
        var r = require("./_an-object"),
          e = require("./_is-object"),
          i = require("./_new-promise-capability");
        module.exports = function (o, t) {
          if ((r(o), e(t) && t.constructor === o)) return t;
          var u = i.f(o);
          return (0, u.resolve)(t), u.promise;
        };
      },
      {
        "./_an-object": "eT53",
        "./_is-object": "M7z6",
        "./_new-promise-capability": "L7XN",
      },
    ],
    J0Tl: [
      function (require, module, exports) {
        var r = require("./_redefine");
        module.exports = function (e, n, i) {
          for (var o in n) r(e, o, n[o], i);
          return e;
        };
      },
      { "./_redefine": "PHot" },
    ],
    Pjta: [
      function (require, module, exports) {
        "use strict";
        var e,
          r,
          t,
          i,
          n = require("./_library"),
          o = require("./_global"),
          c = require("./_ctx"),
          s = require("./_classof"),
          u = require("./_export"),
          a = require("./_is-object"),
          _ = require("./_a-function"),
          h = require("./_an-instance"),
          f = require("./_for-of"),
          l = require("./_species-constructor"),
          v = require("./_task").set,
          d = require("./_microtask")(),
          p = require("./_new-promise-capability"),
          m = require("./_perform"),
          q = require("./_user-agent"),
          y = require("./_promise-resolve"),
          j = "Promise",
          w = o.TypeError,
          g = o.process,
          x = g && g.versions,
          b = (x && x.v8) || "",
          k = o[j],
          P = "process" == s(g),
          F = function () {},
          S = (r = p.f),
          E = !!(function () {
            try {
              var e = k.resolve(1),
                r = ((e.constructor = {})[require("./_wks")("species")] =
                  function (e) {
                    e(F, F);
                  });
              return (
                (P || "function" == typeof PromiseRejectionEvent) &&
                e.then(F) instanceof r &&
                0 !== b.indexOf("6.6") &&
                -1 === q.indexOf("Chrome/66")
              );
            } catch (t) {}
          })(),
          O = function (e) {
            var r;
            return !(!a(e) || "function" != typeof (r = e.then)) && r;
          },
          R = function (e, r) {
            if (!e._n) {
              e._n = !0;
              var t = e._c;
              d(function () {
                for (
                  var i = e._v,
                    n = 1 == e._s,
                    o = 0,
                    c = function (r) {
                      var t,
                        o,
                        c,
                        s = n ? r.ok : r.fail,
                        u = r.resolve,
                        a = r.reject,
                        _ = r.domain;
                      try {
                        s
                          ? (n || (2 == e._h && H(e), (e._h = 1)),
                            !0 === s
                              ? (t = i)
                              : (_ && _.enter(),
                                (t = s(i)),
                                _ && (_.exit(), (c = !0))),
                            t === r.promise
                              ? a(w("Promise-chain cycle"))
                              : (o = O(t))
                              ? o.call(t, u, a)
                              : u(t))
                          : a(i);
                      } catch (h) {
                        _ && !c && _.exit(), a(h);
                      }
                    };
                  t.length > o;

                )
                  c(t[o++]);
                (e._c = []), (e._n = !1), r && !e._h && C(e);
              });
            }
          },
          C = function (e) {
            v.call(o, function () {
              var r,
                t,
                i,
                n = e._v,
                c = G(e);
              if (
                (c &&
                  ((r = m(function () {
                    P
                      ? g.emit("unhandledRejection", n, e)
                      : (t = o.onunhandledrejection)
                      ? t({ promise: e, reason: n })
                      : (i = o.console) &&
                        i.error &&
                        i.error("Unhandled promise rejection", n);
                  })),
                  (e._h = P || G(e) ? 2 : 1)),
                (e._a = void 0),
                c && r.e)
              )
                throw r.v;
            });
          },
          G = function (e) {
            return 1 !== e._h && 0 === (e._a || e._c).length;
          },
          H = function (e) {
            v.call(o, function () {
              var r;
              P
                ? g.emit("rejectionHandled", e)
                : (r = o.onrejectionhandled) && r({ promise: e, reason: e._v });
            });
          },
          T = function (e) {
            var r = this;
            r._d ||
              ((r._d = !0),
              ((r = r._w || r)._v = e),
              (r._s = 2),
              r._a || (r._a = r._c.slice()),
              R(r, !0));
          },
          U = function (e) {
            var r,
              t = this;
            if (!t._d) {
              (t._d = !0), (t = t._w || t);
              try {
                if (t === e) throw w("Promise can't be resolved itself");
                (r = O(e))
                  ? d(function () {
                      var i = { _w: t, _d: !1 };
                      try {
                        r.call(e, c(U, i, 1), c(T, i, 1));
                      } catch (n) {
                        T.call(i, n);
                      }
                    })
                  : ((t._v = e), (t._s = 1), R(t, !1));
              } catch (i) {
                T.call({ _w: t, _d: !1 }, i);
              }
            }
          };
        E ||
          ((k = function (r) {
            h(this, k, j, "_h"), _(r), e.call(this);
            try {
              r(c(U, this, 1), c(T, this, 1));
            } catch (t) {
              T.call(this, t);
            }
          }),
          ((e = function (e) {
            (this._c = []),
              (this._a = void 0),
              (this._s = 0),
              (this._d = !1),
              (this._v = void 0),
              (this._h = 0),
              (this._n = !1);
          }).prototype = require("./_redefine-all")(k.prototype, {
            then: function (e, r) {
              var t = S(l(this, k));
              return (
                (t.ok = "function" != typeof e || e),
                (t.fail = "function" == typeof r && r),
                (t.domain = P ? g.domain : void 0),
                this._c.push(t),
                this._a && this._a.push(t),
                this._s && R(this, !1),
                t.promise
              );
            },
            catch: function (e) {
              return this.then(void 0, e);
            },
          })),
          (t = function () {
            var r = new e();
            (this.promise = r),
              (this.resolve = c(U, r, 1)),
              (this.reject = c(T, r, 1));
          }),
          (p.f = S =
            function (e) {
              return e === k || e === i ? new t(e) : r(e);
            })),
          u(u.G + u.W + u.F * !E, { Promise: k }),
          require("./_set-to-string-tag")(k, j),
          require("./_set-species")(j),
          (i = require("./_core")[j]),
          u(u.S + u.F * !E, j, {
            reject: function (e) {
              var r = S(this);
              return (0, r.reject)(e), r.promise;
            },
          }),
          u(u.S + u.F * (n || !E), j, {
            resolve: function (e) {
              return y(n && this === i ? k : this, e);
            },
          }),
          u(
            u.S +
              u.F *
                !(
                  E &&
                  require("./_iter-detect")(function (e) {
                    k.all(e).catch(F);
                  })
                ),
            j,
            {
              all: function (e) {
                var r = this,
                  t = S(r),
                  i = t.resolve,
                  n = t.reject,
                  o = m(function () {
                    var t = [],
                      o = 0,
                      c = 1;
                    f(e, !1, function (e) {
                      var s = o++,
                        u = !1;
                      t.push(void 0),
                        c++,
                        r.resolve(e).then(function (e) {
                          u || ((u = !0), (t[s] = e), --c || i(t));
                        }, n);
                    }),
                      --c || i(t);
                  });
                return o.e && n(o.v), t.promise;
              },
              race: function (e) {
                var r = this,
                  t = S(r),
                  i = t.reject,
                  n = m(function () {
                    f(e, !1, function (e) {
                      r.resolve(e).then(t.resolve, i);
                    });
                  });
                return n.e && i(n.v), t.promise;
              },
            }
          );
      },
      {
        "./_library": "H21C",
        "./_global": "qf4T",
        "./_ctx": "E3Kh",
        "./_classof": "GM7B",
        "./_export": "izCb",
        "./_is-object": "M7z6",
        "./_a-function": "kYjc",
        "./_an-instance": "yJTF",
        "./_for-of": "Abke",
        "./_species-constructor": "ExG3",
        "./_task": "KY9y",
        "./_microtask": "sFAp",
        "./_new-promise-capability": "L7XN",
        "./_perform": "tyG8",
        "./_user-agent": "O5uh",
        "./_promise-resolve": "cNG8",
        "./_wks": "AIP1",
        "./_redefine-all": "J0Tl",
        "./_set-to-string-tag": "rq3q",
        "./_set-species": "h4dH",
        "./_core": "ss9A",
        "./_iter-detect": "md62",
      },
    ],
    FW4z: [
      function (require, module, exports) {
        var r = require("./_is-object");
        module.exports = function (e, i) {
          if (!r(e) || e._t !== i)
            throw TypeError("Incompatible receiver, " + i + " required!");
          return e;
        };
      },
      { "./_is-object": "M7z6" },
    ],
    aIiY: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_object-dp").f,
          r = require("./_object-create"),
          t = require("./_redefine-all"),
          i = require("./_ctx"),
          n = require("./_an-instance"),
          _ = require("./_for-of"),
          o = require("./_iter-define"),
          u = require("./_iter-step"),
          f = require("./_set-species"),
          s = require("./_descriptors"),
          l = require("./_meta").fastKey,
          c = require("./_validate-collection"),
          v = s ? "_s" : "size",
          a = function (e, r) {
            var t,
              i = l(r);
            if ("F" !== i) return e._i[i];
            for (t = e._f; t; t = t.n) if (t.k == r) return t;
          };
        module.exports = {
          getConstructor: function (o, u, f, l) {
            var h = o(function (e, t) {
              n(e, h, u, "_i"),
                (e._t = u),
                (e._i = r(null)),
                (e._f = void 0),
                (e._l = void 0),
                (e[v] = 0),
                null != t && _(t, f, e[l], e);
            });
            return (
              t(h.prototype, {
                clear: function () {
                  for (var e = c(this, u), r = e._i, t = e._f; t; t = t.n)
                    (t.r = !0), t.p && (t.p = t.p.n = void 0), delete r[t.i];
                  (e._f = e._l = void 0), (e[v] = 0);
                },
                delete: function (e) {
                  var r = c(this, u),
                    t = a(r, e);
                  if (t) {
                    var i = t.n,
                      n = t.p;
                    delete r._i[t.i],
                      (t.r = !0),
                      n && (n.n = i),
                      i && (i.p = n),
                      r._f == t && (r._f = i),
                      r._l == t && (r._l = n),
                      r[v]--;
                  }
                  return !!t;
                },
                forEach: function (e) {
                  c(this, u);
                  for (
                    var r,
                      t = i(e, arguments.length > 1 ? arguments[1] : void 0, 3);
                    (r = r ? r.n : this._f);

                  )
                    for (t(r.v, r.k, this); r && r.r; ) r = r.p;
                },
                has: function (e) {
                  return !!a(c(this, u), e);
                },
              }),
              s &&
                e(h.prototype, "size", {
                  get: function () {
                    return c(this, u)[v];
                  },
                }),
              h
            );
          },
          def: function (e, r, t) {
            var i,
              n,
              _ = a(e, r);
            return (
              _
                ? (_.v = t)
                : ((e._l = _ =
                    {
                      i: (n = l(r, !0)),
                      k: r,
                      v: t,
                      p: (i = e._l),
                      n: void 0,
                      r: !1,
                    }),
                  e._f || (e._f = _),
                  i && (i.n = _),
                  e[v]++,
                  "F" !== n && (e._i[n] = _)),
              e
            );
          },
          getEntry: a,
          setStrong: function (e, r, t) {
            o(
              e,
              r,
              function (e, t) {
                (this._t = c(e, r)), (this._k = t), (this._l = void 0);
              },
              function () {
                for (var e = this._k, r = this._l; r && r.r; ) r = r.p;
                return this._t && (this._l = r = r ? r.n : this._t._f)
                  ? u(0, "keys" == e ? r.k : "values" == e ? r.v : [r.k, r.v])
                  : ((this._t = void 0), u(1));
              },
              t ? "entries" : "values",
              !t,
              !0
            ),
              f(r);
          },
        };
      },
      {
        "./_object-dp": "nw8e",
        "./_object-create": "sYaK",
        "./_redefine-all": "J0Tl",
        "./_ctx": "E3Kh",
        "./_an-instance": "yJTF",
        "./_for-of": "Abke",
        "./_iter-define": "mH0U",
        "./_iter-step": "x8b3",
        "./_set-species": "h4dH",
        "./_descriptors": "P9Ib",
        "./_meta": "AoVy",
        "./_validate-collection": "FW4z",
      },
    ],
    hWYB: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_global"),
          r = require("./_export"),
          t = require("./_redefine"),
          n = require("./_redefine-all"),
          i = require("./_meta"),
          u = require("./_for-of"),
          o = require("./_an-instance"),
          c = require("./_is-object"),
          a = require("./_fails"),
          s = require("./_iter-detect"),
          l = require("./_set-to-string-tag"),
          f = require("./_inherit-if-required");
        module.exports = function (d, h, q, _, p, g) {
          var v = e[d],
            w = v,
            y = p ? "set" : "add",
            x = w && w.prototype,
            E = {},
            b = function (e) {
              var r = x[e];
              t(
                x,
                e,
                "delete" == e
                  ? function (e) {
                      return !(g && !c(e)) && r.call(this, 0 === e ? 0 : e);
                    }
                  : "has" == e
                  ? function (e) {
                      return !(g && !c(e)) && r.call(this, 0 === e ? 0 : e);
                    }
                  : "get" == e
                  ? function (e) {
                      return g && !c(e)
                        ? void 0
                        : r.call(this, 0 === e ? 0 : e);
                    }
                  : "add" == e
                  ? function (e) {
                      return r.call(this, 0 === e ? 0 : e), this;
                    }
                  : function (e, t) {
                      return r.call(this, 0 === e ? 0 : e, t), this;
                    }
              );
            };
          if (
            "function" == typeof w &&
            (g ||
              (x.forEach &&
                !a(function () {
                  new w().entries().next();
                })))
          ) {
            var m = new w(),
              j = m[y](g ? {} : -0, 1) != m,
              C = a(function () {
                m.has(1);
              }),
              D = s(function (e) {
                new w(e);
              }),
              F =
                !g &&
                a(function () {
                  for (var e = new w(), r = 5; r--; ) e[y](r, r);
                  return !e.has(-0);
                });
            D ||
              (((w = h(function (e, r) {
                o(e, w, d);
                var t = f(new v(), e, w);
                return null != r && u(r, p, t[y], t), t;
              })).prototype = x),
              (x.constructor = w)),
              (C || F) && (b("delete"), b("has"), p && b("get")),
              (F || j) && b(y),
              g && x.clear && delete x.clear;
          } else
            (w = _.getConstructor(h, d, p, y)),
              n(w.prototype, q),
              (i.NEED = !0);
          return (
            l(w, d),
            (E[d] = w),
            r(r.G + r.W + r.F * (w != v), E),
            g || _.setStrong(w, d, p),
            w
          );
        };
      },
      {
        "./_global": "qf4T",
        "./_export": "izCb",
        "./_redefine": "PHot",
        "./_redefine-all": "J0Tl",
        "./_meta": "AoVy",
        "./_for-of": "Abke",
        "./_an-instance": "yJTF",
        "./_is-object": "M7z6",
        "./_fails": "BXiR",
        "./_iter-detect": "md62",
        "./_set-to-string-tag": "rq3q",
        "./_inherit-if-required": "ogxf",
      },
    ],
    ioKM: [
      function (require, module, exports) {
        "use strict";
        var t = require("./_collection-strong"),
          e = require("./_validate-collection"),
          r = "Map";
        module.exports = require("./_collection")(
          r,
          function (t) {
            return function () {
              return t(this, arguments.length > 0 ? arguments[0] : void 0);
            };
          },
          {
            get: function (n) {
              var i = t.getEntry(e(this, r), n);
              return i && i.v;
            },
            set: function (n, i) {
              return t.def(e(this, r), 0 === n ? 0 : n, i);
            },
          },
          t,
          !0
        );
      },
      {
        "./_collection-strong": "aIiY",
        "./_validate-collection": "FW4z",
        "./_collection": "hWYB",
      },
    ],
    coyu: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_collection-strong"),
          t = require("./_validate-collection"),
          r = "Set";
        module.exports = require("./_collection")(
          r,
          function (e) {
            return function () {
              return e(this, arguments.length > 0 ? arguments[0] : void 0);
            };
          },
          {
            add: function (i) {
              return e.def(t(this, r), (i = 0 === i ? 0 : i), i);
            },
          },
          e
        );
      },
      {
        "./_collection-strong": "aIiY",
        "./_validate-collection": "FW4z",
        "./_collection": "hWYB",
      },
    ],
    BNoi: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_redefine-all"),
          t = require("./_meta").getWeak,
          r = require("./_an-object"),
          i = require("./_is-object"),
          n = require("./_an-instance"),
          u = require("./_for-of"),
          o = require("./_array-methods"),
          s = require("./_has"),
          a = require("./_validate-collection"),
          c = o(5),
          f = o(6),
          _ = 0,
          h = function (e) {
            return e._l || (e._l = new l());
          },
          l = function () {
            this.a = [];
          },
          d = function (e, t) {
            return c(e.a, function (e) {
              return e[0] === t;
            });
          };
        (l.prototype = {
          get: function (e) {
            var t = d(this, e);
            if (t) return t[1];
          },
          has: function (e) {
            return !!d(this, e);
          },
          set: function (e, t) {
            var r = d(this, e);
            r ? (r[1] = t) : this.a.push([e, t]);
          },
          delete: function (e) {
            var t = f(this.a, function (t) {
              return t[0] === e;
            });
            return ~t && this.a.splice(t, 1), !!~t;
          },
        }),
          (module.exports = {
            getConstructor: function (r, o, c, f) {
              var l = r(function (e, t) {
                n(e, l, o, "_i"),
                  (e._t = o),
                  (e._i = _++),
                  (e._l = void 0),
                  null != t && u(t, c, e[f], e);
              });
              return (
                e(l.prototype, {
                  delete: function (e) {
                    if (!i(e)) return !1;
                    var r = t(e);
                    return !0 === r
                      ? h(a(this, o)).delete(e)
                      : r && s(r, this._i) && delete r[this._i];
                  },
                  has: function (e) {
                    if (!i(e)) return !1;
                    var r = t(e);
                    return !0 === r ? h(a(this, o)).has(e) : r && s(r, this._i);
                  },
                }),
                l
              );
            },
            def: function (e, i, n) {
              var u = t(r(i), !0);
              return !0 === u ? h(e).set(i, n) : (u[e._i] = n), e;
            },
            ufstore: h,
          });
      },
      {
        "./_redefine-all": "J0Tl",
        "./_meta": "AoVy",
        "./_an-object": "eT53",
        "./_is-object": "M7z6",
        "./_an-instance": "yJTF",
        "./_for-of": "Abke",
        "./_array-methods": "AuPh",
        "./_has": "uHgd",
        "./_validate-collection": "FW4z",
      },
    ],
    D6DP: [
      function (require, module, exports) {
        "use strict";
        var e,
          t = require("./_global"),
          r = require("./_array-methods")(0),
          i = require("./_redefine"),
          n = require("./_meta"),
          o = require("./_object-assign"),
          u = require("./_collection-weak"),
          c = require("./_is-object"),
          s = require("./_validate-collection"),
          a = require("./_validate-collection"),
          l = !t.ActiveXObject && "ActiveXObject" in t,
          f = "WeakMap",
          _ = n.getWeak,
          h = Object.isExtensible,
          q = u.ufstore,
          v = function (e) {
            return function () {
              return e(this, arguments.length > 0 ? arguments[0] : void 0);
            };
          },
          d = {
            get: function (e) {
              if (c(e)) {
                var t = _(e);
                return !0 === t
                  ? q(s(this, f)).get(e)
                  : t
                  ? t[this._i]
                  : void 0;
              }
            },
            set: function (e, t) {
              return u.def(s(this, f), e, t);
            },
          },
          g = (module.exports = require("./_collection")(f, v, d, u, !0, !0));
        a &&
          l &&
          (o((e = u.getConstructor(v, f)).prototype, d),
          (n.NEED = !0),
          r(["delete", "has", "get", "set"], function (t) {
            var r = g.prototype,
              n = r[t];
            i(r, t, function (r, i) {
              if (c(r) && !h(r)) {
                this._f || (this._f = new e());
                var o = this._f[t](r, i);
                return "set" == t ? this : o;
              }
              return n.call(this, r, i);
            });
          }));
      },
      {
        "./_global": "qf4T",
        "./_array-methods": "AuPh",
        "./_redefine": "PHot",
        "./_meta": "AoVy",
        "./_object-assign": "e3Bp",
        "./_collection-weak": "BNoi",
        "./_is-object": "M7z6",
        "./_validate-collection": "FW4z",
        "./_collection": "hWYB",
      },
    ],
    bRUR: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_collection-weak"),
          t = require("./_validate-collection"),
          i = "WeakSet";
        require("./_collection")(
          i,
          function (e) {
            return function () {
              return e(this, arguments.length > 0 ? arguments[0] : void 0);
            };
          },
          {
            add: function (r) {
              return e.def(t(this, i), r, !0);
            },
          },
          e,
          !1,
          !0
        );
      },
      {
        "./_collection-weak": "BNoi",
        "./_validate-collection": "FW4z",
        "./_collection": "hWYB",
      },
    ],
    fero: [
      function (require, module, exports) {
        for (
          var r,
            a = require("./_global"),
            t = require("./_hide"),
            e = require("./_uid"),
            y = e("typed_array"),
            i = e("view"),
            A = !(!a.ArrayBuffer || !a.DataView),
            o = A,
            p = 0,
            l = 9,
            n =
              "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(
                ","
              );
          p < l;

        )
          (r = a[n[p++]])
            ? (t(r.prototype, y, !0), t(r.prototype, i, !0))
            : (o = !1);
        module.exports = { ABV: A, CONSTR: o, TYPED: y, VIEW: i };
      },
      { "./_global": "qf4T", "./_hide": "NXbe", "./_uid": "U49f" },
    ],
    zj2i: [
      function (require, module, exports) {
        var r = require("./_to-integer"),
          e = require("./_to-length");
        module.exports = function (t) {
          if (void 0 === t) return 0;
          var n = r(t),
            o = e(n);
          if (n !== o) throw RangeError("Wrong length!");
          return o;
        };
      },
      { "./_to-integer": "yjVO", "./_to-length": "dJBs" },
    ],
    Ujpk: [
      function (require, module, exports) {
        "use strict";
        var t = require("./_global"),
          n = require("./_descriptors"),
          r = require("./_library"),
          e = require("./_typed"),
          i = require("./_hide"),
          o = require("./_redefine-all"),
          u = require("./_fails"),
          f = require("./_an-instance"),
          s = require("./_to-integer"),
          c = require("./_to-length"),
          a = require("./_to-index"),
          h = require("./_object-gopn").f,
          l = require("./_object-dp").f,
          g = require("./_array-fill"),
          _ = require("./_set-to-string-tag"),
          q = "ArrayBuffer",
          v = "DataView",
          w = "prototype",
          I = "Wrong length!",
          b = "Wrong index!",
          y = t[q],
          p = t[v],
          d = t.Math,
          U = t.RangeError,
          N = t.Infinity,
          x = y,
          A = d.abs,
          F = d.pow,
          W = d.floor,
          V = d.log,
          j = d.LN2,
          B = "buffer",
          E = "byteLength",
          L = "byteOffset",
          m = n ? "_b" : B,
          D = n ? "_l" : E,
          M = n ? "_o" : L;
        function O(t, n, r) {
          var e,
            i,
            o,
            u = new Array(r),
            f = 8 * r - n - 1,
            s = (1 << f) - 1,
            c = s >> 1,
            a = 23 === n ? F(2, -24) - F(2, -77) : 0,
            h = 0,
            l = t < 0 || (0 === t && 1 / t < 0) ? 1 : 0;
          for (
            (t = A(t)) != t || t === N
              ? ((i = t != t ? 1 : 0), (e = s))
              : ((e = W(V(t) / j)),
                t * (o = F(2, -e)) < 1 && (e--, (o *= 2)),
                (t += e + c >= 1 ? a / o : a * F(2, 1 - c)) * o >= 2 &&
                  (e++, (o /= 2)),
                e + c >= s
                  ? ((i = 0), (e = s))
                  : e + c >= 1
                  ? ((i = (t * o - 1) * F(2, n)), (e += c))
                  : ((i = t * F(2, c - 1) * F(2, n)), (e = 0)));
            n >= 8;
            u[h++] = 255 & i, i /= 256, n -= 8
          );
          for (
            e = (e << n) | i, f += n;
            f > 0;
            u[h++] = 255 & e, e /= 256, f -= 8
          );
          return (u[--h] |= 128 * l), u;
        }
        function R(t, n, r) {
          var e,
            i = 8 * r - n - 1,
            o = (1 << i) - 1,
            u = o >> 1,
            f = i - 7,
            s = r - 1,
            c = t[s--],
            a = 127 & c;
          for (c >>= 7; f > 0; a = 256 * a + t[s], s--, f -= 8);
          for (
            e = a & ((1 << -f) - 1), a >>= -f, f += n;
            f > 0;
            e = 256 * e + t[s], s--, f -= 8
          );
          if (0 === a) a = 1 - u;
          else {
            if (a === o) return e ? NaN : c ? -N : N;
            (e += F(2, n)), (a -= u);
          }
          return (c ? -1 : 1) * e * F(2, a - n);
        }
        function k(t) {
          return (t[3] << 24) | (t[2] << 16) | (t[1] << 8) | t[0];
        }
        function z(t) {
          return [255 & t];
        }
        function C(t) {
          return [255 & t, (t >> 8) & 255];
        }
        function G(t) {
          return [255 & t, (t >> 8) & 255, (t >> 16) & 255, (t >> 24) & 255];
        }
        function H(t) {
          return O(t, 52, 8);
        }
        function J(t) {
          return O(t, 23, 4);
        }
        function K(t, n, r) {
          l(t[w], n, {
            get: function () {
              return this[r];
            },
          });
        }
        function P(t, n, r, e) {
          var i = a(+r);
          if (i + n > t[D]) throw U(b);
          var o = t[m]._b,
            u = i + t[M],
            f = o.slice(u, u + n);
          return e ? f : f.reverse();
        }
        function Q(t, n, r, e, i, o) {
          var u = a(+r);
          if (u + n > t[D]) throw U(b);
          for (var f = t[m]._b, s = u + t[M], c = e(+i), h = 0; h < n; h++)
            f[s + h] = c[o ? h : n - h - 1];
        }
        if (e.ABV) {
          if (
            !u(function () {
              y(1);
            }) ||
            !u(function () {
              new y(-1);
            }) ||
            u(function () {
              return new y(), new y(1.5), new y(NaN), y.name != q;
            })
          ) {
            for (
              var S,
                T = ((y = function (t) {
                  return f(this, y), new x(a(t));
                })[w] = x[w]),
                X = h(x),
                Y = 0;
              X.length > Y;

            )
              (S = X[Y++]) in y || i(y, S, x[S]);
            r || (T.constructor = y);
          }
          var Z = new p(new y(2)),
            $ = p[w].setInt8;
          Z.setInt8(0, 2147483648),
            Z.setInt8(1, 2147483649),
            (!Z.getInt8(0) && Z.getInt8(1)) ||
              o(
                p[w],
                {
                  setInt8: function (t, n) {
                    $.call(this, t, (n << 24) >> 24);
                  },
                  setUint8: function (t, n) {
                    $.call(this, t, (n << 24) >> 24);
                  },
                },
                !0
              );
        } else
          (y = function (t) {
            f(this, y, q);
            var n = a(t);
            (this._b = g.call(new Array(n), 0)), (this[D] = n);
          }),
            (p = function (t, n, r) {
              f(this, p, v), f(t, y, v);
              var e = t[D],
                i = s(n);
              if (i < 0 || i > e) throw U("Wrong offset!");
              if (i + (r = void 0 === r ? e - i : c(r)) > e) throw U(I);
              (this[m] = t), (this[M] = i), (this[D] = r);
            }),
            n && (K(y, E, "_l"), K(p, B, "_b"), K(p, E, "_l"), K(p, L, "_o")),
            o(p[w], {
              getInt8: function (t) {
                return (P(this, 1, t)[0] << 24) >> 24;
              },
              getUint8: function (t) {
                return P(this, 1, t)[0];
              },
              getInt16: function (t) {
                var n = P(this, 2, t, arguments[1]);
                return (((n[1] << 8) | n[0]) << 16) >> 16;
              },
              getUint16: function (t) {
                var n = P(this, 2, t, arguments[1]);
                return (n[1] << 8) | n[0];
              },
              getInt32: function (t) {
                return k(P(this, 4, t, arguments[1]));
              },
              getUint32: function (t) {
                return k(P(this, 4, t, arguments[1])) >>> 0;
              },
              getFloat32: function (t) {
                return R(P(this, 4, t, arguments[1]), 23, 4);
              },
              getFloat64: function (t) {
                return R(P(this, 8, t, arguments[1]), 52, 8);
              },
              setInt8: function (t, n) {
                Q(this, 1, t, z, n);
              },
              setUint8: function (t, n) {
                Q(this, 1, t, z, n);
              },
              setInt16: function (t, n) {
                Q(this, 2, t, C, n, arguments[2]);
              },
              setUint16: function (t, n) {
                Q(this, 2, t, C, n, arguments[2]);
              },
              setInt32: function (t, n) {
                Q(this, 4, t, G, n, arguments[2]);
              },
              setUint32: function (t, n) {
                Q(this, 4, t, G, n, arguments[2]);
              },
              setFloat32: function (t, n) {
                Q(this, 4, t, J, n, arguments[2]);
              },
              setFloat64: function (t, n) {
                Q(this, 8, t, H, n, arguments[2]);
              },
            });
        _(y, q),
          _(p, v),
          i(p[w], e.VIEW, !0),
          (exports[q] = y),
          (exports[v] = p);
      },
      {
        "./_global": "qf4T",
        "./_descriptors": "P9Ib",
        "./_library": "H21C",
        "./_typed": "fero",
        "./_hide": "NXbe",
        "./_redefine-all": "J0Tl",
        "./_fails": "BXiR",
        "./_an-instance": "yJTF",
        "./_to-integer": "yjVO",
        "./_to-length": "dJBs",
        "./_to-index": "zj2i",
        "./_object-gopn": "Vzm0",
        "./_object-dp": "nw8e",
        "./_array-fill": "hphS",
        "./_set-to-string-tag": "rq3q",
      },
    ],
    NJ0a: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          r = require("./_typed"),
          i = require("./_typed-buffer"),
          t = require("./_an-object"),
          u = require("./_to-absolute-index"),
          n = require("./_to-length"),
          s = require("./_is-object"),
          o = require("./_global").ArrayBuffer,
          f = require("./_species-constructor"),
          c = i.ArrayBuffer,
          a = i.DataView,
          q = r.ABV && o.isView,
          _ = c.prototype.slice,
          l = r.VIEW,
          y = "ArrayBuffer";
        e(e.G + e.W + e.F * (o !== c), { ArrayBuffer: c }),
          e(e.S + e.F * !r.CONSTR, y, {
            isView: function (e) {
              return (q && q(e)) || (s(e) && l in e);
            },
          }),
          e(
            e.P +
              e.U +
              e.F *
                require("./_fails")(function () {
                  return !new c(2).slice(1, void 0).byteLength;
                }),
            y,
            {
              slice: function (e, r) {
                if (void 0 !== _ && void 0 === r) return _.call(t(this), e);
                for (
                  var i = t(this).byteLength,
                    s = u(e, i),
                    o = u(void 0 === r ? i : r, i),
                    q = new (f(this, c))(n(o - s)),
                    l = new a(this),
                    y = new a(q),
                    b = 0;
                  s < o;

                )
                  y.setUint8(b++, l.getUint8(s++));
                return q;
              },
            }
          ),
          require("./_set-species")(y);
      },
      {
        "./_export": "izCb",
        "./_typed": "fero",
        "./_typed-buffer": "Ujpk",
        "./_an-object": "eT53",
        "./_to-absolute-index": "vfEH",
        "./_to-length": "dJBs",
        "./_is-object": "M7z6",
        "./_global": "qf4T",
        "./_species-constructor": "ExG3",
        "./_fails": "BXiR",
        "./_set-species": "h4dH",
      },
    ],
    qL4B: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.G + e.W + e.F * !require("./_typed").ABV, {
          DataView: require("./_typed-buffer").DataView,
        });
      },
      { "./_export": "izCb", "./_typed": "fero", "./_typed-buffer": "Ujpk" },
    ],
    fd04: [
      function (require, module, exports) {
        var global = arguments[3];
        var e = arguments[3];
        if (require("./_descriptors")) {
          var r = require("./_library"),
            t = ((e = require("./_global")), require("./_fails")),
            n = require("./_export"),
            i = require("./_typed"),
            o = require("./_typed-buffer"),
            u = require("./_ctx"),
            c = require("./_an-instance"),
            f = require("./_property-desc"),
            a = require("./_hide"),
            l = require("./_redefine-all"),
            s = require("./_to-integer"),
            h = require("./_to-length"),
            d = require("./_to-index"),
            g = require("./_to-absolute-index"),
            _ = require("./_to-primitive"),
            v = require("./_has"),
            p = require("./_classof"),
            y = require("./_is-object"),
            q = require("./_to-object"),
            w = require("./_is-array-iter"),
            b = require("./_object-create"),
            S = require("./_object-gpo"),
            E = require("./_object-gopn").f,
            m = require("./core.get-iterator-method"),
            x = require("./_uid"),
            L = require("./_wks"),
            P = require("./_array-methods"),
            j = require("./_array-includes"),
            T = require("./_species-constructor"),
            F = require("./es6.array.iterator"),
            O = require("./_iterators"),
            A = require("./_iter-detect"),
            R = require("./_set-species"),
            B = require("./_array-fill"),
            I = require("./_array-copy-within"),
            M = require("./_object-dp"),
            W = require("./_object-gopd"),
            N = M.f,
            Y = W.f,
            k = e.RangeError,
            D = e.TypeError,
            V = e.Uint8Array,
            C = "ArrayBuffer",
            U = "Shared" + C,
            G = "BYTES_PER_ELEMENT",
            z = "prototype",
            H = Array[z],
            J = o.ArrayBuffer,
            K = o.DataView,
            Q = P(0),
            X = P(2),
            Z = P(3),
            $ = P(4),
            ee = P(5),
            re = P(6),
            te = j(!0),
            ne = j(!1),
            ie = F.values,
            oe = F.keys,
            ue = F.entries,
            ce = H.lastIndexOf,
            fe = H.reduce,
            ae = H.reduceRight,
            le = H.join,
            se = H.sort,
            he = H.slice,
            de = H.toString,
            ge = H.toLocaleString,
            _e = L("iterator"),
            ve = L("toStringTag"),
            pe = x("typed_constructor"),
            ye = x("def_constructor"),
            qe = i.CONSTR,
            we = i.TYPED,
            be = i.VIEW,
            Se = "Wrong length!",
            Ee = P(1, function (e, r) {
              return je(T(e, e[ye]), r);
            }),
            me = t(function () {
              return 1 === new V(new Uint16Array([1]).buffer)[0];
            }),
            xe =
              !!V &&
              !!V[z].set &&
              t(function () {
                new V(1).set({});
              }),
            Le = function (e, r) {
              var t = s(e);
              if (t < 0 || t % r) throw k("Wrong offset!");
              return t;
            },
            Pe = function (e) {
              if (y(e) && we in e) return e;
              throw D(e + " is not a typed array!");
            },
            je = function (e, r) {
              if (!(y(e) && pe in e))
                throw D("It is not a typed array constructor!");
              return new e(r);
            },
            Te = function (e, r) {
              return Fe(T(e, e[ye]), r);
            },
            Fe = function (e, r) {
              for (var t = 0, n = r.length, i = je(e, n); n > t; )
                i[t] = r[t++];
              return i;
            },
            Oe = function (e, r, t) {
              N(e, r, {
                get: function () {
                  return this._d[t];
                },
              });
            },
            Ae = function (e) {
              var r,
                t,
                n,
                i,
                o,
                c,
                f = q(e),
                a = arguments.length,
                l = a > 1 ? arguments[1] : void 0,
                s = void 0 !== l,
                d = m(f);
              if (null != d && !w(d)) {
                for (c = d.call(f), n = [], r = 0; !(o = c.next()).done; r++)
                  n.push(o.value);
                f = n;
              }
              for (
                s && a > 2 && (l = u(l, arguments[2], 2)),
                  r = 0,
                  t = h(f.length),
                  i = je(this, t);
                t > r;
                r++
              )
                i[r] = s ? l(f[r], r) : f[r];
              return i;
            },
            Re = function () {
              for (var e = 0, r = arguments.length, t = je(this, r); r > e; )
                t[e] = arguments[e++];
              return t;
            },
            Be =
              !!V &&
              t(function () {
                ge.call(new V(1));
              }),
            Ie = function () {
              return ge.apply(Be ? he.call(Pe(this)) : Pe(this), arguments);
            },
            Me = {
              copyWithin: function (e, r) {
                return I.call(
                  Pe(this),
                  e,
                  r,
                  arguments.length > 2 ? arguments[2] : void 0
                );
              },
              every: function (e) {
                return $(
                  Pe(this),
                  e,
                  arguments.length > 1 ? arguments[1] : void 0
                );
              },
              fill: function (e) {
                return B.apply(Pe(this), arguments);
              },
              filter: function (e) {
                return Te(
                  this,
                  X(Pe(this), e, arguments.length > 1 ? arguments[1] : void 0)
                );
              },
              find: function (e) {
                return ee(
                  Pe(this),
                  e,
                  arguments.length > 1 ? arguments[1] : void 0
                );
              },
              findIndex: function (e) {
                return re(
                  Pe(this),
                  e,
                  arguments.length > 1 ? arguments[1] : void 0
                );
              },
              forEach: function (e) {
                Q(Pe(this), e, arguments.length > 1 ? arguments[1] : void 0);
              },
              indexOf: function (e) {
                return ne(
                  Pe(this),
                  e,
                  arguments.length > 1 ? arguments[1] : void 0
                );
              },
              includes: function (e) {
                return te(
                  Pe(this),
                  e,
                  arguments.length > 1 ? arguments[1] : void 0
                );
              },
              join: function (e) {
                return le.apply(Pe(this), arguments);
              },
              lastIndexOf: function (e) {
                return ce.apply(Pe(this), arguments);
              },
              map: function (e) {
                return Ee(
                  Pe(this),
                  e,
                  arguments.length > 1 ? arguments[1] : void 0
                );
              },
              reduce: function (e) {
                return fe.apply(Pe(this), arguments);
              },
              reduceRight: function (e) {
                return ae.apply(Pe(this), arguments);
              },
              reverse: function () {
                for (
                  var e, r = Pe(this).length, t = Math.floor(r / 2), n = 0;
                  n < t;

                )
                  (e = this[n]), (this[n++] = this[--r]), (this[r] = e);
                return this;
              },
              some: function (e) {
                return Z(
                  Pe(this),
                  e,
                  arguments.length > 1 ? arguments[1] : void 0
                );
              },
              sort: function (e) {
                return se.call(Pe(this), e);
              },
              subarray: function (e, r) {
                var t = Pe(this),
                  n = t.length,
                  i = g(e, n);
                return new (T(t, t[ye]))(
                  t.buffer,
                  t.byteOffset + i * t.BYTES_PER_ELEMENT,
                  h((void 0 === r ? n : g(r, n)) - i)
                );
              },
            },
            We = function (e, r) {
              return Te(this, he.call(Pe(this), e, r));
            },
            Ne = function (e) {
              Pe(this);
              var r = Le(arguments[1], 1),
                t = this.length,
                n = q(e),
                i = h(n.length),
                o = 0;
              if (i + r > t) throw k(Se);
              for (; o < i; ) this[r + o] = n[o++];
            },
            Ye = {
              entries: function () {
                return ue.call(Pe(this));
              },
              keys: function () {
                return oe.call(Pe(this));
              },
              values: function () {
                return ie.call(Pe(this));
              },
            },
            ke = function (e, r) {
              return (
                y(e) &&
                e[we] &&
                "symbol" != typeof r &&
                r in e &&
                String(+r) == String(r)
              );
            },
            De = function (e, r) {
              return ke(e, (r = _(r, !0))) ? f(2, e[r]) : Y(e, r);
            },
            Ve = function (e, r, t) {
              return !(ke(e, (r = _(r, !0))) && y(t) && v(t, "value")) ||
                v(t, "get") ||
                v(t, "set") ||
                t.configurable ||
                (v(t, "writable") && !t.writable) ||
                (v(t, "enumerable") && !t.enumerable)
                ? N(e, r, t)
                : ((e[r] = t.value), e);
            };
          qe || ((W.f = De), (M.f = Ve)),
            n(n.S + n.F * !qe, "Object", {
              getOwnPropertyDescriptor: De,
              defineProperty: Ve,
            }),
            t(function () {
              de.call({});
            }) &&
              (de = ge =
                function () {
                  return le.call(this);
                });
          var Ce = l({}, Me);
          l(Ce, Ye),
            a(Ce, _e, Ye.values),
            l(Ce, {
              slice: We,
              set: Ne,
              constructor: function () {},
              toString: de,
              toLocaleString: Ie,
            }),
            Oe(Ce, "buffer", "b"),
            Oe(Ce, "byteOffset", "o"),
            Oe(Ce, "byteLength", "l"),
            Oe(Ce, "length", "e"),
            N(Ce, ve, {
              get: function () {
                return this[we];
              },
            }),
            (module.exports = function (o, u, f, l) {
              var s = o + ((l = !!l) ? "Clamped" : "") + "Array",
                g = "get" + o,
                _ = "set" + o,
                v = e[s],
                q = v || {},
                w = v && S(v),
                m = !v || !i.ABV,
                x = {},
                L = v && v[z],
                P = function (e, r) {
                  N(e, r, {
                    get: function () {
                      return (function (e, r) {
                        var t = e._d;
                        return t.v[g](r * u + t.o, me);
                      })(this, r);
                    },
                    set: function (e) {
                      return (function (e, r, t) {
                        var n = e._d;
                        l &&
                          (t =
                            (t = Math.round(t)) < 0
                              ? 0
                              : t > 255
                              ? 255
                              : 255 & t),
                          n.v[_](r * u + n.o, t, me);
                      })(this, r, e);
                    },
                    enumerable: !0,
                  });
                };
              m
                ? ((v = f(function (e, r, t, n) {
                    c(e, v, s, "_d");
                    var i,
                      o,
                      f,
                      l,
                      g = 0,
                      _ = 0;
                    if (y(r)) {
                      if (!(r instanceof J || (l = p(r)) == C || l == U))
                        return we in r ? Fe(v, r) : Ae.call(v, r);
                      (i = r), (_ = Le(t, u));
                      var q = r.byteLength;
                      if (void 0 === n) {
                        if (q % u) throw k(Se);
                        if ((o = q - _) < 0) throw k(Se);
                      } else if ((o = h(n) * u) + _ > q) throw k(Se);
                      f = o / u;
                    } else (f = d(r)), (i = new J((o = f * u)));
                    for (
                      a(e, "_d", { b: i, o: _, l: o, e: f, v: new K(i) });
                      g < f;

                    )
                      P(e, g++);
                  })),
                  (L = v[z] = b(Ce)),
                  a(L, "constructor", v))
                : (t(function () {
                    v(1);
                  }) &&
                    t(function () {
                      new v(-1);
                    }) &&
                    A(function (e) {
                      new v(), new v(null), new v(1.5), new v(e);
                    }, !0)) ||
                  ((v = f(function (e, r, t, n) {
                    var i;
                    return (
                      c(e, v, s),
                      y(r)
                        ? r instanceof J || (i = p(r)) == C || i == U
                          ? void 0 !== n
                            ? new q(r, Le(t, u), n)
                            : void 0 !== t
                            ? new q(r, Le(t, u))
                            : new q(r)
                          : we in r
                          ? Fe(v, r)
                          : Ae.call(v, r)
                        : new q(d(r))
                    );
                  })),
                  Q(
                    w !== Function.prototype ? E(q).concat(E(w)) : E(q),
                    function (e) {
                      e in v || a(v, e, q[e]);
                    }
                  ),
                  (v[z] = L),
                  r || (L.constructor = v));
              var j = L[_e],
                T = !!j && ("values" == j.name || null == j.name),
                F = Ye.values;
              a(v, pe, !0),
                a(L, we, s),
                a(L, be, !0),
                a(L, ye, v),
                (l ? new v(1)[ve] == s : ve in L) ||
                  N(L, ve, {
                    get: function () {
                      return s;
                    },
                  }),
                (x[s] = v),
                n(n.G + n.W + n.F * (v != q), x),
                n(n.S, s, { BYTES_PER_ELEMENT: u }),
                n(
                  n.S +
                    n.F *
                      t(function () {
                        q.of.call(v, 1);
                      }),
                  s,
                  { from: Ae, of: Re }
                ),
                G in L || a(L, G, u),
                n(n.P, s, Me),
                R(s),
                n(n.P + n.F * xe, s, { set: Ne }),
                n(n.P + n.F * !T, s, Ye),
                r || L.toString == de || (L.toString = de),
                n(
                  n.P +
                    n.F *
                      t(function () {
                        new v(1).slice();
                      }),
                  s,
                  { slice: We }
                ),
                n(
                  n.P +
                    n.F *
                      (t(function () {
                        return (
                          [1, 2].toLocaleString() !=
                          new v([1, 2]).toLocaleString()
                        );
                      }) ||
                        !t(function () {
                          L.toLocaleString.call([1, 2]);
                        })),
                  s,
                  { toLocaleString: Ie }
                ),
                (O[s] = T ? j : F),
                r || T || a(L, _e, F);
            });
        } else module.exports = function () {};
      },
      {
        "./_descriptors": "P9Ib",
        "./_library": "H21C",
        "./_global": "qf4T",
        "./_fails": "BXiR",
        "./_export": "izCb",
        "./_typed": "fero",
        "./_typed-buffer": "Ujpk",
        "./_ctx": "E3Kh",
        "./_an-instance": "yJTF",
        "./_property-desc": "uJ6d",
        "./_hide": "NXbe",
        "./_redefine-all": "J0Tl",
        "./_to-integer": "yjVO",
        "./_to-length": "dJBs",
        "./_to-index": "zj2i",
        "./_to-absolute-index": "vfEH",
        "./_to-primitive": "y37I",
        "./_has": "uHgd",
        "./_classof": "GM7B",
        "./_is-object": "M7z6",
        "./_to-object": "rfVX",
        "./_is-array-iter": "B0pB",
        "./_object-create": "sYaK",
        "./_object-gpo": "q6yw",
        "./_object-gopn": "Vzm0",
        "./core.get-iterator-method": "ia42",
        "./_uid": "U49f",
        "./_wks": "AIP1",
        "./_array-methods": "AuPh",
        "./_array-includes": "Ca7J",
        "./_species-constructor": "ExG3",
        "./es6.array.iterator": "wVEN",
        "./_iterators": "JO4d",
        "./_iter-detect": "md62",
        "./_set-species": "h4dH",
        "./_array-fill": "hphS",
        "./_array-copy-within": "Oppn",
        "./_object-dp": "nw8e",
        "./_object-gopd": "uIjZ",
      },
    ],
    wqMZ: [
      function (require, module, exports) {
        require("./_typed-array")("Int8", 1, function (r) {
          return function (n, t, e) {
            return r(this, n, t, e);
          };
        });
      },
      { "./_typed-array": "fd04" },
    ],
    QTtY: [
      function (require, module, exports) {
        require("./_typed-array")("Uint8", 1, function (r) {
          return function (n, t, e) {
            return r(this, n, t, e);
          };
        });
      },
      { "./_typed-array": "fd04" },
    ],
    Kqgs: [
      function (require, module, exports) {
        require("./_typed-array")(
          "Uint8",
          1,
          function (r) {
            return function (n, t, e) {
              return r(this, n, t, e);
            };
          },
          !0
        );
      },
      { "./_typed-array": "fd04" },
    ],
    fEGw: [
      function (require, module, exports) {
        require("./_typed-array")("Int16", 2, function (r) {
          return function (n, t, e) {
            return r(this, n, t, e);
          };
        });
      },
      { "./_typed-array": "fd04" },
    ],
    xyd6: [
      function (require, module, exports) {
        require("./_typed-array")("Uint16", 2, function (r) {
          return function (n, t, e) {
            return r(this, n, t, e);
          };
        });
      },
      { "./_typed-array": "fd04" },
    ],
    hIko: [
      function (require, module, exports) {
        require("./_typed-array")("Int32", 4, function (r) {
          return function (n, t, e) {
            return r(this, n, t, e);
          };
        });
      },
      { "./_typed-array": "fd04" },
    ],
    tNPN: [
      function (require, module, exports) {
        require("./_typed-array")("Uint32", 4, function (r) {
          return function (n, t, e) {
            return r(this, n, t, e);
          };
        });
      },
      { "./_typed-array": "fd04" },
    ],
    wisA: [
      function (require, module, exports) {
        require("./_typed-array")("Float32", 4, function (r) {
          return function (t, n, e) {
            return r(this, t, n, e);
          };
        });
      },
      { "./_typed-array": "fd04" },
    ],
    mbTX: [
      function (require, module, exports) {
        require("./_typed-array")("Float64", 8, function (r) {
          return function (t, n, e) {
            return r(this, t, n, e);
          };
        });
      },
      { "./_typed-array": "fd04" },
    ],
    F0Xu: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_a-function"),
          n = require("./_an-object"),
          i = (require("./_global").Reflect || {}).apply,
          u = Function.apply;
        e(
          e.S +
            e.F *
              !require("./_fails")(function () {
                i(function () {});
              }),
          "Reflect",
          {
            apply: function (e, a, l) {
              var t = r(e),
                c = n(l);
              return i ? i(t, a, c) : u.call(t, a, c);
            },
          }
        );
      },
      {
        "./_export": "izCb",
        "./_a-function": "kYjc",
        "./_an-object": "eT53",
        "./_global": "qf4T",
        "./_fails": "BXiR",
      },
    ],
    JlFO: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_object-create"),
          n = require("./_a-function"),
          t = require("./_an-object"),
          u = require("./_is-object"),
          c = require("./_fails"),
          i = require("./_bind"),
          o = (require("./_global").Reflect || {}).construct,
          a = c(function () {
            function e() {}
            return !(o(function () {}, [], e) instanceof e);
          }),
          l = !c(function () {
            o(function () {});
          });
        e(e.S + e.F * (a || l), "Reflect", {
          construct: function (e, c) {
            n(e), t(c);
            var f = arguments.length < 3 ? e : n(arguments[2]);
            if (l && !a) return o(e, c, f);
            if (e == f) {
              switch (c.length) {
                case 0:
                  return new e();
                case 1:
                  return new e(c[0]);
                case 2:
                  return new e(c[0], c[1]);
                case 3:
                  return new e(c[0], c[1], c[2]);
                case 4:
                  return new e(c[0], c[1], c[2], c[3]);
              }
              var p = [null];
              return p.push.apply(p, c), new (i.apply(e, p))();
            }
            var s = f.prototype,
              q = r(u(s) ? s : Object.prototype),
              _ = Function.apply.call(e, q, c);
            return u(_) ? _ : q;
          },
        });
      },
      {
        "./_export": "izCb",
        "./_object-create": "sYaK",
        "./_a-function": "kYjc",
        "./_an-object": "eT53",
        "./_is-object": "M7z6",
        "./_fails": "BXiR",
        "./_bind": "h83E",
        "./_global": "qf4T",
      },
    ],
    S841: [
      function (require, module, exports) {
        var e = require("./_object-dp"),
          r = require("./_export"),
          t = require("./_an-object"),
          i = require("./_to-primitive");
        r(
          r.S +
            r.F *
              require("./_fails")(function () {
                Reflect.defineProperty(e.f({}, 1, { value: 1 }), 1, {
                  value: 2,
                });
              }),
          "Reflect",
          {
            defineProperty: function (r, u, f) {
              t(r), (u = i(u, !0)), t(f);
              try {
                return e.f(r, u, f), !0;
              } catch (n) {
                return !1;
              }
            },
          }
        );
      },
      {
        "./_object-dp": "nw8e",
        "./_export": "izCb",
        "./_an-object": "eT53",
        "./_to-primitive": "y37I",
        "./_fails": "BXiR",
      },
    ],
    JRlJ: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_object-gopd").f,
          t = require("./_an-object");
        e(e.S, "Reflect", {
          deleteProperty: function (e, o) {
            var u = r(t(e), o);
            return !(u && !u.configurable) && delete e[o];
          },
        });
      },
      { "./_export": "izCb", "./_object-gopd": "uIjZ", "./_an-object": "eT53" },
    ],
    bSEr: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          t = require("./_an-object"),
          i = function (e) {
            (this._t = t(e)), (this._i = 0);
            var i,
              r = (this._k = []);
            for (i in e) r.push(i);
          };
        require("./_iter-create")(i, "Object", function () {
          var e,
            t = this._k;
          do {
            if (this._i >= t.length) return { value: void 0, done: !0 };
          } while (!((e = t[this._i++]) in this._t));
          return { value: e, done: !1 };
        }),
          e(e.S, "Reflect", {
            enumerate: function (e) {
              return new i(e);
            },
          });
      },
      { "./_export": "izCb", "./_an-object": "eT53", "./_iter-create": "ebgP" },
    ],
    kv8Z: [
      function (require, module, exports) {
        var e = require("./_object-gopd"),
          r = require("./_object-gpo"),
          t = require("./_has"),
          i = require("./_export"),
          o = require("./_is-object"),
          u = require("./_an-object");
        function a(i, c) {
          var v,
            g,
            l = arguments.length < 3 ? i : arguments[2];
          return u(i) === l
            ? i[c]
            : (v = e.f(i, c))
            ? t(v, "value")
              ? v.value
              : void 0 !== v.get
              ? v.get.call(l)
              : void 0
            : o((g = r(i)))
            ? a(g, c, l)
            : void 0;
        }
        i(i.S, "Reflect", { get: a });
      },
      {
        "./_object-gopd": "uIjZ",
        "./_object-gpo": "q6yw",
        "./_has": "uHgd",
        "./_export": "izCb",
        "./_is-object": "M7z6",
        "./_an-object": "eT53",
      },
    ],
    zj1X: [
      function (require, module, exports) {
        var e = require("./_object-gopd"),
          r = require("./_export"),
          t = require("./_an-object");
        r(r.S, "Reflect", {
          getOwnPropertyDescriptor: function (r, o) {
            return e.f(t(r), o);
          },
        });
      },
      { "./_object-gopd": "uIjZ", "./_export": "izCb", "./_an-object": "eT53" },
    ],
    d0aC: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_object-gpo"),
          t = require("./_an-object");
        e(e.S, "Reflect", {
          getPrototypeOf: function (e) {
            return r(t(e));
          },
        });
      },
      { "./_export": "izCb", "./_object-gpo": "q6yw", "./_an-object": "eT53" },
    ],
    OWTq: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "Reflect", {
          has: function (e, r) {
            return r in e;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    deHu: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_an-object"),
          t = Object.isExtensible;
        e(e.S, "Reflect", {
          isExtensible: function (e) {
            return r(e), !t || t(e);
          },
        });
      },
      { "./_export": "izCb", "./_an-object": "eT53" },
    ],
    kABk: [
      function (require, module, exports) {
        var e = require("./_object-gopn"),
          r = require("./_object-gops"),
          o = require("./_an-object"),
          t = require("./_global").Reflect;
        module.exports =
          (t && t.ownKeys) ||
          function (t) {
            var c = e.f(o(t)),
              n = r.f;
            return n ? c.concat(n(t)) : c;
          };
      },
      {
        "./_object-gopn": "Vzm0",
        "./_object-gops": "EWMd",
        "./_an-object": "eT53",
        "./_global": "qf4T",
      },
    ],
    e6SV: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "Reflect", { ownKeys: require("./_own-keys") });
      },
      { "./_export": "izCb", "./_own-keys": "kABk" },
    ],
    BmyK: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_an-object"),
          t = Object.preventExtensions;
        e(e.S, "Reflect", {
          preventExtensions: function (e) {
            r(e);
            try {
              return t && t(e), !0;
            } catch (n) {
              return !1;
            }
          },
        });
      },
      { "./_export": "izCb", "./_an-object": "eT53" },
    ],
    K46i: [
      function (require, module, exports) {
        var e = require("./_object-dp"),
          r = require("./_object-gopd"),
          t = require("./_object-gpo"),
          i = require("./_has"),
          u = require("./_export"),
          f = require("./_property-desc"),
          o = require("./_an-object"),
          a = require("./_is-object");
        function c(u, l, n) {
          var q,
            s,
            _ = arguments.length < 4 ? u : arguments[3],
            b = r.f(o(u), l);
          if (!b) {
            if (a((s = t(u)))) return c(s, l, n, _);
            b = f(0);
          }
          if (i(b, "value")) {
            if (!1 === b.writable || !a(_)) return !1;
            if ((q = r.f(_, l))) {
              if (q.get || q.set || !1 === q.writable) return !1;
              (q.value = n), e.f(_, l, q);
            } else e.f(_, l, f(0, n));
            return !0;
          }
          return void 0 !== b.set && (b.set.call(_, n), !0);
        }
        u(u.S, "Reflect", { set: c });
      },
      {
        "./_object-dp": "nw8e",
        "./_object-gopd": "uIjZ",
        "./_object-gpo": "q6yw",
        "./_has": "uHgd",
        "./_export": "izCb",
        "./_property-desc": "uJ6d",
        "./_an-object": "eT53",
        "./_is-object": "M7z6",
      },
    ],
    L5z5: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_set-proto");
        r &&
          e(e.S, "Reflect", {
            setPrototypeOf: function (e, t) {
              r.check(e, t);
              try {
                return r.set(e, t), !0;
              } catch (c) {
                return !1;
              }
            },
          });
      },
      { "./_export": "izCb", "./_set-proto": "vn3S" },
    ],
    TLss: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_array-includes")(!0);
        r(r.P, "Array", {
          includes: function (r) {
            return e(this, r, arguments.length > 1 ? arguments[1] : void 0);
          },
        }),
          require("./_add-to-unscopables")("includes");
      },
      {
        "./_export": "izCb",
        "./_array-includes": "Ca7J",
        "./_add-to-unscopables": "Z7eD",
      },
    ],
    emcv: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_is-array"),
          e = require("./_is-object"),
          i = require("./_to-length"),
          t = require("./_ctx"),
          o = require("./_wks")("isConcatSpreadable");
        function u(s, a, n, c, f, l, q, _) {
          for (var d, h, p = f, v = 0, b = !!q && t(q, _, 3); v < c; ) {
            if (v in n) {
              if (
                ((d = b ? b(n[v], v, a) : n[v]),
                (h = !1),
                e(d) && (h = void 0 !== (h = d[o]) ? !!h : r(d)),
                h && l > 0)
              )
                p = u(s, a, d, i(d.length), p, l - 1) - 1;
              else {
                if (p >= 9007199254740991) throw TypeError();
                s[p] = d;
              }
              p++;
            }
            v++;
          }
          return p;
        }
        module.exports = u;
      },
      {
        "./_is-array": "JTrm",
        "./_is-object": "M7z6",
        "./_to-length": "dJBs",
        "./_ctx": "E3Kh",
        "./_wks": "AIP1",
      },
    ],
    I8vV: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_flatten-into-array"),
          t = require("./_to-object"),
          a = require("./_to-length"),
          i = require("./_a-function"),
          u = require("./_array-species-create");
        r(r.P, "Array", {
          flatMap: function (r) {
            var n,
              o,
              c = t(this);
            return (
              i(r),
              (n = a(c.length)),
              (o = u(c, 0)),
              e(o, c, c, n, 0, 1, r, arguments[1]),
              o
            );
          },
        }),
          require("./_add-to-unscopables")("flatMap");
      },
      {
        "./_export": "izCb",
        "./_flatten-into-array": "emcv",
        "./_to-object": "rfVX",
        "./_to-length": "dJBs",
        "./_a-function": "kYjc",
        "./_array-species-create": "igas",
        "./_add-to-unscopables": "Z7eD",
      },
    ],
    hTXg: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          r = require("./_flatten-into-array"),
          t = require("./_to-object"),
          i = require("./_to-length"),
          a = require("./_to-integer"),
          n = require("./_array-species-create");
        e(e.P, "Array", {
          flatten: function () {
            var e = arguments[0],
              u = t(this),
              o = i(u.length),
              q = n(u, 0);
            return r(q, u, u, o, 0, void 0 === e ? 1 : a(e)), q;
          },
        }),
          require("./_add-to-unscopables")("flatten");
      },
      {
        "./_export": "izCb",
        "./_flatten-into-array": "emcv",
        "./_to-object": "rfVX",
        "./_to-length": "dJBs",
        "./_to-integer": "yjVO",
        "./_array-species-create": "igas",
        "./_add-to-unscopables": "Z7eD",
      },
    ],
    htok: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          t = require("./_string-at")(!0),
          e = require("./_fails"),
          i = e(function () {
            return "𠮷" !== "𠮷".at(0);
          });
        r(r.P + r.F * i, "String", {
          at: function (r) {
            return t(this, r);
          },
        });
      },
      { "./_export": "izCb", "./_string-at": "x5yM", "./_fails": "BXiR" },
    ],
    lQnl: [
      function (require, module, exports) {
        var e = require("./_to-length"),
          r = require("./_string-repeat"),
          t = require("./_defined");
        module.exports = function (i, n, l, g) {
          var u = String(t(i)),
            a = u.length,
            h = void 0 === l ? " " : String(l),
            o = e(n);
          if (o <= a || "" == h) return u;
          var c = o - a,
            d = r.call(h, Math.ceil(c / h.length));
          return d.length > c && (d = d.slice(0, c)), g ? d + u : u + d;
        };
      },
      {
        "./_to-length": "dJBs",
        "./_string-repeat": "UH4U",
        "./_defined": "BjjL",
      },
    ],
    SWNE: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_string-pad"),
          t = require("./_user-agent"),
          i = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t);
        r(r.P + r.F * i, "String", {
          padStart: function (r) {
            return e(this, r, arguments.length > 1 ? arguments[1] : void 0, !0);
          },
        });
      },
      { "./_export": "izCb", "./_string-pad": "lQnl", "./_user-agent": "O5uh" },
    ],
    n20m: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_string-pad"),
          i = require("./_user-agent"),
          t = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);
        r(r.P + r.F * t, "String", {
          padEnd: function (r) {
            return e(this, r, arguments.length > 1 ? arguments[1] : void 0, !1);
          },
        });
      },
      { "./_export": "izCb", "./_string-pad": "lQnl", "./_user-agent": "O5uh" },
    ],
    ppxd: [
      function (require, module, exports) {
        "use strict";
        require("./_string-trim")(
          "trimLeft",
          function (t) {
            return function () {
              return t(this, 1);
            };
          },
          "trimStart"
        );
      },
      { "./_string-trim": "y5m2" },
    ],
    hxx1: [
      function (require, module, exports) {
        "use strict";
        require("./_string-trim")(
          "trimRight",
          function (t) {
            return function () {
              return t(this, 2);
            };
          },
          "trimEnd"
        );
      },
      { "./_string-trim": "y5m2" },
    ],
    nuR4: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          r = require("./_defined"),
          t = require("./_to-length"),
          i = require("./_is-regexp"),
          n = require("./_flags"),
          s = RegExp.prototype,
          g = function (e, r) {
            (this._r = e), (this._s = r);
          };
        require("./_iter-create")(g, "RegExp String", function () {
          var e = this._r.exec(this._s);
          return { value: e, done: null === e };
        }),
          e(e.P, "String", {
            matchAll: function (e) {
              if ((r(this), !i(e))) throw TypeError(e + " is not a regexp!");
              var u = String(this),
                a = "flags" in s ? String(e.flags) : n.call(e),
                l = new RegExp(e.source, ~a.indexOf("g") ? a : "g" + a);
              return (l.lastIndex = t(e.lastIndex)), new g(l, u);
            },
          });
      },
      {
        "./_export": "izCb",
        "./_defined": "BjjL",
        "./_to-length": "dJBs",
        "./_is-regexp": "WEVF",
        "./_flags": "hgks",
        "./_iter-create": "ebgP",
      },
    ],
    DlMC: [
      function (require, module, exports) {
        require("./_wks-define")("asyncIterator");
      },
      { "./_wks-define": "r4vV" },
    ],
    m9Sq: [
      function (require, module, exports) {
        require("./_wks-define")("observable");
      },
      { "./_wks-define": "r4vV" },
    ],
    BQD8: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_own-keys"),
          t = require("./_to-iobject"),
          o = require("./_object-gopd"),
          i = require("./_create-property");
        e(e.S, "Object", {
          getOwnPropertyDescriptors: function (e) {
            for (
              var u, c, n = t(e), p = o.f, q = r(n), _ = {}, a = 0;
              q.length > a;

            )
              void 0 !== (c = p(n, (u = q[a++]))) && i(_, u, c);
            return _;
          },
        });
      },
      {
        "./_export": "izCb",
        "./_own-keys": "kABk",
        "./_to-iobject": "g6sb",
        "./_object-gopd": "uIjZ",
        "./_create-property": "JCwR",
      },
    ],
    ljQU: [
      function (require, module, exports) {
        var e = require("./_descriptors"),
          r = require("./_object-keys"),
          t = require("./_to-iobject"),
          o = require("./_object-pie").f;
        module.exports = function (u) {
          return function (i) {
            for (
              var c, n = t(i), s = r(n), f = s.length, l = 0, p = [];
              f > l;

            )
              (c = s[l++]),
                (e && !o.call(n, c)) || p.push(u ? [c, n[c]] : n[c]);
            return p;
          };
        };
      },
      {
        "./_descriptors": "P9Ib",
        "./_object-keys": "U9a7",
        "./_to-iobject": "g6sb",
        "./_object-pie": "vjRp",
      },
    ],
    Ltmz: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_object-to-array")(!1);
        r(r.S, "Object", {
          values: function (r) {
            return e(r);
          },
        });
      },
      { "./_export": "izCb", "./_object-to-array": "ljQU" },
    ],
    gxEP: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_object-to-array")(!0);
        r(r.S, "Object", {
          entries: function (r) {
            return e(r);
          },
        });
      },
      { "./_export": "izCb", "./_object-to-array": "ljQU" },
    ],
    mhol: [
      function (require, module, exports) {
        "use strict";
        module.exports =
          require("./_library") ||
          !require("./_fails")(function () {
            var e = Math.random();
            __defineSetter__.call(null, e, function () {}),
              delete require("./_global")[e];
          });
      },
      { "./_library": "H21C", "./_fails": "BXiR", "./_global": "qf4T" },
    ],
    guoQ: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          r = require("./_to-object"),
          t = require("./_a-function"),
          i = require("./_object-dp");
        require("./_descriptors") &&
          e(e.P + require("./_object-forced-pam"), "Object", {
            __defineGetter__: function (e, u) {
              i.f(r(this), e, { get: t(u), enumerable: !0, configurable: !0 });
            },
          });
      },
      {
        "./_export": "izCb",
        "./_to-object": "rfVX",
        "./_a-function": "kYjc",
        "./_object-dp": "nw8e",
        "./_descriptors": "P9Ib",
        "./_object-forced-pam": "mhol",
      },
    ],
    HMp9: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          r = require("./_to-object"),
          t = require("./_a-function"),
          i = require("./_object-dp");
        require("./_descriptors") &&
          e(e.P + require("./_object-forced-pam"), "Object", {
            __defineSetter__: function (e, u) {
              i.f(r(this), e, { set: t(u), enumerable: !0, configurable: !0 });
            },
          });
      },
      {
        "./_export": "izCb",
        "./_to-object": "rfVX",
        "./_a-function": "kYjc",
        "./_object-dp": "nw8e",
        "./_descriptors": "P9Ib",
        "./_object-forced-pam": "mhol",
      },
    ],
    HB2g: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          r = require("./_to-object"),
          t = require("./_to-primitive"),
          i = require("./_object-gpo"),
          o = require("./_object-gopd").f;
        require("./_descriptors") &&
          e(e.P + require("./_object-forced-pam"), "Object", {
            __lookupGetter__: function (e) {
              var u,
                _ = r(this),
                c = t(e, !0);
              do {
                if ((u = o(_, c))) return u.get;
              } while ((_ = i(_)));
            },
          });
      },
      {
        "./_export": "izCb",
        "./_to-object": "rfVX",
        "./_to-primitive": "y37I",
        "./_object-gpo": "q6yw",
        "./_object-gopd": "uIjZ",
        "./_descriptors": "P9Ib",
        "./_object-forced-pam": "mhol",
      },
    ],
    QF5J: [
      function (require, module, exports) {
        "use strict";
        var e = require("./_export"),
          r = require("./_to-object"),
          t = require("./_to-primitive"),
          i = require("./_object-gpo"),
          o = require("./_object-gopd").f;
        require("./_descriptors") &&
          e(e.P + require("./_object-forced-pam"), "Object", {
            __lookupSetter__: function (e) {
              var u,
                _ = r(this),
                c = t(e, !0);
              do {
                if ((u = o(_, c))) return u.set;
              } while ((_ = i(_)));
            },
          });
      },
      {
        "./_export": "izCb",
        "./_to-object": "rfVX",
        "./_to-primitive": "y37I",
        "./_object-gpo": "q6yw",
        "./_object-gopd": "uIjZ",
        "./_descriptors": "P9Ib",
        "./_object-forced-pam": "mhol",
      },
    ],
    FtNl: [
      function (require, module, exports) {
        var r = require("./_for-of");
        module.exports = function (e, o) {
          var u = [];
          return r(e, !1, u.push, u, o), u;
        };
      },
      { "./_for-of": "Abke" },
    ],
    W884: [
      function (require, module, exports) {
        var r = require("./_classof"),
          e = require("./_array-from-iterable");
        module.exports = function (t) {
          return function () {
            if (r(this) != t) throw TypeError(t + "#toJSON isn't generic");
            return e(this);
          };
        };
      },
      { "./_classof": "GM7B", "./_array-from-iterable": "FtNl" },
    ],
    JwqU: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.P + e.R, "Map", {
          toJSON: require("./_collection-to-json")("Map"),
        });
      },
      { "./_export": "izCb", "./_collection-to-json": "W884" },
    ],
    s0lJ: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.P + e.R, "Set", {
          toJSON: require("./_collection-to-json")("Set"),
        });
      },
      { "./_export": "izCb", "./_collection-to-json": "W884" },
    ],
    s7yx: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export");
        module.exports = function (e) {
          r(r.S, e, {
            of: function () {
              for (var r = arguments.length, e = new Array(r); r--; )
                e[r] = arguments[r];
              return new this(e);
            },
          });
        };
      },
      { "./_export": "izCb" },
    ],
    FGzV: [
      function (require, module, exports) {
        require("./_set-collection-of")("Map");
      },
      { "./_set-collection-of": "s7yx" },
    ],
    q4rf: [
      function (require, module, exports) {
        require("./_set-collection-of")("Set");
      },
      { "./_set-collection-of": "s7yx" },
    ],
    q85i: [
      function (require, module, exports) {
        require("./_set-collection-of")("WeakMap");
      },
      { "./_set-collection-of": "s7yx" },
    ],
    dmfy: [
      function (require, module, exports) {
        require("./_set-collection-of")("WeakSet");
      },
      { "./_set-collection-of": "s7yx" },
    ],
    TwNt: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_a-function"),
          u = require("./_ctx"),
          i = require("./_for-of");
        module.exports = function (t) {
          r(r.S, t, {
            from: function (r) {
              var t,
                n,
                o,
                s,
                f = arguments[1];
              return (
                e(this),
                (t = void 0 !== f) && e(f),
                null == r
                  ? new this()
                  : ((n = []),
                    t
                      ? ((o = 0),
                        (s = u(f, arguments[2], 2)),
                        i(r, !1, function (r) {
                          n.push(s(r, o++));
                        }))
                      : i(r, !1, n.push, n),
                    new this(n))
              );
            },
          });
        };
      },
      {
        "./_export": "izCb",
        "./_a-function": "kYjc",
        "./_ctx": "E3Kh",
        "./_for-of": "Abke",
      },
    ],
    JQCn: [
      function (require, module, exports) {
        require("./_set-collection-from")("Map");
      },
      { "./_set-collection-from": "TwNt" },
    ],
    rl69: [
      function (require, module, exports) {
        require("./_set-collection-from")("Set");
      },
      { "./_set-collection-from": "TwNt" },
    ],
    mEhd: [
      function (require, module, exports) {
        require("./_set-collection-from")("WeakMap");
      },
      { "./_set-collection-from": "TwNt" },
    ],
    SgWE: [
      function (require, module, exports) {
        require("./_set-collection-from")("WeakSet");
      },
      { "./_set-collection-from": "TwNt" },
    ],
    zzQm: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.G, { global: require("./_global") });
      },
      { "./_export": "izCb", "./_global": "qf4T" },
    ],
    rsrW: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "System", { global: require("./_global") });
      },
      { "./_export": "izCb", "./_global": "qf4T" },
    ],
    c5Yp: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_cof");
        r(r.S, "Error", {
          isError: function (r) {
            return "Error" === e(r);
          },
        });
      },
      { "./_export": "izCb", "./_cof": "Z5df" },
    ],
    f2NC: [
      function (require, module, exports) {
        var a = require("./_export");
        a(a.S, "Math", {
          clamp: function (a, r, t) {
            return Math.min(t, Math.max(r, a));
          },
        });
      },
      { "./_export": "izCb" },
    ],
    M9cD: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", { DEG_PER_RAD: Math.PI / 180 });
      },
      { "./_export": "izCb" },
    ],
    zjWO: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = 180 / Math.PI;
        e(e.S, "Math", {
          degrees: function (e) {
            return e * r;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    fVzN: [
      function (require, module, exports) {
        module.exports =
          Math.scale ||
          function (e, t, n, a, l) {
            return 0 === arguments.length ||
              e != e ||
              t != t ||
              n != n ||
              a != a ||
              l != l
              ? NaN
              : e === 1 / 0 || e === -1 / 0
              ? e
              : ((e - t) * (l - a)) / (n - t) + a;
          };
      },
      {},
    ],
    IeZ8: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_math-scale"),
          a = require("./_math-fround");
        r(r.S, "Math", {
          fscale: function (r, t, u, i, n) {
            return a(e(r, t, u, i, n));
          },
        });
      },
      {
        "./_export": "izCb",
        "./_math-scale": "fVzN",
        "./_math-fround": "z6h7",
      },
    ],
    GM4x: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          iaddh: function (r, a, e, t) {
            var i = r >>> 0,
              n = e >>> 0;
            return (
              ((a >>> 0) +
                (t >>> 0) +
                (((i & n) | ((i | n) & ~((i + n) >>> 0))) >>> 31)) |
              0
            );
          },
        });
      },
      { "./_export": "izCb" },
    ],
    Y1LJ: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          isubh: function (r, e, t, u) {
            var a = r >>> 0,
              i = t >>> 0;
            return (
              ((e >>> 0) -
                (u >>> 0) -
                (((~a & i) | (~(a ^ i) & ((a - i) >>> 0))) >>> 31)) |
              0
            );
          },
        });
      },
      { "./_export": "izCb" },
    ],
    cCkt: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          imulh: function (r, e) {
            var t = +r,
              u = +e,
              a = 65535 & t,
              i = 65535 & u,
              n = t >> 16,
              h = u >> 16,
              o = ((n * i) >>> 0) + ((a * i) >>> 16);
            return n * h + (o >> 16) + ((((a * h) >>> 0) + (65535 & o)) >> 16);
          },
        });
      },
      { "./_export": "izCb" },
    ],
    fCGe: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", { RAD_PER_DEG: 180 / Math.PI });
      },
      { "./_export": "izCb" },
    ],
    FX6J: [
      function (require, module, exports) {
        var r = require("./_export"),
          a = Math.PI / 180;
        r(r.S, "Math", {
          radians: function (r) {
            return r * a;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    zEVT: [
      function (require, module, exports) {
        var e = require("./_export");
        e(e.S, "Math", { scale: require("./_math-scale") });
      },
      { "./_export": "izCb", "./_math-scale": "fVzN" },
    ],
    zKyL: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          umulh: function (r, u) {
            var e = +r,
              t = +u,
              a = 65535 & e,
              n = 65535 & t,
              h = e >>> 16,
              i = t >>> 16,
              o = ((h * n) >>> 0) + ((a * n) >>> 16);
            return (
              h * i + (o >>> 16) + ((((a * i) >>> 0) + (65535 & o)) >>> 16)
            );
          },
        });
      },
      { "./_export": "izCb" },
    ],
    FD1C: [
      function (require, module, exports) {
        var r = require("./_export");
        r(r.S, "Math", {
          signbit: function (r) {
            return (r = +r) != r ? r : 0 == r ? 1 / r == 1 / 0 : r > 0;
          },
        });
      },
      { "./_export": "izCb" },
    ],
    l1j0: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_core"),
          t = require("./_global"),
          n = require("./_species-constructor"),
          i = require("./_promise-resolve");
        r(r.P + r.R, "Promise", {
          finally: function (r) {
            var o = n(this, e.Promise || t.Promise),
              u = "function" == typeof r;
            return this.then(
              u
                ? function (e) {
                    return i(o, r()).then(function () {
                      return e;
                    });
                  }
                : r,
              u
                ? function (e) {
                    return i(o, r()).then(function () {
                      throw e;
                    });
                  }
                : r
            );
          },
        });
      },
      {
        "./_export": "izCb",
        "./_core": "ss9A",
        "./_global": "qf4T",
        "./_species-constructor": "ExG3",
        "./_promise-resolve": "cNG8",
      },
    ],
    Worb: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          e = require("./_new-promise-capability"),
          i = require("./_perform");
        r(r.S, "Promise", {
          try: function (r) {
            var t = e.f(this),
              o = i(r);
            return (o.e ? t.reject : t.resolve)(o.v), t.promise;
          },
        });
      },
      {
        "./_export": "izCb",
        "./_new-promise-capability": "L7XN",
        "./_perform": "tyG8",
      },
    ],
    Vya4: [
      function (require, module, exports) {
        var e = require("./es6.map"),
          r = require("./_export"),
          t = require("./_shared")("metadata"),
          n = t.store || (t.store = new (require("./es6.weak-map"))()),
          i = function (r, t, i) {
            var o = n.get(r);
            if (!o) {
              if (!i) return;
              n.set(r, (o = new e()));
            }
            var u = o.get(t);
            if (!u) {
              if (!i) return;
              o.set(t, (u = new e()));
            }
            return u;
          },
          o = function (e, r, t) {
            var n = i(r, t, !1);
            return void 0 !== n && n.has(e);
          },
          u = function (e, r, t) {
            var n = i(r, t, !1);
            return void 0 === n ? void 0 : n.get(e);
          },
          a = function (e, r, t, n) {
            i(t, n, !0).set(e, r);
          },
          s = function (e, r) {
            var t = i(e, r, !1),
              n = [];
            return (
              t &&
                t.forEach(function (e, r) {
                  n.push(r);
                }),
              n
            );
          },
          f = function (e) {
            return void 0 === e || "symbol" == typeof e ? e : String(e);
          },
          c = function (e) {
            r(r.S, "Reflect", e);
          };
        module.exports = {
          store: n,
          map: i,
          has: o,
          get: u,
          set: a,
          keys: s,
          key: f,
          exp: c,
        };
      },
      {
        "./es6.map": "ioKM",
        "./_export": "izCb",
        "./_shared": "zGcK",
        "./es6.weak-map": "D6DP",
      },
    ],
    HqdS: [
      function (require, module, exports) {
        var e = require("./_metadata"),
          a = require("./_an-object"),
          t = e.key,
          r = e.set;
        e.exp({
          defineMetadata: function (e, i, n, d) {
            r(e, i, a(n), t(d));
          },
        });
      },
      { "./_metadata": "Vya4", "./_an-object": "eT53" },
    ],
    Okij: [
      function (require, module, exports) {
        var e = require("./_metadata"),
          t = require("./_an-object"),
          r = e.key,
          a = e.map,
          i = e.store;
        e.exp({
          deleteMetadata: function (e, d) {
            var n = arguments.length < 3 ? void 0 : r(arguments[2]),
              u = a(t(d), n, !1);
            if (void 0 === u || !u.delete(e)) return !1;
            if (u.size) return !0;
            var l = i.get(d);
            return l.delete(n), !!l.size || i.delete(d);
          },
        });
      },
      { "./_metadata": "Vya4", "./_an-object": "eT53" },
    ],
    S3NM: [
      function (require, module, exports) {
        var e = require("./_metadata"),
          r = require("./_an-object"),
          t = require("./_object-gpo"),
          a = e.has,
          n = e.get,
          u = e.key,
          i = function (e, r, u) {
            if (a(e, r, u)) return n(e, r, u);
            var o = t(r);
            return null !== o ? i(e, o, u) : void 0;
          };
        e.exp({
          getMetadata: function (e, t) {
            return i(e, r(t), arguments.length < 3 ? void 0 : u(arguments[2]));
          },
        });
      },
      {
        "./_metadata": "Vya4",
        "./_an-object": "eT53",
        "./_object-gpo": "q6yw",
      },
    ],
    LScP: [
      function (require, module, exports) {
        var e = require("./es6.set"),
          r = require("./_array-from-iterable"),
          t = require("./_metadata"),
          a = require("./_an-object"),
          n = require("./_object-gpo"),
          u = t.keys,
          i = t.key,
          o = function (t, a) {
            var i = u(t, a),
              c = n(t);
            if (null === c) return i;
            var l = o(c, a);
            return l.length ? (i.length ? r(new e(i.concat(l))) : l) : i;
          };
        t.exp({
          getMetadataKeys: function (e) {
            return o(a(e), arguments.length < 2 ? void 0 : i(arguments[1]));
          },
        });
      },
      {
        "./es6.set": "coyu",
        "./_array-from-iterable": "FtNl",
        "./_metadata": "Vya4",
        "./_an-object": "eT53",
        "./_object-gpo": "q6yw",
      },
    ],
    sqj0: [
      function (require, module, exports) {
        var e = require("./_metadata"),
          t = require("./_an-object"),
          a = e.get,
          r = e.key;
        e.exp({
          getOwnMetadata: function (e, n) {
            return a(e, t(n), arguments.length < 3 ? void 0 : r(arguments[2]));
          },
        });
      },
      { "./_metadata": "Vya4", "./_an-object": "eT53" },
    ],
    tLXA: [
      function (require, module, exports) {
        var e = require("./_metadata"),
          t = require("./_an-object"),
          a = e.keys,
          r = e.key;
        e.exp({
          getOwnMetadataKeys: function (e) {
            return a(t(e), arguments.length < 2 ? void 0 : r(arguments[1]));
          },
        });
      },
      { "./_metadata": "Vya4", "./_an-object": "eT53" },
    ],
    zEHE: [
      function (require, module, exports) {
        var e = require("./_metadata"),
          r = require("./_an-object"),
          t = require("./_object-gpo"),
          a = e.has,
          n = e.key,
          u = function (e, r, n) {
            if (a(e, r, n)) return !0;
            var i = t(r);
            return null !== i && u(e, i, n);
          };
        e.exp({
          hasMetadata: function (e, t) {
            return u(e, r(t), arguments.length < 3 ? void 0 : n(arguments[2]));
          },
        });
      },
      {
        "./_metadata": "Vya4",
        "./_an-object": "eT53",
        "./_object-gpo": "q6yw",
      },
    ],
    d1YN: [
      function (require, module, exports) {
        var e = require("./_metadata"),
          a = require("./_an-object"),
          t = e.has,
          r = e.key;
        e.exp({
          hasOwnMetadata: function (e, n) {
            return t(e, a(n), arguments.length < 3 ? void 0 : r(arguments[2]));
          },
        });
      },
      { "./_metadata": "Vya4", "./_an-object": "eT53" },
    ],
    AN3Y: [
      function (require, module, exports) {
        var e = require("./_metadata"),
          t = require("./_an-object"),
          a = require("./_a-function"),
          r = e.key,
          n = e.set;
        e.exp({
          metadata: function (e, i) {
            return function (u, o) {
              n(e, i, (void 0 !== o ? t : a)(u), r(o));
            };
          },
        });
      },
      {
        "./_metadata": "Vya4",
        "./_an-object": "eT53",
        "./_a-function": "kYjc",
      },
    ],
    A0aM: [
      function (require, module, exports) {
        var r = require("./_export"),
          e = require("./_microtask")(),
          i = require("./_global").process,
          o = "process" == require("./_cof")(i);
        r(r.G, {
          asap: function (r) {
            var a = o && i.domain;
            e(a ? a.bind(r) : r);
          },
        });
      },
      {
        "./_export": "izCb",
        "./_microtask": "sFAp",
        "./_global": "qf4T",
        "./_cof": "Z5df",
      },
    ],
    jFPl: [
      function (require, module, exports) {
        "use strict";
        var r = require("./_export"),
          t = require("./_global"),
          n = require("./_core"),
          e = require("./_microtask")(),
          i = require("./_wks")("observable"),
          o = require("./_a-function"),
          u = require("./_an-object"),
          c = require("./_an-instance"),
          f = require("./_redefine-all"),
          s = require("./_hide"),
          a = require("./_for-of"),
          v = a.RETURN,
          h = function (r) {
            return null == r ? void 0 : o(r);
          },
          l = function (r) {
            var t = r._c;
            t && ((r._c = void 0), t());
          },
          _ = function (r) {
            return void 0 === r._o;
          },
          b = function (r) {
            _(r) || ((r._o = void 0), l(r));
          },
          y = function (r, t) {
            u(r), (this._c = void 0), (this._o = r), (r = new p(this));
            try {
              var n = t(r),
                e = n;
              null != n &&
                ("function" == typeof n.unsubscribe
                  ? (n = function () {
                      e.unsubscribe();
                    })
                  : o(n),
                (this._c = n));
            } catch (i) {
              return void r.error(i);
            }
            _(this) && l(this);
          };
        y.prototype = f(
          {},
          {
            unsubscribe: function () {
              b(this);
            },
          }
        );
        var p = function (r) {
          this._s = r;
        };
        p.prototype = f(
          {},
          {
            next: function (r) {
              var t = this._s;
              if (!_(t)) {
                var n = t._o;
                try {
                  var e = h(n.next);
                  if (e) return e.call(n, r);
                } catch (i) {
                  try {
                    b(t);
                  } finally {
                    throw i;
                  }
                }
              }
            },
            error: function (r) {
              var t = this._s;
              if (_(t)) throw r;
              var n = t._o;
              t._o = void 0;
              try {
                var e = h(n.error);
                if (!e) throw r;
                r = e.call(n, r);
              } catch (i) {
                try {
                  l(t);
                } finally {
                  throw i;
                }
              }
              return l(t), r;
            },
            complete: function (r) {
              var t = this._s;
              if (!_(t)) {
                var n = t._o;
                t._o = void 0;
                try {
                  var e = h(n.complete);
                  r = e ? e.call(n, r) : void 0;
                } catch (i) {
                  try {
                    l(t);
                  } finally {
                    throw i;
                  }
                }
                return l(t), r;
              }
            },
          }
        );
        var w = function (r) {
          c(this, w, "Observable", "_f")._f = o(r);
        };
        f(w.prototype, {
          subscribe: function (r) {
            return new y(r, this._f);
          },
          forEach: function (r) {
            var e = this;
            return new (n.Promise || t.Promise)(function (t, n) {
              o(r);
              var i = e.subscribe({
                next: function (t) {
                  try {
                    return r(t);
                  } catch (e) {
                    n(e), i.unsubscribe();
                  }
                },
                error: n,
                complete: t,
              });
            });
          },
        }),
          f(w, {
            from: function (r) {
              var t = "function" == typeof this ? this : w,
                n = h(u(r)[i]);
              if (n) {
                var o = u(n.call(r));
                return o.constructor === t
                  ? o
                  : new t(function (r) {
                      return o.subscribe(r);
                    });
              }
              return new t(function (t) {
                var n = !1;
                return (
                  e(function () {
                    if (!n) {
                      try {
                        if (
                          a(r, !1, function (r) {
                            if ((t.next(r), n)) return v;
                          }) === v
                        )
                          return;
                      } catch (e) {
                        if (n) throw e;
                        return void t.error(e);
                      }
                      t.complete();
                    }
                  }),
                  function () {
                    n = !0;
                  }
                );
              });
            },
            of: function () {
              for (var r = 0, t = arguments.length, n = new Array(t); r < t; )
                n[r] = arguments[r++];
              return new ("function" == typeof this ? this : w)(function (r) {
                var t = !1;
                return (
                  e(function () {
                    if (!t) {
                      for (var e = 0; e < n.length; ++e)
                        if ((r.next(n[e]), t)) return;
                      r.complete();
                    }
                  }),
                  function () {
                    t = !0;
                  }
                );
              });
            },
          }),
          s(w.prototype, i, function () {
            return this;
          }),
          r(r.G, { Observable: w }),
          require("./_set-species")("Observable");
      },
      {
        "./_export": "izCb",
        "./_global": "qf4T",
        "./_core": "ss9A",
        "./_microtask": "sFAp",
        "./_wks": "AIP1",
        "./_a-function": "kYjc",
        "./_an-object": "eT53",
        "./_an-instance": "yJTF",
        "./_redefine-all": "J0Tl",
        "./_hide": "NXbe",
        "./_for-of": "Abke",
        "./_set-species": "h4dH",
      },
    ],
    OTsy: [
      function (require, module, exports) {
        var e = require("./_global"),
          t = require("./_export"),
          n = require("./_user-agent"),
          r = [].slice,
          u = /MSIE .\./.test(n),
          i = function (e) {
            return function (t, n) {
              var u = arguments.length > 2,
                i = !!u && r.call(arguments, 2);
              return e(
                u
                  ? function () {
                      ("function" == typeof t ? t : Function(t)).apply(this, i);
                    }
                  : t,
                n
              );
            };
          };
        t(t.G + t.B + t.F * u, {
          setTimeout: i(e.setTimeout),
          setInterval: i(e.setInterval),
        });
      },
      { "./_global": "qf4T", "./_export": "izCb", "./_user-agent": "O5uh" },
    ],
    hZLH: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_task");
        e(e.G + e.B, { setImmediate: r.set, clearImmediate: r.clear });
      },
      { "./_export": "izCb", "./_task": "KY9y" },
    ],
    v6Aj: [
      function (require, module, exports) {
        for (
          var e = require("./es6.array.iterator"),
            t = require("./_object-keys"),
            i = require("./_redefine"),
            r = require("./_global"),
            s = require("./_hide"),
            L = require("./_iterators"),
            a = require("./_wks"),
            o = a("iterator"),
            l = a("toStringTag"),
            S = L.Array,
            n = {
              CSSRuleList: !0,
              CSSStyleDeclaration: !1,
              CSSValueList: !1,
              ClientRectList: !1,
              DOMRectList: !1,
              DOMStringList: !1,
              DOMTokenList: !0,
              DataTransferItemList: !1,
              FileList: !1,
              HTMLAllCollection: !1,
              HTMLCollection: !1,
              HTMLFormElement: !1,
              HTMLSelectElement: !1,
              MediaList: !0,
              MimeTypeArray: !1,
              NamedNodeMap: !1,
              NodeList: !0,
              PaintRequestList: !1,
              Plugin: !1,
              PluginArray: !1,
              SVGLengthList: !1,
              SVGNumberList: !1,
              SVGPathSegList: !1,
              SVGPointList: !1,
              SVGStringList: !1,
              SVGTransformList: !1,
              SourceBufferList: !1,
              StyleSheetList: !0,
              TextTrackCueList: !1,
              TextTrackList: !1,
              TouchList: !1,
            },
            u = t(n),
            T = 0;
          T < u.length;
          T++
        ) {
          var c,
            g = u[T],
            M = n[g],
            y = r[g],
            f = y && y.prototype;
          if (f && (f[o] || s(f, o, S), f[l] || s(f, l, g), (L[g] = S), M))
            for (c in e) f[c] || i(f, c, e[c], !0);
        }
      },
      {
        "./es6.array.iterator": "wVEN",
        "./_object-keys": "U9a7",
        "./_redefine": "PHot",
        "./_global": "qf4T",
        "./_hide": "NXbe",
        "./_iterators": "JO4d",
        "./_wks": "AIP1",
      },
    ],
    w2bQ: [
      function (require, module, exports) {
        require("./modules/es6.symbol"),
          require("./modules/es6.object.create"),
          require("./modules/es6.object.define-property"),
          require("./modules/es6.object.define-properties"),
          require("./modules/es6.object.get-own-property-descriptor"),
          require("./modules/es6.object.get-prototype-of"),
          require("./modules/es6.object.keys"),
          require("./modules/es6.object.get-own-property-names"),
          require("./modules/es6.object.freeze"),
          require("./modules/es6.object.seal"),
          require("./modules/es6.object.prevent-extensions"),
          require("./modules/es6.object.is-frozen"),
          require("./modules/es6.object.is-sealed"),
          require("./modules/es6.object.is-extensible"),
          require("./modules/es6.object.assign"),
          require("./modules/es6.object.is"),
          require("./modules/es6.object.set-prototype-of"),
          require("./modules/es6.object.to-string"),
          require("./modules/es6.function.bind"),
          require("./modules/es6.function.name"),
          require("./modules/es6.function.has-instance"),
          require("./modules/es6.parse-int"),
          require("./modules/es6.parse-float"),
          require("./modules/es6.number.constructor"),
          require("./modules/es6.number.to-fixed"),
          require("./modules/es6.number.to-precision"),
          require("./modules/es6.number.epsilon"),
          require("./modules/es6.number.is-finite"),
          require("./modules/es6.number.is-integer"),
          require("./modules/es6.number.is-nan"),
          require("./modules/es6.number.is-safe-integer"),
          require("./modules/es6.number.max-safe-integer"),
          require("./modules/es6.number.min-safe-integer"),
          require("./modules/es6.number.parse-float"),
          require("./modules/es6.number.parse-int"),
          require("./modules/es6.math.acosh"),
          require("./modules/es6.math.asinh"),
          require("./modules/es6.math.atanh"),
          require("./modules/es6.math.cbrt"),
          require("./modules/es6.math.clz32"),
          require("./modules/es6.math.cosh"),
          require("./modules/es6.math.expm1"),
          require("./modules/es6.math.fround"),
          require("./modules/es6.math.hypot"),
          require("./modules/es6.math.imul"),
          require("./modules/es6.math.log10"),
          require("./modules/es6.math.log1p"),
          require("./modules/es6.math.log2"),
          require("./modules/es6.math.sign"),
          require("./modules/es6.math.sinh"),
          require("./modules/es6.math.tanh"),
          require("./modules/es6.math.trunc"),
          require("./modules/es6.string.from-code-point"),
          require("./modules/es6.string.raw"),
          require("./modules/es6.string.trim"),
          require("./modules/es6.string.iterator"),
          require("./modules/es6.string.code-point-at"),
          require("./modules/es6.string.ends-with"),
          require("./modules/es6.string.includes"),
          require("./modules/es6.string.repeat"),
          require("./modules/es6.string.starts-with"),
          require("./modules/es6.string.anchor"),
          require("./modules/es6.string.big"),
          require("./modules/es6.string.blink"),
          require("./modules/es6.string.bold"),
          require("./modules/es6.string.fixed"),
          require("./modules/es6.string.fontcolor"),
          require("./modules/es6.string.fontsize"),
          require("./modules/es6.string.italics"),
          require("./modules/es6.string.link"),
          require("./modules/es6.string.small"),
          require("./modules/es6.string.strike"),
          require("./modules/es6.string.sub"),
          require("./modules/es6.string.sup"),
          require("./modules/es6.date.now"),
          require("./modules/es6.date.to-json"),
          require("./modules/es6.date.to-iso-string"),
          require("./modules/es6.date.to-string"),
          require("./modules/es6.date.to-primitive"),
          require("./modules/es6.array.is-array"),
          require("./modules/es6.array.from"),
          require("./modules/es6.array.of"),
          require("./modules/es6.array.join"),
          require("./modules/es6.array.slice"),
          require("./modules/es6.array.sort"),
          require("./modules/es6.array.for-each"),
          require("./modules/es6.array.map"),
          require("./modules/es6.array.filter"),
          require("./modules/es6.array.some"),
          require("./modules/es6.array.every"),
          require("./modules/es6.array.reduce"),
          require("./modules/es6.array.reduce-right"),
          require("./modules/es6.array.index-of"),
          require("./modules/es6.array.last-index-of"),
          require("./modules/es6.array.copy-within"),
          require("./modules/es6.array.fill"),
          require("./modules/es6.array.find"),
          require("./modules/es6.array.find-index"),
          require("./modules/es6.array.species"),
          require("./modules/es6.array.iterator"),
          require("./modules/es6.regexp.constructor"),
          require("./modules/es6.regexp.exec"),
          require("./modules/es6.regexp.to-string"),
          require("./modules/es6.regexp.flags"),
          require("./modules/es6.regexp.match"),
          require("./modules/es6.regexp.replace"),
          require("./modules/es6.regexp.search"),
          require("./modules/es6.regexp.split"),
          require("./modules/es6.promise"),
          require("./modules/es6.map"),
          require("./modules/es6.set"),
          require("./modules/es6.weak-map"),
          require("./modules/es6.weak-set"),
          require("./modules/es6.typed.array-buffer"),
          require("./modules/es6.typed.data-view"),
          require("./modules/es6.typed.int8-array"),
          require("./modules/es6.typed.uint8-array"),
          require("./modules/es6.typed.uint8-clamped-array"),
          require("./modules/es6.typed.int16-array"),
          require("./modules/es6.typed.uint16-array"),
          require("./modules/es6.typed.int32-array"),
          require("./modules/es6.typed.uint32-array"),
          require("./modules/es6.typed.float32-array"),
          require("./modules/es6.typed.float64-array"),
          require("./modules/es6.reflect.apply"),
          require("./modules/es6.reflect.construct"),
          require("./modules/es6.reflect.define-property"),
          require("./modules/es6.reflect.delete-property"),
          require("./modules/es6.reflect.enumerate"),
          require("./modules/es6.reflect.get"),
          require("./modules/es6.reflect.get-own-property-descriptor"),
          require("./modules/es6.reflect.get-prototype-of"),
          require("./modules/es6.reflect.has"),
          require("./modules/es6.reflect.is-extensible"),
          require("./modules/es6.reflect.own-keys"),
          require("./modules/es6.reflect.prevent-extensions"),
          require("./modules/es6.reflect.set"),
          require("./modules/es6.reflect.set-prototype-of"),
          require("./modules/es7.array.includes"),
          require("./modules/es7.array.flat-map"),
          require("./modules/es7.array.flatten"),
          require("./modules/es7.string.at"),
          require("./modules/es7.string.pad-start"),
          require("./modules/es7.string.pad-end"),
          require("./modules/es7.string.trim-left"),
          require("./modules/es7.string.trim-right"),
          require("./modules/es7.string.match-all"),
          require("./modules/es7.symbol.async-iterator"),
          require("./modules/es7.symbol.observable"),
          require("./modules/es7.object.get-own-property-descriptors"),
          require("./modules/es7.object.values"),
          require("./modules/es7.object.entries"),
          require("./modules/es7.object.define-getter"),
          require("./modules/es7.object.define-setter"),
          require("./modules/es7.object.lookup-getter"),
          require("./modules/es7.object.lookup-setter"),
          require("./modules/es7.map.to-json"),
          require("./modules/es7.set.to-json"),
          require("./modules/es7.map.of"),
          require("./modules/es7.set.of"),
          require("./modules/es7.weak-map.of"),
          require("./modules/es7.weak-set.of"),
          require("./modules/es7.map.from"),
          require("./modules/es7.set.from"),
          require("./modules/es7.weak-map.from"),
          require("./modules/es7.weak-set.from"),
          require("./modules/es7.global"),
          require("./modules/es7.system.global"),
          require("./modules/es7.error.is-error"),
          require("./modules/es7.math.clamp"),
          require("./modules/es7.math.deg-per-rad"),
          require("./modules/es7.math.degrees"),
          require("./modules/es7.math.fscale"),
          require("./modules/es7.math.iaddh"),
          require("./modules/es7.math.isubh"),
          require("./modules/es7.math.imulh"),
          require("./modules/es7.math.rad-per-deg"),
          require("./modules/es7.math.radians"),
          require("./modules/es7.math.scale"),
          require("./modules/es7.math.umulh"),
          require("./modules/es7.math.signbit"),
          require("./modules/es7.promise.finally"),
          require("./modules/es7.promise.try"),
          require("./modules/es7.reflect.define-metadata"),
          require("./modules/es7.reflect.delete-metadata"),
          require("./modules/es7.reflect.get-metadata"),
          require("./modules/es7.reflect.get-metadata-keys"),
          require("./modules/es7.reflect.get-own-metadata"),
          require("./modules/es7.reflect.get-own-metadata-keys"),
          require("./modules/es7.reflect.has-metadata"),
          require("./modules/es7.reflect.has-own-metadata"),
          require("./modules/es7.reflect.metadata"),
          require("./modules/es7.asap"),
          require("./modules/es7.observable"),
          require("./modules/web.timers"),
          require("./modules/web.immediate"),
          require("./modules/web.dom.iterable"),
          (module.exports = require("./modules/_core"));
      },
      {
        "./modules/es6.symbol": "uVn9",
        "./modules/es6.object.create": "D4xP",
        "./modules/es6.object.define-property": "TSUD",
        "./modules/es6.object.define-properties": "AwOq",
        "./modules/es6.object.get-own-property-descriptor": "nIty",
        "./modules/es6.object.get-prototype-of": "ud3u",
        "./modules/es6.object.keys": "m9aB",
        "./modules/es6.object.get-own-property-names": "i23Y",
        "./modules/es6.object.freeze": "EO7q",
        "./modules/es6.object.seal": "GYFR",
        "./modules/es6.object.prevent-extensions": "llMc",
        "./modules/es6.object.is-frozen": "Z1rp",
        "./modules/es6.object.is-sealed": "Fckj",
        "./modules/es6.object.is-extensible": "EYbC",
        "./modules/es6.object.assign": "K3Jy",
        "./modules/es6.object.is": "MlqR",
        "./modules/es6.object.set-prototype-of": "JGjq",
        "./modules/es6.object.to-string": "zTK3",
        "./modules/es6.function.bind": "WIhg",
        "./modules/es6.function.name": "N3yi",
        "./modules/es6.function.has-instance": "a7bX",
        "./modules/es6.parse-int": "C15x",
        "./modules/es6.parse-float": "Q4DA",
        "./modules/es6.number.constructor": "kRGG",
        "./modules/es6.number.to-fixed": "vva0",
        "./modules/es6.number.to-precision": "Y4ol",
        "./modules/es6.number.epsilon": "DzYy",
        "./modules/es6.number.is-finite": "FuY7",
        "./modules/es6.number.is-integer": "pwRL",
        "./modules/es6.number.is-nan": "SsgJ",
        "./modules/es6.number.is-safe-integer": "qVIE",
        "./modules/es6.number.max-safe-integer": "shx2",
        "./modules/es6.number.min-safe-integer": "ifBH",
        "./modules/es6.number.parse-float": "yjyf",
        "./modules/es6.number.parse-int": "Guno",
        "./modules/es6.math.acosh": "py3M",
        "./modules/es6.math.asinh": "ob11",
        "./modules/es6.math.atanh": "iUik",
        "./modules/es6.math.cbrt": "YRuK",
        "./modules/es6.math.clz32": "R2Qc",
        "./modules/es6.math.cosh": "nEse",
        "./modules/es6.math.expm1": "AmoX",
        "./modules/es6.math.fround": "vmlq",
        "./modules/es6.math.hypot": "kLut",
        "./modules/es6.math.imul": "A8J8",
        "./modules/es6.math.log10": "VUW8",
        "./modules/es6.math.log1p": "qtpC",
        "./modules/es6.math.log2": "Jo9J",
        "./modules/es6.math.sign": "mZl9",
        "./modules/es6.math.sinh": "m0zb",
        "./modules/es6.math.tanh": "Fnqw",
        "./modules/es6.math.trunc": "tiOR",
        "./modules/es6.string.from-code-point": "xSM3",
        "./modules/es6.string.raw": "t29D",
        "./modules/es6.string.trim": "ZW4n",
        "./modules/es6.string.iterator": "tbKg",
        "./modules/es6.string.code-point-at": "zR9y",
        "./modules/es6.string.ends-with": "zRn7",
        "./modules/es6.string.includes": "fH7p",
        "./modules/es6.string.repeat": "C85R",
        "./modules/es6.string.starts-with": "w2SA",
        "./modules/es6.string.anchor": "USd7",
        "./modules/es6.string.big": "c1D0",
        "./modules/es6.string.blink": "Ee86",
        "./modules/es6.string.bold": "ry39",
        "./modules/es6.string.fixed": "AHLq",
        "./modules/es6.string.fontcolor": "H7V0",
        "./modules/es6.string.fontsize": "Dx83",
        "./modules/es6.string.italics": "fRhg",
        "./modules/es6.string.link": "Aaz0",
        "./modules/es6.string.small": "qBr3",
        "./modules/es6.string.strike": "eNyu",
        "./modules/es6.string.sub": "BVLK",
        "./modules/es6.string.sup": "kMsL",
        "./modules/es6.date.now": "susM",
        "./modules/es6.date.to-json": "Gj6n",
        "./modules/es6.date.to-iso-string": "oGqv",
        "./modules/es6.date.to-string": "QX5V",
        "./modules/es6.date.to-primitive": "jQnQ",
        "./modules/es6.array.is-array": "x7iF",
        "./modules/es6.array.from": "RRcs",
        "./modules/es6.array.of": "RB6b",
        "./modules/es6.array.join": "Rs6i",
        "./modules/es6.array.slice": "btFn",
        "./modules/es6.array.sort": "nrVf",
        "./modules/es6.array.for-each": "VsIt",
        "./modules/es6.array.map": "RBsu",
        "./modules/es6.array.filter": "GyG6",
        "./modules/es6.array.some": "dwTY",
        "./modules/es6.array.every": "AJ80",
        "./modules/es6.array.reduce": "UGP9",
        "./modules/es6.array.reduce-right": "qhGD",
        "./modules/es6.array.index-of": "LvRh",
        "./modules/es6.array.last-index-of": "kVuL",
        "./modules/es6.array.copy-within": "tWTB",
        "./modules/es6.array.fill": "hUQ6",
        "./modules/es6.array.find": "Qppk",
        "./modules/es6.array.find-index": "sVmK",
        "./modules/es6.array.species": "smn3",
        "./modules/es6.array.iterator": "wVEN",
        "./modules/es6.regexp.constructor": "BenF",
        "./modules/es6.regexp.exec": "S07n",
        "./modules/es6.regexp.to-string": "iflU",
        "./modules/es6.regexp.flags": "pDhD",
        "./modules/es6.regexp.match": "RTfC",
        "./modules/es6.regexp.replace": "KGao",
        "./modules/es6.regexp.search": "zOab",
        "./modules/es6.regexp.split": "aOHf",
        "./modules/es6.promise": "Pjta",
        "./modules/es6.map": "ioKM",
        "./modules/es6.set": "coyu",
        "./modules/es6.weak-map": "D6DP",
        "./modules/es6.weak-set": "bRUR",
        "./modules/es6.typed.array-buffer": "NJ0a",
        "./modules/es6.typed.data-view": "qL4B",
        "./modules/es6.typed.int8-array": "wqMZ",
        "./modules/es6.typed.uint8-array": "QTtY",
        "./modules/es6.typed.uint8-clamped-array": "Kqgs",
        "./modules/es6.typed.int16-array": "fEGw",
        "./modules/es6.typed.uint16-array": "xyd6",
        "./modules/es6.typed.int32-array": "hIko",
        "./modules/es6.typed.uint32-array": "tNPN",
        "./modules/es6.typed.float32-array": "wisA",
        "./modules/es6.typed.float64-array": "mbTX",
        "./modules/es6.reflect.apply": "F0Xu",
        "./modules/es6.reflect.construct": "JlFO",
        "./modules/es6.reflect.define-property": "S841",
        "./modules/es6.reflect.delete-property": "JRlJ",
        "./modules/es6.reflect.enumerate": "bSEr",
        "./modules/es6.reflect.get": "kv8Z",
        "./modules/es6.reflect.get-own-property-descriptor": "zj1X",
        "./modules/es6.reflect.get-prototype-of": "d0aC",
        "./modules/es6.reflect.has": "OWTq",
        "./modules/es6.reflect.is-extensible": "deHu",
        "./modules/es6.reflect.own-keys": "e6SV",
        "./modules/es6.reflect.prevent-extensions": "BmyK",
        "./modules/es6.reflect.set": "K46i",
        "./modules/es6.reflect.set-prototype-of": "L5z5",
        "./modules/es7.array.includes": "TLss",
        "./modules/es7.array.flat-map": "I8vV",
        "./modules/es7.array.flatten": "hTXg",
        "./modules/es7.string.at": "htok",
        "./modules/es7.string.pad-start": "SWNE",
        "./modules/es7.string.pad-end": "n20m",
        "./modules/es7.string.trim-left": "ppxd",
        "./modules/es7.string.trim-right": "hxx1",
        "./modules/es7.string.match-all": "nuR4",
        "./modules/es7.symbol.async-iterator": "DlMC",
        "./modules/es7.symbol.observable": "m9Sq",
        "./modules/es7.object.get-own-property-descriptors": "BQD8",
        "./modules/es7.object.values": "Ltmz",
        "./modules/es7.object.entries": "gxEP",
        "./modules/es7.object.define-getter": "guoQ",
        "./modules/es7.object.define-setter": "HMp9",
        "./modules/es7.object.lookup-getter": "HB2g",
        "./modules/es7.object.lookup-setter": "QF5J",
        "./modules/es7.map.to-json": "JwqU",
        "./modules/es7.set.to-json": "s0lJ",
        "./modules/es7.map.of": "FGzV",
        "./modules/es7.set.of": "q4rf",
        "./modules/es7.weak-map.of": "q85i",
        "./modules/es7.weak-set.of": "dmfy",
        "./modules/es7.map.from": "JQCn",
        "./modules/es7.set.from": "rl69",
        "./modules/es7.weak-map.from": "mEhd",
        "./modules/es7.weak-set.from": "SgWE",
        "./modules/es7.global": "zzQm",
        "./modules/es7.system.global": "rsrW",
        "./modules/es7.error.is-error": "c5Yp",
        "./modules/es7.math.clamp": "f2NC",
        "./modules/es7.math.deg-per-rad": "M9cD",
        "./modules/es7.math.degrees": "zjWO",
        "./modules/es7.math.fscale": "IeZ8",
        "./modules/es7.math.iaddh": "GM4x",
        "./modules/es7.math.isubh": "Y1LJ",
        "./modules/es7.math.imulh": "cCkt",
        "./modules/es7.math.rad-per-deg": "fCGe",
        "./modules/es7.math.radians": "FX6J",
        "./modules/es7.math.scale": "zEVT",
        "./modules/es7.math.umulh": "zKyL",
        "./modules/es7.math.signbit": "FD1C",
        "./modules/es7.promise.finally": "l1j0",
        "./modules/es7.promise.try": "Worb",
        "./modules/es7.reflect.define-metadata": "HqdS",
        "./modules/es7.reflect.delete-metadata": "Okij",
        "./modules/es7.reflect.get-metadata": "S3NM",
        "./modules/es7.reflect.get-metadata-keys": "LScP",
        "./modules/es7.reflect.get-own-metadata": "sqj0",
        "./modules/es7.reflect.get-own-metadata-keys": "tLXA",
        "./modules/es7.reflect.has-metadata": "zEHE",
        "./modules/es7.reflect.has-own-metadata": "d1YN",
        "./modules/es7.reflect.metadata": "AN3Y",
        "./modules/es7.asap": "A0aM",
        "./modules/es7.observable": "jFPl",
        "./modules/web.timers": "OTsy",
        "./modules/web.immediate": "hZLH",
        "./modules/web.dom.iterable": "v6Aj",
        "./modules/_core": "ss9A",
      },
    ],
    pGZN: [
      function (require, module, exports) {
        var global = arguments[3];
        var t = arguments[3];
        !(function (t) {
          "use strict";
          var r,
            e = Object.prototype,
            n = e.hasOwnProperty,
            o = "function" == typeof Symbol ? Symbol : {},
            i = o.iterator || "@@iterator",
            a = o.asyncIterator || "@@asyncIterator",
            c = o.toStringTag || "@@toStringTag",
            u = "object" == typeof module,
            h = t.regeneratorRuntime;
          if (h) u && (module.exports = h);
          else {
            (h = t.regeneratorRuntime = u ? module.exports : {}).wrap = w;
            var s = "suspendedStart",
              f = "suspendedYield",
              l = "executing",
              p = "completed",
              y = {},
              v = {};
            v[i] = function () {
              return this;
            };
            var d = Object.getPrototypeOf,
              g = d && d(d(P([])));
            g && g !== e && n.call(g, i) && (v = g);
            var m = (E.prototype = x.prototype = Object.create(v));
            (b.prototype = m.constructor = E),
              (E.constructor = b),
              (E[c] = b.displayName = "GeneratorFunction"),
              (h.isGeneratorFunction = function (t) {
                var r = "function" == typeof t && t.constructor;
                return (
                  !!r &&
                  (r === b || "GeneratorFunction" === (r.displayName || r.name))
                );
              }),
              (h.mark = function (t) {
                return (
                  Object.setPrototypeOf
                    ? Object.setPrototypeOf(t, E)
                    : ((t.__proto__ = E),
                      c in t || (t[c] = "GeneratorFunction")),
                  (t.prototype = Object.create(m)),
                  t
                );
              }),
              (h.awrap = function (t) {
                return { __await: t };
              }),
              j(_.prototype),
              (_.prototype[a] = function () {
                return this;
              }),
              (h.AsyncIterator = _),
              (h.async = function (t, r, e, n) {
                var o = new _(w(t, r, e, n));
                return h.isGeneratorFunction(r)
                  ? o
                  : o.next().then(function (t) {
                      return t.done ? t.value : o.next();
                    });
              }),
              j(m),
              (m[c] = "Generator"),
              (m[i] = function () {
                return this;
              }),
              (m.toString = function () {
                return "[object Generator]";
              }),
              (h.keys = function (t) {
                var r = [];
                for (var e in t) r.push(e);
                return (
                  r.reverse(),
                  function e() {
                    for (; r.length; ) {
                      var n = r.pop();
                      if (n in t) return (e.value = n), (e.done = !1), e;
                    }
                    return (e.done = !0), e;
                  }
                );
              }),
              (h.values = P),
              (N.prototype = {
                constructor: N,
                reset: function (t) {
                  if (
                    ((this.prev = 0),
                    (this.next = 0),
                    (this.sent = this._sent = r),
                    (this.done = !1),
                    (this.delegate = null),
                    (this.method = "next"),
                    (this.arg = r),
                    this.tryEntries.forEach(G),
                    !t)
                  )
                    for (var e in this)
                      "t" === e.charAt(0) &&
                        n.call(this, e) &&
                        !isNaN(+e.slice(1)) &&
                        (this[e] = r);
                },
                stop: function () {
                  this.done = !0;
                  var t = this.tryEntries[0].completion;
                  if ("throw" === t.type) throw t.arg;
                  return this.rval;
                },
                dispatchException: function (t) {
                  if (this.done) throw t;
                  var e = this;
                  function o(n, o) {
                    return (
                      (c.type = "throw"),
                      (c.arg = t),
                      (e.next = n),
                      o && ((e.method = "next"), (e.arg = r)),
                      !!o
                    );
                  }
                  for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                    var a = this.tryEntries[i],
                      c = a.completion;
                    if ("root" === a.tryLoc) return o("end");
                    if (a.tryLoc <= this.prev) {
                      var u = n.call(a, "catchLoc"),
                        h = n.call(a, "finallyLoc");
                      if (u && h) {
                        if (this.prev < a.catchLoc) return o(a.catchLoc, !0);
                        if (this.prev < a.finallyLoc) return o(a.finallyLoc);
                      } else if (u) {
                        if (this.prev < a.catchLoc) return o(a.catchLoc, !0);
                      } else {
                        if (!h)
                          throw new Error(
                            "try statement without catch or finally"
                          );
                        if (this.prev < a.finallyLoc) return o(a.finallyLoc);
                      }
                    }
                  }
                },
                abrupt: function (t, r) {
                  for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var o = this.tryEntries[e];
                    if (
                      o.tryLoc <= this.prev &&
                      n.call(o, "finallyLoc") &&
                      this.prev < o.finallyLoc
                    ) {
                      var i = o;
                      break;
                    }
                  }
                  i &&
                    ("break" === t || "continue" === t) &&
                    i.tryLoc <= r &&
                    r <= i.finallyLoc &&
                    (i = null);
                  var a = i ? i.completion : {};
                  return (
                    (a.type = t),
                    (a.arg = r),
                    i
                      ? ((this.method = "next"), (this.next = i.finallyLoc), y)
                      : this.complete(a)
                  );
                },
                complete: function (t, r) {
                  if ("throw" === t.type) throw t.arg;
                  return (
                    "break" === t.type || "continue" === t.type
                      ? (this.next = t.arg)
                      : "return" === t.type
                      ? ((this.rval = this.arg = t.arg),
                        (this.method = "return"),
                        (this.next = "end"))
                      : "normal" === t.type && r && (this.next = r),
                    y
                  );
                },
                finish: function (t) {
                  for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                    var e = this.tryEntries[r];
                    if (e.finallyLoc === t)
                      return this.complete(e.completion, e.afterLoc), G(e), y;
                  }
                },
                catch: function (t) {
                  for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                    var e = this.tryEntries[r];
                    if (e.tryLoc === t) {
                      var n = e.completion;
                      if ("throw" === n.type) {
                        var o = n.arg;
                        G(e);
                      }
                      return o;
                    }
                  }
                  throw new Error("illegal catch attempt");
                },
                delegateYield: function (t, e, n) {
                  return (
                    (this.delegate = {
                      iterator: P(t),
                      resultName: e,
                      nextLoc: n,
                    }),
                    "next" === this.method && (this.arg = r),
                    y
                  );
                },
              });
          }
          function w(t, r, e, n) {
            var o = r && r.prototype instanceof x ? r : x,
              i = Object.create(o.prototype),
              a = new N(n || []);
            return (
              (i._invoke = (function (t, r, e) {
                var n = s;
                return function (o, i) {
                  if (n === l) throw new Error("Generator is already running");
                  if (n === p) {
                    if ("throw" === o) throw i;
                    return S();
                  }
                  for (e.method = o, e.arg = i; ; ) {
                    var a = e.delegate;
                    if (a) {
                      var c = O(a, e);
                      if (c) {
                        if (c === y) continue;
                        return c;
                      }
                    }
                    if ("next" === e.method) e.sent = e._sent = e.arg;
                    else if ("throw" === e.method) {
                      if (n === s) throw ((n = p), e.arg);
                      e.dispatchException(e.arg);
                    } else "return" === e.method && e.abrupt("return", e.arg);
                    n = l;
                    var u = L(t, r, e);
                    if ("normal" === u.type) {
                      if (((n = e.done ? p : f), u.arg === y)) continue;
                      return { value: u.arg, done: e.done };
                    }
                    "throw" === u.type &&
                      ((n = p), (e.method = "throw"), (e.arg = u.arg));
                  }
                };
              })(t, e, a)),
              i
            );
          }
          function L(t, r, e) {
            try {
              return { type: "normal", arg: t.call(r, e) };
            } catch (n) {
              return { type: "throw", arg: n };
            }
          }
          function x() {}
          function b() {}
          function E() {}
          function j(t) {
            ["next", "throw", "return"].forEach(function (r) {
              t[r] = function (t) {
                return this._invoke(r, t);
              };
            });
          }
          function _(r) {
            function e(t, o, i, a) {
              var c = L(r[t], r, o);
              if ("throw" !== c.type) {
                var u = c.arg,
                  h = u.value;
                return h && "object" == typeof h && n.call(h, "__await")
                  ? Promise.resolve(h.__await).then(
                      function (t) {
                        e("next", t, i, a);
                      },
                      function (t) {
                        e("throw", t, i, a);
                      }
                    )
                  : Promise.resolve(h).then(function (t) {
                      (u.value = t), i(u);
                    }, a);
              }
              a(c.arg);
            }
            var o;
            "object" == typeof t.process &&
              t.process.domain &&
              (e = t.process.domain.bind(e)),
              (this._invoke = function (t, r) {
                function n() {
                  return new Promise(function (n, o) {
                    e(t, r, n, o);
                  });
                }
                return (o = o ? o.then(n, n) : n());
              });
          }
          function O(t, e) {
            var n = t.iterator[e.method];
            if (n === r) {
              if (((e.delegate = null), "throw" === e.method)) {
                if (
                  t.iterator.return &&
                  ((e.method = "return"),
                  (e.arg = r),
                  O(t, e),
                  "throw" === e.method)
                )
                  return y;
                (e.method = "throw"),
                  (e.arg = new TypeError(
                    "The iterator does not provide a 'throw' method"
                  ));
              }
              return y;
            }
            var o = L(n, t.iterator, e.arg);
            if ("throw" === o.type)
              return (
                (e.method = "throw"), (e.arg = o.arg), (e.delegate = null), y
              );
            var i = o.arg;
            return i
              ? i.done
                ? ((e[t.resultName] = i.value),
                  (e.next = t.nextLoc),
                  "return" !== e.method && ((e.method = "next"), (e.arg = r)),
                  (e.delegate = null),
                  y)
                : i
              : ((e.method = "throw"),
                (e.arg = new TypeError("iterator result is not an object")),
                (e.delegate = null),
                y);
          }
          function k(t) {
            var r = { tryLoc: t[0] };
            1 in t && (r.catchLoc = t[1]),
              2 in t && ((r.finallyLoc = t[2]), (r.afterLoc = t[3])),
              this.tryEntries.push(r);
          }
          function G(t) {
            var r = t.completion || {};
            (r.type = "normal"), delete r.arg, (t.completion = r);
          }
          function N(t) {
            (this.tryEntries = [{ tryLoc: "root" }]),
              t.forEach(k, this),
              this.reset(!0);
          }
          function P(t) {
            if (t) {
              var e = t[i];
              if (e) return e.call(t);
              if ("function" == typeof t.next) return t;
              if (!isNaN(t.length)) {
                var o = -1,
                  a = function e() {
                    for (; ++o < t.length; )
                      if (n.call(t, o))
                        return (e.value = t[o]), (e.done = !1), e;
                    return (e.value = r), (e.done = !0), e;
                  };
                return (a.next = a);
              }
            }
            return { next: S };
          }
          function S() {
            return { value: r, done: !0 };
          }
        })(
          "object" == typeof t
            ? t
            : "object" == typeof window
            ? window
            : "object" == typeof self
            ? self
            : this
        );
      },
      {},
    ],
    p9gL: [
      function (require, module, exports) {
        module.exports = function (n, r) {
          var t =
            r === Object(r)
              ? function (n) {
                  return r[n];
                }
              : r;
          return function (r) {
            return String(r).replace(n, t);
          };
        };
      },
      {},
    ],
    lrBa: [
      function (require, module, exports) {
        var e = require("./_export"),
          r = require("./_replacer")(/[\\^$*+?.()|[\]{}]/g, "\\$&");
        e(e.S, "RegExp", {
          escape: function (e) {
            return r(e);
          },
        });
      },
      { "./_export": "izCb", "./_replacer": "p9gL" },
    ],
    aLB7: [
      function (require, module, exports) {
        require("../../modules/core.regexp.escape"),
          (module.exports = require("../../modules/_core").RegExp.escape);
      },
      {
        "../../modules/core.regexp.escape": "lrBa",
        "../../modules/_core": "ss9A",
      },
    ],
    wllv: [
      function (require, module, exports) {
        var global = arguments[3];

        var e = arguments[3];
        if (
          (require("core-js/shim"),
          require("regenerator-runtime/runtime"),
          require("core-js/fn/regexp/escape"),
          e._babelPolyfill)
        )
          throw new Error("only one instance of babel-polyfill is allowed");
        e._babelPolyfill = !0;
        var r = "defineProperty";
        function i(e, i, n) {
          e[i] || Object[r](e, i, { writable: !0, configurable: !0, value: n });
        }
        i(String.prototype, "padLeft", "".padStart),
          i(String.prototype, "padRight", "".padEnd),
          "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"
            .split(",")
            .forEach(function (e) {
              [][e] && i(Array, e, Function.call.bind([][e]));
            });
      },
      {
        "core-js/shim": "w2bQ",
        "regenerator-runtime/runtime": "pGZN",
        "core-js/fn/regexp/escape": "aLB7",
      },
    ],
    rDCW: [function (require, module, exports) {}, {}],
    pBGv: [
      function (require, module, exports) {
        var t,
          e,
          n = (module.exports = {});
        function r() {
          throw new Error("setTimeout has not been defined");
        }
        function o() {
          throw new Error("clearTimeout has not been defined");
        }
        function i(e) {
          if (t === setTimeout) return setTimeout(e, 0);
          if ((t === r || !t) && setTimeout)
            return (t = setTimeout), setTimeout(e, 0);
          try {
            return t(e, 0);
          } catch (n) {
            try {
              return t.call(null, e, 0);
            } catch (n) {
              return t.call(this, e, 0);
            }
          }
        }
        function u(t) {
          if (e === clearTimeout) return clearTimeout(t);
          if ((e === o || !e) && clearTimeout)
            return (e = clearTimeout), clearTimeout(t);
          try {
            return e(t);
          } catch (n) {
            try {
              return e.call(null, t);
            } catch (n) {
              return e.call(this, t);
            }
          }
        }
        !(function () {
          try {
            t = "function" == typeof setTimeout ? setTimeout : r;
          } catch (n) {
            t = r;
          }
          try {
            e = "function" == typeof clearTimeout ? clearTimeout : o;
          } catch (n) {
            e = o;
          }
        })();
        var c,
          s = [],
          l = !1,
          a = -1;
        function f() {
          l &&
            c &&
            ((l = !1),
            c.length ? (s = c.concat(s)) : (a = -1),
            s.length && h());
        }
        function h() {
          if (!l) {
            var t = i(f);
            l = !0;
            for (var e = s.length; e; ) {
              for (c = s, s = []; ++a < e; ) c && c[a].run();
              (a = -1), (e = s.length);
            }
            (c = null), (l = !1), u(t);
          }
        }
        function m(t, e) {
          (this.fun = t), (this.array = e);
        }
        function p() {}
        (n.nextTick = function (t) {
          var e = new Array(arguments.length - 1);
          if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
          s.push(new m(t, e)), 1 !== s.length || l || i(h);
        }),
          (m.prototype.run = function () {
            this.fun.apply(null, this.array);
          }),
          (n.title = "browser"),
          (n.env = {}),
          (n.argv = []),
          (n.version = ""),
          (n.versions = {}),
          (n.on = p),
          (n.addListener = p),
          (n.once = p),
          (n.off = p),
          (n.removeListener = p),
          (n.removeAllListeners = p),
          (n.emit = p),
          (n.prependListener = p),
          (n.prependOnceListener = p),
          (n.listeners = function (t) {
            return [];
          }),
          (n.binding = function (t) {
            throw new Error("process.binding is not supported");
          }),
          (n.cwd = function () {
            return "/";
          }),
          (n.chdir = function (t) {
            throw new Error("process.chdir is not supported");
          }),
          (n.umask = function () {
            return 0;
          });
      },
      {},
    ],
    yh9p: [
      function (require, module, exports) {
        "use strict";
        (exports.byteLength = u),
          (exports.toByteArray = i),
          (exports.fromByteArray = d);
        for (
          var r = [],
            t = [],
            e = "undefined" != typeof Uint8Array ? Uint8Array : Array,
            n =
              "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
            o = 0,
            a = n.length;
          o < a;
          ++o
        )
          (r[o] = n[o]), (t[n.charCodeAt(o)] = o);
        function h(r) {
          var t = r.length;
          if (t % 4 > 0)
            throw new Error("Invalid string. Length must be a multiple of 4");
          var e = r.indexOf("=");
          return -1 === e && (e = t), [e, e === t ? 0 : 4 - (e % 4)];
        }
        function u(r) {
          var t = h(r),
            e = t[0],
            n = t[1];
          return (3 * (e + n)) / 4 - n;
        }
        function c(r, t, e) {
          return (3 * (t + e)) / 4 - e;
        }
        function i(r) {
          var n,
            o,
            a = h(r),
            u = a[0],
            i = a[1],
            f = new e(c(r, u, i)),
            A = 0,
            d = i > 0 ? u - 4 : u;
          for (o = 0; o < d; o += 4)
            (n =
              (t[r.charCodeAt(o)] << 18) |
              (t[r.charCodeAt(o + 1)] << 12) |
              (t[r.charCodeAt(o + 2)] << 6) |
              t[r.charCodeAt(o + 3)]),
              (f[A++] = (n >> 16) & 255),
              (f[A++] = (n >> 8) & 255),
              (f[A++] = 255 & n);
          return (
            2 === i &&
              ((n = (t[r.charCodeAt(o)] << 2) | (t[r.charCodeAt(o + 1)] >> 4)),
              (f[A++] = 255 & n)),
            1 === i &&
              ((n =
                (t[r.charCodeAt(o)] << 10) |
                (t[r.charCodeAt(o + 1)] << 4) |
                (t[r.charCodeAt(o + 2)] >> 2)),
              (f[A++] = (n >> 8) & 255),
              (f[A++] = 255 & n)),
            f
          );
        }
        function f(t) {
          return (
            r[(t >> 18) & 63] + r[(t >> 12) & 63] + r[(t >> 6) & 63] + r[63 & t]
          );
        }
        function A(r, t, e) {
          for (var n, o = [], a = t; a < e; a += 3)
            (n =
              ((r[a] << 16) & 16711680) +
              ((r[a + 1] << 8) & 65280) +
              (255 & r[a + 2])),
              o.push(f(n));
          return o.join("");
        }
        function d(t) {
          for (
            var e, n = t.length, o = n % 3, a = [], h = 0, u = n - o;
            h < u;
            h += 16383
          )
            a.push(A(t, h, h + 16383 > u ? u : h + 16383));
          return (
            1 === o
              ? ((e = t[n - 1]), a.push(r[e >> 2] + r[(e << 4) & 63] + "=="))
              : 2 === o &&
                ((e = (t[n - 2] << 8) + t[n - 1]),
                a.push(r[e >> 10] + r[(e >> 4) & 63] + r[(e << 2) & 63] + "=")),
            a.join("")
          );
        }
        (t["-".charCodeAt(0)] = 62), (t["_".charCodeAt(0)] = 63);
      },
      {},
    ],
    JgNJ: [
      function (require, module, exports) {
        (exports.read = function (a, o, t, r, h) {
          var M,
            p,
            w = 8 * h - r - 1,
            f = (1 << w) - 1,
            e = f >> 1,
            i = -7,
            N = t ? h - 1 : 0,
            n = t ? -1 : 1,
            s = a[o + N];
          for (
            N += n, M = s & ((1 << -i) - 1), s >>= -i, i += w;
            i > 0;
            M = 256 * M + a[o + N], N += n, i -= 8
          );
          for (
            p = M & ((1 << -i) - 1), M >>= -i, i += r;
            i > 0;
            p = 256 * p + a[o + N], N += n, i -= 8
          );
          if (0 === M) M = 1 - e;
          else {
            if (M === f) return p ? NaN : (1 / 0) * (s ? -1 : 1);
            (p += Math.pow(2, r)), (M -= e);
          }
          return (s ? -1 : 1) * p * Math.pow(2, M - r);
        }),
          (exports.write = function (a, o, t, r, h, M) {
            var p,
              w,
              f,
              e = 8 * M - h - 1,
              i = (1 << e) - 1,
              N = i >> 1,
              n = 23 === h ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
              s = r ? 0 : M - 1,
              u = r ? 1 : -1,
              l = o < 0 || (0 === o && 1 / o < 0) ? 1 : 0;
            for (
              o = Math.abs(o),
                isNaN(o) || o === 1 / 0
                  ? ((w = isNaN(o) ? 1 : 0), (p = i))
                  : ((p = Math.floor(Math.log(o) / Math.LN2)),
                    o * (f = Math.pow(2, -p)) < 1 && (p--, (f *= 2)),
                    (o += p + N >= 1 ? n / f : n * Math.pow(2, 1 - N)) * f >=
                      2 && (p++, (f /= 2)),
                    p + N >= i
                      ? ((w = 0), (p = i))
                      : p + N >= 1
                      ? ((w = (o * f - 1) * Math.pow(2, h)), (p += N))
                      : ((w = o * Math.pow(2, N - 1) * Math.pow(2, h)),
                        (p = 0)));
              h >= 8;
              a[t + s] = 255 & w, s += u, w /= 256, h -= 8
            );
            for (
              p = (p << h) | w, e += h;
              e > 0;
              a[t + s] = 255 & p, s += u, p /= 256, e -= 8
            );
            a[t + s - u] |= 128 * l;
          });
      },
      {},
    ],
    REa7: [
      function (require, module, exports) {
        var r = {}.toString;
        module.exports =
          Array.isArray ||
          function (t) {
            return "[object Array]" == r.call(t);
          };
      },
      {},
    ],
    dskh: [
      function (require, module, exports) {
        var global = arguments[3];
        var t = arguments[3],
          r = require("base64-js"),
          e = require("ieee754"),
          n = require("isarray");
        function i() {
          try {
            var t = new Uint8Array(1);
            return (
              (t.__proto__ = {
                __proto__: Uint8Array.prototype,
                foo: function () {
                  return 42;
                },
              }),
              42 === t.foo() &&
                "function" == typeof t.subarray &&
                0 === t.subarray(1, 1).byteLength
            );
          } catch (r) {
            return !1;
          }
        }
        function o() {
          return f.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
        }
        function u(t, r) {
          if (o() < r) throw new RangeError("Invalid typed array length");
          return (
            f.TYPED_ARRAY_SUPPORT
              ? ((t = new Uint8Array(r)).__proto__ = f.prototype)
              : (null === t && (t = new f(r)), (t.length = r)),
            t
          );
        }
        function f(t, r, e) {
          if (!(f.TYPED_ARRAY_SUPPORT || this instanceof f))
            return new f(t, r, e);
          if ("number" == typeof t) {
            if ("string" == typeof r)
              throw new Error(
                "If encoding is specified then the first argument must be a string"
              );
            return c(this, t);
          }
          return s(this, t, r, e);
        }
        function s(t, r, e, n) {
          if ("number" == typeof r)
            throw new TypeError('"value" argument must not be a number');
          return "undefined" != typeof ArrayBuffer && r instanceof ArrayBuffer
            ? g(t, r, e, n)
            : "string" == typeof r
            ? l(t, r, e)
            : y(t, r);
        }
        function h(t) {
          if ("number" != typeof t)
            throw new TypeError('"size" argument must be a number');
          if (t < 0)
            throw new RangeError('"size" argument must not be negative');
        }
        function a(t, r, e, n) {
          return (
            h(r),
            r <= 0
              ? u(t, r)
              : void 0 !== e
              ? "string" == typeof n
                ? u(t, r).fill(e, n)
                : u(t, r).fill(e)
              : u(t, r)
          );
        }
        function c(t, r) {
          if ((h(r), (t = u(t, r < 0 ? 0 : 0 | w(r))), !f.TYPED_ARRAY_SUPPORT))
            for (var e = 0; e < r; ++e) t[e] = 0;
          return t;
        }
        function l(t, r, e) {
          if (
            (("string" == typeof e && "" !== e) || (e = "utf8"),
            !f.isEncoding(e))
          )
            throw new TypeError('"encoding" must be a valid string encoding');
          var n = 0 | v(r, e),
            i = (t = u(t, n)).write(r, e);
          return i !== n && (t = t.slice(0, i)), t;
        }
        function p(t, r) {
          var e = r.length < 0 ? 0 : 0 | w(r.length);
          t = u(t, e);
          for (var n = 0; n < e; n += 1) t[n] = 255 & r[n];
          return t;
        }
        function g(t, r, e, n) {
          if ((r.byteLength, e < 0 || r.byteLength < e))
            throw new RangeError("'offset' is out of bounds");
          if (r.byteLength < e + (n || 0))
            throw new RangeError("'length' is out of bounds");
          return (
            (r =
              void 0 === e && void 0 === n
                ? new Uint8Array(r)
                : void 0 === n
                ? new Uint8Array(r, e)
                : new Uint8Array(r, e, n)),
            f.TYPED_ARRAY_SUPPORT
              ? ((t = r).__proto__ = f.prototype)
              : (t = p(t, r)),
            t
          );
        }
        function y(t, r) {
          if (f.isBuffer(r)) {
            var e = 0 | w(r.length);
            return 0 === (t = u(t, e)).length ? t : (r.copy(t, 0, 0, e), t);
          }
          if (r) {
            if (
              ("undefined" != typeof ArrayBuffer &&
                r.buffer instanceof ArrayBuffer) ||
              "length" in r
            )
              return "number" != typeof r.length || W(r.length)
                ? u(t, 0)
                : p(t, r);
            if ("Buffer" === r.type && n(r.data)) return p(t, r.data);
          }
          throw new TypeError(
            "First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object."
          );
        }
        function w(t) {
          if (t >= o())
            throw new RangeError(
              "Attempt to allocate Buffer larger than maximum size: 0x" +
                o().toString(16) +
                " bytes"
            );
          return 0 | t;
        }
        function d(t) {
          return +t != t && (t = 0), f.alloc(+t);
        }
        function v(t, r) {
          if (f.isBuffer(t)) return t.length;
          if (
            "undefined" != typeof ArrayBuffer &&
            "function" == typeof ArrayBuffer.isView &&
            (ArrayBuffer.isView(t) || t instanceof ArrayBuffer)
          )
            return t.byteLength;
          "string" != typeof t && (t = "" + t);
          var e = t.length;
          if (0 === e) return 0;
          for (var n = !1; ; )
            switch (r) {
              case "ascii":
              case "latin1":
              case "binary":
                return e;
              case "utf8":
              case "utf-8":
              case void 0:
                return $(t).length;
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return 2 * e;
              case "hex":
                return e >>> 1;
              case "base64":
                return K(t).length;
              default:
                if (n) return $(t).length;
                (r = ("" + r).toLowerCase()), (n = !0);
            }
        }
        function E(t, r, e) {
          var n = !1;
          if (((void 0 === r || r < 0) && (r = 0), r > this.length)) return "";
          if (((void 0 === e || e > this.length) && (e = this.length), e <= 0))
            return "";
          if ((e >>>= 0) <= (r >>>= 0)) return "";
          for (t || (t = "utf8"); ; )
            switch (t) {
              case "hex":
                return x(this, r, e);
              case "utf8":
              case "utf-8":
                return Y(this, r, e);
              case "ascii":
                return L(this, r, e);
              case "latin1":
              case "binary":
                return D(this, r, e);
              case "base64":
                return S(this, r, e);
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return C(this, r, e);
              default:
                if (n) throw new TypeError("Unknown encoding: " + t);
                (t = (t + "").toLowerCase()), (n = !0);
            }
        }
        function b(t, r, e) {
          var n = t[r];
          (t[r] = t[e]), (t[e] = n);
        }
        function R(t, r, e, n, i) {
          if (0 === t.length) return -1;
          if (
            ("string" == typeof e
              ? ((n = e), (e = 0))
              : e > 2147483647
              ? (e = 2147483647)
              : e < -2147483648 && (e = -2147483648),
            (e = +e),
            isNaN(e) && (e = i ? 0 : t.length - 1),
            e < 0 && (e = t.length + e),
            e >= t.length)
          ) {
            if (i) return -1;
            e = t.length - 1;
          } else if (e < 0) {
            if (!i) return -1;
            e = 0;
          }
          if (("string" == typeof r && (r = f.from(r, n)), f.isBuffer(r)))
            return 0 === r.length ? -1 : _(t, r, e, n, i);
          if ("number" == typeof r)
            return (
              (r &= 255),
              f.TYPED_ARRAY_SUPPORT &&
              "function" == typeof Uint8Array.prototype.indexOf
                ? i
                  ? Uint8Array.prototype.indexOf.call(t, r, e)
                  : Uint8Array.prototype.lastIndexOf.call(t, r, e)
                : _(t, [r], e, n, i)
            );
          throw new TypeError("val must be string, number or Buffer");
        }
        function _(t, r, e, n, i) {
          var o,
            u = 1,
            f = t.length,
            s = r.length;
          if (
            void 0 !== n &&
            ("ucs2" === (n = String(n).toLowerCase()) ||
              "ucs-2" === n ||
              "utf16le" === n ||
              "utf-16le" === n)
          ) {
            if (t.length < 2 || r.length < 2) return -1;
            (u = 2), (f /= 2), (s /= 2), (e /= 2);
          }
          function h(t, r) {
            return 1 === u ? t[r] : t.readUInt16BE(r * u);
          }
          if (i) {
            var a = -1;
            for (o = e; o < f; o++)
              if (h(t, o) === h(r, -1 === a ? 0 : o - a)) {
                if ((-1 === a && (a = o), o - a + 1 === s)) return a * u;
              } else -1 !== a && (o -= o - a), (a = -1);
          } else
            for (e + s > f && (e = f - s), o = e; o >= 0; o--) {
              for (var c = !0, l = 0; l < s; l++)
                if (h(t, o + l) !== h(r, l)) {
                  c = !1;
                  break;
                }
              if (c) return o;
            }
          return -1;
        }
        function A(t, r, e, n) {
          e = Number(e) || 0;
          var i = t.length - e;
          n ? (n = Number(n)) > i && (n = i) : (n = i);
          var o = r.length;
          if (o % 2 != 0) throw new TypeError("Invalid hex string");
          n > o / 2 && (n = o / 2);
          for (var u = 0; u < n; ++u) {
            var f = parseInt(r.substr(2 * u, 2), 16);
            if (isNaN(f)) return u;
            t[e + u] = f;
          }
          return u;
        }
        function m(t, r, e, n) {
          return Q($(r, t.length - e), t, e, n);
        }
        function P(t, r, e, n) {
          return Q(G(r), t, e, n);
        }
        function T(t, r, e, n) {
          return P(t, r, e, n);
        }
        function B(t, r, e, n) {
          return Q(K(r), t, e, n);
        }
        function U(t, r, e, n) {
          return Q(H(r, t.length - e), t, e, n);
        }
        function S(t, e, n) {
          return 0 === e && n === t.length
            ? r.fromByteArray(t)
            : r.fromByteArray(t.slice(e, n));
        }
        function Y(t, r, e) {
          e = Math.min(t.length, e);
          for (var n = [], i = r; i < e; ) {
            var o,
              u,
              f,
              s,
              h = t[i],
              a = null,
              c = h > 239 ? 4 : h > 223 ? 3 : h > 191 ? 2 : 1;
            if (i + c <= e)
              switch (c) {
                case 1:
                  h < 128 && (a = h);
                  break;
                case 2:
                  128 == (192 & (o = t[i + 1])) &&
                    (s = ((31 & h) << 6) | (63 & o)) > 127 &&
                    (a = s);
                  break;
                case 3:
                  (o = t[i + 1]),
                    (u = t[i + 2]),
                    128 == (192 & o) &&
                      128 == (192 & u) &&
                      (s = ((15 & h) << 12) | ((63 & o) << 6) | (63 & u)) >
                        2047 &&
                      (s < 55296 || s > 57343) &&
                      (a = s);
                  break;
                case 4:
                  (o = t[i + 1]),
                    (u = t[i + 2]),
                    (f = t[i + 3]),
                    128 == (192 & o) &&
                      128 == (192 & u) &&
                      128 == (192 & f) &&
                      (s =
                        ((15 & h) << 18) |
                        ((63 & o) << 12) |
                        ((63 & u) << 6) |
                        (63 & f)) > 65535 &&
                      s < 1114112 &&
                      (a = s);
              }
            null === a
              ? ((a = 65533), (c = 1))
              : a > 65535 &&
                ((a -= 65536),
                n.push(((a >>> 10) & 1023) | 55296),
                (a = 56320 | (1023 & a))),
              n.push(a),
              (i += c);
          }
          return O(n);
        }
        (exports.Buffer = f),
          (exports.SlowBuffer = d),
          (exports.INSPECT_MAX_BYTES = 50),
          (f.TYPED_ARRAY_SUPPORT =
            void 0 !== t.TYPED_ARRAY_SUPPORT ? t.TYPED_ARRAY_SUPPORT : i()),
          (exports.kMaxLength = o()),
          (f.poolSize = 8192),
          (f._augment = function (t) {
            return (t.__proto__ = f.prototype), t;
          }),
          (f.from = function (t, r, e) {
            return s(null, t, r, e);
          }),
          f.TYPED_ARRAY_SUPPORT &&
            ((f.prototype.__proto__ = Uint8Array.prototype),
            (f.__proto__ = Uint8Array),
            "undefined" != typeof Symbol &&
              Symbol.species &&
              f[Symbol.species] === f &&
              Object.defineProperty(f, Symbol.species, {
                value: null,
                configurable: !0,
              })),
          (f.alloc = function (t, r, e) {
            return a(null, t, r, e);
          }),
          (f.allocUnsafe = function (t) {
            return c(null, t);
          }),
          (f.allocUnsafeSlow = function (t) {
            return c(null, t);
          }),
          (f.isBuffer = function (t) {
            return !(null == t || !t._isBuffer);
          }),
          (f.compare = function (t, r) {
            if (!f.isBuffer(t) || !f.isBuffer(r))
              throw new TypeError("Arguments must be Buffers");
            if (t === r) return 0;
            for (
              var e = t.length, n = r.length, i = 0, o = Math.min(e, n);
              i < o;
              ++i
            )
              if (t[i] !== r[i]) {
                (e = t[i]), (n = r[i]);
                break;
              }
            return e < n ? -1 : n < e ? 1 : 0;
          }),
          (f.isEncoding = function (t) {
            switch (String(t).toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "latin1":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return !0;
              default:
                return !1;
            }
          }),
          (f.concat = function (t, r) {
            if (!n(t))
              throw new TypeError(
                '"list" argument must be an Array of Buffers'
              );
            if (0 === t.length) return f.alloc(0);
            var e;
            if (void 0 === r)
              for (r = 0, e = 0; e < t.length; ++e) r += t[e].length;
            var i = f.allocUnsafe(r),
              o = 0;
            for (e = 0; e < t.length; ++e) {
              var u = t[e];
              if (!f.isBuffer(u))
                throw new TypeError(
                  '"list" argument must be an Array of Buffers'
                );
              u.copy(i, o), (o += u.length);
            }
            return i;
          }),
          (f.byteLength = v),
          (f.prototype._isBuffer = !0),
          (f.prototype.swap16 = function () {
            var t = this.length;
            if (t % 2 != 0)
              throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var r = 0; r < t; r += 2) b(this, r, r + 1);
            return this;
          }),
          (f.prototype.swap32 = function () {
            var t = this.length;
            if (t % 4 != 0)
              throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var r = 0; r < t; r += 4)
              b(this, r, r + 3), b(this, r + 1, r + 2);
            return this;
          }),
          (f.prototype.swap64 = function () {
            var t = this.length;
            if (t % 8 != 0)
              throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var r = 0; r < t; r += 8)
              b(this, r, r + 7),
                b(this, r + 1, r + 6),
                b(this, r + 2, r + 5),
                b(this, r + 3, r + 4);
            return this;
          }),
          (f.prototype.toString = function () {
            var t = 0 | this.length;
            return 0 === t
              ? ""
              : 0 === arguments.length
              ? Y(this, 0, t)
              : E.apply(this, arguments);
          }),
          (f.prototype.equals = function (t) {
            if (!f.isBuffer(t))
              throw new TypeError("Argument must be a Buffer");
            return this === t || 0 === f.compare(this, t);
          }),
          (f.prototype.inspect = function () {
            var t = "",
              r = exports.INSPECT_MAX_BYTES;
            return (
              this.length > 0 &&
                ((t = this.toString("hex", 0, r).match(/.{2}/g).join(" ")),
                this.length > r && (t += " ... ")),
              "<Buffer " + t + ">"
            );
          }),
          (f.prototype.compare = function (t, r, e, n, i) {
            if (!f.isBuffer(t))
              throw new TypeError("Argument must be a Buffer");
            if (
              (void 0 === r && (r = 0),
              void 0 === e && (e = t ? t.length : 0),
              void 0 === n && (n = 0),
              void 0 === i && (i = this.length),
              r < 0 || e > t.length || n < 0 || i > this.length)
            )
              throw new RangeError("out of range index");
            if (n >= i && r >= e) return 0;
            if (n >= i) return -1;
            if (r >= e) return 1;
            if (this === t) return 0;
            for (
              var o = (i >>>= 0) - (n >>>= 0),
                u = (e >>>= 0) - (r >>>= 0),
                s = Math.min(o, u),
                h = this.slice(n, i),
                a = t.slice(r, e),
                c = 0;
              c < s;
              ++c
            )
              if (h[c] !== a[c]) {
                (o = h[c]), (u = a[c]);
                break;
              }
            return o < u ? -1 : u < o ? 1 : 0;
          }),
          (f.prototype.includes = function (t, r, e) {
            return -1 !== this.indexOf(t, r, e);
          }),
          (f.prototype.indexOf = function (t, r, e) {
            return R(this, t, r, e, !0);
          }),
          (f.prototype.lastIndexOf = function (t, r, e) {
            return R(this, t, r, e, !1);
          }),
          (f.prototype.write = function (t, r, e, n) {
            if (void 0 === r) (n = "utf8"), (e = this.length), (r = 0);
            else if (void 0 === e && "string" == typeof r)
              (n = r), (e = this.length), (r = 0);
            else {
              if (!isFinite(r))
                throw new Error(
                  "Buffer.write(string, encoding, offset[, length]) is no longer supported"
                );
              (r |= 0),
                isFinite(e)
                  ? ((e |= 0), void 0 === n && (n = "utf8"))
                  : ((n = e), (e = void 0));
            }
            var i = this.length - r;
            if (
              ((void 0 === e || e > i) && (e = i),
              (t.length > 0 && (e < 0 || r < 0)) || r > this.length)
            )
              throw new RangeError("Attempt to write outside buffer bounds");
            n || (n = "utf8");
            for (var o = !1; ; )
              switch (n) {
                case "hex":
                  return A(this, t, r, e);
                case "utf8":
                case "utf-8":
                  return m(this, t, r, e);
                case "ascii":
                  return P(this, t, r, e);
                case "latin1":
                case "binary":
                  return T(this, t, r, e);
                case "base64":
                  return B(this, t, r, e);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return U(this, t, r, e);
                default:
                  if (o) throw new TypeError("Unknown encoding: " + n);
                  (n = ("" + n).toLowerCase()), (o = !0);
              }
          }),
          (f.prototype.toJSON = function () {
            return {
              type: "Buffer",
              data: Array.prototype.slice.call(this._arr || this, 0),
            };
          });
        var I = 4096;
        function O(t) {
          var r = t.length;
          if (r <= I) return String.fromCharCode.apply(String, t);
          for (var e = "", n = 0; n < r; )
            e += String.fromCharCode.apply(String, t.slice(n, (n += I)));
          return e;
        }
        function L(t, r, e) {
          var n = "";
          e = Math.min(t.length, e);
          for (var i = r; i < e; ++i) n += String.fromCharCode(127 & t[i]);
          return n;
        }
        function D(t, r, e) {
          var n = "";
          e = Math.min(t.length, e);
          for (var i = r; i < e; ++i) n += String.fromCharCode(t[i]);
          return n;
        }
        function x(t, r, e) {
          var n = t.length;
          (!r || r < 0) && (r = 0), (!e || e < 0 || e > n) && (e = n);
          for (var i = "", o = r; o < e; ++o) i += Z(t[o]);
          return i;
        }
        function C(t, r, e) {
          for (var n = t.slice(r, e), i = "", o = 0; o < n.length; o += 2)
            i += String.fromCharCode(n[o] + 256 * n[o + 1]);
          return i;
        }
        function M(t, r, e) {
          if (t % 1 != 0 || t < 0) throw new RangeError("offset is not uint");
          if (t + r > e)
            throw new RangeError("Trying to access beyond buffer length");
        }
        function k(t, r, e, n, i, o) {
          if (!f.isBuffer(t))
            throw new TypeError('"buffer" argument must be a Buffer instance');
          if (r > i || r < o)
            throw new RangeError('"value" argument is out of bounds');
          if (e + n > t.length) throw new RangeError("Index out of range");
        }
        function N(t, r, e, n) {
          r < 0 && (r = 65535 + r + 1);
          for (var i = 0, o = Math.min(t.length - e, 2); i < o; ++i)
            t[e + i] =
              (r & (255 << (8 * (n ? i : 1 - i)))) >>> (8 * (n ? i : 1 - i));
        }
        function z(t, r, e, n) {
          r < 0 && (r = 4294967295 + r + 1);
          for (var i = 0, o = Math.min(t.length - e, 4); i < o; ++i)
            t[e + i] = (r >>> (8 * (n ? i : 3 - i))) & 255;
        }
        function F(t, r, e, n, i, o) {
          if (e + n > t.length) throw new RangeError("Index out of range");
          if (e < 0) throw new RangeError("Index out of range");
        }
        function j(t, r, n, i, o) {
          return (
            o || F(t, r, n, 4, 3.4028234663852886e38, -3.4028234663852886e38),
            e.write(t, r, n, i, 23, 4),
            n + 4
          );
        }
        function q(t, r, n, i, o) {
          return (
            o || F(t, r, n, 8, 1.7976931348623157e308, -1.7976931348623157e308),
            e.write(t, r, n, i, 52, 8),
            n + 8
          );
        }
        (f.prototype.slice = function (t, r) {
          var e,
            n = this.length;
          if (
            ((t = ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n),
            (r = void 0 === r ? n : ~~r) < 0
              ? (r += n) < 0 && (r = 0)
              : r > n && (r = n),
            r < t && (r = t),
            f.TYPED_ARRAY_SUPPORT)
          )
            (e = this.subarray(t, r)).__proto__ = f.prototype;
          else {
            var i = r - t;
            e = new f(i, void 0);
            for (var o = 0; o < i; ++o) e[o] = this[o + t];
          }
          return e;
        }),
          (f.prototype.readUIntLE = function (t, r, e) {
            (t |= 0), (r |= 0), e || M(t, r, this.length);
            for (var n = this[t], i = 1, o = 0; ++o < r && (i *= 256); )
              n += this[t + o] * i;
            return n;
          }),
          (f.prototype.readUIntBE = function (t, r, e) {
            (t |= 0), (r |= 0), e || M(t, r, this.length);
            for (var n = this[t + --r], i = 1; r > 0 && (i *= 256); )
              n += this[t + --r] * i;
            return n;
          }),
          (f.prototype.readUInt8 = function (t, r) {
            return r || M(t, 1, this.length), this[t];
          }),
          (f.prototype.readUInt16LE = function (t, r) {
            return r || M(t, 2, this.length), this[t] | (this[t + 1] << 8);
          }),
          (f.prototype.readUInt16BE = function (t, r) {
            return r || M(t, 2, this.length), (this[t] << 8) | this[t + 1];
          }),
          (f.prototype.readUInt32LE = function (t, r) {
            return (
              r || M(t, 4, this.length),
              (this[t] | (this[t + 1] << 8) | (this[t + 2] << 16)) +
                16777216 * this[t + 3]
            );
          }),
          (f.prototype.readUInt32BE = function (t, r) {
            return (
              r || M(t, 4, this.length),
              16777216 * this[t] +
                ((this[t + 1] << 16) | (this[t + 2] << 8) | this[t + 3])
            );
          }),
          (f.prototype.readIntLE = function (t, r, e) {
            (t |= 0), (r |= 0), e || M(t, r, this.length);
            for (var n = this[t], i = 1, o = 0; ++o < r && (i *= 256); )
              n += this[t + o] * i;
            return n >= (i *= 128) && (n -= Math.pow(2, 8 * r)), n;
          }),
          (f.prototype.readIntBE = function (t, r, e) {
            (t |= 0), (r |= 0), e || M(t, r, this.length);
            for (var n = r, i = 1, o = this[t + --n]; n > 0 && (i *= 256); )
              o += this[t + --n] * i;
            return o >= (i *= 128) && (o -= Math.pow(2, 8 * r)), o;
          }),
          (f.prototype.readInt8 = function (t, r) {
            return (
              r || M(t, 1, this.length),
              128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
            );
          }),
          (f.prototype.readInt16LE = function (t, r) {
            r || M(t, 2, this.length);
            var e = this[t] | (this[t + 1] << 8);
            return 32768 & e ? 4294901760 | e : e;
          }),
          (f.prototype.readInt16BE = function (t, r) {
            r || M(t, 2, this.length);
            var e = this[t + 1] | (this[t] << 8);
            return 32768 & e ? 4294901760 | e : e;
          }),
          (f.prototype.readInt32LE = function (t, r) {
            return (
              r || M(t, 4, this.length),
              this[t] |
                (this[t + 1] << 8) |
                (this[t + 2] << 16) |
                (this[t + 3] << 24)
            );
          }),
          (f.prototype.readInt32BE = function (t, r) {
            return (
              r || M(t, 4, this.length),
              (this[t] << 24) |
                (this[t + 1] << 16) |
                (this[t + 2] << 8) |
                this[t + 3]
            );
          }),
          (f.prototype.readFloatLE = function (t, r) {
            return r || M(t, 4, this.length), e.read(this, t, !0, 23, 4);
          }),
          (f.prototype.readFloatBE = function (t, r) {
            return r || M(t, 4, this.length), e.read(this, t, !1, 23, 4);
          }),
          (f.prototype.readDoubleLE = function (t, r) {
            return r || M(t, 8, this.length), e.read(this, t, !0, 52, 8);
          }),
          (f.prototype.readDoubleBE = function (t, r) {
            return r || M(t, 8, this.length), e.read(this, t, !1, 52, 8);
          }),
          (f.prototype.writeUIntLE = function (t, r, e, n) {
            ((t = +t), (r |= 0), (e |= 0), n) ||
              k(this, t, r, e, Math.pow(2, 8 * e) - 1, 0);
            var i = 1,
              o = 0;
            for (this[r] = 255 & t; ++o < e && (i *= 256); )
              this[r + o] = (t / i) & 255;
            return r + e;
          }),
          (f.prototype.writeUIntBE = function (t, r, e, n) {
            ((t = +t), (r |= 0), (e |= 0), n) ||
              k(this, t, r, e, Math.pow(2, 8 * e) - 1, 0);
            var i = e - 1,
              o = 1;
            for (this[r + i] = 255 & t; --i >= 0 && (o *= 256); )
              this[r + i] = (t / o) & 255;
            return r + e;
          }),
          (f.prototype.writeUInt8 = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 1, 255, 0),
              f.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
              (this[r] = 255 & t),
              r + 1
            );
          }),
          (f.prototype.writeUInt16LE = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 2, 65535, 0),
              f.TYPED_ARRAY_SUPPORT
                ? ((this[r] = 255 & t), (this[r + 1] = t >>> 8))
                : N(this, t, r, !0),
              r + 2
            );
          }),
          (f.prototype.writeUInt16BE = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 2, 65535, 0),
              f.TYPED_ARRAY_SUPPORT
                ? ((this[r] = t >>> 8), (this[r + 1] = 255 & t))
                : N(this, t, r, !1),
              r + 2
            );
          }),
          (f.prototype.writeUInt32LE = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 4, 4294967295, 0),
              f.TYPED_ARRAY_SUPPORT
                ? ((this[r + 3] = t >>> 24),
                  (this[r + 2] = t >>> 16),
                  (this[r + 1] = t >>> 8),
                  (this[r] = 255 & t))
                : z(this, t, r, !0),
              r + 4
            );
          }),
          (f.prototype.writeUInt32BE = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 4, 4294967295, 0),
              f.TYPED_ARRAY_SUPPORT
                ? ((this[r] = t >>> 24),
                  (this[r + 1] = t >>> 16),
                  (this[r + 2] = t >>> 8),
                  (this[r + 3] = 255 & t))
                : z(this, t, r, !1),
              r + 4
            );
          }),
          (f.prototype.writeIntLE = function (t, r, e, n) {
            if (((t = +t), (r |= 0), !n)) {
              var i = Math.pow(2, 8 * e - 1);
              k(this, t, r, e, i - 1, -i);
            }
            var o = 0,
              u = 1,
              f = 0;
            for (this[r] = 255 & t; ++o < e && (u *= 256); )
              t < 0 && 0 === f && 0 !== this[r + o - 1] && (f = 1),
                (this[r + o] = (((t / u) >> 0) - f) & 255);
            return r + e;
          }),
          (f.prototype.writeIntBE = function (t, r, e, n) {
            if (((t = +t), (r |= 0), !n)) {
              var i = Math.pow(2, 8 * e - 1);
              k(this, t, r, e, i - 1, -i);
            }
            var o = e - 1,
              u = 1,
              f = 0;
            for (this[r + o] = 255 & t; --o >= 0 && (u *= 256); )
              t < 0 && 0 === f && 0 !== this[r + o + 1] && (f = 1),
                (this[r + o] = (((t / u) >> 0) - f) & 255);
            return r + e;
          }),
          (f.prototype.writeInt8 = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 1, 127, -128),
              f.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
              t < 0 && (t = 255 + t + 1),
              (this[r] = 255 & t),
              r + 1
            );
          }),
          (f.prototype.writeInt16LE = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 2, 32767, -32768),
              f.TYPED_ARRAY_SUPPORT
                ? ((this[r] = 255 & t), (this[r + 1] = t >>> 8))
                : N(this, t, r, !0),
              r + 2
            );
          }),
          (f.prototype.writeInt16BE = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 2, 32767, -32768),
              f.TYPED_ARRAY_SUPPORT
                ? ((this[r] = t >>> 8), (this[r + 1] = 255 & t))
                : N(this, t, r, !1),
              r + 2
            );
          }),
          (f.prototype.writeInt32LE = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 4, 2147483647, -2147483648),
              f.TYPED_ARRAY_SUPPORT
                ? ((this[r] = 255 & t),
                  (this[r + 1] = t >>> 8),
                  (this[r + 2] = t >>> 16),
                  (this[r + 3] = t >>> 24))
                : z(this, t, r, !0),
              r + 4
            );
          }),
          (f.prototype.writeInt32BE = function (t, r, e) {
            return (
              (t = +t),
              (r |= 0),
              e || k(this, t, r, 4, 2147483647, -2147483648),
              t < 0 && (t = 4294967295 + t + 1),
              f.TYPED_ARRAY_SUPPORT
                ? ((this[r] = t >>> 24),
                  (this[r + 1] = t >>> 16),
                  (this[r + 2] = t >>> 8),
                  (this[r + 3] = 255 & t))
                : z(this, t, r, !1),
              r + 4
            );
          }),
          (f.prototype.writeFloatLE = function (t, r, e) {
            return j(this, t, r, !0, e);
          }),
          (f.prototype.writeFloatBE = function (t, r, e) {
            return j(this, t, r, !1, e);
          }),
          (f.prototype.writeDoubleLE = function (t, r, e) {
            return q(this, t, r, !0, e);
          }),
          (f.prototype.writeDoubleBE = function (t, r, e) {
            return q(this, t, r, !1, e);
          }),
          (f.prototype.copy = function (t, r, e, n) {
            if (
              (e || (e = 0),
              n || 0 === n || (n = this.length),
              r >= t.length && (r = t.length),
              r || (r = 0),
              n > 0 && n < e && (n = e),
              n === e)
            )
              return 0;
            if (0 === t.length || 0 === this.length) return 0;
            if (r < 0) throw new RangeError("targetStart out of bounds");
            if (e < 0 || e >= this.length)
              throw new RangeError("sourceStart out of bounds");
            if (n < 0) throw new RangeError("sourceEnd out of bounds");
            n > this.length && (n = this.length),
              t.length - r < n - e && (n = t.length - r + e);
            var i,
              o = n - e;
            if (this === t && e < r && r < n)
              for (i = o - 1; i >= 0; --i) t[i + r] = this[i + e];
            else if (o < 1e3 || !f.TYPED_ARRAY_SUPPORT)
              for (i = 0; i < o; ++i) t[i + r] = this[i + e];
            else Uint8Array.prototype.set.call(t, this.subarray(e, e + o), r);
            return o;
          }),
          (f.prototype.fill = function (t, r, e, n) {
            if ("string" == typeof t) {
              if (
                ("string" == typeof r
                  ? ((n = r), (r = 0), (e = this.length))
                  : "string" == typeof e && ((n = e), (e = this.length)),
                1 === t.length)
              ) {
                var i = t.charCodeAt(0);
                i < 256 && (t = i);
              }
              if (void 0 !== n && "string" != typeof n)
                throw new TypeError("encoding must be a string");
              if ("string" == typeof n && !f.isEncoding(n))
                throw new TypeError("Unknown encoding: " + n);
            } else "number" == typeof t && (t &= 255);
            if (r < 0 || this.length < r || this.length < e)
              throw new RangeError("Out of range index");
            if (e <= r) return this;
            var o;
            if (
              ((r >>>= 0),
              (e = void 0 === e ? this.length : e >>> 0),
              t || (t = 0),
              "number" == typeof t)
            )
              for (o = r; o < e; ++o) this[o] = t;
            else {
              var u = f.isBuffer(t) ? t : $(new f(t, n).toString()),
                s = u.length;
              for (o = 0; o < e - r; ++o) this[o + r] = u[o % s];
            }
            return this;
          });
        var V = /[^+\/0-9A-Za-z-_]/g;
        function X(t) {
          if ((t = J(t).replace(V, "")).length < 2) return "";
          for (; t.length % 4 != 0; ) t += "=";
          return t;
        }
        function J(t) {
          return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "");
        }
        function Z(t) {
          return t < 16 ? "0" + t.toString(16) : t.toString(16);
        }
        function $(t, r) {
          var e;
          r = r || 1 / 0;
          for (var n = t.length, i = null, o = [], u = 0; u < n; ++u) {
            if ((e = t.charCodeAt(u)) > 55295 && e < 57344) {
              if (!i) {
                if (e > 56319) {
                  (r -= 3) > -1 && o.push(239, 191, 189);
                  continue;
                }
                if (u + 1 === n) {
                  (r -= 3) > -1 && o.push(239, 191, 189);
                  continue;
                }
                i = e;
                continue;
              }
              if (e < 56320) {
                (r -= 3) > -1 && o.push(239, 191, 189), (i = e);
                continue;
              }
              e = 65536 + (((i - 55296) << 10) | (e - 56320));
            } else i && (r -= 3) > -1 && o.push(239, 191, 189);
            if (((i = null), e < 128)) {
              if ((r -= 1) < 0) break;
              o.push(e);
            } else if (e < 2048) {
              if ((r -= 2) < 0) break;
              o.push((e >> 6) | 192, (63 & e) | 128);
            } else if (e < 65536) {
              if ((r -= 3) < 0) break;
              o.push((e >> 12) | 224, ((e >> 6) & 63) | 128, (63 & e) | 128);
            } else {
              if (!(e < 1114112)) throw new Error("Invalid code point");
              if ((r -= 4) < 0) break;
              o.push(
                (e >> 18) | 240,
                ((e >> 12) & 63) | 128,
                ((e >> 6) & 63) | 128,
                (63 & e) | 128
              );
            }
          }
          return o;
        }
        function G(t) {
          for (var r = [], e = 0; e < t.length; ++e)
            r.push(255 & t.charCodeAt(e));
          return r;
        }
        function H(t, r) {
          for (var e, n, i, o = [], u = 0; u < t.length && !((r -= 2) < 0); ++u)
            (n = (e = t.charCodeAt(u)) >> 8),
              (i = e % 256),
              o.push(i),
              o.push(n);
          return o;
        }
        function K(t) {
          return r.toByteArray(X(t));
        }
        function Q(t, r, e, n) {
          for (var i = 0; i < n && !(i + e >= r.length || i >= t.length); ++i)
            r[i + e] = t[i];
          return i;
        }
        function W(t) {
          return t != t;
        }
      },
      { "base64-js": "yh9p", ieee754: "JgNJ", isarray: "REa7", buffer: "dskh" },
    ],
    FZBM: [
      function (require, module, exports) {
        var global = arguments[3];
        var process = require("process");
        var Buffer = require("buffer").Buffer;
        var t = arguments[3],
          e = require("process"),
          n = require("buffer").Buffer;
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.avgPool3d =
            exports.avgPool =
            exports.atanh =
            exports.atan2 =
            exports.atan =
            exports.asinh =
            exports.asin =
            exports.argMin =
            exports.argMax =
            exports.any =
            exports.all =
            exports.addStrict =
            exports.addN =
            exports.add =
            exports.acosh =
            exports.acos =
            exports.abs =
            exports.Variable =
            exports.TensorBuffer =
            exports.Tensor =
            exports.SGDOptimizer =
            exports.Reduction =
            exports.Rank =
            exports.RMSPropOptimizer =
            exports.Optimizer =
            exports.MomentumOptimizer =
            exports.KernelBackend =
            exports.Environment =
            exports.ENV =
            exports.DataStorage =
            exports.AdamaxOptimizer =
            exports.AdamOptimizer =
            exports.AdagradOptimizer =
            exports.AdadeltaOptimizer =
              void 0),
          (exports.backend = fn),
          (exports.browser =
            exports.broadcastTo =
            exports.booleanMaskAsync =
            exports.batchToSpaceND =
            exports.batchNormalization4d =
            exports.batchNormalization3d =
            exports.batchNormalization2d =
            exports.batchNormalization =
            exports.batchNorm4d =
            exports.batchNorm3d =
            exports.batchNorm2d =
            exports.batchNorm =
            exports.basicLSTMCell =
            exports.backend_util =
              void 0),
          (exports.buffer = mr),
          (exports.cumsum =
            exports.cosh =
            exports.cos =
            exports.conv3dTranspose =
            exports.conv3d =
            exports.conv2dTranspose =
            exports.conv2d =
            exports.conv1d =
            exports.concat4d =
            exports.concat3d =
            exports.concat2d =
            exports.concat1d =
            exports.concat =
            exports.complex =
            exports.clone =
            exports.clipByValue =
            exports.ceil =
            exports.cast =
              void 0),
          (exports.customGrad = xo),
          (exports.deprecationWarn = Qe),
          (exports.diag =
            exports.depthwiseConv2d =
            exports.depthToSpace =
              void 0),
          (exports.disableDeprecationWarnings = $e),
          (exports.dispose = rn),
          (exports.disposeVariables = Je),
          (exports.elu =
            exports.dropout =
            exports.dot =
            exports.divStrict =
            exports.divNoNan =
            exports.div =
              void 0),
          (exports.enableDebugMode = Ye),
          (exports.enableProdMode = Xe),
          (exports.engine = Ze),
          (exports.env = c),
          (exports.fft =
            exports.eye =
            exports.expm1 =
            exports.expandDims =
            exports.exp =
            exports.erf =
            exports.equalStrict =
            exports.equal =
              void 0),
          (exports.fill = jn),
          (exports.findBackend = pn),
          (exports.findBackendFactory = hn),
          (exports.frame = exports.floorDiv = exports.floor = void 0),
          (exports.gather_util =
            exports.gatherND =
            exports.gather =
            exports.fused =
              void 0),
          (exports.getBackend = cn),
          (exports.getGradient = f),
          (exports.getKernel = d),
          (exports.getKernelsForBackend = v),
          (exports.grad = ho),
          (exports.grads = fo),
          (exports.isNaN =
            exports.isInf =
            exports.isFinite =
            exports.irfft =
            exports.io =
            exports.inTopKAsync =
            exports.image =
            exports.imag =
            exports.ifft =
            exports.hannWindow =
            exports.hammingWindow =
            exports.greaterStrict =
            exports.greaterEqualStrict =
            exports.greaterEqual =
            exports.greater =
              void 0),
          (exports.keep = on),
          (exports.linalg =
            exports.lessStrict =
            exports.lessEqualStrict =
            exports.lessEqual =
            exports.less =
            exports.leakyRelu =
              void 0),
          (exports.linspace = Xn),
          (exports.mean =
            exports.maximumStrict =
            exports.maximum =
            exports.maxPool3d =
            exports.maxPool =
            exports.max =
            exports.math =
            exports.matMul =
            exports.losses =
            exports.logicalXor =
            exports.logicalOr =
            exports.logicalNot =
            exports.logicalAnd =
            exports.logSumExp =
            exports.logSoftmax =
            exports.logSigmoid =
            exports.log1p =
            exports.log =
            exports.localResponseNormalization =
              void 0),
          (exports.memory = tn),
          (exports.neg =
            exports.multinomial =
            exports.multiRNNCell =
            exports.mulStrict =
            exports.mul =
            exports.movingAverage =
            exports.moments =
            exports.modStrict =
            exports.mod =
            exports.minimumStrict =
            exports.minimum =
            exports.min =
              void 0),
          (exports.nextFrame = Fd),
          (exports.oneHot =
            exports.notEqualStrict =
            exports.notEqual =
            exports.norm =
              void 0),
          (exports.ones = Hn),
          (exports.onesLike = void 0),
          (exports.op = Tn),
          (exports.prelu =
            exports.powStrict =
            exports.pow =
            exports.pool =
            exports.pad4d =
            exports.pad3d =
            exports.pad2d =
            exports.pad1d =
            exports.pad =
            exports.outerProduct =
              void 0),
          (exports.print = gr),
          (exports.prod = void 0),
          (exports.profile = en),
          (exports.randomUniform =
            exports.randomNormal =
            exports.randomGamma =
            exports.rand =
              void 0),
          (exports.range = Yn),
          (exports.ready = un),
          (exports.reciprocal = exports.real = void 0),
          (exports.registerBackend = dn),
          (exports.registerGradient = g),
          (exports.registerKernel = m),
          (exports.relu6 = exports.relu = void 0),
          (exports.removeBackend = ln),
          (exports.rsqrt =
            exports.round =
            exports.rfft =
            exports.reverse4d =
            exports.reverse3d =
            exports.reverse2d =
            exports.reverse1d =
            exports.reverse =
            exports.reshape =
              void 0),
          (exports.scalar = Pn),
          (exports.serialization =
            exports.separableConv2d =
            exports.selu =
            exports.scatter_util =
            exports.scatterND =
              void 0),
          (exports.setBackend = sn),
          (exports.setPlatform = vn),
          (exports.sum =
            exports.subStrict =
            exports.sub =
            exports.stridedSlice =
            exports.stft =
            exports.step =
            exports.stack =
            exports.squeeze =
            exports.squaredDifferenceStrict =
            exports.squaredDifference =
            exports.square =
            exports.sqrt =
            exports.split =
            exports.spectral =
            exports.sparseToDense =
            exports.spaceToBatchND =
            exports.softplus =
            exports.softmax =
            exports.slice_util =
            exports.slice4d =
            exports.slice3d =
            exports.slice2d =
            exports.slice1d =
            exports.slice =
            exports.sinh =
            exports.sin =
            exports.signal =
            exports.sign =
            exports.sigmoid =
            exports.setdiff1dAsync =
              void 0),
          (exports.sumOutType = _t),
          (exports.tanh = exports.tan = void 0),
          (exports.tensor = Mn),
          (exports.tensor1d = Ln),
          (exports.tensor2d = Wn),
          (exports.tensor3d = zn),
          (exports.tensor4d = Un),
          (exports.tensor5d = Vn),
          (exports.tensor6d = Gn),
          (exports.test_util = exports.tensor_util = void 0),
          (exports.tidy = nn),
          (exports.tile = void 0),
          (exports.time = an),
          (exports.truncatedNormal =
            exports.transpose =
            exports.train =
            exports.topk =
              void 0),
          (exports.unregisterGradient = y),
          (exports.unregisterKernel = x),
          (exports.util =
            exports.unstack =
            exports.unsortedSegmentSum =
              void 0),
          (exports.valueAndGrad = vo),
          (exports.valueAndGrads = mo),
          (exports.variable = qn),
          (exports.variableGrads = go),
          (exports.whereAsync =
            exports.where =
            exports.webgl =
            exports.version_core =
              void 0),
          (exports.zeros = Kn),
          (exports.zerosLike = void 0);
        var r = function (t, e) {
          return (r =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (t, e) {
                t.__proto__ = e;
              }) ||
            function (t, e) {
              for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
            })(t, e);
        };
        function o(t, e) {
          function n() {
            this.constructor = t;
          }
          r(t, e),
            (t.prototype =
              null === e
                ? Object.create(e)
                : ((n.prototype = e.prototype), new n()));
        }
        function a(t, e, n, r) {
          return new (n || (n = Promise))(function (o, a) {
            function i(t) {
              try {
                u(r.next(t));
              } catch (t) {
                a(t);
              }
            }
            function s(t) {
              try {
                u(r.throw(t));
              } catch (t) {
                a(t);
              }
            }
            function u(t) {
              t.done
                ? o(t.value)
                : new n(function (e) {
                    e(t.value);
                  }).then(i, s);
            }
            u((r = r.apply(t, e || [])).next());
          });
        }
        function i(t, e) {
          var n,
            r,
            o,
            a,
            i = {
              label: 0,
              sent: function () {
                if (1 & o[0]) throw o[1];
                return o[1];
              },
              trys: [],
              ops: [],
            };
          return (
            (a = { next: s(0), throw: s(1), return: s(2) }),
            "function" == typeof Symbol &&
              (a[Symbol.iterator] = function () {
                return this;
              }),
            a
          );
          function s(a) {
            return function (s) {
              return (function (a) {
                if (n) throw new TypeError("Generator is already executing.");
                for (; i; )
                  try {
                    if (
                      ((n = 1),
                      r &&
                        (o =
                          2 & a[0]
                            ? r.return
                            : a[0]
                            ? r.throw || ((o = r.return) && o.call(r), 0)
                            : r.next) &&
                        !(o = o.call(r, a[1])).done)
                    )
                      return o;
                    switch (((r = 0), o && (a = [2 & a[0], o.value]), a[0])) {
                      case 0:
                      case 1:
                        o = a;
                        break;
                      case 4:
                        return i.label++, { value: a[1], done: !1 };
                      case 5:
                        i.label++, (r = a[1]), (a = [0]);
                        continue;
                      case 7:
                        (a = i.ops.pop()), i.trys.pop();
                        continue;
                      default:
                        if (
                          !(o = (o = i.trys).length > 0 && o[o.length - 1]) &&
                          (6 === a[0] || 2 === a[0])
                        ) {
                          i = 0;
                          continue;
                        }
                        if (
                          3 === a[0] &&
                          (!o || (a[1] > o[0] && a[1] < o[3]))
                        ) {
                          i.label = a[1];
                          break;
                        }
                        if (6 === a[0] && i.label < o[1]) {
                          (i.label = o[1]), (o = a);
                          break;
                        }
                        if (o && i.label < o[2]) {
                          (i.label = o[2]), i.ops.push(a);
                          break;
                        }
                        o[2] && i.ops.pop(), i.trys.pop();
                        continue;
                    }
                    a = e.call(t, i);
                  } catch (t) {
                    (a = [6, t]), (r = 0);
                  } finally {
                    n = o = 0;
                  }
                if (5 & a[0]) throw a[1];
                return { value: a[0] ? a[1] : void 0, done: !0 };
              })([a, s]);
            };
          }
        }
        var s = (function () {
          function t(t) {
            (this.global = t),
              (this.flags = {}),
              (this.flagRegistry = {}),
              (this.urlFlags = {}),
              this.populateURLFlags();
          }
          return (
            (t.prototype.setPlatform = function (t, e) {
              null != this.platform &&
                console.warn(
                  "Platform " +
                    this.platformName +
                    " has already been set. Overwriting the platform with " +
                    e +
                    "."
                ),
                (this.platformName = t),
                (this.platform = e);
            }),
            (t.prototype.registerFlag = function (t, e, n) {
              if (
                ((this.flagRegistry[t] = { evaluationFn: e, setHook: n }),
                null != this.urlFlags[t])
              ) {
                var r = this.urlFlags[t];
                console.warn(
                  "Setting feature override from URL " + t + ": " + r + "."
                ),
                  this.set(t, r);
              }
            }),
            (t.prototype.get = function (t) {
              return t in this.flags
                ? this.flags[t]
                : ((this.flags[t] = this.evaluateFlag(t)), this.flags[t]);
            }),
            (t.prototype.getNumber = function (t) {
              return this.get(t);
            }),
            (t.prototype.getBool = function (t) {
              return this.get(t);
            }),
            (t.prototype.getFlags = function () {
              return this.flags;
            }),
            Object.defineProperty(t.prototype, "features", {
              get: function () {
                return this.flags;
              },
              enumerable: !0,
              configurable: !0,
            }),
            (t.prototype.set = function (t, e) {
              if (null == this.flagRegistry[t])
                throw new Error(
                  "Cannot set flag " + t + " as it has not been registered."
                );
              (this.flags[t] = e),
                null != this.flagRegistry[t].setHook &&
                  this.flagRegistry[t].setHook(e);
            }),
            (t.prototype.evaluateFlag = function (t) {
              if (null == this.flagRegistry[t])
                throw new Error(
                  "Cannot evaluate flag '" +
                    t +
                    "': no evaluation function found."
                );
              return this.flagRegistry[t].evaluationFn();
            }),
            (t.prototype.setFlags = function (t) {
              this.flags = Object.assign({}, t);
            }),
            (t.prototype.reset = function () {
              (this.flags = {}), (this.urlFlags = {}), this.populateURLFlags();
            }),
            (t.prototype.populateURLFlags = function () {
              var t = this;
              if (
                void 0 !== this.global &&
                void 0 !== this.global.location &&
                void 0 !== this.global.location.search
              ) {
                var e,
                  n,
                  r =
                    ((e = this.global.location.search),
                    (n = {}),
                    e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g, function (t) {
                      for (var e = [], r = 1; r < arguments.length; r++)
                        e[r - 1] = arguments[r];
                      return u(n, e[0], e[1]), e.join("=");
                    }),
                    n);
                "tfjsflags" in r &&
                  r.tfjsflags.split(",").forEach(function (e) {
                    var n = e.split(":"),
                      r = n[0],
                      o = n[1];
                    t.urlFlags[r] = (function (t, e) {
                      if ("true" === (e = e.toLowerCase()) || "false" === e)
                        return "true" === e;
                      if ("" + +e === e) return +e;
                      throw new Error(
                        "Could not parse value flag value " +
                          e +
                          " for flag " +
                          t +
                          "."
                      );
                    })(r, o);
                  });
              }
            }),
            t
          );
        })();
        function u(t, e, n) {
          t[decodeURIComponent(e)] = decodeURIComponent(n || "");
        }
        function c() {
          return l;
        }
        exports.Environment = s;
        var l = null;
        exports.ENV = l;
        var p = new Map(),
          h = new Map();
        function d(t, e) {
          var n = b(t, e);
          return p.get(n);
        }
        function f(t) {
          return h.get(t);
        }
        function v(t) {
          for (var e = p.entries(), n = []; ; ) {
            var r = e.next(),
              o = r.done,
              a = r.value;
            if (o) break;
            var i = a[0],
              s = a[1];
            i.split("_")[0] === t && n.push(s);
          }
          return n;
        }
        function m(t) {
          var e = t.kernelName,
            n = t.backendName,
            r = b(e, n);
          if (p.has(r))
            throw new Error(
              "The kernel '" +
                e +
                "' for backend '" +
                n +
                "' is already registered"
            );
          p.set(r, t);
        }
        function g(t) {
          var e = t.kernelName;
          h.has(e) && console.warn("Overriding the gradient for '" + e + "'"),
            h.set(e, t);
        }
        function x(t, e) {
          var n = b(t, e);
          if (!p.has(n))
            throw new Error(
              "The kernel '" + t + "' for backend '" + e + "' is not registered"
            );
          p.delete(n);
        }
        function y(t) {
          if (!h.has(t))
            throw new Error(
              "The gradient '" + t + "' for backend is not registered"
            );
          h.delete(t);
        }
        function b(t, e) {
          return e + "_" + t;
        }
        function w(t) {
          for (var e = t.length, n = 0, r = 0; e > 0; )
            (r = (Math.random() * e) | 0),
              (n = t[--e]),
              (t[e] = t[r]),
              (t[r] = n);
        }
        function C(t, e, n) {
          return Math.max(t, Math.min(e, n));
        }
        function E(t) {
          return t % 2 == 0 ? t : t + 1;
        }
        function R(t) {
          for (var e = 0, n = 0; n < t.length; n++) e += t[n];
          return e;
        }
        function I(t, e) {
          if (!t) throw new Error("string" == typeof e ? e : e());
        }
        function k(t, e, n) {
          void 0 === n && (n = ""),
            I(N(t, e), function () {
              return n + " Shapes " + t + " and " + e + " must match";
            });
        }
        function S(t) {
          I(null != t, function () {
            return "The input to the tensor constructor must be a non-null value.";
          });
        }
        function A(t, e, n) {
          if (
            (void 0 === e && (e = []),
            void 0 === n && (n = !1),
            null == e && (e = []),
            Array.isArray(t) || (q(t) && !n))
          )
            for (var r = 0; r < t.length; ++r) A(t[r], e, n);
          else e.push(t);
          return e;
        }
        function D(t) {
          if (0 === t.length) return 1;
          for (var e = t[0], n = 1; n < t.length; n++) e *= t[n];
          return e;
        }
        function N(t, e) {
          if (t === e) return !0;
          if (null == t || null == e) return !1;
          if (t.length !== e.length) return !1;
          for (var n = 0; n < t.length; n++) if (t[n] !== e[n]) return !1;
          return !0;
        }
        function T(t) {
          return t % 1 == 0;
        }
        function F(t) {
          if (null != Math.tanh) return Math.tanh(t);
          if (t === 1 / 0) return 1;
          if (t === -1 / 0) return -1;
          var e = Math.exp(2 * t);
          return (e - 1) / (e + 1);
        }
        function _(t) {
          var e = Math.ceil(Math.sqrt(t));
          return [e, Math.ceil(t / e)];
        }
        function O(t, e) {
          return e <= t.length ? t : t + " ".repeat(e - t.length);
        }
        function M(t, e, n) {
          return (
            void 0 === e &&
              (e = function (t) {
                return 0;
              }),
            new Promise(function (r, o) {
              var a = 0,
                i = function () {
                  if (t()) r();
                  else {
                    var s = e(++a);
                    null != n && a >= n ? o() : setTimeout(i, s);
                  }
                };
              i();
            })
          );
        }
        function B(t, e) {
          for (var n = 1, r = -1, o = 0; o < t.length; ++o)
            if (t[o] >= 0) n *= t[o];
            else if (-1 === t[o]) {
              if (-1 !== r)
                throw Error(
                  "Shapes can only have 1 implicit size. Found -1 at dim " +
                    r +
                    " and dim " +
                    o
                );
              r = o;
            } else if (t[o] < 0)
              throw Error(
                "Shapes can not be < 0. Found " + t[o] + " at dim " + o
              );
          if (-1 === r) {
            if (e > 0 && e !== n)
              throw Error(
                "Size(" + e + ") must match the product of shape " + t
              );
            return t;
          }
          if (0 === n)
            throw Error(
              "Cannot infer the missing size in [" +
                t +
                "] when there are 0 elements"
            );
          if (e % n != 0)
            throw Error(
              "The implicit shape can't be a fractional number. Got " +
                e +
                " / " +
                n
            );
          var a = t.slice();
          return (a[r] = e / n), a;
        }
        function P(t, e) {
          var n = e.length;
          return (
            I(
              (t =
                null == t
                  ? e.map(function (t, e) {
                      return e;
                    })
                  : [].concat(t)).every(function (t) {
                return t >= -n && t < n;
              }),
              function () {
                return (
                  "All values in axis param must be in range [-" +
                  n +
                  ", " +
                  n +
                  ") but got axis " +
                  t
                );
              }
            ),
            I(
              t.every(function (t) {
                return T(t);
              }),
              function () {
                return (
                  "All values in axis param must be integers but got axis " + t
                );
              }
            ),
            t.map(function (t) {
              return t < 0 ? n + t : t;
            })
          );
        }
        function L(t, e) {
          for (
            var n = [],
              r = [],
              o = null != e && Array.isArray(e) && 0 === e.length,
              a = null == e || o ? null : P(e, t).sort(),
              i = 0,
              s = 0;
            s < t.length;
            ++s
          ) {
            if (null != a) {
              if (a[i] === s && 1 !== t[s])
                throw new Error(
                  "Can't squeeze axis " +
                    s +
                    " since its dim '" +
                    t[s] +
                    "' is not 1"
                );
              (null == a[i] || a[i] > s) &&
                1 === t[s] &&
                (n.push(t[s]), r.push(s)),
                a[i] <= s && i++;
            }
            1 !== t[s] && (n.push(t[s]), r.push(s));
          }
          return { newShape: n, keptDims: r };
        }
        function W(t, e) {
          var n = null;
          if (null == t || "float32" === t) n = new Float32Array(e);
          else if ("int32" === t) n = new Int32Array(e);
          else {
            if ("bool" !== t) throw new Error("Unknown data type " + t);
            n = new Uint8Array(e);
          }
          return n;
        }
        function z(t, e) {
          var n = null;
          if (null == t || "float32" === t) n = new Float32Array(e);
          else if ("int32" === t) n = new Int32Array(e);
          else if ("bool" === t) n = new Uint8Array(e);
          else {
            if ("string" !== t) throw new Error("Unknown data type " + t);
            n = new Array(e);
          }
          return n;
        }
        function U(t, e) {
          for (var n = 0; n < t.length; n++) {
            var r = t[n];
            if (isNaN(r) || !isFinite(r))
              throw Error(
                "A tensor of type " + e + " being uploaded contains " + r + "."
              );
          }
        }
        function V(t) {
          return (
            "bool" === t ||
            "complex64" === t ||
            "float32" === t ||
            "int32" === t ||
            "string" === t
          );
        }
        function G(t, e) {
          return !(
            "complex64" === e ||
            ("float32" === e && "complex64" !== t) ||
            ("int32" === e && "float32" !== t && "complex64" !== t) ||
            ("bool" === e && "bool" === t)
          );
        }
        function q(t) {
          return (
            t instanceof Float32Array ||
            t instanceof Int32Array ||
            t instanceof Uint8Array
          );
        }
        function H(t) {
          if ("float32" === t || "int32" === t) return 4;
          if ("complex64" === t) return 8;
          if ("bool" === t) return 1;
          throw new Error("Unknown dtype " + t);
        }
        function K(t) {
          if (null == t) return 0;
          var e = 0;
          return (
            t.forEach(function (t) {
              return (e += t.length);
            }),
            e
          );
        }
        function j(t) {
          return "string" == typeof t || t instanceof String;
        }
        function X(t) {
          return "boolean" == typeof t;
        }
        function Y(t) {
          return "number" == typeof t;
        }
        function $(t) {
          return Array.isArray(t)
            ? $(t[0])
            : t instanceof Float32Array
            ? "float32"
            : t instanceof Int32Array || t instanceof Uint8Array
            ? "int32"
            : Y(t)
            ? "float32"
            : j(t)
            ? "string"
            : X(t)
            ? "bool"
            : "float32";
        }
        function Q(t) {
          return !!(t && t.constructor && t.call && t.apply);
        }
        function J(t, e) {
          for (var n = e; n < t; ++n) if (t % n == 0) return n;
          return t;
        }
        function Z(t) {
          var e = t.length;
          if (e < 2) return [];
          var n = new Array(e - 1);
          n[e - 2] = t[e - 1];
          for (var r = e - 3; r >= 0; --r) n[r] = n[r + 1] * t[r + 1];
          return n;
        }
        function tt(t, e, n) {
          if ("string" === e)
            throw new Error("Cannot convert a string[] to a TypedArray");
          if (
            (Array.isArray(t) && (t = A(t)),
            n && U(t, e),
            (function (t, e) {
              return (
                (t instanceof Float32Array && "float32" === e) ||
                (t instanceof Int32Array && "int32" === e) ||
                (t instanceof Uint8Array && "bool" === e)
              );
            })(t, e))
          )
            return t;
          if (null == e || "float32" === e || "complex64" === e)
            return new Float32Array(t);
          if ("int32" === e) return new Int32Array(t);
          if ("bool" === e) {
            for (var r = new Uint8Array(t.length), o = 0; o < r.length; ++o)
              0 !== Math.round(t[o]) && (r[o] = 1);
            return r;
          }
          throw new Error("Unknown data type " + e);
        }
        function et(t, e) {
          if (0 === t.length) return e[0];
          var n = t.reduce(function (t, e) {
            return t * e;
          });
          if (0 === n) return [];
          if (n !== e.length)
            throw new Error("[" + t + "] does not match the input size.");
          return (function t(e, n, r) {
            var o = new Array();
            if (1 === n.length)
              for (var a = n[0], i = 0; i < a; i++) o[i] = r[e + i];
            else {
              a = n[0];
              var s = n.slice(1),
                u = s.reduce(function (t, e) {
                  return t * e;
                });
              for (i = 0; i < a; i++) o[i] = t(e + i * u, s, r);
            }
            return o;
          })(0, t, e);
        }
        function nt(t, e) {
          for (var n = rt(t, e), r = 0; r < n.length; r++) n[r] = 1;
          return n;
        }
        function rt(t, e) {
          if (null == e || "float32" === e || "complex64" === e)
            return new Float32Array(t);
          if ("int32" === e) return new Int32Array(t);
          if ("bool" === e) return new Uint8Array(t);
          throw new Error("Unknown data type " + e);
        }
        function ot() {
          return c().platform.now();
        }
        function at(t) {
          t.forEach(function (e) {
            I(Number.isInteger(e) && e >= 0, function () {
              return (
                "Tensor must have a shape comprised of positive integers but got shape [" +
                t +
                "]."
              );
            });
          });
        }
        function it(t, e) {
          return (
            void 0 === e && (e = "utf-8"),
            (e = e || "utf-8"),
            c().platform.encode(t, e)
          );
        }
        function st(t, e) {
          return (
            void 0 === e && (e = "utf-8"),
            (e = e || "utf-8"),
            c().platform.decode(t, e)
          );
        }
        function ut(t, e, n) {
          if (0 === e) return 0;
          if (1 === e) return t[0];
          for (var r = t[t.length - 1], o = 0; o < t.length - 1; ++o)
            r += n[o] * t[o];
          return r;
        }
        function ct(t, e, n) {
          if (0 === e) return [];
          if (1 === e) return [t];
          for (var r = new Array(e), o = 0; o < r.length - 1; ++o)
            (r[o] = Math.floor(t / n[o])), (t -= r[o] * n[o]);
          return (r[r.length - 1] = t), r;
        }
        var lt = Object.freeze({
            shuffle: w,
            clamp: C,
            nearestLargerEven: E,
            sum: R,
            randUniform: function (t, e) {
              var n = Math.random();
              return e * n + (1 - n) * t;
            },
            distSquared: function (t, e) {
              for (var n = 0, r = 0; r < t.length; r++) {
                var o = Number(t[r]) - Number(e[r]);
                n += o * o;
              }
              return n;
            },
            assert: I,
            assertShapesMatch: k,
            assertNonNull: S,
            flatten: A,
            sizeFromShape: D,
            isScalarShape: function (t) {
              return 0 === t.length;
            },
            arraysEqual: N,
            isInt: T,
            tanh: F,
            sizeToSquarishShape: _,
            createShuffledIndices: function (t) {
              for (var e = new Uint32Array(t), n = 0; n < t; ++n) e[n] = n;
              return w(e), e;
            },
            rightPad: O,
            repeatedTry: M,
            inferFromImplicitShape: B,
            parseAxisParam: P,
            squeezeShape: L,
            getTypedArrayFromDType: W,
            getArrayFromDType: z,
            checkConversionForErrors: U,
            isValidDtype: V,
            hasEncodingLoss: G,
            isTypedArray: q,
            bytesPerElement: H,
            bytesFromStringArray: K,
            isString: j,
            isBoolean: X,
            isNumber: Y,
            inferDtype: $,
            isFunction: Q,
            nearestDivisor: J,
            computeStrides: Z,
            toTypedArray: tt,
            toNestedArray: et,
            makeOnesTypedArray: nt,
            makeZerosTypedArray: rt,
            now: ot,
            assertNonNegativeIntegerDimensions: at,
            fetch: function (t, e) {
              return c().platform.fetch(t, e);
            },
            encodeString: it,
            decodeString: st,
            locToIndex: ut,
            indexToLoc: ct,
          }),
          pt = (function () {
            function t(t, e) {
              (this.backendTimer = t),
                (this.logger = e),
                null == e && (this.logger = new ht());
            }
            return (
              (t.prototype.profileKernel = function (t, e, n) {
                var r,
                  o = this,
                  a = this.backendTimer.time(function () {
                    r = n();
                  });
                return (
                  r.forEach(function (n) {
                    n.data().then(function (r) {
                      !(function (t, e, n) {
                        if ("float32" !== e) return !1;
                        for (var r = 0; r < t.length; r++) {
                          var o = t[r];
                          if (isNaN(o) || !isFinite(o))
                            return (
                              console.warn(
                                "Found " + o + " in the result of '" + n + "'"
                              ),
                              !0
                            );
                        }
                      })(r, n.dtype, t),
                        a.then(function (a) {
                          var i = "";
                          null != a.getExtraProfileInfo &&
                            (i = a.getExtraProfileInfo()),
                            o.logger.logKernelProfile(
                              t,
                              n,
                              r,
                              a.kernelMs,
                              e,
                              i
                            );
                        });
                    });
                  }),
                  r
                );
              }),
              t
            );
          })();
        exports.util = lt;
        var ht = (function () {
            function t() {}
            return (
              (t.prototype.logKernelProfile = function (t, e, n, r, o, a) {
                var i = "number" == typeof r ? O(r + "ms", 9) : r.error,
                  s = O(t, 25),
                  u = e.rank,
                  c = e.size,
                  l = O(e.shape.toString(), 14),
                  p = "";
                for (var h in o) {
                  var d = o[h].shape || e.shape,
                    f = d.length;
                  p += h + ": " + f + "D " + (f > 0 ? d : "") + " ";
                }
                console.log(
                  "%c" +
                    s +
                    "\t%c" +
                    i +
                    "\t%c" +
                    u +
                    "D " +
                    l +
                    "\t%c" +
                    c +
                    "\t%c" +
                    p +
                    "\t%c" +
                    a,
                  "font-weight:bold",
                  "color:red",
                  "color:blue",
                  "color: orange",
                  "color: green",
                  "color: steelblue"
                );
              }),
              t
            );
          })(),
          dt = 20,
          ft = 3,
          vt = 7;
        function mt(t, e, n, r) {
          var o = Z(e),
            a = (function (t, e, n, r) {
              var o = D(e),
                a = r[r.length - 1],
                i = new Array(a).fill(0),
                s = e.length,
                u = "complex64" === n ? yt(t) : t;
              if (s > 1)
                for (var c = 0; c < o / a; c++)
                  for (var l = c * a, p = 0; p < a; p++)
                    i[p] = Math.max(i[p], gt(u[l + p], 0, n).length);
              return i;
            })(t, e, n, o),
            i = e.length,
            s = (function t(e, n, r, o, a, i) {
              void 0 === i && (i = !0);
              var s = "complex64" === r ? 2 : 1,
                u = n[0],
                c = n.length;
              if (0 === c)
                return "complex64" === r
                  ? [gt(yt(e)[0], 0, r)]
                  : "bool" === r
                  ? [xt(e[0])]
                  : [e[0].toString()];
              if (1 === c) {
                if (u > dt) {
                  var l = ft * s,
                    p = Array.from(e.slice(0, l)),
                    h = Array.from(e.slice((u - ft) * s, u * s));
                  return (
                    "complex64" === r && ((p = yt(p)), (h = yt(h))),
                    [
                      "[" +
                        p
                          .map(function (t, e) {
                            return gt(t, a[e], r);
                          })
                          .join(", ") +
                        ", ..., " +
                        h
                          .map(function (t, e) {
                            return gt(t, a[u - ft + e], r);
                          })
                          .join(", ") +
                        "]",
                    ]
                  );
                }
                return [
                  "[" +
                    ("complex64" === r ? yt(e) : Array.from(e))
                      .map(function (t, e) {
                        return gt(t, a[e], r);
                      })
                      .join(", ") +
                    "]",
                ];
              }
              var d = n.slice(1),
                f = o.slice(1),
                v = o[0] * s,
                m = [];
              if (u > dt) {
                for (var g = 0; g < ft; g++) {
                  var x = (y = g * v) + v;
                  m.push.apply(m, t(e.slice(y, x), d, r, f, a, !1));
                }
                for (m.push("..."), g = u - ft; g < u; g++)
                  (x = (y = g * v) + v),
                    m.push.apply(m, t(e.slice(y, x), d, r, f, a, g === u - 1));
              } else
                for (g = 0; g < u; g++) {
                  var y;
                  (x = (y = g * v) + v),
                    m.push.apply(m, t(e.slice(y, x), d, r, f, a, g === u - 1));
                }
              var b = 2 === c ? "," : "";
              for (m[0] = "[" + m[0] + b, g = 1; g < m.length - 1; g++)
                m[g] = " " + m[g] + b;
              var w = ",\n";
              for (g = 2; g < c; g++) w += "\n";
              return (
                (m[m.length - 1] = " " + m[m.length - 1] + "]" + (i ? "" : w)),
                m
              );
            })(t, e, n, o, a),
            u = ["Tensor"];
          return (
            r &&
              (u.push("  dtype: " + n),
              u.push("  rank: " + i),
              u.push("  shape: [" + e + "]"),
              u.push("  values:")),
            u.push(
              s
                .map(function (t) {
                  return "    " + t;
                })
                .join("\n")
            ),
            u.join("\n")
          );
        }
        function gt(t, e, n) {
          return O(
            Array.isArray(t)
              ? parseFloat(t[0].toFixed(vt)) +
                  " + " +
                  parseFloat(t[1].toFixed(vt)) +
                  "j"
              : j(t)
              ? "'" + t + "'"
              : "bool" === n
              ? xt(t)
              : parseFloat(t.toFixed(vt)).toString(),
            e
          );
        }
        function xt(t) {
          return 0 === t ? "false" : "true";
        }
        function yt(t) {
          for (var e = [], n = 0; n < t.length; n += 2)
            e.push([t[n], t[n + 1]]);
          return e;
        }
        var bt = (function () {
            function t(t, e, n) {
              var r = this;
              if (
                ((this.dtype = e),
                (this.shape = t.slice()),
                (this.size = D(t)),
                null != n)
              ) {
                var o = n.length;
                I(o === this.size, function () {
                  return (
                    "Length of values '" +
                    o +
                    "' does not match the size inferred by the shape '" +
                    r.size +
                    "'."
                  );
                });
              }
              if ("complex64" === e)
                throw new Error(
                  "complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag)."
                );
              (this.values = n || z(e, this.size)), (this.strides = Z(t));
            }
            return (
              (t.prototype.set = function (t) {
                for (var e = this, n = [], r = 1; r < arguments.length; r++)
                  n[r - 1] = arguments[r];
                0 === n.length && (n = [0]),
                  I(n.length === this.rank, function () {
                    return (
                      "The number of provided coordinates (" +
                      n.length +
                      ") must match the rank (" +
                      e.rank +
                      ")"
                    );
                  });
                var o = this.locToIndex(n);
                this.values[o] = t;
              }),
              (t.prototype.get = function () {
                for (var t = [], e = 0; e < arguments.length; e++)
                  t[e] = arguments[e];
                0 === t.length && (t = [0]);
                for (var n = 0, r = 0, o = t; r < o.length; r++) {
                  var a = o[r];
                  if (a < 0 || a >= this.shape[n]) {
                    var i =
                      "Requested out of range element at " +
                      t +
                      ".   Buffer shape=" +
                      this.shape;
                    throw new Error(i);
                  }
                  n++;
                }
                for (var s = t[t.length - 1], u = 0; u < t.length - 1; ++u)
                  s += this.strides[u] * t[u];
                return this.values[s];
              }),
              (t.prototype.locToIndex = function (t) {
                if (0 === this.rank) return 0;
                if (1 === this.rank) return t[0];
                for (var e = t[t.length - 1], n = 0; n < t.length - 1; ++n)
                  e += this.strides[n] * t[n];
                return e;
              }),
              (t.prototype.indexToLoc = function (t) {
                if (0 === this.rank) return [];
                if (1 === this.rank) return [t];
                for (
                  var e = new Array(this.shape.length), n = 0;
                  n < e.length - 1;
                  ++n
                )
                  (e[n] = Math.floor(t / this.strides[n])),
                    (t -= e[n] * this.strides[n]);
                return (e[e.length - 1] = t), e;
              }),
              Object.defineProperty(t.prototype, "rank", {
                get: function () {
                  return this.shape.length;
                },
                enumerable: !0,
                configurable: !0,
              }),
              (t.prototype.toTensor = function () {
                return wt().makeTensor(this.values, this.shape, this.dtype);
              }),
              t
            );
          })(),
          wt = null,
          Ct = null,
          Et = null;
        exports.TensorBuffer = bt;
        var Rt = (function () {
          function t(t, e, n, r) {
            (this.kept = !1),
              (this.isDisposedInternal = !1),
              (this.shape = t.slice()),
              (this.dtype = e || "float32"),
              (this.size = D(t)),
              (this.strides = Z(t)),
              (this.dataId = n),
              (this.id = r),
              (this.rankType = this.rank < 5 ? this.rank.toString() : "higher");
          }
          return (
            (t.prototype.flatten = function () {
              return this.throwIfDisposed(), this.as1D();
            }),
            (t.prototype.asScalar = function () {
              return (
                this.throwIfDisposed(),
                I(1 === this.size, function () {
                  return "The array must have only 1 element.";
                }),
                this.reshape([])
              );
            }),
            (t.prototype.as1D = function () {
              return this.throwIfDisposed(), this.reshape([this.size]);
            }),
            (t.prototype.as2D = function (t, e) {
              return this.throwIfDisposed(), this.reshape([t, e]);
            }),
            (t.prototype.as3D = function (t, e, n) {
              return this.throwIfDisposed(), this.reshape([t, e, n]);
            }),
            (t.prototype.as4D = function (t, e, n, r) {
              return this.throwIfDisposed(), this.reshape([t, e, n, r]);
            }),
            (t.prototype.as5D = function (t, e, n, r, o) {
              return this.throwIfDisposed(), this.reshape([t, e, n, r, o]);
            }),
            (t.prototype.asType = function (t) {
              return this.throwIfDisposed(), Ct.cast(this, t);
            }),
            Object.defineProperty(t.prototype, "rank", {
              get: function () {
                return this.shape.length;
              },
              enumerable: !0,
              configurable: !0,
            }),
            (t.prototype.buffer = function () {
              return a(this, void 0, void 0, function () {
                var t;
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.data()];
                    case 1:
                      return (
                        (t = e.sent()),
                        [2, Ct.buffer(this.shape, this.dtype, t)]
                      );
                  }
                });
              });
            }),
            (t.prototype.bufferSync = function () {
              return Ct.buffer(this.shape, this.dtype, this.dataSync());
            }),
            (t.prototype.array = function () {
              return a(this, void 0, void 0, function () {
                var t;
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.data()];
                    case 1:
                      return (t = e.sent()), [2, et(this.shape, t)];
                  }
                });
              });
            }),
            (t.prototype.arraySync = function () {
              return et(this.shape, this.dataSync());
            }),
            (t.prototype.data = function () {
              return a(this, void 0, void 0, function () {
                var t, e;
                return i(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        this.throwIfDisposed(),
                        (t = wt().read(this.dataId)),
                        "string" !== this.dtype ? [3, 2] : [4, t]
                      );
                    case 1:
                      e = n.sent();
                      try {
                        return [
                          2,
                          e.map(function (t) {
                            return st(t);
                          }),
                        ];
                      } catch (t) {
                        throw new Error(
                          "Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes()."
                        );
                      }
                      n.label = 2;
                    case 2:
                      return [2, t];
                  }
                });
              });
            }),
            (t.prototype.dataSync = function () {
              this.throwIfDisposed();
              var t = wt().readSync(this.dataId);
              if ("string" === this.dtype)
                try {
                  return t.map(function (t) {
                    return st(t);
                  });
                } catch (t) {
                  throw new Error(
                    "Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes()."
                  );
                }
              return t;
            }),
            (t.prototype.bytes = function () {
              return a(this, void 0, void 0, function () {
                var t;
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        this.throwIfDisposed(), [4, wt().read(this.dataId)]
                      );
                    case 1:
                      return (
                        (t = e.sent()),
                        "string" === this.dtype
                          ? [2, t]
                          : [2, new Uint8Array(t.buffer)]
                      );
                  }
                });
              });
            }),
            (t.prototype.dispose = function () {
              this.isDisposed ||
                (wt().disposeTensor(this), (this.isDisposedInternal = !0));
            }),
            Object.defineProperty(t.prototype, "isDisposed", {
              get: function () {
                return this.isDisposedInternal;
              },
              enumerable: !0,
              configurable: !0,
            }),
            (t.prototype.throwIfDisposed = function () {
              if (this.isDisposed) throw new Error("Tensor is disposed.");
            }),
            (t.prototype.toFloat = function () {
              return this.asType("float32");
            }),
            (t.prototype.toInt = function () {
              return this.asType("int32");
            }),
            (t.prototype.toBool = function () {
              return this.asType("bool");
            }),
            (t.prototype.print = function (t) {
              return void 0 === t && (t = !1), Ct.print(this, t);
            }),
            (t.prototype.reshape = function (t) {
              return this.throwIfDisposed(), Ct.reshape(this, t);
            }),
            (t.prototype.reshapeAs = function (t) {
              return this.throwIfDisposed(), this.reshape(t.shape);
            }),
            (t.prototype.expandDims = function (t) {
              return void 0 === t && (t = 0), Ct.expandDims(this, t);
            }),
            (t.prototype.cumsum = function (t, e, n) {
              return (
                void 0 === t && (t = 0),
                void 0 === e && (e = !1),
                void 0 === n && (n = !1),
                Ct.cumsum(this, t, e, n)
              );
            }),
            (t.prototype.squeeze = function (t) {
              return this.throwIfDisposed(), Ct.squeeze(this, t);
            }),
            (t.prototype.clone = function () {
              return this.throwIfDisposed(), Ct.clone(this);
            }),
            (t.prototype.oneHot = function (t, e, n) {
              return this.throwIfDisposed(), Ct.oneHot(this, t, e, n);
            }),
            (t.prototype.toString = function (t) {
              return (
                void 0 === t && (t = !1),
                mt(this.dataSync(), this.shape, this.dtype, t)
              );
            }),
            (t.prototype.tile = function (t) {
              return this.throwIfDisposed(), Ct.tile(this, t);
            }),
            (t.prototype.gather = function (t, e) {
              return (
                void 0 === e && (e = 0),
                this.throwIfDisposed(),
                Ct.gather(this, t, e)
              );
            }),
            (t.prototype.matMul = function (t, e, n) {
              return (
                void 0 === e && (e = !1),
                void 0 === n && (n = !1),
                this.throwIfDisposed(),
                Ct.matMul(this, t, e, n)
              );
            }),
            (t.prototype.dot = function (t) {
              return this.throwIfDisposed(), Ct.dot(this, t);
            }),
            (t.prototype.norm = function (t, e, n) {
              return (
                void 0 === t && (t = "euclidean"),
                void 0 === e && (e = null),
                void 0 === n && (n = !1),
                this.throwIfDisposed(),
                Ct.norm(this, t, e, n)
              );
            }),
            (t.prototype.slice = function (t, e) {
              return this.throwIfDisposed(), Ct.slice(this, t, e);
            }),
            (t.prototype.reverse = function (t) {
              return this.throwIfDisposed(), Ct.reverse(this, t);
            }),
            (t.prototype.concat = function (e, n) {
              return (
                void 0 === n && (n = 0),
                this.throwIfDisposed(),
                e instanceof t && (e = [e]),
                Ct.concat([this].concat(e), n)
              );
            }),
            (t.prototype.split = function (t, e) {
              return (
                void 0 === e && (e = 0),
                this.throwIfDisposed(),
                Ct.split(this, t, e)
              );
            }),
            (t.prototype.stack = function (t, e) {
              return void 0 === e && (e = 0), Ct.stack([this, t], e);
            }),
            (t.prototype.unstack = function (t) {
              return void 0 === t && (t = 0), Ct.unstack(this, t);
            }),
            (t.prototype.pad = function (t, e) {
              return void 0 === e && (e = 0), Ct.pad(this, t, e);
            }),
            (t.prototype.batchNormalization = function (t, e, n, r, o) {
              return (
                void 0 === n && (n = 0.001),
                Et(
                  "tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"
                ),
                this.batchNorm(t, e, o, r, n)
              );
            }),
            (t.prototype.batchNorm = function (t, e, n, r, o) {
              return (
                void 0 === o && (o = 0.001),
                this.throwIfDisposed(),
                Ct.batchNorm(this, t, e, n, r, o)
              );
            }),
            (t.prototype.all = function (t, e) {
              return (
                void 0 === t && (t = null),
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.all(this, t, e)
              );
            }),
            (t.prototype.any = function (t, e) {
              return (
                void 0 === t && (t = null),
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.any(this, t, e)
              );
            }),
            (t.prototype.logSumExp = function (t, e) {
              return (
                void 0 === t && (t = null),
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.logSumExp(this, t, e)
              );
            }),
            (t.prototype.sum = function (t, e) {
              return (
                void 0 === t && (t = null),
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.sum(this, t, e)
              );
            }),
            (t.prototype.prod = function (t, e) {
              return (
                void 0 === t && (t = null),
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.prod(this, t, e)
              );
            }),
            (t.prototype.mean = function (t, e) {
              return (
                void 0 === t && (t = null),
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.mean(this, t, e)
              );
            }),
            (t.prototype.min = function (t, e) {
              return (
                void 0 === t && (t = null),
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.min(this, t, e)
              );
            }),
            (t.prototype.max = function (t, e) {
              return (
                void 0 === t && (t = null),
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.max(this, t, e)
              );
            }),
            (t.prototype.argMin = function (t) {
              return (
                void 0 === t && (t = null),
                this.throwIfDisposed(),
                Ct.argMin(this, t)
              );
            }),
            (t.prototype.argMax = function (t) {
              return (
                void 0 === t && (t = null),
                this.throwIfDisposed(),
                Ct.argMax(this, t)
              );
            }),
            (t.prototype.cast = function (t) {
              return this.throwIfDisposed(), Ct.cast(this, t);
            }),
            (t.prototype.add = function (t) {
              return this.throwIfDisposed(), Ct.add(this, t);
            }),
            (t.prototype.addStrict = function (t) {
              return this.throwIfDisposed(), Ct.addStrict(this, t);
            }),
            (t.prototype.atan2 = function (t) {
              return this.throwIfDisposed(), Ct.atan2(this, t);
            }),
            (t.prototype.sub = function (t) {
              return this.throwIfDisposed(), Ct.sub(this, t);
            }),
            (t.prototype.subStrict = function (t) {
              return this.throwIfDisposed(), Ct.subStrict(this, t);
            }),
            (t.prototype.pow = function (t) {
              return this.throwIfDisposed(), Ct.pow(this, t);
            }),
            (t.prototype.powStrict = function (t) {
              return this.throwIfDisposed(), Ct.powStrict(this, t);
            }),
            (t.prototype.mul = function (t) {
              return this.throwIfDisposed(), Ct.mul(this, t);
            }),
            (t.prototype.mulStrict = function (t) {
              return this.throwIfDisposed(), Ct.mulStrict(this, t);
            }),
            (t.prototype.div = function (t) {
              return this.throwIfDisposed(), Ct.div(this, t);
            }),
            (t.prototype.divNoNan = function (t) {
              return this.throwIfDisposed(), Ct.divNoNan(this, t);
            }),
            (t.prototype.floorDiv = function (t) {
              return this.throwIfDisposed(), Ct.floorDiv(this, t);
            }),
            (t.prototype.divStrict = function (t) {
              return this.throwIfDisposed(), Ct.divStrict(this, t);
            }),
            (t.prototype.minimum = function (t) {
              return this.throwIfDisposed(), Ct.minimum(this, t);
            }),
            (t.prototype.minimumStrict = function (t) {
              return this.throwIfDisposed(), Ct.minimumStrict(this, t);
            }),
            (t.prototype.maximum = function (t) {
              return this.throwIfDisposed(), Ct.maximum(this, t);
            }),
            (t.prototype.maximumStrict = function (t) {
              return this.throwIfDisposed(), Ct.maximumStrict(this, t);
            }),
            (t.prototype.mod = function (t) {
              return this.throwIfDisposed(), Ct.mod(this, t);
            }),
            (t.prototype.modStrict = function (t) {
              return this.throwIfDisposed(), Ct.modStrict(this, t);
            }),
            (t.prototype.squaredDifferenceStrict = function (t) {
              return (
                this.throwIfDisposed(), Ct.squaredDifferenceStrict(this, t)
              );
            }),
            (t.prototype.transpose = function (t) {
              return this.throwIfDisposed(), Ct.transpose(this, t);
            }),
            (t.prototype.notEqual = function (t) {
              return this.throwIfDisposed(), Ct.notEqual(this, t);
            }),
            (t.prototype.notEqualStrict = function (t) {
              return this.throwIfDisposed(), Ct.notEqualStrict(this, t);
            }),
            (t.prototype.less = function (t) {
              return this.throwIfDisposed(), Ct.less(this, t);
            }),
            (t.prototype.lessStrict = function (t) {
              return this.throwIfDisposed(), Ct.lessStrict(this, t);
            }),
            (t.prototype.equal = function (t) {
              return this.throwIfDisposed(), Ct.equal(this, t);
            }),
            (t.prototype.equalStrict = function (t) {
              return this.throwIfDisposed(), Ct.equalStrict(this, t);
            }),
            (t.prototype.lessEqual = function (t) {
              return this.throwIfDisposed(), Ct.lessEqual(this, t);
            }),
            (t.prototype.lessEqualStrict = function (t) {
              return this.throwIfDisposed(), Ct.lessEqualStrict(this, t);
            }),
            (t.prototype.greater = function (t) {
              return this.throwIfDisposed(), Ct.greater(this, t);
            }),
            (t.prototype.greaterStrict = function (t) {
              return this.throwIfDisposed(), Ct.greaterStrict(this, t);
            }),
            (t.prototype.greaterEqual = function (t) {
              return this.throwIfDisposed(), Ct.greaterEqual(this, t);
            }),
            (t.prototype.greaterEqualStrict = function (t) {
              return this.throwIfDisposed(), Ct.greaterEqualStrict(this, t);
            }),
            (t.prototype.logicalAnd = function (t) {
              return this.throwIfDisposed(), Ct.logicalAnd(this, t);
            }),
            (t.prototype.logicalOr = function (t) {
              return this.throwIfDisposed(), Ct.logicalOr(this, t);
            }),
            (t.prototype.logicalNot = function () {
              return this.throwIfDisposed(), Ct.logicalNot(this);
            }),
            (t.prototype.logicalXor = function (t) {
              return this.throwIfDisposed(), Ct.logicalXor(this, t);
            }),
            (t.prototype.where = function (t, e) {
              return this.throwIfDisposed(), Ct.where(t, this, e);
            }),
            (t.prototype.neg = function () {
              return this.throwIfDisposed(), Ct.neg(this);
            }),
            (t.prototype.ceil = function () {
              return this.throwIfDisposed(), Ct.ceil(this);
            }),
            (t.prototype.floor = function () {
              return this.throwIfDisposed(), Ct.floor(this);
            }),
            (t.prototype.sign = function () {
              return this.throwIfDisposed(), Ct.sign(this);
            }),
            (t.prototype.isNaN = function () {
              return this.throwIfDisposed(), Ct.isNaN(this);
            }),
            (t.prototype.isInf = function () {
              return this.throwIfDisposed(), Ct.isInf(this);
            }),
            (t.prototype.isFinite = function () {
              return this.throwIfDisposed(), Ct.isFinite(this);
            }),
            (t.prototype.exp = function () {
              return this.throwIfDisposed(), Ct.exp(this);
            }),
            (t.prototype.expm1 = function () {
              return this.throwIfDisposed(), Ct.expm1(this);
            }),
            (t.prototype.log = function () {
              return this.throwIfDisposed(), Ct.log(this);
            }),
            (t.prototype.log1p = function () {
              return this.throwIfDisposed(), Ct.log1p(this);
            }),
            (t.prototype.sqrt = function () {
              return this.throwIfDisposed(), Ct.sqrt(this);
            }),
            (t.prototype.rsqrt = function () {
              return this.throwIfDisposed(), Ct.rsqrt(this);
            }),
            (t.prototype.square = function () {
              return this.throwIfDisposed(), Ct.square(this);
            }),
            (t.prototype.reciprocal = function () {
              return this.throwIfDisposed(), Ct.reciprocal(this);
            }),
            (t.prototype.abs = function () {
              return this.throwIfDisposed(), Ct.abs(this);
            }),
            (t.prototype.clipByValue = function (t, e) {
              return this.throwIfDisposed(), Ct.clipByValue(this, t, e);
            }),
            (t.prototype.relu = function () {
              return this.throwIfDisposed(), Ct.relu(this);
            }),
            (t.prototype.relu6 = function () {
              return this.throwIfDisposed(), Ct.relu6(this);
            }),
            (t.prototype.elu = function () {
              return this.throwIfDisposed(), Ct.elu(this);
            }),
            (t.prototype.selu = function () {
              return this.throwIfDisposed(), Ct.selu(this);
            }),
            (t.prototype.leakyRelu = function (t) {
              return (
                void 0 === t && (t = 0.2),
                this.throwIfDisposed(),
                Ct.leakyRelu(this, t)
              );
            }),
            (t.prototype.prelu = function (t) {
              return this.throwIfDisposed(), Ct.prelu(this, t);
            }),
            (t.prototype.sigmoid = function () {
              return this.throwIfDisposed(), Ct.sigmoid(this);
            }),
            (t.prototype.logSigmoid = function () {
              return this.throwIfDisposed(), Ct.logSigmoid(this);
            }),
            (t.prototype.softplus = function () {
              return this.throwIfDisposed(), Ct.softplus(this);
            }),
            (t.prototype.zerosLike = function () {
              return this.throwIfDisposed(), Ct.zerosLike(this);
            }),
            (t.prototype.onesLike = function () {
              return this.throwIfDisposed(), Ct.onesLike(this);
            }),
            (t.prototype.sin = function () {
              return this.throwIfDisposed(), Ct.sin(this);
            }),
            (t.prototype.cos = function () {
              return this.throwIfDisposed(), Ct.cos(this);
            }),
            (t.prototype.tan = function () {
              return this.throwIfDisposed(), Ct.tan(this);
            }),
            (t.prototype.asin = function () {
              return this.throwIfDisposed(), Ct.asin(this);
            }),
            (t.prototype.acos = function () {
              return this.throwIfDisposed(), Ct.acos(this);
            }),
            (t.prototype.atan = function () {
              return this.throwIfDisposed(), Ct.atan(this);
            }),
            (t.prototype.sinh = function () {
              return this.throwIfDisposed(), Ct.sinh(this);
            }),
            (t.prototype.cosh = function () {
              return this.throwIfDisposed(), Ct.cosh(this);
            }),
            (t.prototype.tanh = function () {
              return this.throwIfDisposed(), Ct.tanh(this);
            }),
            (t.prototype.asinh = function () {
              return this.throwIfDisposed(), Ct.asinh(this);
            }),
            (t.prototype.acosh = function () {
              return this.throwIfDisposed(), Ct.acosh(this);
            }),
            (t.prototype.atanh = function () {
              return this.throwIfDisposed(), Ct.atanh(this);
            }),
            (t.prototype.erf = function () {
              return this.throwIfDisposed(), Ct.erf(this);
            }),
            (t.prototype.round = function () {
              return this.throwIfDisposed(), Ct.round(this);
            }),
            (t.prototype.step = function (t) {
              return (
                void 0 === t && (t = 0),
                this.throwIfDisposed(),
                Ct.step(this, t)
              );
            }),
            (t.prototype.softmax = function (t) {
              return (
                void 0 === t && (t = -1),
                this.throwIfDisposed(),
                Ct.softmax(this, t)
              );
            }),
            (t.prototype.logSoftmax = function (t) {
              return (
                void 0 === t && (t = -1),
                this.throwIfDisposed(),
                Ct.logSoftmax(this, t)
              );
            }),
            (t.prototype.resizeBilinear = function (t, e) {
              return (
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.image.resizeBilinear(this, t, e)
              );
            }),
            (t.prototype.resizeNearestNeighbor = function (t, e) {
              return (
                void 0 === e && (e = !1),
                this.throwIfDisposed(),
                Ct.image.resizeNearestNeighbor(this, t, e)
              );
            }),
            (t.prototype.conv1d = function (t, e, n, r, o, a) {
              return (
                void 0 === r && (r = "NWC"),
                void 0 === o && (o = 1),
                this.throwIfDisposed(),
                Ct.conv1d(this, t, e, n, r, o, a)
              );
            }),
            (t.prototype.conv2d = function (t, e, n, r, o, a) {
              return (
                void 0 === r && (r = "NHWC"),
                void 0 === o && (o = [1, 1]),
                this.throwIfDisposed(),
                Ct.conv2d(this, t, e, n, r, o, a)
              );
            }),
            (t.prototype.conv2dTranspose = function (t, e, n, r, o) {
              return (
                this.throwIfDisposed(), Ct.conv2dTranspose(this, t, e, n, r, o)
              );
            }),
            (t.prototype.depthwiseConv2D = function (t, e, n, r, o, a) {
              return (
                void 0 === r && (r = "NHWC"),
                void 0 === o && (o = [1, 1]),
                this.throwIfDisposed(),
                Ct.depthwiseConv2d(this, t, e, n, r, o, a)
              );
            }),
            (t.prototype.separableConv2d = function (t, e, n, r, o, a) {
              return (
                void 0 === o && (o = [1, 1]),
                void 0 === a && (a = "NHWC"),
                this.throwIfDisposed(),
                Ct.separableConv2d(this, t, e, n, r, o, a)
              );
            }),
            (t.prototype.avgPool = function (t, e, n, r) {
              return this.throwIfDisposed(), Ct.avgPool(this, t, e, n, r);
            }),
            (t.prototype.maxPool = function (t, e, n, r) {
              return this.throwIfDisposed(), Ct.maxPool(this, t, e, n, r);
            }),
            (t.prototype.localResponseNormalization = function (t, e, n, r) {
              return (
                void 0 === t && (t = 5),
                void 0 === e && (e = 1),
                void 0 === n && (n = 1),
                void 0 === r && (r = 0.5),
                Ct.localResponseNormalization(this, t, e, n, r)
              );
            }),
            (t.prototype.pool = function (t, e, n, r, o) {
              return this.throwIfDisposed(), Ct.pool(this, t, e, n, r, o);
            }),
            (t.prototype.variable = function (t, e, n) {
              return (
                void 0 === t && (t = !0),
                this.throwIfDisposed(),
                wt().makeVariable(this, t, e, n)
              );
            }),
            (t.prototype.unsortedSegmentSum = function (t, e) {
              return this.throwIfDisposed(), Ct.unsortedSegmentSum(this, t, e);
            }),
            (t.prototype.batchToSpaceND = function (t, e) {
              return this.throwIfDisposed(), Ct.batchToSpaceND(this, t, e);
            }),
            (t.prototype.spaceToBatchND = function (t, e) {
              return this.throwIfDisposed(), Ct.spaceToBatchND(this, t, e);
            }),
            (t.prototype.topk = function (t, e) {
              return (
                void 0 === t && (t = 1),
                void 0 === e && (e = !0),
                this.throwIfDisposed(),
                Ct.topk(this, t, e)
              );
            }),
            (t.prototype.stridedSlice = function (t, e, n, r, o, a, i, s) {
              return (
                void 0 === r && (r = 0),
                void 0 === o && (o = 0),
                void 0 === a && (a = 0),
                void 0 === i && (i = 0),
                void 0 === s && (s = 0),
                this.throwIfDisposed(),
                Ct.stridedSlice(this, t, e, n, r, o, a, i, s)
              );
            }),
            (t.prototype.depthToSpace = function (t, e) {
              return this.throwIfDisposed(), Ct.depthToSpace(this, t, e);
            }),
            (t.prototype.fft = function () {
              return this.throwIfDisposed(), Ct.spectral.fft(this);
            }),
            (t.prototype.ifft = function () {
              return this.throwIfDisposed(), Ct.spectral.ifft(this);
            }),
            (t.prototype.rfft = function () {
              return this.throwIfDisposed(), Ct.spectral.rfft(this);
            }),
            (t.prototype.irfft = function () {
              return this.throwIfDisposed(), Ct.spectral.irfft(this);
            }),
            t
          );
        })();
        (exports.Tensor = Rt),
          Object.defineProperty(Rt, Symbol.hasInstance, {
            value: function (t) {
              return (
                !!t && null != t.dataId && null != t.shape && null != t.dtype
              );
            },
          });
        var It,
          kt,
          St,
          At,
          Dt,
          Nt = (function (t) {
            function e(e, n, r, o) {
              var a = t.call(this, e.shape, e.dtype, e.dataId, o) || this;
              return (a.trainable = n), (a.name = r), a;
            }
            return (
              o(e, t),
              (e.prototype.assign = function (t) {
                if (t.dtype !== this.dtype)
                  throw new Error(
                    "dtype of the new value (" +
                      t.dtype +
                      ") and previous value (" +
                      this.dtype +
                      ") must match"
                  );
                if (!N(t.shape, this.shape))
                  throw new Error(
                    "shape of the new value (" +
                      t.shape +
                      ") and previous value (" +
                      this.shape +
                      ") must match"
                  );
                wt().disposeTensor(this),
                  (this.dataId = t.dataId),
                  wt().incRef(this, null);
              }),
              (e.prototype.dispose = function () {
                wt().disposeVariable(this), (this.isDisposedInternal = !0);
              }),
              e
            );
          })(Rt);
        (exports.Variable = Nt),
          (exports.Rank = It),
          Object.defineProperty(Nt, Symbol.hasInstance, {
            value: function (t) {
              return (
                t instanceof Rt &&
                null != t.assign &&
                t.assign instanceof Function
              );
            },
          }),
          (function (t) {
            (t.R0 = "R0"),
              (t.R1 = "R1"),
              (t.R2 = "R2"),
              (t.R3 = "R3"),
              (t.R4 = "R4"),
              (t.R5 = "R5"),
              (t.R6 = "R6");
          })(It || (exports.Rank = It = {})),
          (function (t) {
            (t.float32 = "float32"),
              (t.int32 = "int32"),
              (t.bool = "int32"),
              (t.complex64 = "complex64");
          })(kt || (kt = {})),
          (function (t) {
            (t.float32 = "float32"),
              (t.int32 = "int32"),
              (t.bool = "bool"),
              (t.complex64 = "complex64");
          })(St || (St = {})),
          (function (t) {
            (t.float32 = "float32"),
              (t.int32 = "float32"),
              (t.bool = "float32"),
              (t.complex64 = "complex64");
          })(At || (At = {})),
          (function (t) {
            (t.float32 = "complex64"),
              (t.int32 = "complex64"),
              (t.bool = "complex64"),
              (t.complex64 = "complex64");
          })(Dt || (Dt = {}));
        var Tt = { float32: At, int32: kt, bool: St, complex64: Dt };
        function Ft(t, e) {
          if ("string" === t || "string" === e) {
            if ("string" === t && "string" === e) return "string";
            throw new Error("Can not upcast " + t + " with " + e);
          }
          return Tt[t][e];
        }
        function _t(t) {
          return Ft(t, "int32");
        }
        function Ot(t, e) {
          if (t.dtype === e.dtype) return [t, e];
          var n = Ft(t.dtype, e.dtype);
          return [t.cast(n), e.cast(n)];
        }
        function Mt(t, e) {
          I(t.dtype === e.dtype, function () {
            return (
              "The dtypes of the first(" +
              t.dtype +
              ") and second(" +
              e.dtype +
              ") input must match"
            );
          });
        }
        function Bt(t) {
          var e = [];
          return (
            (function t(e, n, r) {
              if (null != e)
                if (e instanceof Rt) n.push(e);
                else if (((o = e), Array.isArray(o) || "object" == typeof o)) {
                  var o,
                    a = e;
                  for (var i in a) {
                    var s = a[i];
                    r.has(s) || (r.add(s), t(s, n, r));
                  }
                }
            })(t, e, new Set()),
            e
          );
        }
        var Pt,
          Lt = Object.freeze({
            makeTypesMatch: Ot,
            assertTypesMatch: Mt,
            isTensorInList: function (t, e) {
              return e.some(function (e) {
                return e.id === t.id;
              });
            },
            getTensorsInContainer: Bt,
          }),
          Wt = (function () {
            function t() {
              (this.registeredVariables = {}),
                (this.nextTapeNodeId = 0),
                (this.numBytes = 0),
                (this.numTensors = 0),
                (this.numStringTensors = 0),
                (this.numDataBuffers = 0),
                (this.gradientDepth = 0),
                (this.kernelDepth = 0),
                (this.scopeStack = []),
                (this.numDataMovesStack = []),
                (this.nextScopeId = 0),
                (this.tensorInfo = new WeakMap()),
                (this.profiling = !1),
                (this.activeProfile = {
                  newBytes: 0,
                  newTensors: 0,
                  peakBytes: 0,
                  kernels: [],
                  result: null,
                });
            }
            return (
              (t.prototype.dispose = function () {
                for (var t in this.registeredVariables)
                  this.registeredVariables[t].dispose();
              }),
              t
            );
          })(),
          zt = (function () {
            function t(t) {
              (this.ENV = t),
                (this.registry = {}),
                (this.registryFactory = {}),
                (this.pendingBackendInitId = 0),
                (this.state = new Wt());
            }
            return (
              (t.prototype.ready = function () {
                return a(this, void 0, void 0, function () {
                  var t, e, n;
                  return i(this, function (r) {
                    switch (r.label) {
                      case 0:
                        if (null != this.pendingBackendInit)
                          return [
                            2,
                            this.pendingBackendInit.then(function () {}),
                          ];
                        if (null != this.backendInstance) return [2];
                        (t = this.getSortedBackends()), (e = 0), (r.label = 1);
                      case 1:
                        return e < t.length
                          ? ((n = t[e]), [4, this.initializeBackend(n).success])
                          : [3, 5];
                      case 2:
                        return r.sent() ? [4, this.setBackend(n)] : [3, 4];
                      case 3:
                        return r.sent(), [2];
                      case 4:
                        return e++, [3, 1];
                      case 5:
                        throw new Error(
                          "Could not initialize any backends, all backend initializations failed."
                        );
                    }
                  });
                });
              }),
              Object.defineProperty(t.prototype, "backend", {
                get: function () {
                  if (null != this.pendingBackendInit)
                    throw new Error(
                      "Backend '" +
                        this.backendName +
                        "' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods"
                    );
                  if (null == this.backendInstance) {
                    var t = this.initializeBackendsAndReturnBest(),
                      e = t.name;
                    if (t.asyncInit)
                      throw new Error(
                        "The highest priority backend '" +
                          e +
                          "' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods"
                      );
                    this.setBackend(e);
                  }
                  return this.backendInstance;
                },
                enumerable: !0,
                configurable: !0,
              }),
              (t.prototype.backendNames = function () {
                return Object.keys(this.registryFactory);
              }),
              (t.prototype.findBackend = function (t) {
                if (!(t in this.registry)) {
                  if (!(t in this.registryFactory)) return null;
                  if (this.initializeBackend(t).asyncInit) return null;
                }
                return this.registry[t];
              }),
              (t.prototype.findBackendFactory = function (t) {
                return t in this.registryFactory
                  ? this.registryFactory[t].factory
                  : null;
              }),
              (t.prototype.registerBackend = function (t, e, n) {
                return (
                  void 0 === n && (n = 1),
                  t in this.registryFactory
                    ? (console.warn(
                        t +
                          " backend was already registered. Reusing existing backend factory."
                      ),
                      !1)
                    : ((this.registryFactory[t] = { factory: e, priority: n }),
                      !0)
                );
              }),
              (t.prototype.setBackend = function (t) {
                return a(this, void 0, void 0, function () {
                  var e, n, r;
                  return i(this, function (o) {
                    switch (o.label) {
                      case 0:
                        if (null == this.registryFactory[t])
                          throw new Error(
                            "Backend name '" + t + "' not found in registry"
                          );
                        return (
                          (this.backendName = t),
                          null != this.registry[t]
                            ? [3, 4]
                            : ((this.backendInstance = null),
                              (e = this.initializeBackend(t)),
                              (n = e.success),
                              e.asyncInit ? [4, n] : [3, 2])
                        );
                      case 1:
                        return (r = o.sent()), [3, 3];
                      case 2:
                        (r = n), (o.label = 3);
                      case 3:
                        if (!r) return [2, !1];
                        o.label = 4;
                      case 4:
                        return (
                          (this.backendInstance = this.registry[t]),
                          this.setupRegisteredKernels(),
                          (this.profiler = new pt(this.backendInstance)),
                          [2, !0]
                        );
                    }
                  });
                });
              }),
              (t.prototype.setupRegisteredKernels = function () {
                var t = this;
                v(this.backendName).forEach(function (e) {
                  null != e.setupFunc && e.setupFunc(t.backendInstance);
                });
              }),
              (t.prototype.disposeRegisteredKernels = function (t) {
                var e = this;
                v(t).forEach(function (n) {
                  null != n.disposeFunc && n.disposeFunc(e.registry[t]);
                });
              }),
              (t.prototype.initializeBackend = function (t) {
                var e = this,
                  n = this.registryFactory[t];
                if (null == n)
                  throw new Error(
                    "Cannot initialize backend " +
                      t +
                      ", no registration found."
                  );
                try {
                  var r = n.factory();
                  if (Promise.resolve(r) === r) {
                    var o = ++this.pendingBackendInitId,
                      a = r
                        .then(function (n) {
                          return !(
                            o < e.pendingBackendInitId ||
                            ((e.registry[t] = n),
                            (e.pendingBackendInit = null),
                            0)
                          );
                        })
                        .catch(function (n) {
                          return !(
                            o < e.pendingBackendInitId ||
                            ((e.pendingBackendInit = null),
                            console.warn(
                              "Initialization of backend " + t + " failed"
                            ),
                            console.warn(n.stack || n.message),
                            1)
                          );
                        });
                    return (
                      (this.pendingBackendInit = a),
                      { success: a, asyncInit: !0 }
                    );
                  }
                  return (this.registry[t] = r), { success: !0, asyncInit: !1 };
                } catch (e) {
                  return (
                    console.warn("Initialization of backend " + t + " failed"),
                    console.warn(e.stack || e.message),
                    { success: !1, asyncInit: !1 }
                  );
                }
              }),
              (t.prototype.removeBackend = function (t) {
                if (!(t in this.registryFactory))
                  throw new Error(t + " backend not found in registry");
                this.backendName === t &&
                  null != this.pendingBackendInit &&
                  this.pendingBackendInitId++,
                  t in this.registry &&
                    (this.disposeRegisteredKernels(t),
                    this.registry[t].dispose(),
                    delete this.registry[t]),
                  delete this.registryFactory[t],
                  this.backendName === t &&
                    ((this.pendingBackendInit = null),
                    (this.backendName = null),
                    (this.backendInstance = null));
              }),
              (t.prototype.getSortedBackends = function () {
                var t = this;
                if (0 === Object.keys(this.registryFactory).length)
                  throw new Error("No backend found in registry.");
                return Object.keys(this.registryFactory).sort(function (e, n) {
                  return (
                    t.registryFactory[n].priority -
                    t.registryFactory[e].priority
                  );
                });
              }),
              (t.prototype.initializeBackendsAndReturnBest = function () {
                for (
                  var t = this.getSortedBackends(), e = 0;
                  e < t.length;
                  e++
                ) {
                  var n = t[e],
                    r = this.initializeBackend(n),
                    o = r.success,
                    a = r.asyncInit;
                  if (a || o) return { name: n, asyncInit: a };
                }
                throw new Error(
                  "Could not initialize any backends, all backend initializations failed."
                );
              }),
              (t.prototype.moveData = function (t, e) {
                var n = this.state.tensorInfo.get(e),
                  r = n.backend,
                  o = this.readSync(e);
                r.disposeData(e),
                  (n.backend = t),
                  t.move(e, o, n.shape, n.dtype),
                  this.shouldCheckForMemLeaks() &&
                    this.state.numDataMovesStack[
                      this.state.numDataMovesStack.length - 1
                    ]++;
              }),
              (t.prototype.tidy = function (t, e) {
                var n,
                  r = this,
                  o = null;
                if (null == e) {
                  if ("function" != typeof t)
                    throw new Error("Please provide a function to tidy()");
                  e = t;
                } else {
                  if ("string" != typeof t && !(t instanceof String))
                    throw new Error(
                      "When calling with two arguments, the first argument to tidy() must be a string"
                    );
                  if ("function" != typeof e)
                    throw new Error(
                      "When calling with two arguments, the 2nd argument to tidy() must be a function"
                    );
                  o = t;
                }
                return this.scopedRun(
                  function () {
                    return r.startScope(o);
                  },
                  function () {
                    return r.endScope(n);
                  },
                  function () {
                    return (
                      (n = e()) instanceof Promise &&
                        console.error(
                          "Cannot return a Promise inside of tidy."
                        ),
                      n
                    );
                  }
                );
              }),
              (t.prototype.scopedRun = function (t, e, n) {
                t();
                try {
                  var r = n();
                  return e(), r;
                } catch (t) {
                  throw (e(), t);
                }
              }),
              (t.prototype.nextTensorId = function () {
                return t.nextTensorId++;
              }),
              (t.prototype.nextVariableId = function () {
                return t.nextVariableId++;
              }),
              (t.prototype.clone = function (t) {
                var e = this.makeTensorFromDataId(t.dataId, t.shape, t.dtype),
                  n = { x: t };
                return (
                  this.addTapeNode(
                    this.state.activeScope.name,
                    n,
                    [e],
                    function (t) {
                      return {
                        x: function () {
                          return t.toFloat();
                        },
                      };
                    },
                    []
                  ),
                  e
                );
              }),
              (t.prototype.runKernel = function (t, e, n, r, o) {
                return this.runKernelFunc(null, e, null, t, n, r, o);
              }),
              (t.prototype.shouldCheckForMemLeaks = function () {
                return this.ENV.getBool("IS_TEST");
              }),
              (t.prototype.checkKernelForMemLeak = function (t, e, n) {
                var r = this.backend.numDataIds(),
                  o = 0;
                n.forEach(function (t) {
                  o += "complex64" === t.dtype ? 3 : 1;
                });
                var a =
                    this.state.numDataMovesStack[
                      this.state.numDataMovesStack.length - 1
                    ],
                  i = r - e - o - a;
                if (i > 0)
                  throw new Error(
                    "Backend '" +
                      this.backendName +
                      "' has an internal memory leak (" +
                      i +
                      " data ids) after running '" +
                      t +
                      "'"
                  );
              }),
              (t.prototype.runKernelFunc = function (t, e, n, r, o, a, i) {
                var s,
                  u = this;
                void 0 === a && (a = []), void 0 === i && (i = []);
                var c = [],
                  l = this.isTapeOn();
                null == r &&
                  (r =
                    null != this.state.activeScope
                      ? this.state.activeScope.name
                      : "");
                var p,
                  h = function (t) {
                    l &&
                      (c = t.map(function (t) {
                        return u.keep(u.clone(t));
                      }));
                  },
                  f = this.state.numBytes,
                  v = this.state.numTensors;
                this.shouldCheckForMemLeaks() &&
                  this.state.numDataMovesStack.push(0);
                var m,
                  g = d(r, this.backendName);
                return (
                  (p =
                    null != g
                      ? function () {
                          var t = u.backend.numDataIds();
                          m = g.kernelFunc({
                            inputs: e,
                            attrs: o,
                            backend: u.backend,
                          });
                          var n = Array.isArray(m) ? m : [m];
                          u.shouldCheckForMemLeaks() &&
                            u.checkKernelForMemLeak(r, t, n);
                          var s = n.map(function (t) {
                              var e = t.dataId,
                                n = t.shape,
                                r = t.dtype;
                              return u.makeTensorFromDataId(e, n, r);
                            }),
                            c = s.filter(function (t, e) {
                              return i[e];
                            });
                          return h((a || []).slice().concat(c)), s;
                        }
                      : function () {
                          var e = u.backend.numDataIds();
                          m = u.tidy(function () {
                            return t(u.backend, h);
                          });
                          var n = Array.isArray(m) ? m : [m];
                          return (
                            u.shouldCheckForMemLeaks() &&
                              u.checkKernelForMemLeak(r, e, n),
                            n
                          );
                        }),
                  this.scopedRun(
                    function () {
                      return u.state.kernelDepth++;
                    },
                    function () {
                      return u.state.kernelDepth--;
                    },
                    function () {
                      s = u.ENV.getBool("DEBUG")
                        ? u.profiler.profileKernel(r, e, function () {
                            return p();
                          })
                        : p();
                    }
                  ),
                  l && this.addTapeNode(r, e, s, n, c),
                  this.state.profiling &&
                    this.state.activeProfile.kernels.push({
                      name: r,
                      bytesAdded: this.state.numBytes - f,
                      totalBytesSnapshot: this.state.numBytes,
                      tensorsAdded: this.state.numTensors - v,
                      totalTensorsSnapshot: this.state.numTensors,
                      inputShapes: Object.keys(e).map(function (t) {
                        return e[t].shape;
                      }),
                      outputShapes: s.map(function (t) {
                        return t.shape;
                      }),
                    }),
                  Array.isArray(m) ? s : s[0]
                );
              }),
              (t.prototype.makeTensor = function (t, e, n, r) {
                if (null == t)
                  throw new Error(
                    "Values passed to engine.makeTensor() are null"
                  );
                (n = n || "float32"), (r = r || this.backend);
                var o = t;
                "string" === n &&
                  j(t[0]) &&
                  (o = t.map(function (t) {
                    return it(t);
                  }));
                var a = r.write(o, e, n),
                  i = new Rt(e, n, a, this.nextTensorId());
                if ((this.incRef(i, r), "string" === n)) {
                  var s = this.state.tensorInfo.get(a),
                    u = K(o);
                  (this.state.numBytes += u - s.bytes), (s.bytes = u);
                }
                return i;
              }),
              (t.prototype.makeTensorFromDataId = function (t, e, n, r) {
                var o = new Rt(e, (n = n || "float32"), t, this.nextTensorId());
                return this.incRef(o, r), o;
              }),
              (t.prototype.makeVariable = function (t, e, n, r) {
                void 0 === e && (e = !0),
                  (n = n || this.nextVariableId().toString()),
                  null != r && r !== t.dtype && (t = t.asType(r));
                var o = new Nt(t, e, n, this.nextTensorId());
                if (null != this.state.registeredVariables[o.name])
                  throw new Error(
                    "Variable with name " + o.name + " was already registered"
                  );
                return (
                  (this.state.registeredVariables[o.name] = o),
                  this.incRef(o, this.backend),
                  o
                );
              }),
              (t.prototype.incRef = function (t, e) {
                var n = this.state.tensorInfo.has(t.dataId)
                  ? this.state.tensorInfo.get(t.dataId).refCount
                  : 0;
                if (
                  (this.state.numTensors++,
                  "string" === t.dtype && this.state.numStringTensors++,
                  0 === n)
                ) {
                  this.state.numDataBuffers++;
                  var r = 0;
                  "complex64" !== t.dtype &&
                    "string" !== t.dtype &&
                    (r = t.size * H(t.dtype)),
                    this.state.tensorInfo.set(t.dataId, {
                      backend: e || this.backend,
                      dtype: t.dtype,
                      shape: t.shape,
                      bytes: r,
                      refCount: 0,
                    }),
                    (this.state.numBytes += r);
                }
                this.state.tensorInfo.get(t.dataId).refCount++,
                  t instanceof Nt || this.track(t);
              }),
              (t.prototype.disposeTensor = function (t) {
                if (this.state.tensorInfo.has(t.dataId)) {
                  this.state.numTensors--,
                    "string" === t.dtype && this.state.numStringTensors--;
                  var e = this.state.tensorInfo.get(t.dataId);
                  e.refCount <= 1
                    ? ("complex64" !== t.dtype &&
                        (this.state.numBytes -= e.bytes),
                      this.state.numDataBuffers--,
                      e.backend.disposeData(t.dataId),
                      this.state.tensorInfo.delete(t.dataId))
                    : this.state.tensorInfo.get(t.dataId).refCount--;
                }
              }),
              (t.prototype.disposeVariables = function () {
                for (var t in this.state.registeredVariables) {
                  var e = this.state.registeredVariables[t];
                  this.disposeVariable(e);
                }
              }),
              (t.prototype.disposeVariable = function (t) {
                this.disposeTensor(t),
                  null != this.state.registeredVariables[t.name] &&
                    delete this.state.registeredVariables[t.name];
              }),
              (t.prototype.memory = function () {
                var t = this.backend.memory();
                return (
                  (t.numTensors = this.state.numTensors),
                  (t.numDataBuffers = this.state.numDataBuffers),
                  (t.numBytes = this.state.numBytes),
                  this.state.numStringTensors > 0 &&
                    ((t.unreliable = !0),
                    null == t.reasons && (t.reasons = []),
                    t.reasons.push(
                      "Memory usage by string tensors is approximate (2 bytes per character)"
                    )),
                  t
                );
              }),
              (t.prototype.profile = function (t) {
                return a(this, void 0, void 0, function () {
                  var e, n;
                  return i(this, function (r) {
                    return (
                      (this.state.profiling = !0),
                      (e = this.state.numBytes),
                      (n = this.state.numTensors),
                      (this.state.activeProfile.kernels = []),
                      (this.state.activeProfile.result = t()),
                      (this.state.profiling = !1),
                      (this.state.activeProfile.peakBytes = Math.max.apply(
                        Math,
                        this.state.activeProfile.kernels.map(function (t) {
                          return t.totalBytesSnapshot;
                        })
                      )),
                      (this.state.activeProfile.newBytes =
                        this.state.numBytes - e),
                      (this.state.activeProfile.newTensors =
                        this.state.numTensors - n),
                      [2, this.state.activeProfile]
                    );
                  });
                });
              }),
              (t.prototype.isTapeOn = function () {
                return (
                  this.state.gradientDepth > 0 && 0 === this.state.kernelDepth
                );
              }),
              (t.prototype.addTapeNode = function (t, e, n, r, o) {
                var a = this,
                  i = {
                    id: this.state.nextTapeNodeId++,
                    kernelName: t,
                    inputs: e,
                    outputs: n,
                    saved: o,
                  },
                  s = f(t);
                null != s && (r = s.gradFunc),
                  null != r &&
                    (i.gradient = function (t) {
                      return (
                        (t = t.map(function (t, e) {
                          if (null == t) {
                            var r = n[e],
                              o = rt(r.size, r.dtype);
                            return a.makeTensor(o, r.shape, r.dtype);
                          }
                          return t;
                        })),
                        r(t.length > 1 ? t : t[0], o)
                      );
                    }),
                  this.state.activeTape.push(i);
              }),
              (t.prototype.keep = function (t) {
                return (t.kept = !0), t;
              }),
              (t.prototype.startTape = function () {
                0 === this.state.gradientDepth && (this.state.activeTape = []),
                  this.state.gradientDepth++;
              }),
              (t.prototype.endTape = function () {
                this.state.gradientDepth--;
              }),
              (t.prototype.startScope = function (t) {
                var e = {
                  track: [],
                  name: "unnamed scope",
                  id: this.state.nextScopeId++,
                };
                t && (e.name = t),
                  this.state.scopeStack.push(e),
                  (this.state.activeScope = e);
              }),
              (t.prototype.endScope = function (t) {
                for (
                  var e = this,
                    n = Bt(t),
                    r = new Set(
                      n.map(function (t) {
                        return t.id;
                      })
                    ),
                    o = 0;
                  o < this.state.activeScope.track.length;
                  o++
                ) {
                  var a = this.state.activeScope.track[o];
                  a.kept || r.has(a.id) || a.dispose();
                }
                var i = this.state.scopeStack.pop();
                (this.state.activeScope =
                  0 === this.state.scopeStack.length
                    ? null
                    : this.state.scopeStack[this.state.scopeStack.length - 1]),
                  n.forEach(function (t) {
                    t.kept || t.scopeId !== i.id || e.track(t);
                  });
              }),
              (t.prototype.gradients = function (t, e, n, r) {
                var o = this;
                if (
                  (void 0 === r && (r = !1),
                  I(e.length > 0, function () {
                    return "gradients() received an empty list of xs.";
                  }),
                  null != n && "float32" !== n.dtype)
                )
                  throw new Error(
                    "dy must have 'float32' dtype, but has '" + n.dtype + "'"
                  );
                var a = this.scopedRun(
                  function () {
                    return o.startTape();
                  },
                  function () {
                    return o.endTape();
                  },
                  function () {
                    return o.tidy("forward", t);
                  }
                );
                I(a instanceof Rt, function () {
                  return "The result y returned by f() must be a tensor.";
                });
                var i = (function (t, e, n) {
                  for (var r = {}, o = {}, a = 0; a < e.length; a++)
                    r[e[a].id] = !0;
                  for (a = 0; a < t.length; a++) {
                    var i = (f = t[a]).inputs;
                    for (var s in i) {
                      for (var u = i[s], c = !1, l = 0; l < e.length; l++)
                        if (r[u.id]) {
                          f.outputs.forEach(function (t) {
                            return (r[t.id] = !0);
                          }),
                            (c = !0),
                            (o[f.id] = !0);
                          break;
                        }
                      if (c) break;
                    }
                  }
                  var p = {};
                  p[n.id] = !0;
                  var h = {};
                  for (a = t.length - 1; a >= 0; a--)
                    for (
                      i = (f = t[a]).inputs, l = 0;
                      l < f.outputs.length;
                      l++
                    )
                      if (p[f.outputs[l].id]) {
                        for (var s in i) (p[i[s].id] = !0), (h[f.id] = !0);
                        break;
                      }
                  var d = [];
                  for (a = 0; a < t.length; a++) {
                    var f;
                    if (o[(f = t[a]).id] && h[f.id]) {
                      var v = {};
                      for (var s in f.inputs) {
                        var m = f.inputs[s];
                        r[m.id] && (v[s] = m);
                      }
                      var g = Object.assign({}, f);
                      (g.inputs = v), (g.outputs = f.outputs), d.push(g);
                    }
                  }
                  return d;
                })(this.state.activeTape, e, a);
                if (!r && 0 === i.length && e.length > 0)
                  throw new Error(
                    "Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y."
                  );
                return this.tidy("backward", function () {
                  var t,
                    r,
                    s = {};
                  (s[a.id] =
                    null == n
                      ? ((r = nt(D((t = a.shape)), "float32")),
                        Ut.makeTensor(r, t, "float32"))
                      : n),
                    (function (t, e, n) {
                      for (
                        var r = function (r) {
                            var o = e[r],
                              a = [];
                            if (
                              (o.outputs.forEach(function (e) {
                                var n = t[e.id];
                                null != n ? a.push(n) : a.push(null);
                              }),
                              null == o.gradient)
                            )
                              throw new Error(
                                "Cannot compute gradient: gradient function not found for " +
                                  o.kernelName +
                                  "."
                              );
                            var i = o.gradient(a),
                              s = function (e) {
                                if (!(e in i))
                                  throw new Error(
                                    "Cannot backprop through input " +
                                      e +
                                      ". Available gradients found: " +
                                      Object.keys(i) +
                                      "."
                                  );
                                var r = n(function () {
                                  return i[e]();
                                });
                                if ("float32" !== r.dtype)
                                  throw new Error(
                                    "Error in gradient for op " +
                                      o.kernelName +
                                      ". The gradient of input " +
                                      e +
                                      " must have 'float32' dtype, but has '" +
                                      r.dtype +
                                      "'"
                                  );
                                var a = o.inputs[e];
                                if (!N(r.shape, a.shape))
                                  throw new Error(
                                    "Error in gradient for op " +
                                      o.kernelName +
                                      ". The gradient of input '" +
                                      e +
                                      "' has shape '" +
                                      r.shape +
                                      "', which does not match the shape of the input '" +
                                      a.shape +
                                      "'"
                                  );
                                if (null == t[a.id]) t[a.id] = r;
                                else {
                                  var s = t[a.id];
                                  (t[a.id] = s.add(r)), s.dispose();
                                }
                              };
                            for (var u in o.inputs) s(u);
                          },
                          o = e.length - 1;
                        o >= 0;
                        o--
                      )
                        r(o);
                    })(s, i, function (t) {
                      return o.tidy(t);
                    });
                  var u = e.map(function (t) {
                    return s[t.id];
                  });
                  return (
                    0 === o.state.gradientDepth &&
                      (o.state.activeTape.forEach(function (t) {
                        for (var e = 0, n = t.saved; e < n.length; e++)
                          n[e].dispose();
                      }),
                      (o.state.activeTape = null)),
                    { value: a, grads: u }
                  );
                });
              }),
              (t.prototype.customGrad = function (t) {
                var e = this;
                return (
                  I(Q(t), function () {
                    return "The f passed in customGrad(f) must be a function.";
                  }),
                  function () {
                    for (var n, r = [], o = 0; o < arguments.length; o++)
                      r[o] = arguments[o];
                    I(
                      r.every(function (t) {
                        return t instanceof Rt;
                      }),
                      function () {
                        return "The args passed in customGrad(f)(x1, x2,...) must all be tensors";
                      }
                    );
                    var a = {};
                    return (
                      r.forEach(function (t, e) {
                        a[e] = t;
                      }),
                      e.runKernelFunc(
                        function (e, o) {
                          return (
                            I(
                              (n = t.apply(void 0, r.concat([o])))
                                .value instanceof Rt,
                              function () {
                                return "The function f passed in customGrad(f) must return an object where `obj.value` is a tensor";
                              }
                            ),
                            I(Q(n.gradFunc), function () {
                              return "The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.";
                            }),
                            n.value
                          );
                        },
                        a,
                        function (t, e) {
                          var o = n.gradFunc(t, e),
                            a = Array.isArray(o) ? o : [o];
                          I(a.length === r.length, function () {
                            return "The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).";
                          }),
                            I(
                              a.every(function (t) {
                                return t instanceof Rt;
                              }),
                              function () {
                                return "The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.";
                              }
                            );
                          var i = {};
                          return (
                            a.forEach(function (t, e) {
                              i[e] = function () {
                                return t;
                              };
                            }),
                            i
                          );
                        }
                      )
                    );
                  }
                );
              }),
              (t.prototype.readSync = function (t) {
                return this.state.tensorInfo.get(t).backend.readSync(t);
              }),
              (t.prototype.read = function (t) {
                return this.state.tensorInfo.get(t).backend.read(t);
              }),
              (t.prototype.time = function (t) {
                return a(this, void 0, void 0, function () {
                  var e, n;
                  return i(this, function (r) {
                    switch (r.label) {
                      case 0:
                        return (e = ot()), [4, this.backend.time(t)];
                      case 1:
                        return ((n = r.sent()).wallMs = ot() - e), [2, n];
                    }
                  });
                });
              }),
              (t.prototype.track = function (t) {
                return (
                  null != this.state.activeScope &&
                    ((t.scopeId = this.state.activeScope.id),
                    this.state.activeScope.track.push(t)),
                  t
                );
              }),
              Object.defineProperty(t.prototype, "registeredVariables", {
                get: function () {
                  return this.state.registeredVariables;
                },
                enumerable: !0,
                configurable: !0,
              }),
              (t.prototype.reset = function () {
                for (var t in (this.pendingBackendInitId++,
                this.state.dispose(),
                this.ENV.reset(),
                (this.state = new Wt()),
                this.registry))
                  this.disposeRegisteredKernels(t),
                    this.registry[t].dispose(),
                    delete this.registry[t];
                (this.backendName = null),
                  (this.backendInstance = null),
                  (this.pendingBackendInit = null);
              }),
              (t.nextTensorId = 0),
              (t.nextVariableId = 0),
              t
            );
          })();
        exports.tensor_util = Lt;
        var Ut = (function () {
          var n = (function () {
            if (null == Pt) {
              var n = void 0;
              if ("undefined" != typeof window) n = window;
              else if (void 0 !== t) n = t;
              else if (void 0 !== e) n = e;
              else {
                if ("undefined" == typeof self)
                  throw new Error("Could not find a global object");
                n = self;
              }
              Pt = n;
            }
            return Pt;
          })();
          if (null == n._tfengine) {
            var r = new s(n);
            n._tfengine = new zt(r);
          }
          return (
            (function (t) {
              exports.ENV = l = t;
            })(n._tfengine.ENV),
            (wt = function () {
              return n._tfengine;
            }),
            n._tfengine
          );
        })();
        function Vt() {
          return (
            ("undefined" != typeof window && null != window.document) ||
            "undefined" != typeof WorkerGlobalScope
          );
        }
        var Gt = c();
        Gt.registerFlag(
          "DEBUG",
          function () {
            return !1;
          },
          function (t) {
            t &&
              console.warn(
                "Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance."
              );
          }
        ),
          Gt.registerFlag("IS_BROWSER", function () {
            return Vt();
          }),
          Gt.registerFlag("IS_NODE", function () {
            return (
              void 0 !== e &&
              void 0 !== e.versions &&
              void 0 !== e.versions.node
            );
          }),
          Gt.registerFlag("IS_CHROME", function () {
            return (
              "undefined" != typeof navigator &&
              null != navigator &&
              null != navigator.userAgent &&
              /Chrome/.test(navigator.userAgent) &&
              /Google Inc/.test(navigator.vendor)
            );
          }),
          Gt.registerFlag("PROD", function () {
            return !1;
          }),
          Gt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY", function () {
            return Gt.getBool("DEBUG");
          }),
          Gt.registerFlag("DEPRECATION_WARNINGS_ENABLED", function () {
            return !0;
          }),
          Gt.registerFlag("IS_TEST", function () {
            return !1;
          });
        var qt,
          Ht,
          Kt,
          jt = {},
          Xt = {
            alpha: !1,
            antialias: !1,
            premultipliedAlpha: !1,
            preserveDrawingBuffer: !1,
            depth: !1,
            stencil: !1,
            failIfMajorPerformanceCaveat: !0,
          };
        function Yt(t, e) {
          jt[t] = e;
        }
        function $t(t) {
          t in jt ||
            (jt[t] = (function (t) {
              if (1 !== t && 2 !== t)
                throw new Error(
                  "Cannot get WebGL rendering context, WebGL is disabled."
                );
              var e = (function (t) {
                if ("undefined" != typeof OffscreenCanvas && 2 === t)
                  return new OffscreenCanvas(300, 150);
                if ("undefined" != typeof document)
                  return document.createElement("canvas");
                throw new Error("Cannot create a canvas in this context");
              })(t);
              return (
                e.addEventListener(
                  "webglcontextlost",
                  function (e) {
                    e.preventDefault(), delete jt[t];
                  },
                  !1
                ),
                1 === t
                  ? e.getContext("webgl", Xt) ||
                    e.getContext("experimental-webgl", Xt)
                  : e.getContext("webgl2", Xt)
              );
            })(t));
          var e = jt[t];
          return e.isContextLost()
            ? (delete jt[t], $t(t))
            : (e.disable(e.DEPTH_TEST),
              e.disable(e.STENCIL_TEST),
              e.disable(e.BLEND),
              e.disable(e.DITHER),
              e.disable(e.POLYGON_OFFSET_FILL),
              e.disable(e.SAMPLE_COVERAGE),
              e.enable(e.SCISSOR_TEST),
              e.enable(e.CULL_FACE),
              e.cullFace(e.BACK),
              jt[t]);
        }
        function Qt(t, e) {
          return [e, t];
        }
        function Jt(t) {
          var e = D(t);
          return _(Math.ceil(e / 4));
        }
        function Zt(t, e) {
          return [Math.max(1, Math.ceil(e / 2)), Math.max(1, Math.ceil(t / 2))];
        }
        function te(t, e) {
          var n,
            r,
            o,
            a,
            i,
            s,
            u,
            l,
            p,
            h = t;
          return (
            2 === c().getNumber("WEBGL_VERSION")
              ? ((n = h.R32F),
                (r = h.R16F),
                (o = h.RGBA16F),
                (a = h.RGBA32F),
                (i = h.RED),
                (s = 4),
                (u = 1),
                (l = h.HALF_FLOAT),
                (p = h.FLOAT))
              : ((n = t.RGBA),
                (r = t.RGBA),
                (o = t.RGBA),
                (a = h.RGBA),
                (i = t.RGBA),
                (s = 4),
                (u = 4),
                (l = null != e ? e.HALF_FLOAT_OES : null),
                (p = t.FLOAT)),
            {
              internalFormatFloat: n,
              internalFormatHalfFloat: r,
              internalFormatPackedHalfFloat: o,
              internalFormatPackedFloat: a,
              textureFormatFloat: i,
              downloadTextureFormat: t.RGBA,
              downloadUnpackNumChannels: s,
              defaultNumChannels: u,
              textureTypeHalfFloat: l,
              textureTypeFloat: p,
            }
          );
        }
        function ee(t, e, n) {
          var r = n();
          return (
            e &&
              (function (t) {
                var e = t.getError();
                if (e !== t.NO_ERROR)
                  throw new Error("WebGL Error: " + ae(t, e));
              })(t),
            r
          );
        }
        !(function (t) {
          (t[(t.DENSE = 0)] = "DENSE"),
            (t[(t.SHARED_BATCH = 1)] = "SHARED_BATCH");
        })(qt || (qt = {})),
          (function (t) {
            (t[(t.RENDER = 0)] = "RENDER"),
              (t[(t.UPLOAD = 1)] = "UPLOAD"),
              (t[(t.PIXELS = 2)] = "PIXELS"),
              (t[(t.DOWNLOAD = 3)] = "DOWNLOAD");
          })(Ht || (Ht = {})),
          (function (t) {
            (t[(t.UNPACKED_FLOAT16 = 0)] = "UNPACKED_FLOAT16"),
              (t[(t.UNPACKED_FLOAT32 = 1)] = "UNPACKED_FLOAT32"),
              (t[(t.PACKED_4X1_UNSIGNED_BYTE = 2)] =
                "PACKED_4X1_UNSIGNED_BYTE"),
              (t[(t.PACKED_2X2_FLOAT32 = 3)] = "PACKED_2X2_FLOAT32"),
              (t[(t.PACKED_2X2_FLOAT16 = 4)] = "PACKED_2X2_FLOAT16");
          })(Kt || (Kt = {}));
        var ne = 5.96e-8,
          re = 65504;
        function oe(t) {
          return !!(
            c().getBool("WEBGL_RENDER_FLOAT32_ENABLED") ||
            0 === t ||
            (ne < Math.abs(t) && Math.abs(t) < re)
          );
        }
        function ae(t, e) {
          switch (e) {
            case t.NO_ERROR:
              return "NO_ERROR";
            case t.INVALID_ENUM:
              return "INVALID_ENUM";
            case t.INVALID_VALUE:
              return "INVALID_VALUE";
            case t.INVALID_OPERATION:
              return "INVALID_OPERATION";
            case t.INVALID_FRAMEBUFFER_OPERATION:
              return "INVALID_FRAMEBUFFER_OPERATION";
            case t.OUT_OF_MEMORY:
              return "OUT_OF_MEMORY";
            case t.CONTEXT_LOST_WEBGL:
              return "CONTEXT_LOST_WEBGL";
            default:
              return "Unknown error code " + e;
          }
        }
        function ie(t, e, n) {
          return De(
            t,
            e,
            function () {
              return t.getExtension(n);
            },
            'Extension "' + n + '" not supported on this browser.'
          );
        }
        function se(t, e, n) {
          var r = De(
            t,
            e,
            function () {
              return t.createShader(t.VERTEX_SHADER);
            },
            "Unable to create vertex WebGLShader."
          );
          if (
            (ee(t, e, function () {
              return t.shaderSource(r, n);
            }),
            ee(t, e, function () {
              return t.compileShader(r);
            }),
            !1 === t.getShaderParameter(r, t.COMPILE_STATUS))
          )
            throw (
              (console.log(t.getShaderInfoLog(r)),
              new Error("Failed to compile vertex shader."))
            );
          return r;
        }
        function ue(t, e, n) {
          var r = De(
            t,
            e,
            function () {
              return t.createShader(t.FRAGMENT_SHADER);
            },
            "Unable to create fragment WebGLShader."
          );
          if (
            (ee(t, e, function () {
              return t.shaderSource(r, n);
            }),
            ee(t, e, function () {
              return t.compileShader(r);
            }),
            !1 === t.getShaderParameter(r, t.COMPILE_STATUS))
          )
            throw (
              ((function (t, e) {
                var n = pe.exec(e);
                if (null == n)
                  return (
                    console.log("Couldn't parse line number in error: " + e),
                    void console.log(t)
                  );
                for (
                  var r = +n[1],
                    o = t.split("\n"),
                    a = o.length.toString().length + 2,
                    i = o.map(function (t, e) {
                      return O((e + 1).toString(), a) + t;
                    }),
                    s = 0,
                    u = 0;
                  u < i.length;
                  u++
                )
                  s = Math.max(i[u].length, s);
                var c = i.slice(0, r - 1),
                  l = i.slice(r - 1, r),
                  p = i.slice(r);
                console.log(c.join("\n")),
                  console.log(e.split("\n")[0]),
                  console.log(
                    "%c " + O(l[0], s),
                    "border:1px solid red; background-color:#e3d2d2; color:#a61717"
                  ),
                  console.log(p.join("\n"));
              })(n, t.getShaderInfoLog(r)),
              new Error("Failed to compile fragment shader."))
            );
          return r;
        }
        var ce,
          le,
          pe = /ERROR: [0-9]+:([0-9]+):/g;
        function he(t, e) {
          return De(
            t,
            e,
            function () {
              return t.createProgram();
            },
            "Unable to create WebGLProgram."
          );
        }
        function de(t, e, n) {
          if (
            (ee(t, e, function () {
              return t.linkProgram(n);
            }),
            !1 === t.getProgramParameter(n, t.LINK_STATUS))
          )
            throw (
              (console.log(t.getProgramInfoLog(n)),
              new Error("Failed to link vertex and fragment shaders."))
            );
        }
        function fe(t, e, n) {
          if (
            (ee(t, e, function () {
              return t.validateProgram(n);
            }),
            !1 === t.getProgramParameter(n, t.VALIDATE_STATUS))
          )
            throw (
              (console.log(t.getProgramInfoLog(n)),
              new Error("Shader program validation failed."))
            );
        }
        function ve(t, e, n) {
          var r = De(
            t,
            e,
            function () {
              return t.createBuffer();
            },
            "Unable to create WebGLBuffer"
          );
          return (
            ee(t, e, function () {
              return t.bindBuffer(t.ARRAY_BUFFER, r);
            }),
            ee(t, e, function () {
              return t.bufferData(t.ARRAY_BUFFER, n, t.STATIC_DRAW);
            }),
            r
          );
        }
        function me(t, e, n) {
          var r = De(
            t,
            e,
            function () {
              return t.createBuffer();
            },
            "Unable to create WebGLBuffer"
          );
          return (
            ee(t, e, function () {
              return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, r);
            }),
            ee(t, e, function () {
              return t.bufferData(t.ELEMENT_ARRAY_BUFFER, n, t.STATIC_DRAW);
            }),
            r
          );
        }
        function ge(t, e) {
          return De(
            t,
            e,
            function () {
              return t.createTexture();
            },
            "Unable to create WebGLTexture."
          );
        }
        function xe(t, e) {
          var n = c().getNumber("WEBGL_MAX_TEXTURE_SIZE");
          if (t <= 0 || e <= 0) {
            var r = "[" + t + "x" + e + "]";
            throw new Error("Requested texture size " + r + " is invalid.");
          }
          if (t > n || e > n)
            throw (
              ((r = "[" + t + "x" + e + "]"),
              new Error(
                "Requested texture size " +
                  r +
                  " greater than WebGL maximum on this browser / GPU [" +
                  n +
                  "x" +
                  n +
                  "]."
              ))
            );
        }
        function ye(t, e) {
          return De(
            t,
            e,
            function () {
              return t.createFramebuffer();
            },
            "Unable to create WebGLFramebuffer."
          );
        }
        function be(t, e, n, r, o, a, i, s) {
          var u = t.getAttribLocation(n, r);
          return (
            -1 !== u &&
            (ee(t, e, function () {
              return t.bindBuffer(t.ARRAY_BUFFER, o);
            }),
            ee(t, e, function () {
              return t.vertexAttribPointer(u, a, t.FLOAT, !1, i, s);
            }),
            ee(t, e, function () {
              return t.enableVertexAttribArray(u);
            }),
            !0)
          );
        }
        function we(t, e, n, r) {
          Ne(t, r),
            ee(t, e, function () {
              return t.activeTexture(t.TEXTURE0 + r);
            }),
            ee(t, e, function () {
              return t.bindTexture(t.TEXTURE_2D, n);
            });
        }
        function Ce(t, e, n, r) {
          return De(
            t,
            e,
            function () {
              return t.getUniformLocation(n, r);
            },
            'uniform "' + r + '" not present in program.'
          );
        }
        function Ee(t, e, n) {
          return t.getUniformLocation(e, n);
        }
        function Re(t, e, n, r, o, a) {
          ee(t, e, function () {
            return we(t, e, r, a);
          }),
            ee(t, e, function () {
              return t.uniform1i(o, a);
            });
        }
        function Ie(t, e, n, r) {
          ee(t, e, function () {
            return t.bindFramebuffer(t.FRAMEBUFFER, r);
          }),
            ee(t, e, function () {
              return t.framebufferTexture2D(
                t.FRAMEBUFFER,
                t.COLOR_ATTACHMENT0,
                t.TEXTURE_2D,
                n,
                0
              );
            });
        }
        function ke(t, e, n) {
          ee(t, e, function () {
            return t.bindFramebuffer(t.FRAMEBUFFER, n);
          }),
            ee(t, e, function () {
              return t.framebufferTexture2D(
                t.FRAMEBUFFER,
                t.COLOR_ATTACHMENT0,
                t.TEXTURE_2D,
                null,
                0
              );
            });
        }
        function Se(t) {
          var e = t.checkFramebufferStatus(t.FRAMEBUFFER);
          if (e !== t.FRAMEBUFFER_COMPLETE)
            throw new Error("Error binding framebuffer: " + Ae(t, e));
        }
        function Ae(t, e) {
          switch (e) {
            case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:
              return "FRAMEBUFFER_INCOMPLETE_ATTACHMENT";
            case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:
              return "FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";
            case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:
              return "FRAMEBUFFER_INCOMPLETE_DIMENSIONS";
            case t.FRAMEBUFFER_UNSUPPORTED:
              return "FRAMEBUFFER_UNSUPPORTED";
            default:
              return "unknown error " + e;
          }
        }
        function De(t, e, n, r) {
          var o = ee(t, e, function () {
            return n();
          });
          if (null == o) throw new Error(r);
          return o;
        }
        function Ne(t, e) {
          var n = t.MAX_COMBINED_TEXTURE_IMAGE_UNITS - 1,
            r = e + t.TEXTURE0;
          if (r < t.TEXTURE0 || r > n)
            throw new Error(
              "textureUnit must be in [gl.TEXTURE0, gl.TEXTURE" + n + "]."
            );
        }
        function Te(t, e) {
          return void 0 === e && (e = 2), D(t.slice(0, t.length - e));
        }
        function Fe(t) {
          if (0 === t.length)
            throw Error("Cannot get rows and columns of an empty shape array.");
          return [t.length > 1 ? t[t.length - 2] : 1, t[t.length - 1]];
        }
        function _e(t) {
          var e = [1, 1, 1];
          return (
            0 === t.length ||
              (1 === t.length && 1 === t[0]) ||
              (e = [Te(t)].concat(Fe(t))),
            e
          );
        }
        function Oe(t, e) {
          var n;
          void 0 === e && (e = !1);
          var r = c().getNumber("WEBGL_MAX_TEXTURE_SIZE");
          if (
            (e &&
              ((r *= 2),
              1 ===
                (t = t.map(function (e, n) {
                  return n >= t.length - 2 ? E(t[n]) : t[n];
                })).length && (t = [2, t[0]])),
            2 !== t.length)
          ) {
            var o = L(t);
            t = o.newShape;
          }
          var a = D(t);
          if (t.length <= 1 && a <= r) return [1, a];
          if (2 === t.length && t[0] <= r && t[1] <= r) return t;
          if (3 === t.length && t[0] * t[1] <= r && t[2] <= r)
            return [t[0] * t[1], t[2]];
          if (3 === t.length && t[0] <= r && t[1] * t[2] <= r)
            return [t[0], t[1] * t[2]];
          if (4 === t.length && t[0] * t[1] * t[2] <= r && t[3] <= r)
            return [t[0] * t[1] * t[2], t[3]];
          if (4 === t.length && t[0] <= r && t[1] * t[2] * t[3] <= r)
            return [t[0], t[1] * t[2] * t[3]];
          if (e) {
            var i = Te(t),
              s = 2,
              u = 2;
            return (
              t.length && ((s = (n = Fe(t))[0]), (u = n[1])),
              _((a = i * (s / 2) * (u / 2))).map(function (t) {
                return 2 * t;
              })
            );
          }
          return _(a);
        }
        function Me(t) {
          return t % 2 == 0;
        }
        function Be(t, e) {
          if (N((t = t.slice(-2)), (e = e.slice(-2)))) return !0;
          if (!t.length || !e.length) return !0;
          if (0 === t[0] || 0 === t[1] || 0 === e[0] || 0 === e[1]) return !0;
          if (t.length !== e.length) {
            var n = t.slice(-1)[0],
              r = e.slice(-1)[0];
            if (n === r) return !0;
            if (Me(n) && Me(r) && (1 === t[0] || 1 === e[0])) return !0;
          }
          return t[1] === e[1] && Me(t[0]) && Me(e[0]);
        }
        function Pe(t) {
          if (null == ce) {
            var e = $t(t);
            ce = e.getParameter(e.MAX_TEXTURE_SIZE);
          }
          return ce;
        }
        function Le(t) {
          if (null == le) {
            var e = $t(t);
            le = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);
          }
          return Math.min(16, le);
        }
        function We(t) {
          if (0 === t) return 0;
          var e = $t(t);
          return ze(e, "EXT_disjoint_timer_query_webgl2") && 2 === t
            ? 2
            : ze(e, "EXT_disjoint_timer_query")
            ? 1
            : 0;
        }
        function ze(t, e) {
          return null != t.getExtension(e);
        }
        function Ue(t) {
          try {
            if (null != $t(t)) return !0;
          } catch (t) {
            return !1;
          }
          return !1;
        }
        function Ve(t) {
          if (0 === t) return !1;
          var e = $t(t);
          if (1 === t) {
            if (!ze(e, "OES_texture_float")) return !1;
          } else if (!ze(e, "EXT_color_buffer_float")) return !1;
          return qe(e);
        }
        function Ge(t) {
          if (0 === t) return !1;
          var e = $t(t);
          if (1 !== t) {
            if (ze(e, "EXT_color_buffer_float")) return qe(e);
            if (ze(e, "EXT_color_buffer_half_float")) {
              var n = e.getExtension("EXT_color_buffer_half_float");
              return (function (t, e) {
                var n = te(t, e),
                  r = t.createTexture();
                t.bindTexture(t.TEXTURE_2D, r),
                  t.texImage2D(
                    t.TEXTURE_2D,
                    0,
                    n.internalFormatHalfFloat,
                    1,
                    1,
                    0,
                    n.textureFormatFloat,
                    n.textureTypeHalfFloat,
                    null
                  );
                var o = t.createFramebuffer();
                t.bindFramebuffer(t.FRAMEBUFFER, o),
                  t.framebufferTexture2D(
                    t.FRAMEBUFFER,
                    t.COLOR_ATTACHMENT0,
                    t.TEXTURE_2D,
                    r,
                    0
                  );
                var a =
                  t.checkFramebufferStatus(t.FRAMEBUFFER) ===
                  t.FRAMEBUFFER_COMPLETE;
                return (
                  t.bindTexture(t.TEXTURE_2D, null),
                  t.bindFramebuffer(t.FRAMEBUFFER, null),
                  t.deleteTexture(r),
                  t.deleteFramebuffer(o),
                  a
                );
              })(e, n);
            }
            return !1;
          }
          return (
            !!ze(e, "OES_texture_float") &&
            !!ze(e, "WEBGL_color_buffer_float") &&
            qe(e)
          );
        }
        function qe(t) {
          var e = te(t),
            n = t.createTexture();
          t.bindTexture(t.TEXTURE_2D, n),
            t.texImage2D(
              t.TEXTURE_2D,
              0,
              e.internalFormatFloat,
              1,
              1,
              0,
              e.textureFormatFloat,
              e.textureTypeFloat,
              null
            );
          var r = t.createFramebuffer();
          t.bindFramebuffer(t.FRAMEBUFFER, r),
            t.framebufferTexture2D(
              t.FRAMEBUFFER,
              t.COLOR_ATTACHMENT0,
              t.TEXTURE_2D,
              n,
              0
            );
          var o =
            t.checkFramebufferStatus(t.FRAMEBUFFER) === t.FRAMEBUFFER_COMPLETE;
          return (
            t.bindTexture(t.TEXTURE_2D, null),
            t.bindFramebuffer(t.FRAMEBUFFER, null),
            t.deleteTexture(n),
            t.deleteFramebuffer(r),
            o
          );
        }
        function He(t) {
          return 2 === t && null != $t(t).fenceSync;
        }
        var Ke = Object.freeze({
            callAndCheck: ee,
            canBeRepresented: oe,
            getWebGLErrorMessage: ae,
            getExtensionOrThrow: ie,
            createVertexShader: se,
            createFragmentShader: ue,
            createProgram: he,
            linkProgram: de,
            validateProgram: fe,
            createStaticVertexBuffer: ve,
            createStaticIndexBuffer: me,
            getNumChannels: function () {
              return 2 === c().getNumber("WEBGL_VERSION") ? 1 : 4;
            },
            createTexture: ge,
            validateTextureSize: xe,
            createFramebuffer: ye,
            bindVertexBufferToProgramAttribute: be,
            bindTextureUnit: we,
            unbindTextureUnit: function (t, e, n) {
              Ne(t, n),
                ee(t, e, function () {
                  return t.activeTexture(t.TEXTURE0 + n);
                }),
                ee(t, e, function () {
                  return t.bindTexture(t.TEXTURE_2D, null);
                });
            },
            getProgramUniformLocationOrThrow: Ce,
            getProgramUniformLocation: Ee,
            bindTextureToProgramUniformSampler: Re,
            bindCanvasToFramebuffer: function (t, e) {
              ee(t, e, function () {
                return t.bindFramebuffer(t.FRAMEBUFFER, null);
              }),
                ee(t, e, function () {
                  return t.viewport(0, 0, t.canvas.width, t.canvas.height);
                }),
                ee(t, e, function () {
                  return t.scissor(0, 0, t.canvas.width, t.canvas.height);
                });
            },
            bindColorTextureToFramebuffer: Ie,
            unbindColorTextureFromFramebuffer: ke,
            validateFramebuffer: Se,
            getFramebufferErrorMessage: Ae,
            getBatchDim: Te,
            getRowsCols: Fe,
            getShapeAs3D: _e,
            getTextureShapeFromLogicalShape: Oe,
            isReshapeFree: Be,
            getWebGLMaxTextureSize: Pe,
            resetMaxTextureSize: function () {
              ce = null;
            },
            resetMaxTexturesInShader: function () {
              le = null;
            },
            getMaxTexturesInShader: Le,
            getWebGLDisjointQueryTimerVersion: We,
            hasExtension: ze,
            isWebGLVersionEnabled: Ue,
            isCapableOfRenderingToFloatTexture: Ve,
            isDownloadFloatTextureEnabled: Ge,
            isWebGLFenceEnabled: He,
          }),
          je = c();
        function Xe() {
          c().set("PROD", !0);
        }
        function Ye() {
          c().set("DEBUG", !0);
        }
        function $e() {
          c().set("DEPRECATION_WARNINGS_ENABLED", !1),
            console.warn(
              "TensorFlow.js deprecation warnings have been disabled."
            );
        }
        function Qe(t) {
          c().getBool("DEPRECATION_WARNINGS_ENABLED") &&
            console.warn(
              t +
                " You can disable deprecation warnings with tf.disableDeprecationWarnings()."
            );
        }
        function Je() {
          Ut.disposeVariables();
        }
        function Ze() {
          return Ut;
        }
        function tn() {
          return Ut.memory();
        }
        function en(t) {
          return Ut.profile(t);
        }
        function nn(t, e) {
          return Ut.tidy(t, e);
        }
        function rn(t) {
          Bt(t).forEach(function (t) {
            return t.dispose();
          });
        }
        function on(t) {
          return Ut.keep(t);
        }
        function an(t) {
          return Ut.time(t);
        }
        function sn(t) {
          return Ut.setBackend(t);
        }
        function un() {
          return Ut.ready();
        }
        function cn() {
          return Ut.backendName;
        }
        function ln(t) {
          Ut.removeBackend(t);
        }
        function pn(t) {
          return Ut.findBackend(t);
        }
        function hn(t) {
          return Ut.findBackendFactory(t);
        }
        function dn(t, e, n) {
          return void 0 === n && (n = 1), Ut.registerBackend(t, e, n);
        }
        function fn() {
          return Ut.backend;
        }
        function vn(t, e) {
          c().setPlatform(t, e);
        }
        function mn() {
          for (var t = [], e = 0; e < arguments.length; e++)
            t[e] = arguments[e];
          c().getBool("IS_TEST") || console.warn.apply(console, t);
        }
        function gn(t, e) {
          var n = t;
          if (q(t)) return "string" === e ? [] : [t.length];
          if (!Array.isArray(t)) return [];
          for (var r = []; Array.isArray(n) || (q(n) && "string" !== e); )
            r.push(n.length), (n = n[0]);
          return (
            Array.isArray(t) &&
              c().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY") &&
              (function t(e, n, r) {
                if (((r = r || []), Array.isArray(e) || q(e))) {
                  I(n.length > 0, function () {
                    return (
                      "Element arr[" +
                      r.join("][") +
                      "] should be a primitive, but is an array of " +
                      e.length +
                      " elements"
                    );
                  }),
                    I(e.length === n[0], function () {
                      return (
                        "Element arr[" +
                        r.join("][") +
                        "] should have " +
                        n[0] +
                        " elements, but has " +
                        e.length +
                        " elements"
                      );
                    });
                  for (var o = n.slice(1), a = 0; a < e.length; ++a)
                    t(e[a], o, r.concat(a));
                } else
                  I(0 === n.length, function () {
                    return (
                      "Element arr[" +
                      r.join("][") +
                      "] is a primitive, but should be an array/TypedArray of " +
                      n[0] +
                      " elements"
                    );
                  });
              })(t, r, []),
            r
          );
        }
        function xn(t, e, n, r) {
          if (
            null != t &&
            (("numeric" !== t && t !== e) ||
              ("numeric" === t && "string" === e))
          )
            throw new Error(
              "Argument '" +
                n +
                "' passed to '" +
                r +
                "' must be " +
                t +
                " tensor, but got " +
                e +
                " tensor"
            );
        }
        function yn(t, e, n, r) {
          if ((void 0 === r && (r = "numeric"), t instanceof Rt))
            return xn(r, t.dtype, e, n), t;
          var o = $(t);
          if (
            ("string" !== o &&
              ["bool", "int32", "float32"].indexOf(r) >= 0 &&
              (o = r),
            xn(r, o, e, n),
            null == t ||
              (!q(t) &&
                !Array.isArray(t) &&
                "number" != typeof t &&
                "boolean" != typeof t &&
                "string" != typeof t))
          ) {
            var a = null == t ? "null" : t.constructor.name;
            throw new Error(
              "Argument '" +
                e +
                "' passed to '" +
                n +
                "' must be a Tensor or TensorLike, but got '" +
                a +
                "'"
            );
          }
          var i = gn(t, o);
          q(t) || Array.isArray(t) || (t = [t]);
          var s =
            "string" !== o ? tt(t, o, c().getBool("DEBUG")) : A(t, [], !0);
          return Ut.makeTensor(s, i, o);
        }
        function bn(t, e, n, r) {
          if ((void 0 === r && (r = "numeric"), !Array.isArray(t)))
            throw new Error(
              "Argument " +
                e +
                " passed to " +
                n +
                " must be a `Tensor[]` or `TensorLike[]`"
            );
          return t.map(function (t, r) {
            return yn(t, e + "[" + r + "]", n);
          }, r);
        }
        function wn(t, e) {
          for (var n = 0; n < t.length; ++n)
            if (t[t.length - n - 1] !== e - 1 - n) return !1;
          return !0;
        }
        function Cn(t, e, n) {
          for (
            var r = t.length + e.length, o = [], a = 0, i = 0, s = 0;
            s < r;
            s++
          )
            -1 === n.indexOf(s) ? o.push(t[a++]) : o.push(e[i++]);
          return o;
        }
        function En(t, e) {
          for (var n = [], r = t.length, o = 0; o < r; o++)
            -1 === e.indexOf(o) && n.push(t[o]);
          return [
            n,
            e.map(function (e) {
              return t[e];
            }),
          ];
        }
        function Rn(t, e) {
          return Cn(
            t,
            e.map(function (t) {
              return 1;
            }),
            e
          );
        }
        function In(t, e, n) {
          I(wn(e, n), function () {
            return (
              t +
              " supports only inner-most axes for now. Got axes " +
              e +
              " and rank-" +
              n +
              " input."
            );
          });
        }
        function kn(t, e) {
          if (wn(t, e)) return null;
          for (var n = [], r = 0; r < e; ++r) -1 === t.indexOf(r) && n.push(r);
          return (
            t.forEach(function (t) {
              return n.push(t);
            }),
            n
          );
        }
        function Sn(t) {
          return t
            .map(function (t, e) {
              return [e, t];
            })
            .sort(function (t, e) {
              return t[1] - e[1];
            })
            .map(function (t) {
              return t[0];
            });
        }
        function An(t, e) {
          for (var n = [], r = e - t; r < e; ++r) n.push(r);
          return n;
        }
        function Dn(t, e) {
          var n = t[0].length;
          t.forEach(function (t, e) {
            I(t.length === n, function () {
              return (
                "Error in concat" +
                n +
                "D: rank of tensors[" +
                e +
                "] must be the same as the rank of the rest (" +
                n +
                ")"
              );
            });
          }),
            I(e >= 0 && e < n, function () {
              return (
                "Error in concat" +
                n +
                "D: axis must be between 0 and " +
                (n - 1) +
                "."
              );
            });
          var r = t[0];
          t.forEach(function (t, o) {
            for (var a = 0; a < n; a++)
              I(a === e || t[a] === r[a], function () {
                return (
                  "Error in concat" +
                  n +
                  "D: Shape of tensors[" +
                  o +
                  "] (" +
                  t +
                  ") does not match the shape of the rest (" +
                  r +
                  ") along the non-concatenated axis " +
                  o +
                  "."
                );
              });
          });
        }
        function Nn(t, e) {
          for (var n = t[0].slice(), r = 1; r < t.length; r++) n[e] += t[r][e];
          return n;
        }
        function Tn(t) {
          var e = Object.keys(t);
          if (1 !== e.length)
            throw new Error(
              "Please provide an object with a single key (operation name) mapping to a function. Got an object with " +
                e.length +
                " keys."
            );
          var n = e[0],
            r = t[n];
          n.endsWith("_") && (n = n.substring(0, n.length - 1));
          var o = function () {
            for (var t = [], e = 0; e < arguments.length; e++)
              t[e] = arguments[e];
            Ut.startScope(n);
            try {
              var o = r.apply(void 0, t);
              return (
                o instanceof Promise &&
                  console.error("Cannot return a Promise inside of tidy."),
                Ut.endScope(o),
                o
              );
            } catch (t) {
              throw (Ut.endScope(null), t);
            }
          };
          return (
            Object.defineProperty(o, "name", { value: n, configurable: !0 }), o
          );
        }
        je.registerFlag("HAS_WEBGL", function () {
          return je.getNumber("WEBGL_VERSION") > 0;
        }),
          je.registerFlag("WEBGL_VERSION", function () {
            return Ue(2) ? 2 : Ue(1) ? 1 : 0;
          }),
          je.registerFlag("WEBGL_BUFFER_SUPPORTED", function () {
            return 2 === je.get("WEBGL_VERSION");
          }),
          je.registerFlag("WEBGL_CPU_FORWARD", function () {
            return !0;
          }),
          je.registerFlag("WEBGL_FORCE_F16_TEXTURES", function () {
            return !1;
          }),
          je.registerFlag("WEBGL_PACK", function () {
            return je.getBool("HAS_WEBGL");
          }),
          je.registerFlag("WEBGL_PACK_NORMALIZATION", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_PACK_CLIP", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_PACK_DEPTHWISECONV", function () {
            return !1;
          }),
          je.registerFlag("WEBGL_PACK_BINARY_OPERATIONS", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_PACK_UNARY_OPERATIONS", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_PACK_REDUCE", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_LAZILY_UNPACK", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_CONV_IM2COL", function () {
            return je.getBool("WEBGL_PACK");
          }),
          je.registerFlag("WEBGL_MAX_TEXTURE_SIZE", function () {
            return Pe(je.getNumber("WEBGL_VERSION"));
          }),
          je.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER", function () {
            return Le(je.getNumber("WEBGL_VERSION"));
          }),
          je.registerFlag(
            "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",
            function () {
              var t = je.getNumber("WEBGL_VERSION");
              return 0 === t ? 0 : We(t);
            }
          ),
          je.registerFlag(
            "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",
            function () {
              return (
                je.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION") >
                  0 &&
                ((t = navigator.userAgent || navigator.vendor || window.opera),
                !(
                  /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(
                    t
                  ) ||
                  /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(
                    t.substr(0, 4)
                  )
                ))
              );
              var t;
            }
          ),
          je.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE", function () {
            return Ve(je.getNumber("WEBGL_VERSION"));
          }),
          je.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED", function () {
            return (
              !je.getBool("WEBGL_FORCE_F16_TEXTURES") &&
              je.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")
            );
          }),
          je.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED", function () {
            return Ge(je.getNumber("WEBGL_VERSION"));
          }),
          je.registerFlag("WEBGL_FENCE_API_ENABLED", function () {
            return He(je.getNumber("WEBGL_VERSION"));
          }),
          je.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM", function () {
            return je.getBool("WEBGL_RENDER_FLOAT32_ENABLED") ? 4 : 0;
          }),
          (Et = Qe);
        var Fn = Tn({
            complex_: function (t, e) {
              var n = yn(t, "real", "complex"),
                r = yn(e, "imag", "complex");
              return (
                k(
                  n.shape,
                  r.shape,
                  "real and imag shapes, " +
                    n.shape +
                    " and " +
                    r.shape +
                    ", must match in call to tf.complex()."
                ),
                Ut.runKernelFunc(
                  function (t) {
                    return t.complex(n, r);
                  },
                  { $real: n, $imag: r }
                )
              );
            },
          }),
          _n = Tn({
            real_: function (t) {
              var e = yn(t, "input", "real");
              return Ut.runKernelFunc(
                function (t) {
                  return t.real(e);
                },
                { $input: e }
              );
            },
          }),
          On = Tn({
            imag_: function (t) {
              var e = yn(t, "input", "imag");
              return Ut.runKernelFunc(
                function (t) {
                  return t.imag(e);
                },
                { $input: e }
              );
            },
          });
        function Mn(t, e, n) {
          return Bn(t, e, gn(t, n), n);
        }
        function Bn(t, e, n, r) {
          if ((null == r && (r = $(t)), "complex64" === r))
            throw new Error(
              "Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag)."
            );
          if (
            !q(t) &&
            !Array.isArray(t) &&
            "number" != typeof t &&
            "boolean" != typeof t &&
            "string" != typeof t
          )
            throw new Error(
              "values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray"
            );
          if (null != e) {
            at(e);
            var o = D(e),
              a = D(n);
            I(o === a, function () {
              return (
                "Based on the provided shape, [" +
                e +
                "], the tensor should have " +
                o +
                " values but has " +
                a
              );
            });
            for (var i = 0; i < n.length; ++i) {
              var s = n[i],
                u = i !== n.length - 1 || s !== D(e.slice(i));
              I(n[i] === e[i] || !u, function () {
                return (
                  "Error creating a new Tensor. Inferred shape (" +
                  n +
                  ") does not match the provided shape (" +
                  e +
                  "). "
                );
              });
            }
          }
          return (
            q(t) || Array.isArray(t) || (t = [t]),
            (e = e || n),
            (t =
              "string" !== r ? tt(t, r, c().getBool("DEBUG")) : A(t, [], !0)),
            Ut.makeTensor(t, e, r)
          );
        }
        function Pn(t, e) {
          if (
            ((q(t) && "string" !== e) || Array.isArray(t)) &&
            "complex64" !== e
          )
            throw new Error(
              "Error creating a new Scalar: value must be a primitive (number|boolean|string)"
            );
          if ("string" === e && q(t) && !(t instanceof Uint8Array))
            throw new Error(
              "When making a scalar from encoded string, the value must be `Uint8Array`."
            );
          return Bn(t, [], [], e);
        }
        function Ln(t, e) {
          S(t);
          var n = gn(t, e);
          if (1 !== n.length)
            throw new Error(
              "tensor1d() requires values to be a flat/TypedArray"
            );
          return Bn(t, null, n, e);
        }
        function Wn(t, e, n) {
          if ((S(t), null != e && 2 !== e.length))
            throw new Error("tensor2d() requires shape to have two numbers");
          var r = gn(t, n);
          if (2 !== r.length && 1 !== r.length)
            throw new Error(
              "tensor2d() requires values to be number[][] or flat/TypedArray"
            );
          if (1 === r.length && null == e)
            throw new Error(
              "tensor2d() requires shape to be provided when `values` are a flat/TypedArray"
            );
          return Bn(t, e, r, n);
        }
        function zn(t, e, n) {
          if ((S(t), null != e && 3 !== e.length))
            throw new Error("tensor3d() requires shape to have three numbers");
          var r = gn(t, n);
          if (3 !== r.length && 1 !== r.length)
            throw new Error(
              "tensor3d() requires values to be number[][][] or flat/TypedArray"
            );
          if (1 === r.length && null == e)
            throw new Error(
              "tensor3d() requires shape to be provided when `values` are a flat array"
            );
          return Bn(t, e, r, n);
        }
        function Un(t, e, n) {
          if ((S(t), null != e && 4 !== e.length))
            throw new Error("tensor4d() requires shape to have four numbers");
          var r = gn(t, n);
          if (4 !== r.length && 1 !== r.length)
            throw new Error(
              "tensor4d() requires values to be number[][][][] or flat/TypedArray"
            );
          if (1 === r.length && null == e)
            throw new Error(
              "tensor4d() requires shape to be provided when `values` are a flat array"
            );
          return Bn(t, e, r, n);
        }
        function Vn(t, e, n) {
          if ((S(t), null != e && 5 !== e.length))
            throw new Error("tensor5d() requires shape to have five numbers");
          var r = gn(t, n);
          if (5 !== r.length && 1 !== r.length)
            throw new Error(
              "tensor5d() requires values to be number[][][][][] or flat/TypedArray"
            );
          if (1 === r.length && null == e)
            throw new Error(
              "tensor5d() requires shape to be provided when `values` are a flat array"
            );
          return Bn(t, e, r, n);
        }
        function Gn(t, e, n) {
          if ((S(t), null != e && 6 !== e.length))
            throw new Error("tensor6d() requires shape to have six numbers");
          var r = gn(t, n);
          if (6 !== r.length && 1 !== r.length)
            throw new Error(
              "tensor6d() requires values to be number[][][][][][] or flat/TypedArray"
            );
          if (1 === r.length && null == e)
            throw new Error(
              "tensor6d() requires shape to be provided when `values` are a flat array"
            );
          return Bn(t, (e = e || r), r, n);
        }
        function qn(t, e, n, r) {
          return void 0 === e && (e = !0), Ut.makeVariable(t, e, n, r);
        }
        function Hn(t, e) {
          if ((void 0 === e && (e = "float32"), "complex64" === e)) {
            var n = Hn(t, "float32"),
              r = Kn(t, "float32");
            return Fn(n, r);
          }
          var o = nt(D(t), e);
          return Ut.makeTensor(o, t, e);
        }
        function Kn(t, e) {
          if ((void 0 === e && (e = "float32"), "complex64" === e)) {
            var n = Kn(t, "float32"),
              r = Kn(t, "float32");
            return Fn(n, r);
          }
          var o = rt(D(t), e);
          return Ut.makeTensor(o, t, e);
        }
        function jn(t, e, n) {
          return Ut.runKernelFunc(function (r) {
            return r.fill(t, e, n);
          }, {});
        }
        function Xn(t, e, n) {
          if (n <= 0)
            throw new Error("The number of values should be positive.");
          return Ut.runKernelFunc(function (r) {
            return r.linspace(t, e, n);
          }, {});
        }
        function Yn(t, e, n, r) {
          if (
            (void 0 === n && (n = 1), void 0 === r && (r = "float32"), 0 === n)
          )
            throw new Error("Cannot have a step of zero");
          if (t === e || (t < e && n < 0) || (e < t && n > 1))
            return Kn([0], r);
          var o = rt(Math.abs(Math.ceil((e - t) / n)), r);
          e < t && 1 === n && (n = -1), (o[0] = t);
          for (var a = 1; a < o.length; a++) o[a] = o[a - 1] + n;
          return Ln(o, r);
        }
        (exports.imag = On), (exports.real = _n), (exports.complex = Fn);
        var $n = Tn({
            onesLike_: function (t) {
              var e = yn(t, "x", "onesLike");
              if ("complex64" === e.dtype) {
                var n = $n(_n(e)),
                  r = Qn(On(e));
                return Fn(n, r);
              }
              return Ut.runKernelFunc(
                function (t) {
                  return t.onesLike(e);
                },
                { $x: e },
                function (t, e) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          Qn = Tn({
            zerosLike_: function (t) {
              var e = yn(t, "x", "zerosLike");
              return Ut.runKernelFunc(
                function (t) {
                  return t.zerosLike(e);
                },
                { $x: e },
                function (t, e) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          });
        (exports.zerosLike = Qn), (exports.onesLike = $n);
        var Jn = Tn({
            concat_: function (t, e) {
              void 0 === e && (e = 0),
                I(t.length >= 1, function () {
                  return "Pass at least one tensor to concat";
                });
              var n = bn(t, "tensors", "concat");
              "complex64" === n[0].dtype &&
                n.forEach(function (t) {
                  if ("complex64" !== t.dtype)
                    throw new Error(
                      "Cannot concatenate complex64 tensors with a tensor\n          with dtype " +
                        t.dtype +
                        ". "
                    );
                }),
                (e = P(e, n[0].shape)[0]);
              var r = Nn(
                n.map(function (t) {
                  return t.shape;
                }),
                e
              );
              if (0 === D(r)) return Mn([], r);
              if (
                1 ===
                (n = n.filter(function (t) {
                  return t.size > 0;
                })).length
              )
                return n[0];
              var o = n.map(function (t) {
                return t.shape;
              });
              Dn(o, e);
              var a = n,
                i = { axis: e };
              return Ut.runKernelFunc(
                function (t) {
                  return t.concat(n, e);
                },
                a,
                function (t) {
                  var n = o.map(function (t) {
                    return t[e];
                  });
                  return rr(t, n, e).map(function (t) {
                    return function () {
                      return t;
                    };
                  });
                },
                "Concat",
                i
              );
            },
          }),
          Zn = Tn({
            concat1d_: function (t) {
              return Jn(t, 0);
            },
          }),
          tr = Tn({
            concat2d_: function (t, e) {
              return Jn(t, e);
            },
          }),
          er = Tn({
            concat3d_: function (t, e) {
              return Jn(t, e);
            },
          }),
          nr = Tn({
            concat4d_: function (t, e) {
              return Jn(t, e);
            },
          }),
          rr = Tn({
            split_: function (t, e, n) {
              void 0 === n && (n = 0);
              var r,
                o = yn(t, "x", "split");
              return (
                (n = P(n, o.shape)[0]),
                "number" == typeof e
                  ? (I(o.shape[n] % e == 0, function () {
                      return "Number of splits must evenly divide the axis.";
                    }),
                    (r = new Array(e).fill(o.shape[n] / e)))
                  : (I(
                      o.shape[n] ===
                        e.reduce(function (t, e) {
                          return t + e;
                        }),
                      function () {
                        return "The sum of sizes must match the size of the axis dimension.";
                      }
                    ),
                    (r = e)),
                Ut.runKernelFunc(
                  function (t) {
                    return t.split(o, r, n);
                  },
                  { $x: o },
                  function (t) {
                    return {
                      $x: function () {
                        return Jn(t, n);
                      },
                    };
                  }
                )
              );
            },
          });
        function or(t, e) {
          return t((e = { exports: {} }), e.exports), e.exports;
        }
        (exports.split = rr),
          (exports.concat4d = nr),
          (exports.concat3d = er),
          (exports.concat2d = tr),
          (exports.concat1d = Zn),
          (exports.concat = Jn),
          "undefined" != typeof globalThis
            ? globalThis
            : "undefined" != typeof window
            ? window
            : void 0 !== t || ("undefined" != typeof self && self);
        var ar = or(function (t) {
            !(function (t, e, n) {
              function r(t) {
                var e,
                  n = this,
                  r =
                    ((e = 4022871197),
                    function (t) {
                      t = t.toString();
                      for (var n = 0; n < t.length; n++) {
                        var r = 0.02519603282416938 * (e += t.charCodeAt(n));
                        (r -= e = r >>> 0),
                          (e = (r *= e) >>> 0),
                          (e += 4294967296 * (r -= e));
                      }
                      return 2.3283064365386963e-10 * (e >>> 0);
                    });
                (n.next = function () {
                  var t = 2091639 * n.s0 + 2.3283064365386963e-10 * n.c;
                  return (
                    (n.s0 = n.s1), (n.s1 = n.s2), (n.s2 = t - (n.c = 0 | t))
                  );
                }),
                  (n.c = 1),
                  (n.s0 = r(" ")),
                  (n.s1 = r(" ")),
                  (n.s2 = r(" ")),
                  (n.s0 -= r(t)),
                  n.s0 < 0 && (n.s0 += 1),
                  (n.s1 -= r(t)),
                  n.s1 < 0 && (n.s1 += 1),
                  (n.s2 -= r(t)),
                  n.s2 < 0 && (n.s2 += 1),
                  (r = null);
              }
              function o(t, e) {
                return (
                  (e.c = t.c), (e.s0 = t.s0), (e.s1 = t.s1), (e.s2 = t.s2), e
                );
              }
              function a(t, e) {
                var n = new r(t),
                  a = e && e.state,
                  i = n.next;
                return (
                  (i.int32 = function () {
                    return (4294967296 * n.next()) | 0;
                  }),
                  (i.double = function () {
                    return i() + 1.1102230246251565e-16 * ((2097152 * i()) | 0);
                  }),
                  (i.quick = i),
                  a &&
                    ("object" == typeof a && o(a, n),
                    (i.state = function () {
                      return o(n, {});
                    })),
                  i
                );
              }
              e && e.exports ? (e.exports = a) : (this.alea = a);
            })(0, t);
          }),
          ir = or(function (t) {
            !(function (t, e, n) {
              function r(t) {
                var e = this,
                  n = "";
                (e.x = 0),
                  (e.y = 0),
                  (e.z = 0),
                  (e.w = 0),
                  (e.next = function () {
                    var t = e.x ^ (e.x << 11);
                    return (
                      (e.x = e.y),
                      (e.y = e.z),
                      (e.z = e.w),
                      (e.w ^= (e.w >>> 19) ^ t ^ (t >>> 8))
                    );
                  }),
                  t === (0 | t) ? (e.x = t) : (n += t);
                for (var r = 0; r < n.length + 64; r++)
                  (e.x ^= 0 | n.charCodeAt(r)), e.next();
              }
              function o(t, e) {
                return (e.x = t.x), (e.y = t.y), (e.z = t.z), (e.w = t.w), e;
              }
              function a(t, e) {
                var n = new r(t),
                  a = e && e.state,
                  i = function () {
                    return (n.next() >>> 0) / 4294967296;
                  };
                return (
                  (i.double = function () {
                    do {
                      var t =
                        ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) /
                        (1 << 21);
                    } while (0 === t);
                    return t;
                  }),
                  (i.int32 = n.next),
                  (i.quick = i),
                  a &&
                    ("object" == typeof a && o(a, n),
                    (i.state = function () {
                      return o(n, {});
                    })),
                  i
                );
              }
              e && e.exports ? (e.exports = a) : (this.xor128 = a);
            })(0, t);
          }),
          sr = or(function (t) {
            !(function (t, e, n) {
              function r(t) {
                var e = this,
                  n = "";
                (e.next = function () {
                  var t = e.x ^ (e.x >>> 2);
                  return (
                    (e.x = e.y),
                    (e.y = e.z),
                    (e.z = e.w),
                    (e.w = e.v),
                    ((e.d = (e.d + 362437) | 0) +
                      (e.v = e.v ^ (e.v << 4) ^ t ^ (t << 1))) |
                      0
                  );
                }),
                  (e.x = 0),
                  (e.y = 0),
                  (e.z = 0),
                  (e.w = 0),
                  (e.v = 0),
                  t === (0 | t) ? (e.x = t) : (n += t);
                for (var r = 0; r < n.length + 64; r++)
                  (e.x ^= 0 | n.charCodeAt(r)),
                    r == n.length && (e.d = (e.x << 10) ^ (e.x >>> 4)),
                    e.next();
              }
              function o(t, e) {
                return (
                  (e.x = t.x),
                  (e.y = t.y),
                  (e.z = t.z),
                  (e.w = t.w),
                  (e.v = t.v),
                  (e.d = t.d),
                  e
                );
              }
              function a(t, e) {
                var n = new r(t),
                  a = e && e.state,
                  i = function () {
                    return (n.next() >>> 0) / 4294967296;
                  };
                return (
                  (i.double = function () {
                    do {
                      var t =
                        ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) /
                        (1 << 21);
                    } while (0 === t);
                    return t;
                  }),
                  (i.int32 = n.next),
                  (i.quick = i),
                  a &&
                    ("object" == typeof a && o(a, n),
                    (i.state = function () {
                      return o(n, {});
                    })),
                  i
                );
              }
              e && e.exports ? (e.exports = a) : (this.xorwow = a);
            })(0, t);
          }),
          ur = or(function (t) {
            !(function (t, e, n) {
              function r(t) {
                var e = this;
                (e.next = function () {
                  var t,
                    n,
                    r = e.x,
                    o = e.i;
                  return (
                    (t = r[o]),
                    (n = (t ^= t >>> 7) ^ (t << 24)),
                    (n ^= (t = r[(o + 1) & 7]) ^ (t >>> 10)),
                    (n ^= (t = r[(o + 3) & 7]) ^ (t >>> 3)),
                    (n ^= (t = r[(o + 4) & 7]) ^ (t << 7)),
                    (t = r[(o + 7) & 7]),
                    (n ^= (t ^= t << 13) ^ (t << 9)),
                    (r[o] = n),
                    (e.i = (o + 1) & 7),
                    n
                  );
                }),
                  (function (t, e) {
                    var n,
                      r = [];
                    if (e === (0 | e)) r[0] = e;
                    else
                      for (e = "" + e, n = 0; n < e.length; ++n)
                        r[7 & n] =
                          (r[7 & n] << 15) ^
                          ((e.charCodeAt(n) + r[(n + 1) & 7]) << 13);
                    for (; r.length < 8; ) r.push(0);
                    for (n = 0; n < 8 && 0 === r[n]; ++n);
                    for (
                      8 == n ? (r[7] = -1) : r[n], t.x = r, t.i = 0, n = 256;
                      n > 0;
                      --n
                    )
                      t.next();
                  })(e, t);
              }
              function o(t, e) {
                return (e.x = t.x.slice()), (e.i = t.i), e;
              }
              function a(t, e) {
                null == t && (t = +new Date());
                var n = new r(t),
                  a = e && e.state,
                  i = function () {
                    return (n.next() >>> 0) / 4294967296;
                  };
                return (
                  (i.double = function () {
                    do {
                      var t =
                        ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) /
                        (1 << 21);
                    } while (0 === t);
                    return t;
                  }),
                  (i.int32 = n.next),
                  (i.quick = i),
                  a &&
                    (a.x && o(a, n),
                    (i.state = function () {
                      return o(n, {});
                    })),
                  i
                );
              }
              e && e.exports ? (e.exports = a) : (this.xorshift7 = a);
            })(0, t);
          }),
          cr = or(function (t) {
            !(function (t, e, n) {
              function r(t) {
                var e = this;
                (e.next = function () {
                  var t,
                    n,
                    r = e.w,
                    o = e.X,
                    a = e.i;
                  return (
                    (e.w = r = (r + 1640531527) | 0),
                    (n = o[(a + 34) & 127]),
                    (t = o[(a = (a + 1) & 127)]),
                    (n ^= n << 13),
                    (t ^= t << 17),
                    (n ^= n >>> 15),
                    (t ^= t >>> 12),
                    (n = o[a] = n ^ t),
                    (e.i = a),
                    (n + (r ^ (r >>> 16))) | 0
                  );
                }),
                  (function (t, e) {
                    var n,
                      r,
                      o,
                      a,
                      i,
                      s = [],
                      u = 128;
                    for (
                      e === (0 | e)
                        ? ((r = e), (e = null))
                        : ((e += "\0"), (r = 0), (u = Math.max(u, e.length))),
                        o = 0,
                        a = -32;
                      a < u;
                      ++a
                    )
                      e && (r ^= e.charCodeAt((a + 32) % e.length)),
                        0 === a && (i = r),
                        (r ^= r << 10),
                        (r ^= r >>> 15),
                        (r ^= r << 4),
                        (r ^= r >>> 13),
                        a >= 0 &&
                          ((i = (i + 1640531527) | 0),
                          (o = 0 == (n = s[127 & a] ^= r + i) ? o + 1 : 0));
                    for (
                      o >= 128 && (s[127 & ((e && e.length) || 0)] = -1),
                        o = 127,
                        a = 512;
                      a > 0;
                      --a
                    )
                      (r = s[(o + 34) & 127]),
                        (n = s[(o = (o + 1) & 127)]),
                        (r ^= r << 13),
                        (n ^= n << 17),
                        (r ^= r >>> 15),
                        (n ^= n >>> 12),
                        (s[o] = r ^ n);
                    (t.w = i), (t.X = s), (t.i = o);
                  })(e, t);
              }
              function o(t, e) {
                return (e.i = t.i), (e.w = t.w), (e.X = t.X.slice()), e;
              }
              function a(t, e) {
                null == t && (t = +new Date());
                var n = new r(t),
                  a = e && e.state,
                  i = function () {
                    return (n.next() >>> 0) / 4294967296;
                  };
                return (
                  (i.double = function () {
                    do {
                      var t =
                        ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) /
                        (1 << 21);
                    } while (0 === t);
                    return t;
                  }),
                  (i.int32 = n.next),
                  (i.quick = i),
                  a &&
                    (a.X && o(a, n),
                    (i.state = function () {
                      return o(n, {});
                    })),
                  i
                );
              }
              e && e.exports ? (e.exports = a) : (this.xor4096 = a);
            })(0, t);
          }),
          lr = or(function (t) {
            !(function (t, e, n) {
              function r(t) {
                var e = this,
                  n = "";
                (e.next = function () {
                  var t = e.b,
                    n = e.c,
                    r = e.d,
                    o = e.a;
                  return (
                    (t = (t << 25) ^ (t >>> 7) ^ n),
                    (n = (n - r) | 0),
                    (r = (r << 24) ^ (r >>> 8) ^ o),
                    (o = (o - t) | 0),
                    (e.b = t = (t << 20) ^ (t >>> 12) ^ n),
                    (e.c = n = (n - r) | 0),
                    (e.d = (r << 16) ^ (n >>> 16) ^ o),
                    (e.a = (o - t) | 0)
                  );
                }),
                  (e.a = 0),
                  (e.b = 0),
                  (e.c = -1640531527),
                  (e.d = 1367130551),
                  t === Math.floor(t)
                    ? ((e.a = (t / 4294967296) | 0), (e.b = 0 | t))
                    : (n += t);
                for (var r = 0; r < n.length + 20; r++)
                  (e.b ^= 0 | n.charCodeAt(r)), e.next();
              }
              function o(t, e) {
                return (e.a = t.a), (e.b = t.b), (e.c = t.c), (e.d = t.d), e;
              }
              function a(t, e) {
                var n = new r(t),
                  a = e && e.state,
                  i = function () {
                    return (n.next() >>> 0) / 4294967296;
                  };
                return (
                  (i.double = function () {
                    do {
                      var t =
                        ((n.next() >>> 11) + (n.next() >>> 0) / 4294967296) /
                        (1 << 21);
                    } while (0 === t);
                    return t;
                  }),
                  (i.int32 = n.next),
                  (i.quick = i),
                  a &&
                    ("object" == typeof a && o(a, n),
                    (i.state = function () {
                      return o(n, {});
                    })),
                  i
                );
              }
              e && e.exports ? (e.exports = a) : (this.tychei = a);
            })(0, t);
          }),
          pr = or(function (t) {
            !(function (e, n) {
              var r,
                o = this,
                a = 256,
                i = 6,
                s = "random",
                u = n.pow(a, i),
                c = n.pow(2, 52),
                l = 2 * c,
                p = a - 1;
              function h(t, p, h) {
                var g = [],
                  x = v(
                    (function t(e, n) {
                      var r,
                        o = [],
                        a = typeof e;
                      if (n && "object" == a)
                        for (r in e)
                          try {
                            o.push(t(e[r], n - 1));
                          } catch (t) {}
                      return o.length ? o : "string" == a ? e : e + "\0";
                    })(
                      (p = 1 == p ? { entropy: !0 } : p || {}).entropy
                        ? [t, m(e)]
                        : null == t
                        ? (function () {
                            try {
                              var t;
                              return (
                                r && (t = r.randomBytes)
                                  ? (t = t(a))
                                  : ((t = new Uint8Array(a)),
                                    (o.crypto || o.msCrypto).getRandomValues(
                                      t
                                    )),
                                m(t)
                              );
                            } catch (t) {
                              var n = o.navigator,
                                i = n && n.plugins;
                              return [+new Date(), o, i, o.screen, m(e)];
                            }
                          })()
                        : t,
                      3
                    ),
                    g
                  ),
                  y = new d(g),
                  b = function () {
                    for (var t = y.g(i), e = u, n = 0; t < c; )
                      (t = (t + n) * a), (e *= a), (n = y.g(1));
                    for (; t >= l; ) (t /= 2), (e /= 2), (n >>>= 1);
                    return (t + n) / e;
                  };
                return (
                  (b.int32 = function () {
                    return 0 | y.g(4);
                  }),
                  (b.quick = function () {
                    return y.g(4) / 4294967296;
                  }),
                  (b.double = b),
                  v(m(y.S), e),
                  (
                    p.pass ||
                    h ||
                    function (t, e, r, o) {
                      return (
                        o &&
                          (o.S && f(o, y),
                          (t.state = function () {
                            return f(y, {});
                          })),
                        r ? ((n[s] = t), e) : t
                      );
                    }
                  )(b, x, "global" in p ? p.global : this == n, p.state)
                );
              }
              function d(t) {
                var e,
                  n = t.length,
                  r = this,
                  o = 0,
                  i = (r.i = r.j = 0),
                  s = (r.S = []);
                for (n || (t = [n++]); o < a; ) s[o] = o++;
                for (o = 0; o < a; o++)
                  (s[o] = s[(i = p & (i + t[o % n] + (e = s[o])))]), (s[i] = e);
                (r.g = function (t) {
                  for (var e, n = 0, o = r.i, i = r.j, s = r.S; t--; )
                    (e = s[(o = p & (o + 1))]),
                      (n =
                        n * a +
                        s[p & ((s[o] = s[(i = p & (i + e))]) + (s[i] = e))]);
                  return (r.i = o), (r.j = i), n;
                })(a);
              }
              function f(t, e) {
                return (e.i = t.i), (e.j = t.j), (e.S = t.S.slice()), e;
              }
              function v(t, e) {
                for (var n, r = t + "", o = 0; o < r.length; )
                  e[p & o] = p & ((n ^= 19 * e[p & o]) + r.charCodeAt(o++));
                return m(e);
              }
              function m(t) {
                return String.fromCharCode.apply(0, t);
              }
              if (((n["seed" + s] = h), v(n.random(), e), t.exports)) {
                t.exports = h;
                try {
                  r = require("crypto");
                } catch (t) {}
              }
            })([], Math);
          });
        (pr.alea = ar),
          (pr.xor128 = ir),
          (pr.xorwow = sr),
          (pr.xorshift7 = ur),
          (pr.xor4096 = cr),
          (pr.tychei = lr);
        var hr = pr.alea,
          dr = (function () {
            function t(t, e, n, r, o) {
              (this.mean = t),
                (this.stdDev = e),
                (this.dtype = n),
                (this.nextVal = NaN),
                (this.truncated = r),
                this.truncated &&
                  ((this.upper = this.mean + 2 * this.stdDev),
                  (this.lower = this.mean - 2 * this.stdDev));
              var a = o || Math.random();
              this.random = hr(a.toString());
            }
            return (
              (t.prototype.nextValue = function () {
                if (!isNaN(this.nextVal)) {
                  var t = this.nextVal;
                  return (this.nextVal = NaN), t;
                }
                for (var e, n, r = !1; !r; ) {
                  var o = void 0,
                    a = void 0,
                    i = void 0;
                  do {
                    i =
                      (o = 2 * this.random() - 1) * o +
                      (a = 2 * this.random() - 1) * a;
                  } while (i >= 1 || 0 === i);
                  var s = Math.sqrt((-2 * Math.log(i)) / i);
                  (e = this.mean + this.stdDev * o * s),
                    (n = this.mean + this.stdDev * a * s),
                    (this.truncated && !this.isValidTruncated(e)) || (r = !0);
                }
                return (
                  (this.truncated && !this.isValidTruncated(n)) ||
                    (this.nextVal = this.convertValue(n)),
                  this.convertValue(e)
                );
              }),
              (t.prototype.convertValue = function (t) {
                return null == this.dtype || "float32" === this.dtype
                  ? t
                  : Math.round(t);
              }),
              (t.prototype.isValidTruncated = function (t) {
                return t <= this.upper && t >= this.lower;
              }),
              t
            );
          })(),
          fr = (function () {
            function t(t, e, n, r) {
              (this.alpha = t), (this.beta = 1 / e), (this.dtype = n);
              var o = r || Math.random();
              (this.randu = hr(o.toString())),
                (this.randn = new dr(0, 1, n, !1, this.randu())),
                (this.d = t < 1 ? t + 2 / 3 : t - 1 / 3),
                (this.c = 1 / Math.sqrt(9 * this.d));
            }
            return (
              (t.prototype.nextValue = function () {
                for (var t, e, n, r, o, a; ; ) {
                  do {
                    (r = this.randn.nextValue()), (a = 1 + this.c * r);
                  } while (a <= 0);
                  if (
                    ((a *= a * a),
                    (e = 1 - 0.331 * (t = r * r) * t),
                    (n = 0.5 * t + this.d * (1 - a + Math.log(a))),
                    (o = this.randu()) < e || Math.log(o) < n)
                  )
                    break;
                }
                return (
                  (a = (1 / this.beta) * this.d * a),
                  this.alpha < 1 &&
                    (a *= Math.pow(this.randu(), 1 / this.alpha)),
                  this.convertValue(a)
                );
              }),
              (t.prototype.convertValue = function (t) {
                return "float32" === this.dtype ? t : Math.round(t);
              }),
              t
            );
          })(),
          vr = (function () {
            function t(t, e, n, r) {
              var o = this;
              if (
                (void 0 === t && (t = 0),
                void 0 === e && (e = 1),
                (this.canReturnFloat = function () {
                  return null == o.dtype || "float32" === o.dtype;
                }),
                (this.min = t),
                (this.range = e - t),
                (this.dtype = n),
                null == r && (r = Math.random()),
                "number" == typeof r && (r = r.toString()),
                !this.canReturnFloat() && this.range <= 1)
              )
                throw new Error(
                  "The difference between " +
                    t +
                    " - " +
                    e +
                    " <= 1 and dtype is not float"
                );
              this.random = hr(r);
            }
            return (
              (t.prototype.convertValue = function (t) {
                return this.canReturnFloat() ? t : Math.round(t);
              }),
              (t.prototype.nextValue = function () {
                return this.convertValue(this.min + this.range * this.random());
              }),
              t
            );
          })();
        function mr(t, e, n) {
          return (
            void 0 === e && (e = "float32"),
            (e = e || "float32"),
            at(t),
            new bt(t, e, n)
          );
        }
        function gr(t, e) {
          void 0 === e && (e = !1), console.log(t.toString(e));
        }
        var xr = Tn({
            batchToSpaceND_: function (t, e, n) {
              var r = yn(t, "x", "batchToSpaceND"),
                o = e.reduce(function (t, e) {
                  return t * e;
                });
              return (
                I(r.rank >= 1 + e.length, function () {
                  return (
                    "input rank is " +
                    r.rank +
                    " but should be > than blockShape.length " +
                    e.length
                  );
                }),
                I(n.length === e.length, function () {
                  return (
                    "crops.length is " +
                    n.length +
                    " but should be equal to blockShape.length  " +
                    e.length
                  );
                }),
                I(r.shape[0] % o == 0, function () {
                  return (
                    "input tensor batch is " +
                    r.shape[0] +
                    " but is not divisible by the product of the elements of blockShape " +
                    e.join(" * ") +
                    " === " +
                    o
                  );
                }),
                Ut.runKernelFunc(
                  function (t) {
                    return t.batchToSpaceND(r, e, n);
                  },
                  { $x: r },
                  function (t) {
                    return {
                      $x: function () {
                        return t.spaceToBatchND(e, n);
                      },
                    };
                  }
                )
              );
            },
          }),
          yr = Tn({
            broadcastTo_: function (t, e) {
              var n = yn(t, "broadcastTo", "x"),
                r = n.shape;
              if (
                e.some(function (t) {
                  return !(t > 0) || t % 1 != 0;
                })
              )
                throw new Error(
                  "broadcastTo(): Invalid broadcast shape [" + e + "]."
                );
              if (e.length < n.rank)
                throw new Error(
                  "broadcastTo(): shape.length=" +
                    e.length +
                    " < input.rank=" +
                    n.rank +
                    "."
                );
              if (e.length > n.rank) {
                for (var o = n.shape.slice(); o.length < e.length; )
                  o.unshift(1);
                n = n.reshape(o);
              }
              for (var a = Array.from(e), i = e.length - 1; i >= 0; i--)
                if (n.shape[i] === e[i]) a[i] = 1;
                else if (1 !== n.shape[i])
                  throw new Error(
                    "broadcastTo(): [" +
                      r +
                      "] cannot be broadcast to [" +
                      e +
                      "]."
                  );
              var s = a
                .map(function (t, e) {
                  return t > 1 ? e : -1;
                })
                .filter(function (t) {
                  return t >= 0;
                });
              return 0 === s.length
                ? n.clone()
                : Ut.runKernelFunc(
                    function (t) {
                      return t.tile(n, a);
                    },
                    { input: n },
                    function (t) {
                      return {
                        input: function () {
                          return t.sum(s, !0);
                        },
                      };
                    }
                  );
            },
          }),
          br = Tn({
            cast_: function (t, e) {
              var n = yn(t, "x", "cast");
              if (!V(e))
                throw new Error("Failed to cast to unknown dtype " + e);
              if (
                ("string" === e && "string" !== n.dtype) ||
                ("string" !== e && "string" === n.dtype)
              )
                throw new Error("Only strings can be casted to strings");
              var r = { dtype: e };
              return Ut.runKernelFunc(
                function (t) {
                  return t.cast(n, e);
                },
                { x: n },
                function (t) {
                  return {
                    x: function () {
                      return t.clone();
                    },
                  };
                },
                "Cast",
                r
              );
            },
          }),
          wr = Tn({
            clone_: function (t) {
              var e = yn(t, "x", "clone", null);
              return Ut.runKernelFunc(
                function () {
                  return Ut.makeTensorFromDataId(e.dataId, e.shape, e.dtype);
                },
                { $x: e },
                function (t) {
                  return {
                    $x: function () {
                      return t.toFloat();
                    },
                  };
                }
              );
            },
          }),
          Cr = Tn({
            cumsum_: function (t, e, n, r) {
              void 0 === e && (e = 0),
                void 0 === n && (n = !1),
                void 0 === r && (r = !1);
              var o = yn(t, "x", "cumsum"),
                a = kn([(e |= 0)], o.rank),
                i = o;
              null != a && (i = o.transpose(a));
              var s = An(1, o.rank)[0],
                u = Ut.runKernelFunc(
                  function (t) {
                    return t.cumsum(i, s, n, r);
                  },
                  { permutedX: i },
                  function (t) {
                    return {
                      permutedX: function () {
                        return t.cumsum(e, n, !r);
                      },
                    };
                  }
                );
              return null != a && (u = u.transpose(a)), u;
            },
          }),
          Er = Tn({
            depthToSpace_: function (t, e, n) {
              void 0 === n && (n = "NHWC");
              var r = yn(t, "x", "depthToSpace"),
                o = "NHWC" === n ? r.shape[1] : r.shape[2],
                a = "NHWC" === n ? r.shape[2] : r.shape[3],
                i = "NHWC" === n ? r.shape[3] : r.shape[1];
              return (
                I(o * e >= 0, function () {
                  return (
                    "Negative dimension size caused by overflow when multiplying\n      " +
                    o +
                    " and " +
                    e +
                    "  for depthToSpace with input shape\n      " +
                    r.shape
                  );
                }),
                I(a * e >= 0, function () {
                  return (
                    "Negative dimension size caused by overflow when multiplying\n      " +
                    a +
                    " and " +
                    e +
                    " for depthToSpace with input shape\n          " +
                    r.shape
                  );
                }),
                I(i % (e * e) == 0, function () {
                  return (
                    "Dimension size must be evenly divisible by " +
                    e * e +
                    " but is " +
                    i +
                    " for depthToSpace with input shape " +
                    r.shape
                  );
                }),
                Ut.runKernelFunc(
                  function (t) {
                    return t.depthToSpace(r, e, n);
                  },
                  { $x: r }
                )
              );
            },
          }),
          Rr = Tn({
            expandDims_: function (t, e) {
              void 0 === e && (e = 0);
              var n = yn(t, "x", "expandDims", null);
              I(e <= n.rank, function () {
                return "Axis must be <= rank of the tensor";
              });
              var r = n.shape.slice();
              return (
                e < 0 &&
                  (I(-(n.rank + 1) <= e, function () {
                    return (
                      "Axis must be in the interval [" +
                      -(n.rank + 1) +
                      ", " +
                      n.rank +
                      "]"
                    );
                  }),
                  (e = n.rank + e + 1)),
                r.splice(e, 0, 1),
                Pr(n, r)
              );
            },
          }),
          Ir = Tn({
            eye_: function (t, e, n, r) {
              void 0 === r && (r = "float32"), null == e && (e = t);
              for (var o = mr([t, e], r), a = t <= e ? t : e, i = 0; i < a; ++i)
                o.set(1, i, i);
              var s = o.toTensor().as2D(t, e);
              if (null == n) return s;
              if (1 === n.length) return Ur(Rr(s, 0), [n[0], 1, 1]);
              if (2 === n.length)
                return Ur(Rr(Rr(s, 0), 0), [n[0], n[1], 1, 1]);
              if (3 === n.length)
                return Ur(Rr(Rr(Rr(s, 0), 0), 0), [n[0], n[1], n[2], 1, 1]);
              throw new Error(
                "eye() currently supports only 1D and 2D batchShapes, but received " +
                  n.length +
                  "D."
              );
            },
          }),
          kr = Tn({
            multinomial_: function (t, e, n, r) {
              void 0 === r && (r = !1);
              var o = yn(t, "logits", "multinomial"),
                a = o.size,
                i = o.rank;
              if (a < 2)
                throw new Error(
                  "Error in multinomial: you need at least 2 outcomes, but got " +
                    a +
                    "."
                );
              if (i > 2)
                throw new Error(
                  "Rank of probabilities must be 1 or 2, but is " + i
                );
              n = n || Math.random();
              var s = 1 === i ? o.as2D(1, -1) : o,
                u = Ut.runKernelFunc(
                  function (t) {
                    return t.multinomial(s, r, e, n);
                  },
                  { logits2D: s }
                );
              return 1 === i ? u.as1D() : u;
            },
          }),
          Sr = Tn({
            oneHot_: function (t, e, n, r) {
              if ((void 0 === n && (n = 1), void 0 === r && (r = 0), e < 2))
                throw new Error(
                  "Error in oneHot: depth must be >=2, but it is " + e
                );
              var o = yn(t, "indices", "oneHot", "int32"),
                a = o.shape.concat([e]);
              return (
                (o = o.flatten()),
                Ut.runKernelFunc(
                  function (t) {
                    return t.oneHot(o, e, n, r);
                  },
                  { $indices: o },
                  function (t) {
                    return {
                      $indices: function () {
                        return Kn(o.shape, "float32");
                      },
                    };
                  }
                ).reshape(a)
              );
            },
          }),
          Ar = Tn({
            pad_: function (t, e, n) {
              void 0 === n && (n = 0);
              var r = yn(t, "x", "pad");
              if (0 === r.rank)
                throw new Error(
                  "pad(scalar) is not defined. Pass non-scalar to pad"
                );
              var o = { paddings: e, constantValue: n };
              return Ut.runKernelFunc(
                function (t) {
                  return t.pad(r, e, n);
                },
                { x: r },
                function (t) {
                  var n = e.map(function (t) {
                    return t[0];
                  });
                  return {
                    x: function () {
                      return t.slice(n, r.shape);
                    },
                  };
                },
                "PadV2",
                o
              );
            },
          }),
          Dr = Tn({
            pad1d_: function (t, e, n) {
              return (
                void 0 === n && (n = 0),
                I(2 === e.length, function () {
                  return "Invalid number of paddings. Must be length of 2.";
                }),
                Ar(t, [e], n)
              );
            },
          }),
          Nr = Tn({
            pad2d_: function (t, e, n) {
              return (
                void 0 === n && (n = 0),
                I(
                  2 === e.length && 2 === e[0].length && 2 === e[1].length,
                  function () {
                    return "Invalid number of paddings. Must be length of 2 each.";
                  }
                ),
                Ar(t, e, n)
              );
            },
          }),
          Tr = Tn({
            pad3d_: function (t, e, n) {
              return (
                void 0 === n && (n = 0),
                I(
                  3 === e.length &&
                    2 === e[0].length &&
                    2 === e[1].length &&
                    2 === e[2].length,
                  function () {
                    return "Invalid number of paddings. Must be length of 2 each.";
                  }
                ),
                Ar(t, e, n)
              );
            },
          }),
          Fr = Tn({
            pad4d_: function (t, e, n) {
              return (
                void 0 === n && (n = 0),
                I(
                  4 === e.length &&
                    2 === e[0].length &&
                    2 === e[1].length &&
                    2 === e[2].length &&
                    2 === e[3].length,
                  function () {
                    return "Invalid number of paddings. Must be length of 2 each.";
                  }
                ),
                Ar(t, e, n)
              );
            },
          }),
          _r = Tn({
            rand_: function (t, e, n) {
              var r = D(t),
                o = null;
              if (null == n || "float32" === n) o = new Float32Array(r);
              else if ("int32" === n) o = new Int32Array(r);
              else {
                if ("bool" !== n) throw new Error("Unknown data type " + n);
                o = new Uint8Array(r);
              }
              for (var a = 0; a < r; a++) o[a] = e();
              return Ut.makeTensor(o, t, n);
            },
          }),
          Or = Tn({
            randomNormal_: function (t, e, n, r, o) {
              if (
                (void 0 === e && (e = 0),
                void 0 === n && (n = 1),
                null != r && "bool" === r)
              )
                throw new Error("Unsupported data type " + r);
              for (
                var a = new dr(e, n, r, !1, o), i = mr(t, r), s = 0;
                s < i.values.length;
                s++
              )
                i.values[s] = a.nextValue();
              return i.toTensor();
            },
          }),
          Mr = Tn({
            randomGamma_: function (t, e, n, r, o) {
              if (
                (void 0 === n && (n = 1),
                void 0 === r && (r = "float32"),
                null == n && (n = 1),
                null == r && (r = "float32"),
                "float32" !== r && "int32" !== r)
              )
                throw new Error("Unsupported data type " + r);
              for (
                var a = new fr(e, n, r, o), i = mr(t, r), s = 0;
                s < i.values.length;
                s++
              )
                i.values[s] = a.nextValue();
              return i.toTensor();
            },
          }),
          Br = Tn({
            randomUniform_: function (t, e, n, r, o) {
              void 0 === e && (e = 0),
                void 0 === n && (n = 1),
                void 0 === r && (r = "float32");
              for (
                var a = mr(t, r), i = new vr(e, n, null, o), s = 0;
                s < a.values.length;
                s++
              )
                a.values[s] = i.nextValue();
              return a.toTensor();
            },
          }),
          Pr = Tn({
            reshape_: function (t, e) {
              var n = yn(t, "x", "reshape", null);
              (e = B(e, n.size)),
                I(n.size === D(e), function () {
                  return "new shape and old shape must have the same number of elements.";
                });
              var r = { shape: e };
              return Ut.runKernelFunc(
                function (t) {
                  return t.reshape(n, e);
                },
                { x: n },
                function (t) {
                  return {
                    x: function () {
                      return t.reshape(n.shape);
                    },
                  };
                },
                "Reshape",
                r
              );
            },
          }),
          Lr = Tn({
            spaceToBatchND_: function (t, e, n) {
              var r = yn(t, "x", "spaceToBatchND");
              return (
                I(r.rank >= 1 + e.length, function () {
                  return (
                    "input rank " +
                    r.rank +
                    " should be > than [blockShape] " +
                    e.length
                  );
                }),
                I(n.length === e.length, function () {
                  return (
                    "paddings.shape[0] " +
                    n.length +
                    " must be equal to [blockShape] " +
                    e.length
                  );
                }),
                I(
                  r.shape.reduce(function (t, r, o) {
                    return o > 0 && o <= e.length
                      ? t && (r + n[o - 1][0] + n[o - 1][1]) % e[o - 1] == 0
                      : t;
                  }, !0),
                  function () {
                    return (
                      "input spatial dimensions " +
                      r.shape.slice(1) +
                      " with paddings " +
                      n.toString() +
                      " must be divisible by blockShapes " +
                      e.toString()
                    );
                  }
                ),
                Ut.runKernelFunc(
                  function (t) {
                    return t.spaceToBatchND(r, e, n);
                  },
                  { $x: r },
                  function (t) {
                    return {
                      $x: function () {
                        return t.batchToSpaceND(e, n);
                      },
                    };
                  }
                )
              );
            },
          }),
          Wr = Tn({
            squeeze_: function (t, e) {
              var n = yn(t, "x", "squeeze");
              return Pr(n, L(n.shape, e).newShape);
            },
          }),
          zr = Tn({
            stack_: function (t, e) {
              void 0 === e && (e = 0);
              var n = bn(t, "tensors", "stack");
              if (
                (I(n.length >= 1, function () {
                  return "Pass at least one tensor to tf.stack";
                }),
                1 === n.length)
              )
                return n[0].expandDims(e);
              var r = n[0].rank,
                o = n[0].shape,
                a = n[0].dtype;
              I(e <= r, function () {
                return "Axis must be <= rank of the tensor";
              }),
                n.forEach(function (t) {
                  k(
                    o,
                    t.shape,
                    "All tensors passed to stack must have matching shapes"
                  );
                }),
                n.forEach(function (t) {
                  I(a === t.dtype, function () {
                    return "All tensors passed to stack must have matching dtypes";
                  });
                });
              var i = n.map(function (t) {
                return t.expandDims(e);
              });
              return Jn(i, e);
            },
          }),
          Ur = Tn({
            tile_: function (t, e) {
              var n = yn(t, "x", "tile", null);
              I(n.rank === e.length, function () {
                return (
                  "Error in transpose: rank of input " +
                  n.rank +
                  " must match length of reps " +
                  e +
                  "."
                );
              });
              var r = [n],
                o = { reps: e };
              return Ut.runKernelFunc(
                function (t, r) {
                  var o = t.tile(n, e);
                  return r([n]), o;
                },
                { x: n },
                function (t, n) {
                  var r = n[0];
                  return {
                    x: function () {
                      var n = Qn(r);
                      if (1 === r.rank)
                        for (var o = 0; o < e[0]; ++o)
                          n = n.add(t.slice([o * r.shape[0]], [r.shape[0]]));
                      else if (2 === r.rank)
                        for (o = 0; o < e[0]; ++o)
                          for (var a = 0; a < e[1]; ++a)
                            n = n.add(
                              t.slice(
                                [o * r.shape[0], a * r.shape[1]],
                                [r.shape[0], r.shape[1]]
                              )
                            );
                      else if (3 === r.rank)
                        for (o = 0; o < e[0]; ++o)
                          for (a = 0; a < e[1]; ++a)
                            for (var i = 0; i < e[2]; ++i)
                              n = n.add(
                                t.slice(
                                  [
                                    o * r.shape[0],
                                    a * r.shape[1],
                                    i * r.shape[2],
                                  ],
                                  [r.shape[0], r.shape[1], r.shape[2]]
                                )
                              );
                      else {
                        if (4 !== r.rank)
                          throw new Error(
                            "Gradient for tile operation is not implemented for rank-" +
                              r.rank +
                              " tensors yet."
                          );
                        for (o = 0; o < e[0]; ++o)
                          for (a = 0; a < e[1]; ++a)
                            for (i = 0; i < e[2]; ++i)
                              for (var s = 0; s < e[3]; ++s)
                                n = n.add(
                                  t.slice(
                                    [
                                      o * r.shape[0],
                                      a * r.shape[1],
                                      i * r.shape[2],
                                      s * r.shape[3],
                                    ],
                                    [
                                      r.shape[0],
                                      r.shape[1],
                                      r.shape[2],
                                      r.shape[3],
                                    ]
                                  )
                                );
                      }
                      return n;
                    },
                  };
                },
                "Tile",
                o,
                r
              );
            },
          }),
          Vr = Tn({
            truncatedNormal_: function (t, e, n, r, o) {
              if (
                (void 0 === e && (e = 0),
                void 0 === n && (n = 1),
                null != r && "bool" === r)
              )
                throw new Error("Unsupported data type " + r);
              for (
                var a = new dr(e, n, r, !0, o), i = mr(t, r), s = 0;
                s < i.values.length;
                s++
              )
                i.values[s] = a.nextValue();
              return i.toTensor();
            },
          }),
          Gr = Tn({
            unstack_: function (t, e) {
              void 0 === e && (e = 0), (e = e || 0);
              var n = yn(t, "x", "unstack");
              I(e >= -n.shape.length && e < n.shape.length, function () {
                return (
                  "Axis = " +
                  e +
                  " is not in [-" +
                  n.shape.length +
                  ", " +
                  n.shape.length +
                  ")"
                );
              }),
                e < 0 && (e += n.shape.length);
              var r = { axis: e };
              return Ut.runKernelFunc(
                function (t) {
                  return t.unstack(n, e);
                },
                { x: n },
                function (t) {
                  return {
                    x: function () {
                      return zr(t, e);
                    },
                  };
                },
                "Unpack",
                r
              );
            },
          }),
          qr = function (t, e) {
            return a(this, void 0, void 0, function () {
              var n, r, o, a, s, u, c, l, p, h;
              return i(this, function (i) {
                switch (i.label) {
                  case 0:
                    return (
                      (n = yn(t, "x", "setdiff1d")),
                      (r = yn(e, "y", "setdiff1d")),
                      I(n.dtype === r.dtype, function () {
                        return (
                          "x and y should have the same dtype, but got x (" +
                          n.dtype +
                          ") and y (" +
                          r.dtype +
                          ")."
                        );
                      }),
                      I(1 === n.rank, function () {
                        return (
                          "x should be 1D tensor, but got x (" + n.shape + ")."
                        );
                      }),
                      I(1 === r.rank, function () {
                        return (
                          "y should be 1D tensor, but got y (" + r.shape + ")."
                        );
                      }),
                      [4, n.data()]
                    );
                  case 1:
                    return (o = i.sent()), [4, r.data()];
                  case 2:
                    for (
                      a = i.sent(), s = new Set(a), u = 0, p = 0;
                      p < o.length;
                      p++
                    )
                      s.has(o[p]) || u++;
                    for (
                      c = new bt([u], n.dtype),
                        l = new bt([u], "int32"),
                        p = 0,
                        h = 0;
                      p < o.length;
                      p++
                    )
                      s.has(o[p]) ||
                        ((c.values[h] = o[p]), (l.values[h] = p), h++);
                    return [2, [c.toTensor(), l.toTensor()]];
                }
              });
            });
          };
        function Hr(t, e, n, r) {
          void 0 === r && (r = !0);
          var o = [];
          if (r)
            (o = o.concat(e.slice(0))).push(t[0] / n),
              (o = o.concat(t.slice(1)));
          else {
            o = o.concat(t[0]);
            for (var a = e.length, i = 0; i < a; ++i)
              o = o.concat([t[i + 1] / e[i], e[i]]);
            o = o.concat(t.slice(a + 1));
          }
          return o;
        }
        function Kr(t, e, n) {
          void 0 === n && (n = !0);
          var r = [];
          if (n) {
            r.push(e);
            for (var o = e + 1; o < t; ++o)
              o <= 2 * e ? (r.push(o), r.push(o - (e + 1))) : r.push(o);
          } else {
            var a = [],
              i = [];
            for (o = 1; o < t; ++o)
              o >= 2 * e + 1 || o % 2 == 1 ? i.push(o) : a.push(o);
            r.push.apply(r, a), r.push(0), r.push.apply(r, i);
          }
          return r;
        }
        function jr(t, e, n, r) {
          void 0 === r && (r = !0);
          var o = [];
          r ? o.push(t[0] / n) : o.push(t[0] * n);
          for (var a = 1; a < t.length; ++a)
            a <= e.length
              ? r
                ? o.push(e[a - 1] * t[a])
                : o.push(t[a] / e[a - 1])
              : o.push(t[a]);
          return o;
        }
        function Xr(t, e) {
          for (var n = [0], r = 0; r < e; ++r) n.push(t[r][0]);
          return n;
        }
        function Yr(t, e, n) {
          for (var r = t.slice(0, 1), o = 0; o < n; ++o)
            r.push(t[o + 1] - e[o][0] - e[o][1]);
          return r;
        }
        function $r(t, e) {
          if (t.rank < 1)
            throw new Error(
              "tf.gatherND() expects the input to be rank 1 or higher, but the rank was " +
                t.rank +
                "."
            );
          if (e.rank < 1)
            throw new Error(
              "tf.gatherND() expects the indices to be rank 1 or higher, but the rank was " +
                e.rank +
                "."
            );
          if ("int32" !== e.dtype)
            throw new Error(
              "tf.gatherND() expects the indices to be int32 type, but the dtype was " +
                e.dtype +
                "."
            );
          if (e.shape[e.rank - 1] > t.rank)
            throw new Error(
              "index innermost dimension length must be <= tensor rank; saw: " +
                e.shape[e.rank - 1] +
                " vs. " +
                t.rank
            );
          if (0 === t.size)
            throw new Error(
              "Requested more than 0 entries, but input is empty. Input shape: " +
                t.shape +
                "."
            );
          for (
            var n = e.shape, r = n[n.length - 1], o = 1, a = 0;
            a < n.length - 1;
            ++a
          )
            o *= n[a];
          var i = t.shape,
            s = n.slice();
          s.pop();
          var u = 1;
          for (a = r; a < t.rank; ++a) (u *= i[a]), s.push(i[a]);
          var c = Z(t.shape)
            .map(function (t) {
              return t / u;
            })
            .concat([1])
            .slice(0, r);
          return [s, o, u, c];
        }
        (exports.setdiff1dAsync = qr),
          (exports.unstack = Gr),
          (exports.truncatedNormal = Vr),
          (exports.tile = Ur),
          (exports.stack = zr),
          (exports.squeeze = Wr),
          (exports.spaceToBatchND = Lr),
          (exports.reshape = Pr),
          (exports.randomUniform = Br),
          (exports.randomGamma = Mr),
          (exports.randomNormal = Or),
          (exports.rand = _r),
          (exports.pad4d = Fr),
          (exports.pad3d = Tr),
          (exports.pad2d = Nr),
          (exports.pad1d = Dr),
          (exports.pad = Ar),
          (exports.oneHot = Sr),
          (exports.multinomial = kr),
          (exports.eye = Ir),
          (exports.expandDims = Rr),
          (exports.depthToSpace = Er),
          (exports.cumsum = Cr),
          (exports.clone = wr),
          (exports.cast = br),
          (exports.broadcastTo = yr),
          (exports.batchToSpaceND = xr);
        var Qr = Object.freeze({ prepareAndValidate: $r }),
          Jr = 30;
        function Zr(t) {
          return t <= Jr ? t : J(t, Math.floor(Math.sqrt(t)));
        }
        function to(t, e, n) {
          var r = e.rank > 1 ? e.shape[e.rank - 1] : 1,
            o = e.rank > 1 ? e.rank - 1 : 1,
            a =
              "Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: " +
              n.shape +
              ", indices.shape: " +
              e.shape +
              ", shape: " +
              t +
              ", sliceDim: " +
              r +
              ", and batchDim: " +
              o +
              ".";
          if (n.rank < o) throw new Error(a + " update.rank < " + o + ". ");
          if (t.length < r + (n.rank - o))
            throw new Error(a + " Output shape length < " + (r + (n.rank - o)));
          if (n.rank !== o + t.length - r)
            throw new Error(a + " update.rank != " + (o + t.length - r));
          for (var i = 0; i < o; ++i)
            if (n.shape[i] !== e.shape[i])
              throw new Error(
                a +
                  " updates.shape[" +
                  i +
                  "] (" +
                  n.shape[i] +
                  ") != indices.shape[" +
                  i +
                  "] (" +
                  e.shape[i] +
                  ")."
              );
          for (i = 0; i < n.rank - o; ++i)
            if (n.shape[i + o] !== t[i + r])
              throw new Error(
                a +
                  " updates.shape[" +
                  (i + o) +
                  "] (" +
                  n.shape[i + o] +
                  ") != shape[" +
                  (i + o) +
                  "] (" +
                  t[i + o] +
                  ")"
              );
        }
        function eo(t, e, n) {
          if (e.rank < 1)
            throw new Error(
              "tf.scatterND() expects the indices to be rank 1 or higher, but the rank was " +
                e.rank +
                "."
            );
          if (t.rank < 1)
            throw new Error(
              "tf.scatterND() expects the updates to be rank 1 or higher, but the rank was " +
                t.rank +
                "."
            );
          if ("int32" !== e.dtype)
            throw new Error(
              "The dtype of 'indices' should be int32, but got dtype: " +
                e.dtype
            );
          if (n.length < 1)
            throw new Error(
              "Output rank must be greater or equal to 1, but got shape: " + n
            );
          if (0 === n.length) {
            if (0 === e.size)
              throw new Error(
                "Indices specified for empty output. indices shape: " + e.shape
              );
            if (0 === t.size)
              throw new Error(
                "Updates specified for empty output. updates shape: " + t.shape
              );
          }
          to(n, e, t);
        }
        function no(t, e, n) {
          for (
            var r = e.shape.length,
              o = r > 1 ? e.shape[r - 1] : 1,
              a = n.length,
              i = 1,
              s = o;
            s < a;
            ++s
          )
            i *= n[s];
          var u = o < 1 ? 1 : o;
          return {
            sliceRank: o,
            numUpdates: D(e.shape) / u,
            sliceSize: i,
            strides: Z(n.slice(0, o)).concat([1]),
            outputSize: D(n),
          };
        }
        exports.gather_util = Qr;
        var ro = Object.freeze({
          validateUpdateShape: to,
          validateInput: eo,
          calculateShapes: no,
        });
        function oo(t, e, n) {
          I(t.rank === e.length, function () {
            return (
              "Error in slice" +
              t.rank +
              "D: Length of begin " +
              e +
              " must match the rank of the array (" +
              t.rank +
              ")."
            );
          }),
            I(t.rank === n.length, function () {
              return (
                "Error in slice" +
                t.rank +
                "D: Length of size " +
                n +
                " must match the rank of the array (" +
                t.rank +
                ")."
              );
            });
          for (
            var r = function (r) {
                I(e[r] + n[r] <= t.shape[r], function () {
                  return (
                    "Error in slice" +
                    t.rank +
                    "D: begin[" +
                    r +
                    "] + size[" +
                    r +
                    "] (" +
                    (e[r] + n[r]) +
                    ") would overflow input.shape[" +
                    r +
                    "] (" +
                    t.shape[r] +
                    ")"
                  );
                });
              },
              o = 0;
            o < t.rank;
            ++o
          )
            r(o);
        }
        function ao(t) {
          for (var e = [], n = 0; t > 0; ) 1 & t && e.push(n), (t /= 2), n++;
          return e;
        }
        function io(t, e, n) {
          for (var r = [], o = 0; o < t.length; o++)
            r[o] = Math.ceil((e[o] - t[o]) / n[o]);
          return r;
        }
        function so(t, e, n, r, o) {
          var a = e[o],
            i = n[o] || 1;
          (t & (1 << o) || null == a) &&
            (a = i > 0 ? Number.MIN_SAFE_INTEGER : Number.MAX_SAFE_INTEGER);
          var s = r[o];
          return a < 0 && (a += s), C(0, a, s - 1);
        }
        function uo(t, e, n, r, o) {
          var a = e[o],
            i = n[o] || 1;
          (t & (1 << o) || null == a) &&
            (a = i > 0 ? Number.MAX_SAFE_INTEGER : Number.MIN_SAFE_INTEGER);
          var s = r[o];
          return a < 0 && (a += s), i > 0 ? C(0, a, s) : C(-1, a, s - 1);
        }
        function co(t, e, n) {
          for (var r = n.length, o = 0; o < n.length; o++)
            if (n[o] > 1) {
              r = o;
              break;
            }
          for (o = r + 1; o < n.length; o++)
            if (e[o] > 0 || n[o] !== t[o]) return !1;
          return !0;
        }
        function lo(t, e) {
          for (
            var n = t.length > 0 ? t[t.length - 1] : 1, r = 0;
            r < t.length - 1;
            r++
          )
            n += t[r] * e[r];
          return n;
        }
        exports.scatter_util = ro;
        var po = Object.freeze({
          assertParamsValid: oo,
          maskToAxes: ao,
          computeOutShape: io,
          startForAxis: so,
          stopForAxis: uo,
          isSliceContinous: co,
          computeFlatOffset: lo,
        });
        function ho(t) {
          return (
            I(Q(t), function () {
              return "The f passed in grad(f) must be a function";
            }),
            function (e, n) {
              var r = yn(e, "x", "tf.grad", null),
                o = null != n ? yn(n, "dy", "tf.grad") : null;
              return Ut.tidy(function () {
                var e = Ut.gradients(
                    function () {
                      return t(r);
                    },
                    [r],
                    o
                  ),
                  n = e.value,
                  a = e.grads;
                return (
                  null != o &&
                    k(
                      n.shape,
                      o.shape,
                      "The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"
                    ),
                  yo(a),
                  a[0]
                );
              });
            }
          );
        }
        function fo(t) {
          return (
            I(Q(t), function () {
              return "The f passed in grads(f) must be a function";
            }),
            function (e, n) {
              I(Array.isArray(e), function () {
                return "The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s";
              });
              var r = bn(e, "args", "tf.grads", null),
                o = null != n ? yn(n, "dy", "tf.grads") : null;
              return Ut.tidy(function () {
                var e = Ut.gradients(
                    function () {
                      return t.apply(void 0, r);
                    },
                    r,
                    o
                  ),
                  n = e.value,
                  a = e.grads;
                return (
                  null != o &&
                    k(
                      n.shape,
                      o.shape,
                      "The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"
                    ),
                  yo(a),
                  a
                );
              });
            }
          );
        }
        function vo(t) {
          return (
            I(Q(t), function () {
              return "The f passed in valueAndGrad(f) must be a function";
            }),
            function (e, n) {
              I(e instanceof Rt, function () {
                return "The x passed in valueAndGrad(f)(x) must be a tensor";
              }),
                I(null == n || n instanceof Rt, function () {
                  return "The dy passed in valueAndGrad(f)(x, dy) must be a tensor";
                });
              var r = Ut.gradients(
                  function () {
                    return t(e);
                  },
                  [e],
                  n
                ),
                o = r.grads,
                a = r.value;
              return yo(o), { grad: o[0], value: a };
            }
          );
        }
        function mo(t) {
          return (
            I(Q(t), function () {
              return "The f passed in valueAndGrads(f) must be a function";
            }),
            function (e, n) {
              I(
                Array.isArray(e) &&
                  e.every(function (t) {
                    return t instanceof Rt;
                  }),
                function () {
                  return "The args passed in valueAndGrads(f)(args) must be array of tensors";
                }
              ),
                I(null == n || n instanceof Rt, function () {
                  return "The dy passed in valueAndGrads(f)(args, dy) must be a tensor";
                });
              var r = Ut.gradients(
                function () {
                  return t.apply(void 0, e);
                },
                e,
                n
              );
              return (
                null != n &&
                  k(
                    r.value.shape,
                    n.shape,
                    "The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"
                  ),
                yo(r.grads),
                r
              );
            }
          );
        }
        function go(t, e) {
          I(Q(t), function () {
            return "The f passed in variableGrads(f) must be a function";
          }),
            I(
              null == e ||
                (Array.isArray(e) &&
                  e.every(function (t) {
                    return t instanceof Nt;
                  })),
              function () {
                return "The varList passed in variableGrads(f, varList) must be an array of variables";
              }
            );
          var n = null != e;
          if (!n)
            for (var r in ((e = []), Ut.registeredVariables))
              e.push(Ut.registeredVariables[r]);
          var o = n
              ? e.filter(function (t) {
                  return !t.trainable;
                })
              : null,
            a = e.length;
          I(
            (e = e.filter(function (t) {
              return t.trainable;
            })).length > 0,
            function () {
              return (
                "variableGrads() expects at least one of the input variables to be trainable, but none of the " +
                a +
                " variables is trainable."
              );
            }
          );
          var i = Ut.gradients(t, e, null, !0),
            s = i.value,
            u = i.grads;
          I(
            u.some(function (t) {
              return null != t;
            }),
            function () {
              return "Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().";
            }
          ),
            I(0 === s.rank, function () {
              return (
                "The f passed in variableGrads(f) must return a scalar, but it returned a rank-" +
                s.rank +
                " tensor"
              );
            });
          var c = {};
          return (
            e.forEach(function (t, e) {
              null != u[e] && (c[t.name] = u[e]);
            }),
            null != o &&
              o.forEach(function (t) {
                return (c[t.name] = null);
              }),
            { value: s, grads: c }
          );
        }
        function xo(t) {
          return Ut.customGrad(t);
        }
        function yo(t) {
          if (
            t.filter(function (t) {
              return null == t;
            }).length > 0
          )
            throw new Error(
              "Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y."
            );
        }
        exports.slice_util = po;
        var bo = Tn({
            softmax_: function (t, e) {
              void 0 === e && (e = -1);
              var n = yn(t, "logits", "softmax", "float32");
              if ((-1 === e && (e = n.rank - 1), e !== n.rank - 1))
                throw Error(
                  "Softmax along a non-last dimension is not yet supported. Logits was rank " +
                    n.rank +
                    " and dim was " +
                    e
                );
              return Ut.runKernelFunc(
                function (t, r) {
                  var o = t.softmax(n, e);
                  return r([o]), o;
                },
                { logits: n },
                function (t, n) {
                  var r = n[0],
                    o = t.mul(r);
                  return {
                    logits: function () {
                      return o.sub(o.sum([e], !0).mul(r));
                    },
                  };
                },
                "Softmax",
                { dim: e },
                [],
                [!0]
              );
            },
          }),
          wo = Tn({
            logSoftmax_: function (t, e) {
              void 0 === e && (e = -1);
              var n = yn(t, "logits", "logSoftmax");
              if ((-1 === e && (e = n.rank - 1), e !== n.rank - 1))
                throw Error(
                  "Log Softmax along a non-last dimension is not yet supported. Logits was rank " +
                    n.rank +
                    " and axis was " +
                    e
                );
              return xo(function (t, n) {
                var r = t.max(e, !0),
                  o = t.sub(r),
                  a = o.toFloat().sub(o.exp().sum(e, !0).log());
                return (
                  n([a]),
                  {
                    value: a,
                    gradFunc: function (t, n) {
                      var r = n[0].exp();
                      return t.sub(t.sum(e, !0).mul(r));
                    },
                  }
                );
              })(n);
            },
          }),
          Co = (function () {
            function t(t, e) {
              (this.backend = t),
                (this.dataMover = e),
                (this.data = new WeakMap()),
                (this.dataIdsCount = 0);
            }
            return (
              (t.prototype.get = function (t) {
                return (
                  this.data.has(t) || this.dataMover.moveData(this.backend, t),
                  this.data.get(t)
                );
              }),
              (t.prototype.set = function (t, e) {
                this.dataIdsCount++, this.data.set(t, e);
              }),
              (t.prototype.has = function (t) {
                return this.data.has(t);
              }),
              (t.prototype.delete = function (t) {
                return this.dataIdsCount--, this.data.delete(t);
              }),
              (t.prototype.numDataIds = function () {
                return this.dataIdsCount;
              }),
              t
            );
          })(),
          Eo = (function () {
            function t() {}
            return (
              (t.prototype.time = function (t) {
                return Ro("time");
              }),
              (t.prototype.read = function (t) {
                return Ro("read");
              }),
              (t.prototype.readSync = function (t) {
                return Ro("readSync");
              }),
              (t.prototype.numDataIds = function () {
                return Ro("numDataIds");
              }),
              (t.prototype.disposeData = function (t) {
                return Ro("disposeData");
              }),
              (t.prototype.write = function (t, e, n) {
                return Ro("write");
              }),
              (t.prototype.move = function (t, e, n, r) {
                return Ro("move");
              }),
              (t.prototype.memory = function () {
                return Ro("memory");
              }),
              (t.prototype.floatPrecision = function () {
                return Ro("floatPrecision");
              }),
              (t.prototype.epsilon = function () {
                return 32 === this.floatPrecision() ? 1e-7 : 1e-4;
              }),
              (t.prototype.batchMatMul = function (t, e, n, r) {
                return Ro("batchMatMul");
              }),
              (t.prototype.fusedBatchMatMul = function (t) {
                return (
                  t.a,
                  t.b,
                  t.transposeA,
                  t.transposeB,
                  t.bias,
                  t.activation,
                  t.preluActivationWeights,
                  Ro("fusedBatchMatMul")
                );
              }),
              (t.prototype.slice = function (t, e, n) {
                return Ro("slice");
              }),
              (t.prototype.stridedSlice = function (t, e, n, r) {
                return Ro("stridedSlice");
              }),
              (t.prototype.unstack = function (t, e) {
                return Ro("unstack");
              }),
              (t.prototype.reverse = function (t, e) {
                return Ro("reverse");
              }),
              (t.prototype.concat = function (t, e) {
                return Ro("concat");
              }),
              (t.prototype.neg = function (t) {
                return Ro("neg");
              }),
              (t.prototype.add = function (t, e) {
                return Ro("add");
              }),
              (t.prototype.addN = function (t) {
                return Ro("addN");
              }),
              (t.prototype.subtract = function (t, e) {
                return Ro("subtract");
              }),
              (t.prototype.multiply = function (t, e) {
                return Ro("multiply");
              }),
              (t.prototype.realDivide = function (t, e) {
                return Ro("realDivide");
              }),
              (t.prototype.floorDiv = function (t, e) {
                return Ro("floorDiv");
              }),
              (t.prototype.sum = function (t, e) {
                return Ro("sum");
              }),
              (t.prototype.prod = function (t, e) {
                return Ro("prod");
              }),
              (t.prototype.unsortedSegmentSum = function (t, e, n) {
                return Ro("unsortedSegmentSum");
              }),
              (t.prototype.argMin = function (t, e) {
                return Ro("argMin");
              }),
              (t.prototype.argMax = function (t, e) {
                return Ro("argMax");
              }),
              (t.prototype.equal = function (t, e) {
                return Ro("equal");
              }),
              (t.prototype.notEqual = function (t, e) {
                return Ro("notEqual");
              }),
              (t.prototype.less = function (t, e) {
                return Ro("less");
              }),
              (t.prototype.lessEqual = function (t, e) {
                return Ro("lessEqual");
              }),
              (t.prototype.greater = function (t, e) {
                return Ro("greater");
              }),
              (t.prototype.greaterEqual = function (t, e) {
                return Ro("greaterEqual");
              }),
              (t.prototype.logicalNot = function (t) {
                return Ro("logicalNot");
              }),
              (t.prototype.logicalAnd = function (t, e) {
                return Ro("logicalAnd");
              }),
              (t.prototype.logicalOr = function (t, e) {
                return Ro("logicalOr");
              }),
              (t.prototype.where = function (t) {
                return Ro("where");
              }),
              (t.prototype.select = function (t, e, n) {
                return Ro("select");
              }),
              (t.prototype.topk = function (t, e, n) {
                return Ro("topk");
              }),
              (t.prototype.min = function (t, e) {
                return Ro("min");
              }),
              (t.prototype.minimum = function (t, e) {
                return Ro("minimum");
              }),
              (t.prototype.mod = function (t, e) {
                return Ro("mod");
              }),
              (t.prototype.max = function (t, e) {
                return Ro("max");
              }),
              (t.prototype.maximum = function (t, e) {
                return Ro("maximum");
              }),
              (t.prototype.all = function (t, e) {
                return Ro("all");
              }),
              (t.prototype.any = function (t, e) {
                return Ro("any");
              }),
              (t.prototype.squaredDifference = function (t, e) {
                return Ro("squaredDifference");
              }),
              (t.prototype.ceil = function (t) {
                return Ro("ceil");
              }),
              (t.prototype.floor = function (t) {
                return Ro("floor");
              }),
              (t.prototype.round = function (t) {
                return Ro("round");
              }),
              (t.prototype.sign = function (t) {
                return Ro("sign");
              }),
              (t.prototype.isNaN = function (t) {
                return Ro("isNaN");
              }),
              (t.prototype.isInf = function (t) {
                return Ro("isInf");
              }),
              (t.prototype.isFinite = function (t) {
                return Ro("isFinite");
              }),
              (t.prototype.pow = function (t, e) {
                return Ro("pow");
              }),
              (t.prototype.exp = function (t) {
                return Ro("exp");
              }),
              (t.prototype.expm1 = function (t) {
                return Ro("expm1");
              }),
              (t.prototype.softmax = function (t, e) {
                return Ro("softmax");
              }),
              (t.prototype.log = function (t) {
                return Ro("log");
              }),
              (t.prototype.log1p = function (t) {
                return Ro("log1p");
              }),
              (t.prototype.sqrt = function (t) {
                return Ro("sqrt");
              }),
              (t.prototype.rsqrt = function (t) {
                return Ro("rsqrt");
              }),
              (t.prototype.square = function (t) {
                return Ro("square");
              }),
              (t.prototype.reciprocal = function (t) {
                return Ro("reciprocal");
              }),
              (t.prototype.relu = function (t) {
                return Ro("relu");
              }),
              (t.prototype.relu6 = function (t) {
                return Ro("relu6");
              }),
              (t.prototype.prelu = function (t, e) {
                return Ro("prelu");
              }),
              (t.prototype.elu = function (t) {
                return Ro("elu");
              }),
              (t.prototype.eluDer = function (t, e) {
                return Ro("eluDer");
              }),
              (t.prototype.selu = function (t) {
                return Ro("selu");
              }),
              (t.prototype.int = function (t) {
                return Ro("int");
              }),
              (t.prototype.clip = function (t, e, n) {
                return Ro("clip");
              }),
              (t.prototype.abs = function (t) {
                return Ro("abs");
              }),
              (t.prototype.complexAbs = function (t) {
                return Ro("complexAbs");
              }),
              (t.prototype.sigmoid = function (t) {
                return Ro("sigmoid");
              }),
              (t.prototype.softplus = function (t) {
                return Ro("softplus");
              }),
              (t.prototype.sin = function (t) {
                return Ro("sin");
              }),
              (t.prototype.cos = function (t) {
                return Ro("cos");
              }),
              (t.prototype.tan = function (t) {
                return Ro("tan");
              }),
              (t.prototype.asin = function (t) {
                return Ro("asin");
              }),
              (t.prototype.acos = function (t) {
                return Ro("acos");
              }),
              (t.prototype.atan = function (t) {
                return Ro("atan");
              }),
              (t.prototype.atan2 = function (t, e) {
                return Ro("atan2");
              }),
              (t.prototype.sinh = function (t) {
                return Ro("sinh");
              }),
              (t.prototype.cosh = function (t) {
                return Ro("cosh");
              }),
              (t.prototype.tanh = function (t) {
                return Ro("tanh");
              }),
              (t.prototype.asinh = function (t) {
                return Ro("asinh");
              }),
              (t.prototype.acosh = function (t) {
                return Ro("acosh");
              }),
              (t.prototype.atanh = function (t) {
                return Ro("atanh");
              }),
              (t.prototype.erf = function (t) {
                return Ro("erf");
              }),
              (t.prototype.step = function (t, e) {
                return Ro("step");
              }),
              (t.prototype.fusedConv2d = function (t) {
                return (
                  t.input,
                  t.filter,
                  t.convInfo,
                  t.bias,
                  t.activation,
                  t.preluActivationWeights,
                  Ro("fusedConv2d")
                );
              }),
              (t.prototype.conv2d = function (t, e, n) {
                return Ro("conv2d");
              }),
              (t.prototype.conv2dDerInput = function (t, e, n) {
                return Ro("conv2dDerInput");
              }),
              (t.prototype.conv2dDerFilter = function (t, e, n) {
                return Ro("conv2dDerFilter");
              }),
              (t.prototype.fusedDepthwiseConv2D = function (t) {
                return (
                  t.input,
                  t.filter,
                  t.convInfo,
                  t.bias,
                  t.activation,
                  t.preluActivationWeights,
                  Ro("fusedDepthwiseConv2D")
                );
              }),
              (t.prototype.depthwiseConv2D = function (t, e, n) {
                return Ro("depthwiseConv2D");
              }),
              (t.prototype.depthwiseConv2DDerInput = function (t, e, n) {
                return Ro("depthwiseConv2DDerInput");
              }),
              (t.prototype.depthwiseConv2DDerFilter = function (t, e, n) {
                return Ro("depthwiseConv2DDerFilter");
              }),
              (t.prototype.conv3d = function (t, e, n) {
                return Ro("conv3d");
              }),
              (t.prototype.conv3dDerInput = function (t, e, n) {
                return Ro("conv3dDerInput");
              }),
              (t.prototype.conv3dDerFilter = function (t, e, n) {
                return Ro("conv3dDerFilter");
              }),
              (t.prototype.maxPool = function (t, e) {
                return Ro("maxPool");
              }),
              (t.prototype.maxPoolBackprop = function (t, e, n, r) {
                return Ro("maxPoolBackprop");
              }),
              (t.prototype.avgPool = function (t, e) {
                return Ro("avgPool");
              }),
              (t.prototype.avgPoolBackprop = function (t, e, n) {
                return Ro("avgPoolBackprop");
              }),
              (t.prototype.avgPool3d = function (t, e) {
                return Ro("avgPool3d");
              }),
              (t.prototype.avgPool3dBackprop = function (t, e, n) {
                return Ro("avgPool3dBackprop");
              }),
              (t.prototype.maxPool3d = function (t, e) {
                return Ro("maxPool3d");
              }),
              (t.prototype.maxPool3dBackprop = function (t, e, n, r) {
                return Ro("maxPool3dBackprop");
              }),
              (t.prototype.reshape = function (t, e) {
                return Ro("reshape");
              }),
              (t.prototype.cast = function (t, e) {
                return Ro("cast");
              }),
              (t.prototype.tile = function (t, e) {
                return Ro("tile");
              }),
              (t.prototype.pad = function (t, e, n) {
                return Ro("pad");
              }),
              (t.prototype.transpose = function (t, e) {
                return Ro("transpose");
              }),
              (t.prototype.gather = function (t, e, n) {
                return Ro("gather");
              }),
              (t.prototype.gatherND = function (t, e) {
                return Ro("gatherND");
              }),
              (t.prototype.scatterND = function (t, e, n) {
                return Ro("scatterND");
              }),
              (t.prototype.batchToSpaceND = function (t, e, n) {
                return Ro("batchToSpaceND");
              }),
              (t.prototype.spaceToBatchND = function (t, e, n) {
                return Ro("spaceToBatchND");
              }),
              (t.prototype.resizeBilinear = function (t, e, n, r) {
                return Ro("resizeBilinear");
              }),
              (t.prototype.resizeBilinearBackprop = function (t, e, n) {
                return Ro("resizeBilinearBackprop");
              }),
              (t.prototype.resizeNearestNeighbor = function (t, e, n, r) {
                return Ro("resizeNearestNeighbor");
              }),
              (t.prototype.resizeNearestNeighborBackprop = function (t, e, n) {
                return Ro("resizeNearestNeighborBackprop");
              }),
              (t.prototype.batchNormalization = function (t, e, n, r, o, a) {
                return Ro("batchNormalization");
              }),
              (t.prototype.localResponseNormalization4D = function (
                t,
                e,
                n,
                r,
                o
              ) {
                return Ro("localResponseNormalization4D");
              }),
              (t.prototype.LRNGrad = function (t, e, n, r, o, a, i) {
                return Ro("LRNGrad");
              }),
              (t.prototype.multinomial = function (t, e, n, r) {
                return Ro("multinomial");
              }),
              (t.prototype.oneHot = function (t, e, n, r) {
                return Ro("oneHot");
              }),
              (t.prototype.cumsum = function (t, e, n, r) {
                return Ro("cumsum");
              }),
              (t.prototype.nonMaxSuppression = function (t, e, n, r, o) {
                return Ro("nonMaxSuppression");
              }),
              (t.prototype.fft = function (t) {
                return Ro("fft");
              }),
              (t.prototype.ifft = function (t) {
                return Ro("ifft");
              }),
              (t.prototype.complex = function (t, e) {
                return Ro("complex");
              }),
              (t.prototype.real = function (t) {
                return Ro("real");
              }),
              (t.prototype.imag = function (t) {
                return Ro("imag");
              }),
              (t.prototype.cropAndResize = function (t, e, n, r, o, a) {
                return Ro("cropAndResize");
              }),
              (t.prototype.depthToSpace = function (t, e, n) {
                return Ro("depthToSpace");
              }),
              (t.prototype.split = function (t, e, n) {
                return Ro("split");
              }),
              (t.prototype.sparseToDense = function (t, e, n, r) {
                return Ro("sparseToDense");
              }),
              (t.prototype.diag = function (t) {
                return Ro("diag");
              }),
              (t.prototype.fill = function (t, e, n) {
                return Ro("fill");
              }),
              (t.prototype.onesLike = function (t) {
                return Ro("onesLike");
              }),
              (t.prototype.zerosLike = function (t) {
                return Ro("zerosLike");
              }),
              (t.prototype.linspace = function (t, e, n) {
                return Ro("linspace");
              }),
              (t.prototype.dispose = function () {
                return Ro("dispose");
              }),
              t
            );
          })();
        function Ro(t) {
          throw new Error(
            "'" +
              t +
              "' not yet implemented or not found in the registry. Did you forget to import the kernel?"
          );
        }
        function Io(t, e) {
          for (var n = t.length, r = [], o = 0; o < n; o++) {
            var a = n - 1 - o,
              i = t[a] || 1;
            (e[e.length - 1 - o] || 1) > 1 && 1 === i && r.unshift(a);
          }
          return r;
        }
        function ko(t, e) {
          for (var n = [], r = 0; r < e.length; r++) {
            var o = t[t.length - r - 1],
              a = e.length - r - 1,
              i = e[a];
            (null == o || (1 === o && i > 1)) && n.unshift(a);
          }
          return n;
        }
        function So(t, e) {
          for (
            var n = [], r = Math.max(t.length, e.length), o = 0;
            o < r;
            o++
          ) {
            var a = t[t.length - o - 1];
            null == a && (a = 1);
            var i = e[e.length - o - 1];
            if ((null == i && (i = 1), 1 === a)) n.unshift(i);
            else if (1 === i) n.unshift(a);
            else {
              if (a !== i)
                throw Error(
                  "Operands could not be broadcast together with shapes " +
                    t +
                    " and " +
                    e +
                    "."
                );
              n.unshift(a);
            }
          }
          return n;
        }
        function Ao(t, e, n, r, o, a, i) {
          void 0 === i && (i = "channelsLast");
          var s,
            u = _o(e),
            c = u[0],
            l = u[1];
          if ("channelsLast" === i) s = [c, l, t[3], t[3]];
          else {
            if ("channelsFirst" !== i)
              throw new Error("Unknown dataFormat " + i);
            s = [c, l, t[1], t[1]];
          }
          return No(t, s, n, r, o, a, !1, i);
        }
        function Do(t, e, n, r, o, a, i) {
          void 0 === i && (i = "NDHWC");
          var s,
            u,
            c = Oo(e),
            l = c[0],
            p = c[1],
            h = c[2];
          if ("NDHWC" === i) (u = "channelsLast"), (s = [l, p, h, t[4], t[4]]);
          else {
            if ("NCDHW" !== i) throw new Error("Unknown dataFormat " + i);
            (u = "channelsFirst"), (s = [l, p, h, t[1], t[1]]);
          }
          return To(t, s, n, r, o, !1, u, a);
        }
        function No(t, e, n, r, o, a, i, s) {
          void 0 === i && (i = !1), void 0 === s && (s = "channelsLast");
          var u = [-1, -1, -1, -1],
            c = u[0],
            l = u[1],
            p = u[2],
            h = u[3];
          if ("channelsLast" === s)
            (c = t[0]), (l = t[1]), (p = t[2]), (h = t[3]);
          else {
            if ("channelsFirst" !== s)
              throw new Error("Unknown dataFormat " + s);
            (c = t[0]), (h = t[1]), (l = t[2]), (p = t[3]);
          }
          var d,
            f = e[0],
            v = e[1],
            m = e[3],
            g = _o(n),
            x = g[0],
            y = g[1],
            b = _o(r),
            w = b[0],
            C = b[1],
            E = Mo(f, w),
            R = Mo(v, C),
            k = (function (t, e, n, r, o, a, i, s) {
              var u, c, l;
              if ("number" == typeof t) {
                u = {
                  top: t,
                  bottom: t,
                  left: t,
                  right: t,
                  type: 0 === t ? "VALID" : "NUMBER",
                };
                var p = (function (t, e, n, r, o) {
                  null == r && (r = Fo(t, e, n));
                  var a = t[1],
                    i = Bo((t[0] - e + 2 * r) / n + 1, o);
                  I(T(i), function () {
                    return (
                      "The output # of rows (" +
                      i +
                      ") must be an integer. Change the stride and/or zero pad parameters"
                    );
                  });
                  var s = Bo((a - e + 2 * r) / n + 1, o);
                  return (
                    I(T(s), function () {
                      return (
                        "The output # of columns (" +
                        s +
                        ") must be an integer. Change the stride and/or zero pad parameters"
                      );
                    }),
                    [i, s]
                  );
                })([e, n], a, r, t, s);
                (c = p[0]), (l = p[1]);
              } else if ("same" === t) {
                (c = Math.ceil(e / r)), (l = Math.ceil(n / o));
                var h = Math.max(0, (c - 1) * r + a - e),
                  d = Math.max(0, (l - 1) * o + i - n),
                  f = Math.floor(h / 2),
                  v = h - f,
                  m = Math.floor(d / 2);
                u = { top: f, bottom: v, left: m, right: d - m, type: "SAME" };
              } else {
                if ("valid" !== t)
                  throw Error("Unknown padding parameter: " + t);
                (u = { top: 0, bottom: 0, left: 0, right: 0, type: "VALID" }),
                  (c = Math.ceil((e - a + 1) / r)),
                  (l = Math.ceil((n - i + 1) / o));
              }
              return { padInfo: u, outHeight: c, outWidth: l };
            })(o, l, p, x, y, E, R, a),
            S = k.padInfo,
            A = k.outHeight,
            D = k.outWidth,
            N = i ? m * h : m;
          return (
            "channelsFirst" === s
              ? (d = [c, N, A, D])
              : "channelsLast" === s && (d = [c, A, D, N]),
            {
              batchSize: c,
              dataFormat: s,
              inHeight: l,
              inWidth: p,
              inChannels: h,
              outHeight: A,
              outWidth: D,
              outChannels: N,
              padInfo: S,
              strideHeight: x,
              strideWidth: y,
              filterHeight: f,
              filterWidth: v,
              effectiveFilterHeight: E,
              effectiveFilterWidth: R,
              dilationHeight: w,
              dilationWidth: C,
              inShape: t,
              outShape: d,
              filterShape: e,
            }
          );
        }
        function To(t, e, n, r, o, a, i, s) {
          void 0 === a && (a = !1), void 0 === i && (i = "channelsLast");
          var u = [-1, -1, -1, -1, -1],
            c = u[0],
            l = u[1],
            p = u[2],
            h = u[3],
            d = u[4];
          if ("channelsLast" === i)
            (c = t[0]), (l = t[1]), (p = t[2]), (h = t[3]), (d = t[4]);
          else {
            if ("channelsFirst" !== i)
              throw new Error("Unknown dataFormat " + i);
            (c = t[0]), (d = t[1]), (l = t[2]), (p = t[3]), (h = t[4]);
          }
          var f,
            v = e[0],
            m = e[1],
            g = e[2],
            x = e[4],
            y = Oo(n),
            b = y[0],
            w = y[1],
            C = y[2],
            E = Oo(r),
            R = E[0],
            k = E[1],
            S = E[2],
            A = Mo(v, R),
            D = Mo(m, k),
            N = Mo(g, S),
            F = (function (t, e, n, r, o, a, i, s, u, c, l) {
              var p, h, d, f;
              if ("number" == typeof t) {
                p = {
                  top: t,
                  bottom: t,
                  left: t,
                  right: t,
                  front: t,
                  back: t,
                  type: 0 === t ? "VALID" : "NUMBER",
                };
                var v = (function (t, e, n, r, o, a) {
                  null == o && (o = Fo(t, e, r));
                  var i = t[1],
                    s = t[2],
                    u = Bo((t[0] - e + 2 * o) / r + 1, a);
                  I(T(u), function () {
                    return (
                      "The output # of depths (" +
                      u +
                      ") must be an integer. Change the stride and/or zero pad parameters"
                    );
                  });
                  var c = Bo((i - e + 2 * o) / r + 1, a);
                  I(T(c), function () {
                    return (
                      "The output # of rows (" +
                      c +
                      ") must be an integer. Change the stride and/or zero pad parameters"
                    );
                  });
                  var l = Bo((s - e + 2 * o) / r + 1, a);
                  return (
                    I(T(l), function () {
                      return (
                        "The output # of columns (" +
                        l +
                        ") must be an integer. Change the stride and/or zero pad parameters"
                      );
                    }),
                    [u, c, l, 1]
                  );
                })([e, n, r, 1], s, 0, o, t, l);
                (h = v[0]), (d = v[1]), (f = v[2]);
              } else if ("same" === t) {
                var m = ((h = Math.ceil(e / o)) - 1) * o + s - e,
                  g = ((d = Math.ceil(n / a)) - 1) * a + u - n,
                  x = ((f = Math.ceil(r / i)) - 1) * i + c - r,
                  y = Math.floor(m / 2),
                  b = m - y,
                  w = Math.floor(g / 2),
                  C = g - w,
                  E = Math.floor(x / 2);
                p = {
                  top: w,
                  bottom: C,
                  left: E,
                  right: x - E,
                  front: y,
                  back: b,
                  type: "SAME",
                };
              } else {
                if ("valid" !== t)
                  throw Error("Unknown padding parameter: " + t);
                (p = {
                  top: 0,
                  bottom: 0,
                  left: 0,
                  right: 0,
                  front: 0,
                  back: 0,
                  type: "VALID",
                }),
                  (h = Math.ceil((e - s + 1) / o)),
                  (d = Math.ceil((n - u + 1) / a)),
                  (f = Math.ceil((r - c + 1) / i));
              }
              return { padInfo: p, outDepth: h, outHeight: d, outWidth: f };
            })(o, l, p, h, b, w, C, A, D, N, s),
            _ = F.padInfo,
            O = F.outDepth,
            M = F.outHeight,
            B = F.outWidth,
            P = a ? x * d : x;
          return (
            "channelsFirst" === i
              ? (f = [c, P, O, M, B])
              : "channelsLast" === i && (f = [c, O, M, B, P]),
            {
              batchSize: c,
              dataFormat: i,
              inDepth: l,
              inHeight: p,
              inWidth: h,
              inChannels: d,
              outDepth: O,
              outHeight: M,
              outWidth: B,
              outChannels: P,
              padInfo: _,
              strideDepth: b,
              strideHeight: w,
              strideWidth: C,
              filterDepth: v,
              filterHeight: m,
              filterWidth: g,
              effectiveFilterDepth: A,
              effectiveFilterHeight: D,
              effectiveFilterWidth: N,
              dilationDepth: R,
              dilationHeight: k,
              dilationWidth: S,
              inShape: t,
              outShape: f,
              filterShape: e,
            }
          );
        }
        function Fo(t, e, n, r) {
          void 0 === r && (r = 1);
          var o = Mo(e, r);
          return Math.floor((t[0] * (n - 1) - n + o) / 2);
        }
        function _o(t) {
          return "number" == typeof t
            ? [t, t, t]
            : 2 === t.length
            ? [t[0], t[1], 1]
            : t;
        }
        function Oo(t) {
          return "number" == typeof t ? [t, t, t] : t;
        }
        function Mo(t, e) {
          return e <= 1 ? t : t + (t - 1) * (e - 1);
        }
        function Bo(t, e) {
          if (!e) return t;
          switch (e) {
            case "round":
              return Math.round(t);
            case "ceil":
              return Math.ceil(t);
            case "floor":
              return Math.floor(t);
            default:
              throw new Error("Unknown roundingMode " + e);
          }
        }
        function Po(t) {
          var e = _o(t),
            n = e[0],
            r = e[1],
            o = e[2];
          return 1 === n && 1 === r && 1 === o;
        }
        function Lo(t, e) {
          return Po(t) || Po(e);
        }
        function Wo(t) {
          if ("NHWC" === t) return "channelsLast";
          if ("NCHW" === t) return "channelsFirst";
          throw new Error("Unknown dataFormat " + t);
        }
        function zo(t, e, n) {
          if ("complex64" === e) {
            if ("complex64" === t.dtype) return t.clone();
            var r = Kn(t.shape),
              o = t.toFloat(),
              a = n.complex(o, r);
            return r.dispose(), o.dispose(), a;
          }
          if (!G(t.dtype, e))
            return Ut.makeTensorFromDataId(t.dataId, t.shape, e);
          if ("complex64" === t.dtype) {
            var i = n.real(t);
            return (a = i.cast(e)), i.dispose(), a;
          }
          if ("int32" === e) return n.int(t);
          if ("bool" === e) {
            var s = Pn(0, t.dtype);
            return (a = n.notEqual(t, s)), s.dispose(), a;
          }
          throw new Error(
            "Error in Cast: failed to cast " + t.dtype + " to " + e
          );
        }
        function Uo(t, e) {
          return Ut.makeTensorFromDataId(t.dataId, e, t.dtype);
        }
        function Vo(t, e, n) {
          var r = (e - t) / (n - 1),
            o = rt(n, "float32");
          o[0] = t;
          for (var a = 1; a < o.length; a++) o[a] = o[a - 1] + r;
          return Ln(o, "float32");
        }
        (exports.KernelBackend = Eo),
          (exports.DataStorage = Co),
          (exports.logSoftmax = wo),
          (exports.softmax = bo);
        var Go = Object.freeze({
          castTensor: zo,
          reshapeTensor: Uo,
          linspaceImpl: Vo,
          upcastType: Ft,
          axesAreInnerMostDims: wn,
          combineLocations: Cn,
          computeOutAndReduceShapes: En,
          expandShapeToKeepDim: Rn,
          assertAxesAreInnerMostDims: In,
          getAxesPermutation: kn,
          getUndoAxesPermutation: Sn,
          getInnerMostAxes: An,
          getBroadcastDims: Io,
          getReductionAxes: ko,
          assertAndGetBroadcastShape: So,
          assertParamsConsistent: Dn,
          computeOutShape: Nn,
          computePool2DInfo: Ao,
          computePool3DInfo: Do,
          computeConv2DInfo: No,
          computeConv3DInfo: To,
          computeDefaultPad: Fo,
          tupleValuesAreOne: Po,
          eitherStridesOrDilationsAreOne: Lo,
          convertConv2DDataFormat: Wo,
          PARALLELIZE_THRESHOLD: Jr,
          computeOptimalWindowSize: Zr,
        });
        function qo(t, e) {
          if (t.length !== e.length)
            throw new Error(
              "Cannot merge real and imag arrays of different lengths. real:" +
                t.length +
                ", imag: " +
                e.length +
                "."
            );
          for (
            var n = new Float32Array(2 * t.length), r = 0;
            r < n.length;
            r += 2
          )
            (n[r] = t[r / 2]), (n[r + 1] = e[r / 2]);
          return n;
        }
        function Ho(t, e) {
          return { real: t[2 * e], imag: t[2 * e + 1] };
        }
        function Ko(t, e, n, r) {
          (t[2 * r] = e), (t[2 * r + 1] = n);
        }
        function jo(t, e, n) {
          var r = (n ? 2 : -2) * Math.PI * (t / e);
          return { real: Math.cos(r), imag: Math.sin(r) };
        }
        function Xo(t, e, n) {
          var r = (function (t, e, n) {
              return (function (t, e, n) {
                for (var r = 0, o = t.length, a = 0, i = !1; r < o; ) {
                  var s = n(e, t[(a = r + ((o - r) >>> 1))]);
                  s > 0 ? (r = a + 1) : ((o = a), (i = !s));
                }
                return i ? r : -r - 1;
              })(t, e, n || Yo);
            })(t, e, n),
            o = r < 0 ? -(r + 1) : r;
          t.splice(o, 0, e);
        }
        function Yo(t, e) {
          return t > e ? 1 : t < e ? -1 : 0;
        }
        function $o(t, e, n, r, o) {
          return Jo(t, e, n, r, o, 0).selectedIndices;
        }
        function Qo(t, e, n, r, o, a) {
          var i = Jo(t, e, n, r, o, a, !0);
          return (
            i.numValidOutputs.dispose(),
            {
              selectedIndices: i.selectedIndices,
              selectedScores: i.selectedScores,
            }
          );
        }
        function Jo(t, e, n, r, o, a, i, s) {
          void 0 === i && (i = !1), void 0 === s && (s = !1);
          for (
            var u = Array.from(e)
                .map(function (t, e) {
                  return { score: t, boxIndex: e, suppressBeginIndex: 0 };
                })
                .filter(function (t) {
                  return t.score > o;
                })
                .sort(ea),
              c = a > 0 ? -0.5 / a : 0,
              l = [],
              p = [];
            l.length < n && u.length > 0;

          ) {
            var h = u.pop(),
              d = h.score,
              f = h.boxIndex,
              v = h.suppressBeginIndex;
            if (d < o) break;
            for (var m = !1, g = l.length - 1; g >= v; --g) {
              var x = Zo(t, f, l[g]);
              if (x >= r) {
                m = !0;
                break;
              }
              if (((h.score = h.score * ta(r, c, x)), h.score <= o)) break;
            }
            (h.suppressBeginIndex = l.length),
              m ||
                (h.score === d
                  ? (l.push(f), p.push(h.score))
                  : h.score > o && Xo(u, h, ea));
          }
          var y = l.length;
          return (
            s && (l.fill(0, y), p.fill(0, y)),
            {
              selectedIndices: Ln(l, "int32"),
              selectedScores: Ln(p, "float32"),
              numValidOutputs: Pn(y, "int32"),
            }
          );
        }
        function Zo(t, e, n) {
          var r = t.subarray(4 * e, 4 * e + 4),
            o = t.subarray(4 * n, 4 * n + 4),
            a = Math.min(r[0], r[2]),
            i = Math.min(r[1], r[3]),
            s = Math.max(r[0], r[2]),
            u = Math.max(r[1], r[3]),
            c = Math.min(o[0], o[2]),
            l = Math.min(o[1], o[3]),
            p = Math.max(o[0], o[2]),
            h = Math.max(o[1], o[3]),
            d = (s - a) * (u - i),
            f = (p - c) * (h - l);
          if (d <= 0 || f <= 0) return 0;
          var v = Math.max(a, c),
            m = Math.max(i, l),
            g = Math.min(s, p),
            x = Math.min(u, h),
            y = Math.max(g - v, 0) * Math.max(x - m, 0);
          return y / (d + f - y);
        }
        function ta(t, e, n) {
          var r = Math.exp(e * n * n);
          return n <= t ? r : 0;
        }
        function ea(t, e) {
          return (
            t.score - e.score ||
            (t.score === e.score && e.boxIndex - t.boxIndex)
          );
        }
        function na(t, e, n) {
          var r = new Array(t.rank).fill(0),
            o = t.shape.slice();
          return e.map(function (e) {
            o[n] = e;
            var a = t.slice(r, o);
            return (r[n] += e), a;
          });
        }
        function ra(t, e) {
          for (var n = new Array(t.rank), r = 0; r < n.length; r++)
            n[r] = t.shape[r] * e[r];
          var o = mr(n, t.dtype);
          for (r = 0; r < o.values.length; ++r) {
            for (
              var a = o.indexToLoc(r), i = new Array(t.rank), s = 0;
              s < i.length;
              s++
            )
              i[s] = a[s] % t.shape[s];
            var u = t.locToIndex(i);
            o.values[r] = t.values[u];
          }
          return o.toTensor();
        }
        function oa(t, e, n, r, o) {
          for (
            var a = e[e.length - 1],
              i = [t.length / a, a],
              s = i[0],
              u = i[1],
              c = W(n, s * r),
              l = W("int32", s * r),
              p = 0;
            p < s;
            p++
          ) {
            for (
              var h = p * u, d = t.subarray(h, h + u), f = [], v = 0;
              v < d.length;
              v++
            )
              f.push({ value: d[v], index: v });
            f.sort(function (t, e) {
              return e.value - t.value;
            });
            var m = p * r,
              g = c.subarray(m, m + r),
              x = l.subarray(m, m + r);
            for (v = 0; v < r; v++) (g[v] = f[v].value), (x[v] = f[v].index);
          }
          var y = e.slice();
          return (y[y.length - 1] = r), [Mn(c, y, n), Mn(l, y, "int32")];
        }
        function aa(t, e) {
          for (var n = [], r = 0; r < e.length; r++) e[r] && n.push(r);
          var o = mr(t, "int32"),
            a = mr([n.length, t.length], "int32");
          for (r = 0; r < n.length; r++) {
            var i = o.indexToLoc(n[r]),
              s = r * t.length;
            a.values.set(i, s);
          }
          return a.toTensor();
        }
        exports.backend_util = Go;
        var ia = function (t, e) {
            (this.outputShape = []),
              (this.outputShape = t),
              (this.variableNames = e.map(function (t, e) {
                return "T" + e;
              }));
            var n = [];
            this.variableNames.forEach(function (t) {
              n.push("float v" + t + " = get" + t + "AtOutCoords();");
            });
            var r = this.variableNames
              .map(function (t) {
                return "v" + t;
              })
              .join(" + ");
            this.userCode =
              "\n      void main() {\n        " +
              n.join("\n        ") +
              "\n\n        float result = " +
              r +
              ";\n        setOutput(result);\n      }\n    ";
          },
          sa = function (t, e) {
            (this.outputShape = []),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = t),
              (this.variableNames = e.map(function (t, e) {
                return "T" + e;
              }));
            var n = [];
            this.variableNames.forEach(function (t) {
              n.push("vec4 v" + t + " = get" + t + "AtOutCoords();");
            });
            var r = this.variableNames
              .map(function (t) {
                return "v" + t;
              })
              .join(" + ");
            this.userCode =
              "\n      void main() {\n        " +
              n.join("\n        ") +
              "\n\n        vec4 result = " +
              r +
              ";\n        setOutput(result);\n      }\n    ";
          },
          ua = function (t, e, n) {
            this.variableNames = ["A"];
            var r = t.windowSize,
              o = t.batchSize,
              a = t.inSize,
              i = Math.ceil(a / r);
            n || this.variableNames.push("bestIndicesA"),
              (this.outputShape = [o, i]);
            var s = "max" === e ? ">" : "<",
              u = n
                ? "inOffset + i;"
                : "round(getBestIndicesA(batch, inOffset + i));";
            this.userCode =
              "\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * " +
              r +
              ";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < " +
              r +
              "; i++) {\n          int inIdx = " +
              u +
              ";\n          float candidate = getA(batch, inIdx);\n          if (candidate " +
              s +
              " bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ";
          };
        function ca(t, e) {
          return ["x", "y", "z", "w", "u", "v"].slice(0, e).map(function (e) {
            return t + "." + e;
          });
        }
        function la(t, e) {
          return 1 === e ? [t] : ca(t, e);
        }
        function pa() {
          var t, e, n, r, o, a, i, s, u, l;
          return (
            2 === c().getNumber("WEBGL_VERSION")
              ? ((t = "#version 300 es"),
                (e = "in"),
                (n = "out"),
                (r = "in"),
                (o = "texture"),
                (a = "outputColor"),
                (i = "out vec4 outputColor;"),
                (s =
                  "\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    "),
                (u = ""),
                (l =
                  "\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "))
              : ((t = ""),
                (e = "attribute"),
                (n = "varying"),
                (r = "varying"),
                (o = "texture2D"),
                (a = "gl_FragColor"),
                (i = ""),
                (s =
                  "\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    "),
                (u =
                  "\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    "),
                (l =
                  "\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    ")),
            {
              version: t,
              attribute: e,
              varyingVs: n,
              varyingFs: r,
              texture2D: o,
              output: a,
              defineOutput: i,
              defineSpecialNaN: s,
              defineSpecialInf: u,
              defineRound: l,
            }
          );
        }
        function ha(t, e, n) {
          void 0 === n && (n = "index");
          var r = Z(e);
          return r
            .map(function (e, o) {
              return (
                "int " +
                t[o] +
                " = " +
                n +
                " / " +
                e +
                "; " +
                (o === r.length - 1
                  ? "int " + t[o + 1] + " = " + n + " - " + t[o] + " * " + e
                  : "index -= " + t[o] + " * " + e) +
                ";"
              );
            })
            .join("");
        }
        function da(t) {
          var e = Z(t).map(function (t) {
            return t.toString();
          });
          return (
            "\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * " +
            e[0] +
            " + coords.y * " +
            e[1] +
            " + coords.z;\n  }\n"
          );
        }
        var fa =
          "\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";
        function va(t, e, n, r) {
          var o = [];
          t.forEach(function (t) {
            var e = D(t.shapeInfo.logicalShape);
            t.shapeInfo.isUniform
              ? o.push(
                  "uniform float " + t.name + (e > 1 ? "[" + e + "]" : "") + ";"
                )
              : (o.push("uniform sampler2D " + t.name + ";"),
                o.push("uniform int offset" + t.name + ";"));
          });
          var a,
            i,
            s = o.join("\n"),
            u = t
              .map(function (t) {
                return (function (t, e, n) {
                  void 0 === n && (n = !1);
                  var r = "";
                  r += n ? ga(t) : ma(t);
                  var o = t.shapeInfo.logicalShape,
                    a = e.logicalShape;
                  return (
                    o.length <= a.length &&
                      (r += n
                        ? (function (t, e) {
                            var n,
                              r = t.name,
                              o = r.charAt(0).toUpperCase() + r.slice(1),
                              a = "get" + o + "AtOutCoords",
                              i = t.shapeInfo.logicalShape.length,
                              s = e.logicalShape.length,
                              u = Io(t.shapeInfo.logicalShape, e.logicalShape),
                              c = Ra(s),
                              l = s - i,
                              p = ["x", "y", "z", "w", "u", "v"];
                            n =
                              0 === i
                                ? ""
                                : s < 2 && u.length >= 1
                                ? "coords = 0;"
                                : u
                                    .map(function (t) {
                                      return "coords." + p[t + l] + " = 0;";
                                    })
                                    .join("\n");
                            var h;
                            h =
                              s < 2 && i > 0
                                ? "coords"
                                : t.shapeInfo.logicalShape
                                    .map(function (t, e) {
                                      return "coords." + p[e + l];
                                    })
                                    .join(", ");
                            var d = "return outputValue;",
                              f = 1 === D(t.shapeInfo.logicalShape),
                              v = 1 === D(e.logicalShape);
                            if (1 !== i || f || v) {
                              if (f && !v)
                                d =
                                  1 === s
                                    ? "\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      "
                                    : "\n        return vec4(outputValue.x);\n      ";
                              else if (u.length) {
                                var m = i - 2,
                                  g = i - 1;
                                u.indexOf(m) > -1 && u.indexOf(g) > -1
                                  ? (d = "return vec4(outputValue.x);")
                                  : u.indexOf(m) > -1
                                  ? (d =
                                      "return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);")
                                  : u.indexOf(g) > -1 &&
                                    (d =
                                      "return vec4(outputValue.xx, outputValue.zz);");
                              }
                            } else
                              d =
                                "\n      return vec4(outputValue.xy, outputValue.xy);\n    ";
                            return (
                              "\n    vec4 " +
                              a +
                              "() {\n      " +
                              c +
                              " coords = getOutputCoords();\n      " +
                              n +
                              "\n      vec4 outputValue = get" +
                              o +
                              "(" +
                              h +
                              ");\n      " +
                              d +
                              "\n    }\n  "
                            );
                          })(t, e)
                        : (function (t, e) {
                            var n = t.name,
                              r = n.charAt(0).toUpperCase() + n.slice(1),
                              o = "get" + r + "AtOutCoords",
                              a = e.texShape,
                              i = t.shapeInfo.texShape,
                              s = t.shapeInfo.logicalShape.length,
                              u = e.logicalShape.length;
                            if (
                              !t.shapeInfo.isUniform &&
                              s === u &&
                              null == t.shapeInfo.flatOffset &&
                              N(i, a)
                            )
                              return (
                                "\n      float " +
                                o +
                                "() {\n        return sampleTexture(" +
                                n +
                                ", resultUV);\n      }\n    "
                              );
                            var c = Ra(u),
                              l = Io(t.shapeInfo.logicalShape, e.logicalShape),
                              p = u - s,
                              h = ["x", "y", "z", "w", "u", "v"];
                            return (
                              "\n    float " +
                              o +
                              "() {\n      " +
                              c +
                              " coords = getOutputCoords();\n      " +
                              (0 === s
                                ? ""
                                : u < 2 && l.length >= 1
                                ? "coords = 0;"
                                : l
                                    .map(function (t) {
                                      return "coords." + h[t + p] + " = 0;";
                                    })
                                    .join("\n")) +
                              "\n      return get" +
                              r +
                              "(" +
                              (u < 2 && s > 0
                                ? "coords"
                                : t.shapeInfo.logicalShape
                                    .map(function (t, e) {
                                      return "coords." + h[e + p];
                                    })
                                    .join(", ")) +
                              ");\n    }\n  "
                            );
                          })(t, e)),
                    r
                  );
                })(t, e, r);
              })
              .join("\n"),
            c = e.texShape,
            l = pa(),
            p =
              "\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return " +
              l.texture2D +
              "(textureSampler, uv).r;\n    }\n  ",
            h = (function (t) {
              return (
                t.version +
                "\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    " +
                t.varyingFs +
                " vec2 resultUV;\n    " +
                t.defineOutput +
                "\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    " +
                t.defineSpecialNaN +
                "\n    " +
                t.defineSpecialInf +
                "\n    " +
                t.defineRound +
                "\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    " +
                xa +
                "\n    " +
                ya +
                "\n    " +
                ba +
                "\n  "
              );
            })(l);
          return (
            e.isPacked
              ? ((a = (function (t, e) {
                  switch (t.length) {
                    case 0:
                      return "\n    int getOutputCoords() {\n      return 0;\n    }\n  ";
                    case 1:
                      return (function (t, e) {
                        var n = [Math.ceil(e[0] / 2), Math.ceil(e[1] / 2)];
                        return 1 === n[0]
                          ? "\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * " +
                              n[1] +
                              ".0);\n      }\n    "
                          : 1 === n[1]
                          ? "\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * " +
                            n[0] +
                            ".0);\n      }\n    "
                          : "\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(" +
                            n[0] +
                            ", " +
                            n[1] +
                            "));\n      return 2 * (resTexRC.x * " +
                            n[1] +
                            " + resTexRC.y);\n    }\n  ";
                      })(0, e);
                    case 2:
                      return (function (t, e) {
                        var n = [Math.ceil(e[0] / 2), Math.ceil(e[1] / 2)];
                        if (N(t, e))
                          return (
                            "\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(" +
                            n[0] +
                            ", " +
                            n[1] +
                            "));\n      }\n    "
                          );
                        var r = Math.ceil(t[1] / 2);
                        return (
                          "\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(" +
                          n[0] +
                          ", " +
                          n[1] +
                          "));\n\n      int index = resTexRC.x * " +
                          n[1] +
                          " + resTexRC.y;\n      int r = 2 * (index / " +
                          r +
                          ");\n      int c = imod(index, " +
                          r +
                          ") * 2;\n\n      return ivec2(r, c);\n    }\n  "
                        );
                      })(t, e);
                    case 3:
                      return (
                        (n = t),
                        (r = e),
                        (o = [Math.ceil(r[0] / 2), Math.ceil(r[1] / 2)]),
                        (i = (a = Math.ceil(n[2] / 2)) * Math.ceil(n[1] / 2)),
                        "\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(" +
                          o[0] +
                          ", " +
                          o[1] +
                          "));\n      int index = resTexRC.x * " +
                          o[1] +
                          " + resTexRC.y;\n\n      int b = index / " +
                          i +
                          ";\n      index -= b * " +
                          i +
                          ";\n\n      int r = 2 * (index / " +
                          a +
                          ");\n      int c = imod(index, " +
                          a +
                          ") * 2;\n\n      return ivec3(b, r, c);\n    }\n  "
                      );
                    default:
                      return (function (t, e) {
                        for (
                          var n = [Math.ceil(e[0] / 2), Math.ceil(e[1] / 2)],
                            r = Math.ceil(t[t.length - 1] / 2),
                            o = r * Math.ceil(t[t.length - 2] / 2),
                            a = o,
                            i = "",
                            s = "b, r, c",
                            u = 2;
                          u < t.length - 1;
                          u++
                        )
                          (i =
                            "\n      int b" +
                            u +
                            " = index / " +
                            (a *= t[t.length - u - 1]) +
                            ";\n      index -= b" +
                            u +
                            " * " +
                            a +
                            ";\n    " +
                            i),
                            (s = "b" + u + ", " + s);
                        return (
                          "\n    ivec" +
                          t.length +
                          " getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(" +
                          n[0] +
                          ", " +
                          n[1] +
                          "));\n      int index = resTexRC.x * " +
                          n[1] +
                          " + resTexRC.y;\n\n      " +
                          i +
                          "\n\n      int b = index / " +
                          o +
                          ";\n      index -= b * " +
                          o +
                          ";\n\n      int r = 2 * (index / " +
                          r +
                          ");\n      int c = imod(index, " +
                          r +
                          ") * 2;\n\n      return ivec" +
                          t.length +
                          "(" +
                          s +
                          ");\n    }\n  "
                        );
                      })(t, e);
                  }
                  var n, r, o, a, i;
                })(e.logicalShape, c)),
                (i =
                  "\n    void setOutput(vec4 val) {\n      " +
                  l.output +
                  " = val;\n    }\n  "))
              : ((a = (function (t, e) {
                  switch (t.length) {
                    case 0:
                      return "\n    int getOutputCoords() {\n      return 0;\n    }\n  ";
                    case 1:
                      return (function (t, e) {
                        return 1 === e[0]
                          ? "\n      int getOutputCoords() {\n        return int(resultUV.x * " +
                              e[1] +
                              ".0);\n      }\n    "
                          : 1 === e[1]
                          ? "\n      int getOutputCoords() {\n        return int(resultUV.y * " +
                            e[0] +
                            ".0);\n      }\n    "
                          : "\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(" +
                            e[0] +
                            ", " +
                            e[1] +
                            "));\n      return resTexRC.x * " +
                            e[1] +
                            " + resTexRC.y;\n    }\n  ";
                      })(0, e);
                    case 2:
                      return (function (t, e) {
                        return N(t, e)
                          ? "\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(" +
                              e[0] +
                              ", " +
                              e[1] +
                              "));\n      }\n    "
                          : 1 === t[1]
                          ? "\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(" +
                            e[0] +
                            ", " +
                            e[1] +
                            "));\n        int index = resTexRC.x * " +
                            e[1] +
                            " + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    "
                          : 1 === t[0]
                          ? "\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(" +
                            e[0] +
                            ", " +
                            e[1] +
                            "));\n        int index = resTexRC.x * " +
                            e[1] +
                            " + resTexRC.y;\n        return ivec2(0, index);\n      }\n    "
                          : "\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(" +
                            e[0] +
                            ", " +
                            e[1] +
                            "));\n      int index = resTexRC.x * " +
                            e[1] +
                            " + resTexRC.y;\n      int r = index / " +
                            t[1] +
                            ";\n      int c = index - r * " +
                            t[1] +
                            ";\n      return ivec2(r, c);\n    }\n  ";
                      })(t, e);
                    case 3:
                      return (
                        (n = e),
                        (r = ha(["r", "c", "d"], t)),
                        "\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(" +
                          n[0] +
                          ", " +
                          n[1] +
                          "));\n      int index = resTexRC.x * " +
                          n[1] +
                          " + resTexRC.y;\n      " +
                          r +
                          "\n      return ivec3(r, c, d);\n    }\n  "
                      );
                    case 4:
                      return (function (t, e) {
                        var n = ha(["r", "c", "d", "d2"], t);
                        return (
                          "\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(" +
                          e[0] +
                          ", " +
                          e[1] +
                          "));\n      int index = resTexRC.x * " +
                          e[1] +
                          " + resTexRC.y;\n      " +
                          n +
                          "\n      return ivec4(r, c, d, d2);\n    }\n  "
                        );
                      })(t, e);
                    case 5:
                      return (function (t, e) {
                        var n = ha(["r", "c", "d", "d2", "d3"], t);
                        return (
                          "\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(" +
                          e[0] +
                          ",\n                             " +
                          e[1] +
                          "));\n\n      int index = resTexRC.x * " +
                          e[1] +
                          " + resTexRC.y;\n\n      " +
                          n +
                          "\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "
                        );
                      })(t, e);
                    case 6:
                      return (function (t, e) {
                        var n = ha(["r", "c", "d", "d2", "d3", "d4"], t);
                        return (
                          "\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(" +
                          e[0] +
                          ", " +
                          e[1] +
                          "));\n      int index = resTexRC.x * " +
                          e[1] +
                          " + resTexRC.y;\n\n      " +
                          n +
                          "\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "
                        );
                      })(t, e);
                    default:
                      throw new Error(
                        t.length + "-D output sampling is not yet supported"
                      );
                  }
                  var n, r;
                })(e.logicalShape, c)),
                (i =
                  "\n    void setOutput(float val) {\n      " +
                  l.output +
                  " = vec4(val, 0, 0, 0);\n    }\n  ")),
            r && (h += wa),
            [h, p, i, s, a, u, n].join("\n")
          );
        }
        function ma(t) {
          var e = t.shapeInfo.logicalShape;
          switch (e.length) {
            case 0:
              return (function (t) {
                var e = t.name,
                  n = "get" + e.charAt(0).toUpperCase() + e.slice(1);
                if (t.shapeInfo.isUniform)
                  return "float " + n + "() {return " + e + ";}";
                var r = t.shapeInfo.texShape,
                  o = r[0],
                  a = r[1];
                if (1 === o && 1 === a)
                  return (
                    "\n      float " +
                    n +
                    "() {\n        return sampleTexture(" +
                    e +
                    ", halfCR);\n      }\n    "
                  );
                var i = t.shapeInfo.texShape;
                return (
                  "\n    float " +
                  n +
                  "() {\n      vec2 uv = uvFromFlat(" +
                  i[0] +
                  ", " +
                  i[1] +
                  ", " +
                  Ca(e) +
                  ");\n      return sampleTexture(" +
                  e +
                  ", uv);\n    }\n  "
                );
              })(t);
            case 1:
              return (function (t) {
                var e = t.name,
                  n = "get" + e.charAt(0).toUpperCase() + e.slice(1);
                if (t.shapeInfo.isUniform)
                  return (
                    "\n      float " +
                    n +
                    "(int index) {\n        " +
                    Ea(t) +
                    "\n      }\n    "
                  );
                var r = t.shapeInfo.texShape,
                  o = r[0],
                  a = r[1];
                if (1 === a && 1 === o)
                  return (
                    "\n      float " +
                    n +
                    "(int index) {\n        return sampleTexture(" +
                    e +
                    ", halfCR);\n      }\n    "
                  );
                var i = Ca(e);
                return 1 === a
                  ? "\n      float " +
                      n +
                      "(int index) {\n        vec2 uv = vec2(0.5, (float(index + " +
                      i +
                      ") + 0.5) / " +
                      o +
                      ".0);\n        return sampleTexture(" +
                      e +
                      ", uv);\n      }\n    "
                  : 1 === o
                  ? "\n      float " +
                    n +
                    "(int index) {\n        vec2 uv = vec2((float(index + " +
                    i +
                    ") + 0.5) / " +
                    a +
                    ".0, 0.5);\n        return sampleTexture(" +
                    e +
                    ", uv);\n      }\n    "
                  : "\n    float " +
                    n +
                    "(int index) {\n      vec2 uv = uvFromFlat(" +
                    o +
                    ", " +
                    a +
                    ", index + " +
                    i +
                    ");\n      return sampleTexture(" +
                    e +
                    ", uv);\n    }\n  ";
              })(t);
            case 2:
              return (function (t) {
                var e = t.shapeInfo.logicalShape,
                  n = t.name,
                  r = "get" + n.charAt(0).toUpperCase() + n.slice(1),
                  o = t.shapeInfo.texShape;
                if (null != o && N(e, o)) {
                  var a = o[0];
                  return (
                    "\n    float " +
                    r +
                    "(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(" +
                    o[1] +
                    ".0, " +
                    a +
                    ".0);\n      return sampleTexture(" +
                    n +
                    ", uv);\n    }\n  "
                  );
                }
                var i = L(e),
                  s = i.newShape,
                  u = i.keptDims,
                  c = s;
                if (c.length < e.length)
                  return (
                    "\n      " +
                    ma(Ia(t, c)) +
                    "\n      float " +
                    r +
                    "(int row, int col) {\n        return " +
                    r +
                    "(" +
                    ka(["row", "col"], u) +
                    ");\n      }\n    "
                  );
                if (t.shapeInfo.isUniform)
                  return (
                    "\n      float " +
                    r +
                    "(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(" +
                    e[1] +
                    ", 1)));\n        " +
                    Ea(t) +
                    "\n      }\n    "
                  );
                var l = o[0],
                  p = o[1],
                  h = Ca(n);
                return 1 === p
                  ? "\n    float " +
                      r +
                      "(int row, int col) {\n      float index = dot(vec3(row, col, " +
                      h +
                      "), vec3(" +
                      e[1] +
                      ", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / " +
                      l +
                      ".0);\n      return sampleTexture(" +
                      n +
                      ", uv);\n    }\n  "
                  : 1 === l
                  ? "\n    float " +
                    r +
                    "(int row, int col) {\n      float index = dot(vec3(row, col, " +
                    h +
                    "), vec3(" +
                    e[1] +
                    ", 1, 1));\n      vec2 uv = vec2((index + 0.5) / " +
                    p +
                    ".0, 0.5);\n      return sampleTexture(" +
                    n +
                    ", uv);\n    }\n  "
                  : "\n  float " +
                    r +
                    "(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * " +
                    e[1] +
                    " + col + " +
                    h +
                    ";\n    vec2 uv = uvFromFlat(" +
                    l +
                    ", " +
                    p +
                    ", index);\n    return sampleTexture(" +
                    n +
                    ", uv);\n  }\n";
              })(t);
            case 3:
              return (function (t) {
                var e = t.shapeInfo.logicalShape,
                  n = t.name,
                  r = "get" + n.charAt(0).toUpperCase() + n.slice(1),
                  o = e[1] * e[2],
                  a = e[2],
                  i = L(e),
                  s = i.newShape,
                  u = i.keptDims,
                  c = s;
                if (c.length < e.length)
                  return (
                    "\n        " +
                    ma(Ia(t, c)) +
                    "\n        float " +
                    r +
                    "(int row, int col, int depth) {\n          return " +
                    r +
                    "(" +
                    ka(["row", "col", "depth"], u) +
                    ");\n        }\n      "
                  );
                if (t.shapeInfo.isUniform)
                  return (
                    "\n      float " +
                    r +
                    "(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(" +
                    o +
                    ", " +
                    a +
                    ", 1)));\n        " +
                    Ea(t) +
                    "\n      }\n    "
                  );
                var l = t.shapeInfo.texShape,
                  p = l[0],
                  h = l[1],
                  d = t.shapeInfo.flatOffset;
                return h === o && null == d
                  ? "\n        float " +
                      r +
                      "(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(" +
                      a +
                      ", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(" +
                      h +
                      ".0, " +
                      p +
                      ".0);\n          return sampleTexture(" +
                      n +
                      ", uv);\n        }\n      "
                  : h === a && null == d
                  ? "\n    float " +
                    r +
                    "(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(" +
                    e[1] +
                    ", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(" +
                    h +
                    ".0, " +
                    p +
                    ".0);\n      return sampleTexture(" +
                    n +
                    ", uv);\n    }\n  "
                  : "\n      float " +
                    r +
                    "(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * " +
                    o +
                    " + col * " +
                    a +
                    " + depth + " +
                    Ca(n) +
                    ";\n        vec2 uv = uvFromFlat(" +
                    p +
                    ", " +
                    h +
                    ", index);\n        return sampleTexture(" +
                    n +
                    ", uv);\n      }\n  ";
              })(t);
            case 4:
              return (function (t) {
                var e = t.shapeInfo.logicalShape,
                  n = t.name,
                  r = "get" + n.charAt(0).toUpperCase() + n.slice(1),
                  o = e[3],
                  a = e[2] * o,
                  i = e[1] * a,
                  s = L(e),
                  u = s.newShape,
                  c = s.keptDims;
                if (u.length < e.length)
                  return (
                    "\n      " +
                    ma(Ia(t, u)) +
                    "\n      float " +
                    r +
                    "(int row, int col, int depth, int depth2) {\n        return " +
                    r +
                    "(" +
                    ka(["row", "col", "depth", "depth2"], c) +
                    ");\n      }\n    "
                  );
                if (t.shapeInfo.isUniform)
                  return (
                    "\n      float " +
                    r +
                    "(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(" +
                    i +
                    ", " +
                    a +
                    ", " +
                    o +
                    ", 1)));\n        " +
                    Ea(t) +
                    "\n      }\n    "
                  );
                var l = t.shapeInfo.flatOffset,
                  p = t.shapeInfo.texShape,
                  h = p[0],
                  d = p[1];
                return d === i && null == l
                  ? "\n      float " +
                      r +
                      "(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(" +
                      a +
                      ", " +
                      o +
                      ", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(" +
                      d +
                      ".0, " +
                      h +
                      ".0);\n        return sampleTexture(" +
                      n +
                      ", uv);\n      }\n    "
                  : d === o && null == l
                  ? "\n      float " +
                    r +
                    "(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(" +
                    e[1] * e[2] +
                    ", " +
                    e[2] +
                    ", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(" +
                    d +
                    ".0, " +
                    h +
                    ".0);\n        return sampleTexture(" +
                    n +
                    ", uv);\n      }\n    "
                  : "\n    float " +
                    r +
                    "(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * " +
                    i +
                    " + col * " +
                    a +
                    " +\n          depth * " +
                    o +
                    " + depth2;\n      vec2 uv = uvFromFlat(" +
                    h +
                    ", " +
                    d +
                    ", index + " +
                    Ca(n) +
                    ");\n      return sampleTexture(" +
                    n +
                    ", uv);\n    }\n  ";
              })(t);
            case 5:
              return (function (t) {
                var e = t.shapeInfo.logicalShape,
                  n = t.name,
                  r = "get" + n.charAt(0).toUpperCase() + n.slice(1),
                  o = e[4],
                  a = e[3] * o,
                  i = e[2] * a,
                  s = e[1] * i,
                  u = L(e),
                  c = u.newShape,
                  l = u.keptDims;
                if (c.length < e.length)
                  return (
                    "\n      " +
                    ma(Ia(t, c)) +
                    "\n      float " +
                    r +
                    "(int row, int col, int depth, int depth2, int depth3) {\n        return " +
                    r +
                    "(" +
                    ka(["row", "col", "depth", "depth2", "depth3"], l) +
                    ");\n      }\n    "
                  );
                if (t.shapeInfo.isUniform)
                  return (
                    "\n      float " +
                    r +
                    "(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(" +
                    s +
                    ", " +
                    i +
                    ", " +
                    a +
                    ", " +
                    o +
                    ")) +\n          depth3;\n        " +
                    Ea(t) +
                    "\n      }\n    "
                  );
                var p = t.shapeInfo.flatOffset,
                  h = t.shapeInfo.texShape,
                  d = h[0],
                  f = h[1];
                return f === s && null == p
                  ? "\n      float " +
                      r +
                      "(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(" +
                      i +
                      ", " +
                      a +
                      ", " +
                      o +
                      ", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(" +
                      f +
                      ".0, " +
                      d +
                      ".0);\n        return sampleTexture(" +
                      n +
                      ", uv);\n      }\n    "
                  : f === o && null == p
                  ? "\n      float " +
                    r +
                    "(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(" +
                    e[1] * e[2] * e[3] +
                    ",\n               " +
                    e[2] * e[3] +
                    ", " +
                    e[3] +
                    ", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(" +
                    f +
                    ".0, " +
                    d +
                    ".0);\n        return sampleTexture(" +
                    n +
                    ", uv);\n      }\n    "
                  : "\n    float " +
                    r +
                    "(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * " +
                    s +
                    " + col * " +
                    i +
                    " + depth * " +
                    a +
                    " +\n          depth2 * " +
                    o +
                    " + depth3 + " +
                    Ca(n) +
                    ";\n      vec2 uv = uvFromFlat(" +
                    d +
                    ", " +
                    f +
                    ", index);\n      return sampleTexture(" +
                    n +
                    ", uv);\n    }\n  ";
              })(t);
            case 6:
              return (function (t) {
                var e = t.shapeInfo.logicalShape,
                  n = t.name,
                  r = "get" + n.charAt(0).toUpperCase() + n.slice(1),
                  o = L(e),
                  a = o.newShape,
                  i = o.keptDims;
                if (a.length < e.length)
                  return (
                    "\n      " +
                    ma(Ia(t, a)) +
                    "\n      float " +
                    r +
                    "(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return " +
                    r +
                    "(" +
                    ka(
                      ["row", "col", "depth", "depth2", "depth3", "depth4"],
                      i
                    ) +
                    ");\n      }\n    "
                  );
                var s = e[5],
                  u = e[4] * s,
                  c = e[3] * u,
                  l = e[2] * c,
                  p = e[1] * l;
                if (t.shapeInfo.isUniform)
                  return (
                    "\n      float " +
                    r +
                    "(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(" +
                    p +
                    ", " +
                    l +
                    ", " +
                    c +
                    ", " +
                    u +
                    ")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(" +
                    s +
                    ", 1)));\n        " +
                    Ea(t) +
                    "\n      }\n    "
                  );
                var h = t.shapeInfo.flatOffset,
                  d = t.shapeInfo.texShape,
                  f = d[0],
                  v = d[1];
                return v === p && null == h
                  ? "\n      float " +
                      r +
                      "(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(" +
                      l +
                      ", " +
                      c +
                      ", " +
                      u +
                      ", " +
                      s +
                      ")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(" +
                      v +
                      ".0, " +
                      f +
                      ".0);\n        return sampleTexture(" +
                      n +
                      ", uv);\n      }\n    "
                  : v === s && null == h
                  ? "\n      float " +
                    r +
                    "(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(" +
                    e[1] * e[2] * e[3] * e[4] +
                    ",\n               " +
                    e[2] * e[3] * e[4] +
                    ",\n               " +
                    e[3] * e[4] +
                    ",\n               " +
                    e[4] +
                    ")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(" +
                    v +
                    ".0, " +
                    f +
                    ".0);\n        return sampleTexture(" +
                    n +
                    ", uv);\n      }\n    "
                  : "\n    float " +
                    r +
                    "(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * " +
                    p +
                    " + col * " +
                    l +
                    " + depth * " +
                    c +
                    " +\n          depth2 * " +
                    u +
                    " + depth3 * " +
                    s +
                    " + depth4 + " +
                    Ca(n) +
                    ";\n      vec2 uv = uvFromFlat(" +
                    f +
                    ", " +
                    v +
                    ", index);\n      return sampleTexture(" +
                    n +
                    ", uv);\n    }\n  ";
              })(t);
            default:
              throw new Error(
                e.length + "-D input sampling is not yet supported"
              );
          }
        }
        function ga(t) {
          var e;
          switch (t.shapeInfo.logicalShape.length) {
            case 0:
              return (
                "\n    vec4 " +
                ("get" + (e = t.name).charAt(0).toUpperCase() + e.slice(1)) +
                "() {\n      return " +
                pa().texture2D +
                "(" +
                e +
                ", halfCR);\n    }\n  "
              );
            case 1:
              return (function (t) {
                var e = t.name,
                  n = "get" + e.charAt(0).toUpperCase() + e.slice(1),
                  r = t.shapeInfo.texShape,
                  o = [Math.ceil(r[0] / 2), Math.ceil(r[1] / 2)],
                  a = pa();
                return (
                  "\n    vec4 " +
                  n +
                  "(int index) {\n      vec2 uv = packedUVfrom1D(\n        " +
                  o[0] +
                  ", " +
                  o[1] +
                  ", index);\n      return " +
                  a.texture2D +
                  "(" +
                  e +
                  ", uv);\n    }\n  "
                );
              })(t);
            case 2:
              return (function (t) {
                var e = t.shapeInfo.logicalShape,
                  n = t.name,
                  r = "get" + n.charAt(0).toUpperCase() + n.slice(1),
                  o = t.shapeInfo.texShape,
                  a = o[0],
                  i = o[1],
                  s = pa();
                if (null != o && N(e, o))
                  return (
                    "\n      vec4 " +
                    r +
                    "(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(" +
                    i +
                    ".0, " +
                    a +
                    ".0);\n\n        return " +
                    s.texture2D +
                    "(" +
                    n +
                    ", uv);\n      }\n    "
                  );
                var u = [Math.ceil(o[0] / 2), Math.ceil(o[1] / 2)];
                return (
                  "\n    vec4 " +
                  r +
                  "(int row, int col) {\n      vec2 uv = packedUVfrom2D(" +
                  Math.ceil(e[1] / 2) +
                  ", " +
                  u[0] +
                  ", " +
                  u[1] +
                  ", row, col);\n      return " +
                  s.texture2D +
                  "(" +
                  n +
                  ", uv);\n    }\n  "
                );
              })(t);
            case 3:
              return (function (t) {
                var e = t.shapeInfo.logicalShape,
                  n = t.name,
                  r = "get" + n.charAt(0).toUpperCase() + n.slice(1),
                  o = t.shapeInfo.texShape,
                  a = [Math.ceil(o[0] / 2), Math.ceil(o[1] / 2)];
                if (1 === e[0])
                  return (
                    "\n        " +
                    ga(Ia(t, e.slice(1))) +
                    "\n        vec4 " +
                    r +
                    "(int b, int row, int col) {\n          return " +
                    r +
                    "(" +
                    ka(["b", "row", "col"], [1, 2]) +
                    ");\n        }\n      "
                  );
                var i = a[0],
                  s = a[1],
                  u = Math.ceil(e[2] / 2);
                return (
                  "\n    vec4 " +
                  r +
                  "(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        " +
                  i +
                  ", " +
                  s +
                  ", " +
                  u * Math.ceil(e[1] / 2) +
                  ", " +
                  u +
                  ", b, row, col);\n      return " +
                  pa().texture2D +
                  "(" +
                  n +
                  ", uv);\n    }\n  "
                );
              })(t);
            default:
              return (function (t) {
                for (
                  var e = t.shapeInfo.logicalShape,
                    n = e.length,
                    r = t.name,
                    o = "get" + r.charAt(0).toUpperCase() + r.slice(1),
                    a = t.shapeInfo.texShape,
                    i = [Math.ceil(a[0] / 2), Math.ceil(a[1] / 2)],
                    s = i[0],
                    u = i[1],
                    c = Math.ceil(e[n - 1] / 2),
                    l = c * Math.ceil(e[n - 2] / 2),
                    p = "int b, int row, int col",
                    h = "b * " + l + " + (row / 2) * " + c + " + (col / 2)",
                    d = 2;
                  d < n - 1;
                  d++
                )
                  (p = "int b" + d + ", " + p),
                    (h = "b" + d + " * " + (l *= e[n - d - 1]) + " + " + h);
                return (
                  "\n    vec4 " +
                  o +
                  "(" +
                  p +
                  ") {\n      int index = " +
                  h +
                  ";\n      int texR = index / " +
                  u +
                  ";\n      int texC = index - texR * " +
                  u +
                  ";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(" +
                  u +
                  ", " +
                  s +
                  ");\n      return " +
                  pa().texture2D +
                  "(" +
                  r +
                  ", uv);\n    }\n  "
                );
              })(t);
          }
        }
        var xa =
            "\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",
          ya =
            "\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",
          ba =
            "\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",
          wa =
            "\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";
        function Ca(t) {
          return "offset" + t;
        }
        function Ea(t) {
          var e = t.name,
            n = D(t.shapeInfo.logicalShape);
          return n < 2
            ? "return " + e + ";"
            : "\n    for (int i = 0; i < " +
                n +
                "; i++) {\n      if (i == index) {\n        return " +
                e +
                "[i];\n      }\n    }\n  ";
        }
        function Ra(t) {
          if (t <= 1) return "int";
          if (2 === t) return "ivec2";
          if (3 === t) return "ivec3";
          if (4 === t) return "ivec4";
          if (5 === t) return "ivec5";
          if (6 === t) return "ivec6";
          throw Error("GPU for rank " + t + " is not yet supported");
        }
        function Ia(t, e) {
          var n = JSON.parse(JSON.stringify(t));
          return (n.shapeInfo.logicalShape = e), n;
        }
        function ka(t, e) {
          return e
            .map(function (e) {
              return t[e];
            })
            .join(", ");
        }
        var Sa = function (t, e, n, r) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              I(t.length > 2, function () {
                return (
                  "Packed arg" +
                  (n.charAt(0).toUpperCase() + n.slice(1)) +
                  " supports only inputs with rank above 2."
                );
              });
            var o = t[t.length - 1],
              a = Math.ceil(o / e);
            (this.outputShape = t.slice(0, -1)),
              a > 1 && this.outputShape.push(a),
              r || this.variableNames.push("bestIndicesA");
            var i,
              s,
              u = this.outputShape,
              c = u.length,
              l = Ra(c),
              p = la("coords", c);
            if (1 === a) {
              var h = Ra((s = c + 1));
              i =
                "\n        " +
                h +
                " sourceLocR = " +
                h +
                "(" +
                p.join() +
                ", 0);\n        ++" +
                p[c - 1] +
                ";\n        " +
                h +
                " sourceLocG = " +
                h +
                "(" +
                p.join() +
                ", 0);\n        ++" +
                p[c - 2] +
                ";\n        " +
                h +
                " sourceLocA = " +
                h +
                "(" +
                p.join() +
                ", 0);\n        --" +
                p[c - 1] +
                ";\n        " +
                h +
                " sourceLocB = " +
                h +
                "(" +
                p.join() +
                ", 0);\n        --" +
                p[c - 2] +
                ";";
            } else
              (s = c),
                (i =
                  "\n        " +
                  l +
                  " sourceLocR = coords;\n        ++" +
                  p[c - 1] +
                  ";\n        " +
                  l +
                  " sourceLocG = coords;\n        ++" +
                  p[c - 2] +
                  ";\n        " +
                  l +
                  " sourceLocA = coords;\n        --" +
                  p[c - 1] +
                  ";\n        " +
                  l +
                  " sourceLocB = coords;\n        --" +
                  p[c - 2] +
                  ";");
            var d = ["x", "y", "z", "w", "u", "v"].slice(0, s),
              f = "." + d[s - 1],
              v = d.map(function (t) {
                return "int " + t;
              }),
              m = la("sourceLocR", s - 1).concat("inIdx.r"),
              g = la("sourceLocG", s - 1).concat("inIdx.g"),
              x = la("sourceLocB", s - 1).concat("inIdx.b"),
              y = la("sourceLocA", s - 1).concat("inIdx.a"),
              b = "max" === n ? "greaterThan" : "lessThan",
              w = r
                ? ""
                : "\n          inIdx = round(vec4(getBestIndicesAChannel(" +
                  m.join() +
                  "),\n                             getBestIndicesAChannel(" +
                  g.join() +
                  "),\n                             getBestIndicesAChannel(" +
                  x.join() +
                  "),\n                             getBestIndicesAChannel(" +
                  y.join() +
                  ")));",
              C =
                "vec4(\n            getAChannel(" +
                m.join() +
                "),\n            hasNextCol ? getAChannel(" +
                g.join() +
                ") : 0.,\n            hasNextRow ? getAChannel(" +
                x.join() +
                ") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(" +
                y.join() +
                ") : 0.)",
              E = r
                ? ""
                : "\n      float getBestIndicesAChannel(" +
                  v.join() +
                  ") {\n        return getChannel(getBestIndicesA(" +
                  d.join() +
                  "),\n                                          vec2(" +
                  d.slice(-2).join() +
                  "));\n      }";
            this.userCode =
              "\n      float getAChannel(" +
              v.join() +
              ") {\n        return getChannel(getA(" +
              d.join() +
              "),\n                               vec2(" +
              d.slice(-2).join() +
              "));\n      }\n      " +
              E +
              "\n      void main() {\n        " +
              l +
              " coords = getOutputCoords();\n        bool hasNextCol = " +
              p[c - 1] +
              " < " +
              (u[c - 1] - 1) +
              ";\n        bool hasNextRow = " +
              p[c - 2] +
              " < " +
              (u[c - 2] - 1) +
              ";\n        " +
              i +
              "\n        ivec4 srcIdx = ivec4(sourceLocR" +
              f +
              ", sourceLocG" +
              f +
              ",\n          sourceLocB" +
              f +
              ", sourceLocA" +
              f +
              ") * " +
              e +
              ";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = " +
              C +
              ";\n\n        for (int i = 0; i < " +
              e +
              "; i++) {\n          inIdx = srcIdx;\n          " +
              w +
              "\n          vec4 candidate = " +
              C +
              ";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(" +
              b +
              "(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ";
          },
          Aa = function (t) {
            (this.variableNames = ["dy"]), (this.outputShape = t.inShape);
            var e = t.filterHeight,
              n = t.filterWidth,
              r = t.strideHeight,
              o = t.strideWidth,
              a = t.dilationHeight,
              i = t.dilationWidth,
              s = t.effectiveFilterHeight,
              u = t.effectiveFilterWidth,
              c = s - 1 - t.padInfo.top,
              l = u - 1 - t.padInfo.left,
              p = 1 / (e * n);
            this.userCode =
              "\n      const ivec2 pads = ivec2(" +
              c +
              ", " +
              l +
              ");\n      const float avgMultiplier = float(" +
              p +
              ");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < " +
              s +
              ";\n            wR += " +
              a +
              ") {\n          float dyR = float(dyRCorner + wR) / " +
              r +
              ".0;\n\n          if (dyR < 0.0 || dyR >= " +
              t.outHeight +
              ".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < " +
              u +
              ";\n            wC+= " +
              i +
              ") {\n            float dyC = float(dyCCorner + wC) / " +
              o +
              ".0;\n\n            if (dyC < 0.0 || dyC >= " +
              t.outWidth +
              ".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          Da = function (t) {
            (this.variableNames = ["dy"]), (this.outputShape = t.inShape);
            var e = t.filterDepth,
              n = t.filterHeight,
              r = t.filterWidth,
              o = t.strideDepth,
              a = t.strideHeight,
              i = t.strideWidth,
              s = t.dilationDepth,
              u = t.dilationHeight,
              c = t.dilationWidth,
              l = t.effectiveFilterDepth,
              p = t.effectiveFilterHeight,
              h = t.effectiveFilterWidth,
              d = l - 1 - t.padInfo.front,
              f = p - 1 - t.padInfo.top,
              v = h - 1 - t.padInfo.left,
              m = 1 / (e * n * r);
            this.userCode =
              "\n      const ivec3 pads = ivec3(" +
              d +
              ", " +
              f +
              ", " +
              v +
              ");\n      const float avgMultiplier = float(" +
              m +
              ");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < " +
              l +
              ";\n            wD += " +
              s +
              ") {\n          float dyD = float(dyDCorner + wD) / " +
              o +
              ".0;\n\n          if (dyD < 0.0 || dyD >= " +
              t.outDepth +
              ".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < " +
              p +
              ";\n              wR += " +
              u +
              ") {\n            float dyR = float(dyRCorner + wR) / " +
              a +
              ".0;\n\n            if (dyR < 0.0 || dyR >= " +
              t.outHeight +
              ".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < " +
              h +
              ";\n                wC += " +
              c +
              ") {\n              float dyC = float(dyCCorner + wC) / " +
              i +
              ".0;\n\n              if (dyC < 0.0 || dyC >= " +
              t.outWidth +
              ".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          Na = function (t, e, n, r, o, a) {
            (this.outputShape = []),
              (this.variableNames = ["x", "mean", "variance"]),
              So(t, e),
              So(t, n);
            var i = "0.0";
            null != r &&
              (So(t, r),
              this.variableNames.push("offset"),
              (i = "getOffsetAtOutCoords()"));
            var s = "1.0";
            null != o &&
              (So(t, o),
              this.variableNames.push("scale"),
              (s = "getScaleAtOutCoords()")),
              (this.outputShape = t),
              (this.userCode =
                "\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = " +
                i +
                ";\n        float scale = " +
                s +
                ";\n        float inv = scale * inversesqrt(variance + float(" +
                a +
                "));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ");
          },
          Ta = function (t, e, n, r, o, a) {
            (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.variableNames = ["x", "mean", "variance"]),
              So(t, e),
              So(t, n);
            var i = "vec4(0.0)";
            null != r &&
              (So(t, r),
              this.variableNames.push("offset"),
              (i = "getOffsetAtOutCoords()"));
            var s = "vec4(1.0)";
            null != o &&
              (So(t, o),
              this.variableNames.push("scale"),
              (s = "getScaleAtOutCoords()")),
              (this.outputShape = t),
              (this.userCode =
                "\n      void main() {\n        vec4 offset = " +
                i +
                ";\n        vec4 scale = " +
                s +
                ";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(" +
                a +
                "));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ");
          },
          Fa = "return areal * breal - aimag * bimag;",
          _a = "return areal * bimag + aimag * breal;",
          Oa = function (t, e, n) {
            (this.variableNames = ["AReal", "AImag", "BReal", "BImag"]),
              (this.outputShape = So(e, n)),
              (this.userCode =
                "\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        " +
                t +
                "\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ");
          },
          Ma = "return a + b;",
          Ba = "return a - b;",
          Pa = "return a * b;",
          La = "return (a < 0.) ? b * a : a;",
          Wa = function (t, e, n) {
            (this.variableNames = ["A", "B"]),
              (this.outputShape = So(e, n)),
              (this.userCode =
                "\n      float binaryOperation(float a, float b) {\n        " +
                t +
                "\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ");
          },
          za =
            "\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",
          Ua = function (t, e, n, r) {
            void 0 === r && (r = !1),
              (this.variableNames = ["A", "B"]),
              (this.supportsBroadcasting = !0),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = So(e, n));
            var o = this.outputShape.length,
              a = "";
            if (r)
              if (0 === o || 1 === D(this.outputShape))
                a =
                  "\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";
              else if (
                ((a =
                  "\n          " +
                  Ra(o) +
                  " coords = getOutputCoords();\n        "),
                1 === o)
              )
                a +=
                  "\n            result.y = (coords + 1) >= " +
                  this.outputShape[0] +
                  " ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";
              else {
                var i = la("coords", o);
                a +=
                  "\n            bool nextRowOutOfBounds =\n              (" +
                  i[o - 2] +
                  " + 1) >= " +
                  this.outputShape[o - 2] +
                  ";\n            bool nextColOutOfBounds =\n              (" +
                  i[o - 1] +
                  " + 1) >= " +
                  this.outputShape[o - 1] +
                  ";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ";
              }
            this.userCode =
              "\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        " +
              t +
              "\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        " +
              a +
              "\n\n        setOutput(result);\n      }\n    ";
          },
          Va = (function () {
            function t(t) {
              (this.variableNames = ["A"]),
                (this.outputShape = t),
                (this.userCode =
                  "\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    ");
            }
            return (
              (t.prototype.getCustomSetupFunc = function (t, e) {
                var n = this;
                return function (r, o) {
                  null == n.minLoc &&
                    ((n.minLoc = r.getUniformLocationNoThrow(o, "minVal")),
                    (n.maxLoc = r.getUniformLocationNoThrow(o, "maxVal"))),
                    r.gl.uniform1f(n.minLoc, t),
                    r.gl.uniform1f(n.maxLoc, e);
                };
              }),
              t
            );
          })(),
          Ga = (function () {
            function t(t) {
              (this.variableNames = ["A"]),
                (this.packedInputs = !0),
                (this.packedOutput = !0),
                (this.outputShape = t),
                (this.userCode =
                  "\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    ");
            }
            return (
              (t.prototype.getCustomSetupFunc = function (t, e) {
                var n = this;
                return function (r, o) {
                  null == n.minLoc &&
                    ((n.minLoc = r.getUniformLocationNoThrow(o, "minVal")),
                    (n.maxLoc = r.getUniformLocationNoThrow(o, "maxVal"))),
                    r.gl.uniform1f(n.minLoc, t),
                    r.gl.uniform1f(n.maxLoc, e);
                };
              }),
              t
            );
          })(),
          qa = function (t) {
            (this.variableNames = ["real", "imag"]),
              (this.outputShape = t),
              (this.userCode =
                "\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    ");
          },
          Ha = function (t) {
            (this.outputShape = []),
              (this.outputShape = Nn(t, 1)),
              (this.variableNames = t.map(function (t, e) {
                return "T" + e;
              }));
            var e = new Array(t.length - 1);
            e[0] = t[0][1];
            for (var n = 1; n < e.length; n++) e[n] = e[n - 1] + t[n][1];
            var r = ["if (yC < " + e[0] + ") setOutput(getT0(yR, yC));"];
            for (n = 1; n < e.length; n++) {
              var o = e[n - 1];
              r.push(
                "else if (yC < " +
                  e[n] +
                  ") setOutput(getT" +
                  n +
                  "(yR, yC-" +
                  o +
                  "));"
              );
            }
            var a = e.length,
              i = e[e.length - 1];
            r.push("else setOutput(getT" + a + "(yR, yC-" + i + "));"),
              (this.userCode =
                "\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        " +
                r.join("\n        ") +
                "\n      }\n    ");
          },
          Ka = function (t, e) {
            (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = []),
              (this.outputShape = Nn(t, e));
            var n = this.outputShape,
              r = n.length,
              o = Ra(r),
              a = la("coords", r),
              i = ["x", "y", "z", "w", "u", "v"].slice(0, r);
            this.variableNames = t.map(function (t, e) {
              return "T" + e;
            });
            var s = new Array(t.length - 1);
            s[0] = t[0][e];
            for (var u = 1; u < s.length; u++) s[u] = s[u - 1] + t[u][e];
            var c = i[e],
              l = i.slice(-2),
              p = i.join(),
              h =
                "if (" +
                c +
                " < " +
                s[0] +
                ") {\n        return getChannel(\n            getT0(" +
                p +
                "), vec2(" +
                l.join() +
                "));\n        }";
            for (u = 1; u < s.length; u++) {
              var d = s[u - 1];
              h +=
                "\n        if (" +
                c +
                " < " +
                s[u] +
                "  && " +
                c +
                " >= " +
                s[u - 1] +
                ") {\n          return getChannel(\n            getT" +
                u +
                "(" +
                ja(i, c, d) +
                "),\n            vec2(" +
                ja(l, c, d) +
                "));\n        }";
            }
            var f = s.length,
              v = s[s.length - 1];
            (h +=
              "\n        return getChannel(\n          getT" +
              f +
              "(" +
              ja(i, c, v) +
              "),\n          vec2(" +
              ja(l, c, v) +
              "));"),
              (this.userCode =
                "\n      float getValue(" +
                i.map(function (t) {
                  return "int " + t;
                }) +
                ") {\n        " +
                h +
                "\n      }\n\n      void main() {\n        " +
                o +
                " coords = getOutputCoords();\n        vec4 result = vec4(getValue(" +
                a +
                "), 0., 0., 0.);\n\n        " +
                a[r - 1] +
                " = " +
                a[r - 1] +
                " + 1;\n        if (" +
                a[r - 1] +
                " < " +
                n[r - 1] +
                ") {\n          result.g = getValue(" +
                a +
                ");\n        }\n\n        " +
                a[r - 2] +
                " = " +
                a[r - 2] +
                " + 1;\n        if (" +
                a[r - 2] +
                " < " +
                n[r - 2] +
                ") {\n          result.a = getValue(" +
                a +
                ");\n        }\n\n        " +
                a[r - 1] +
                " = " +
                a[r - 1] +
                " - 1;\n        if (" +
                a[r - 2] +
                " < " +
                n[r - 2] +
                " &&\n            " +
                a[r - 1] +
                " < " +
                n[r - 1] +
                ") {\n          result.b = getValue(" +
                a +
                ");\n        }\n        setOutput(result);\n      }\n    ");
          };
        function ja(t, e, n) {
          var r = t.indexOf(e);
          return t
            .map(function (t, e) {
              return e === r ? t + " - " + n : t;
            })
            .join();
        }
        var Xa = function (t) {
            (this.variableNames = ["x", "dy"]),
              (this.outputShape = t.filterShape);
            var e = t.strideHeight,
              n = t.strideWidth,
              r = t.padInfo.top,
              o = t.padInfo.left,
              a = "channelsLast" === t.dataFormat;
            this.userCode =
              "\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < " +
              t.batchSize +
              "; b++) {\n          for (int yR = 0; yR < " +
              t.outHeight +
              "; yR++) {\n            int xR = wR + yR * " +
              e +
              " - " +
              r +
              ";\n\n            if (xR < 0 || xR >= " +
              t.inHeight +
              ") {\n              continue;\n            }\n\n            for (int yC = 0; yC < " +
              t.outWidth +
              "; yC++) {\n              int xC = wC + yC * " +
              n +
              " - " +
              o +
              ";\n\n              if (xC < 0 || xC >= " +
              t.inWidth +
              ") {\n                continue;\n              }\n\n              if (" +
              a +
              ") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          Ya = function (t) {
            (this.variableNames = ["dy", "W"]), (this.outputShape = t.inShape);
            var e = t.filterHeight,
              n = t.filterWidth,
              r = t.strideHeight,
              o = t.strideWidth,
              a = "channelsLast" === t.dataFormat,
              i = e - 1 - t.padInfo.top,
              s = n - 1 - t.padInfo.left,
              u = a ? 1 : 2,
              c = a ? 2 : 3,
              l = a ? 3 : 1;
            this.userCode =
              "\n      const ivec2 pads = ivec2(" +
              i +
              ", " +
              s +
              ");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[" +
              l +
              "];\n\n        ivec2 dyCorner = ivec2(coords[" +
              u +
              "], coords[" +
              c +
              "]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < " +
              e +
              "; wR++) {\n          float dyR = float(dyRCorner + wR) / " +
              r +
              ".0;\n\n          if (dyR < 0.0 || dyR >= " +
              t.outHeight +
              ".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = " +
              e +
              " - 1 - wR;\n\n          for (int wC = 0; wC < " +
              n +
              "; wC++) {\n            float dyC = float(dyCCorner + wC) / " +
              o +
              ".0;\n\n            if (dyC < 0.0 || dyC >= " +
              t.outWidth +
              ".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = " +
              n +
              " - 1 - wC;\n\n            for (int d2 = 0; d2 < " +
              t.outChannels +
              "; d2++) {\n\n              if (" +
              a +
              ") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          $a = function (t) {
            (this.variableNames = ["x", "dy"]),
              (this.outputShape = t.filterShape);
            var e = t.strideDepth,
              n = t.strideHeight,
              r = t.strideWidth,
              o = t.padInfo.front,
              a = t.padInfo.top,
              i = t.padInfo.left;
            this.userCode =
              "\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < " +
              t.batchSize +
              "; b++) {\n          for (int yF = 0; yF < " +
              t.outDepth +
              "; yF++) {\n            int xF = wF + yF * " +
              e +
              " - " +
              o +
              ";\n\n            if (xF < 0 || xF >= " +
              t.inDepth +
              ") {\n              continue;\n            }\n\n            for (int yR = 0; yR < " +
              t.outHeight +
              "; yR++) {\n              int xR = wR + yR * " +
              n +
              " - " +
              a +
              ";\n\n              if (xR < 0 || xR >= " +
              t.inHeight +
              ") {\n                continue;\n              }\n\n              for (int yC = 0; yC < " +
              t.outWidth +
              "; yC++) {\n                int xC = wC + yC * " +
              r +
              " - " +
              i +
              ";\n\n                if (xC < 0 || xC >= " +
              t.inWidth +
              ") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          Qa = function (t) {
            (this.variableNames = ["dy", "W"]), (this.outputShape = t.inShape);
            var e = t.filterDepth,
              n = t.filterHeight,
              r = t.filterWidth,
              o = t.strideDepth,
              a = t.strideHeight,
              i = t.strideWidth,
              s = e - 1 - t.padInfo.front,
              u = n - 1 - t.padInfo.top,
              c = r - 1 - t.padInfo.left;
            this.userCode =
              "\n      const ivec3 pads = ivec3(" +
              s +
              ", " +
              u +
              ", " +
              c +
              ");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < " +
              e +
              "; wF++) {\n          float dyF = float(dyFCorner + wF) / " +
              o +
              ".0;\n\n          if (dyF < 0.0 || dyF >= " +
              t.outDepth +
              ".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = " +
              e +
              " - 1 - wF;\n\n          for (int wR = 0; wR < " +
              n +
              "; wR++) {\n            float dyR = float(dyRCorner + wR) / " +
              a +
              ".0;\n\n            if (dyR < 0.0 || dyR >= " +
              t.outHeight +
              ".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = " +
              n +
              " - 1 - wR;\n\n            for (int wC = 0; wC < " +
              r +
              "; wC++) {\n              float dyC = float(dyCCorner + wC) / " +
              i +
              ".0;\n\n              if (dyC < 0.0 || dyC >= " +
              t.outWidth +
              ".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = " +
              r +
              " - 1 - wC;\n\n              for (int d2 = 0; d2 < " +
              t.outChannels +
              "; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          Ja = function (t) {
            (this.variableNames = ["x", "dy"]),
              (this.outputShape = t.filterShape);
            var e = t.strideHeight,
              n = t.strideWidth,
              r = t.padInfo.top,
              o = t.padInfo.left,
              a = t.outChannels / t.inChannels;
            this.userCode =
              "\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * " +
              a +
              " + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < " +
              t.batchSize +
              "; b++) {\n          for (int yR = 0; yR < " +
              t.outHeight +
              "; yR++) {\n            int xR = wR + yR * " +
              e +
              " - " +
              r +
              ";\n\n            if (xR < 0 || xR >= " +
              t.inHeight +
              ") {\n              continue;\n            }\n\n            for (int yC = 0; yC < " +
              t.outWidth +
              "; yC++) {\n              int xC = wC + yC * " +
              n +
              " - " +
              o +
              ";\n\n              if (xC < 0 || xC >= " +
              t.inWidth +
              ") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          Za = function (t) {
            (this.variableNames = ["dy", "W"]), (this.outputShape = t.inShape);
            var e = t.filterHeight,
              n = t.filterWidth,
              r = t.strideHeight,
              o = t.strideWidth,
              a = e - 1 - t.padInfo.top,
              i = n - 1 - t.padInfo.left,
              s = t.outChannels / t.inChannels;
            this.userCode =
              "\n      const ivec2 pads = ivec2(" +
              a +
              ", " +
              i +
              ");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < " +
              e +
              "; wR++) {\n          float dyR = float(dyRCorner + wR) / " +
              r +
              ".0;\n\n          if (dyR < 0.0 || dyR >= " +
              t.outHeight +
              ".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = " +
              e +
              " - 1 - wR;\n\n          for (int wC = 0; wC < " +
              n +
              "; wC++) {\n            float dyC = float(dyCCorner + wC) / " +
              o +
              ".0;\n\n            if (dyC < 0.0 || dyC >= " +
              t.outWidth +
              ".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = " +
              n +
              " - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < " +
              s +
              "; dm++) {\n              int d2 = d1 * " +
              s +
              " + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          ti = function (t, e, n, r) {
            void 0 === e && (e = !1),
              void 0 === n && (n = null),
              void 0 === r && (r = !1),
              (this.variableNames = ["x", "W"]),
              (this.outputShape = t.outShape);
            var o = t.padInfo.top,
              a = t.padInfo.left,
              i = t.strideHeight,
              s = t.strideWidth,
              u = t.dilationHeight,
              c = t.dilationWidth,
              l = t.filterHeight,
              p = t.filterWidth,
              h = 4 * Math.floor(t.inChannels / 4),
              d = t.inChannels % 4,
              f = "channelsLast" === t.dataFormat,
              v = f ? 1 : 2,
              m = f ? 2 : 3,
              g = f ? 3 : 1,
              x = "",
              y = "";
            n &&
              ((x = r
                ? "float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          " +
                  n +
                  "\n        }"
                : "\n          float activation(float x) {\n            " +
                  n +
                  "\n          }\n        "),
              (y = "result = activation(result);"));
            var b = e ? "result += getBiasAtOutCoords();" : "";
            e && this.variableNames.push("bias"),
              r && this.variableNames.push("preluActivationWeights"),
              (this.userCode =
                "\n      " +
                x +
                "\n\n      const ivec2 strides = ivec2(" +
                i +
                ", " +
                s +
                ");\n      const ivec2 pads = ivec2(" +
                o +
                ", " +
                a +
                ");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[" +
                g +
                "];\n\n        ivec2 xRCCorner =\n            ivec2(coords[" +
                v +
                "], coords[" +
                m +
                "]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < " +
                l +
                "; wR++) {\n          int xR = xRCorner + wR * " +
                u +
                ";\n\n          if (xR < 0 || xR >= " +
                t.inHeight +
                ") {\n            continue;\n          }\n\n          for (int wC = 0; wC < " +
                p +
                "; wC++) {\n            int xC = xCCorner + wC * " +
                c +
                ";\n\n            if (xC < 0 || xC >= " +
                t.inWidth +
                ") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < " +
                h +
                "; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (" +
                f +
                ") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (" +
                (1 === d) +
                ") {\n\n              if (" +
                f +
                ") {\n                dotProd +=\n                    getX(batch, xR, xC, " +
                h +
                ") *\n                    getW(wR, wC, " +
                h +
                ", d2);\n              } else {\n                dotProd +=\n                    getX(batch, " +
                h +
                ", xR, xC) *\n                    getW(wR, wC, " +
                h +
                ", d2);\n              }\n\n            } else if (" +
                (2 === d) +
                ") {\n              vec2 wValues = vec2(\n                getW(wR, wC, " +
                h +
                ", d2),\n                getW(wR, wC, " +
                h +
                " + 1, d2)\n              );\n\n              if (" +
                f +
                ") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, " +
                h +
                "),\n                  getX(batch, xR, xC, " +
                h +
                " + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, " +
                h +
                ", xR, xC),\n                  getX(batch, " +
                h +
                " + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (" +
                (3 === d) +
                ") {\n              vec3 wValues = vec3(\n                getW(wR, wC, " +
                h +
                ", d2),\n                getW(wR, wC, " +
                h +
                " + 1, d2),\n                getW(wR, wC, " +
                h +
                " + 2, d2)\n              );\n\n              if (" +
                f +
                ") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, " +
                h +
                "),\n                  getX(batch, xR, xC, " +
                h +
                " + 1),\n                  getX(batch, xR, xC, " +
                h +
                " + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, " +
                h +
                ", xR, xC),\n                  getX(batch, " +
                h +
                " + 1, xR, xC),\n                  getX(batch, " +
                h +
                " + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        " +
                b +
                "\n        " +
                y +
                "\n        setOutput(result);\n      }\n    ");
          },
          ei = function (t) {
            (this.variableNames = ["x", "W"]), (this.outputShape = t.outShape);
            var e = t.padInfo.front,
              n = t.padInfo.top,
              r = t.padInfo.left,
              o = t.strideDepth,
              a = t.strideHeight,
              i = t.strideWidth,
              s = t.dilationDepth,
              u = t.dilationHeight,
              c = t.dilationWidth,
              l = t.filterDepth,
              p = t.filterHeight,
              h = t.filterWidth,
              d = 4 * Math.floor(t.inChannels / 4),
              f = t.inChannels % 4;
            this.userCode =
              "\n      const ivec3 strides = ivec3(" +
              o +
              ", " +
              a +
              ", " +
              i +
              ");\n      const ivec3 pads = ivec3(" +
              e +
              ", " +
              n +
              ", " +
              r +
              ");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < " +
              l +
              "; wF++) {\n          int xF = xFCorner + wF * " +
              s +
              ";\n\n          if (xF < 0 || xF >= " +
              t.inDepth +
              ") {\n            continue;\n          }\n\n          for (int wR = 0; wR < " +
              p +
              "; wR++) {\n            int xR = xRCorner + wR * " +
              u +
              ";\n\n            if (xR < 0 || xR >= " +
              t.inHeight +
              ") {\n              continue;\n            }\n\n            for (int wC = 0; wC < " +
              h +
              "; wC++) {\n              int xC = xCCorner + wC * " +
              c +
              ";\n\n              if (xC < 0 || xC >= " +
              t.inWidth +
              ") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < " +
              d +
              "; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (" +
              (1 === f) +
              ") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, " +
              d +
              ") *\n                  getW(wF, wR, wC, " +
              d +
              ", d2);\n              } else if (" +
              (2 === f) +
              ") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, " +
              d +
              "),\n                  getX(batch, xF, xR, xC, " +
              d +
              " + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, " +
              d +
              ", d2),\n                  getW(wF, wR, wC, " +
              d +
              " + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (" +
              (3 === f) +
              ") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, " +
              d +
              "),\n                  getX(batch, xF, xR, xC, " +
              d +
              " + 1),\n                  getX(batch, xF, xR, xC, " +
              d +
              " + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, " +
              d +
              ", d2),\n                  getW(wF, wR, wC, " +
              d +
              " + 1, d2),\n                  getW(wF, wR, wC, " +
              d +
              " + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          ni = function (t, e, n, r) {
            void 0 === e && (e = !1),
              void 0 === n && (n = null),
              void 0 === r && (r = !1),
              (this.variableNames = ["x", "W"]),
              (this.outputShape = t.outShape);
            var o = t.inHeight,
              a = t.inWidth,
              i = t.padInfo.top,
              s = t.padInfo.left,
              u = t.strideHeight,
              c = t.strideWidth,
              l = t.dilationHeight,
              p = t.dilationWidth,
              h = t.filterHeight,
              d = t.filterWidth,
              f = t.outChannels / t.inChannels,
              v = "",
              m = "";
            n &&
              ((v = r
                ? "float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          " +
                  n +
                  "\n        }"
                : "\n          float activation(float x) {\n            " +
                  n +
                  "\n          }\n        "),
              (m = "result = activation(result);"));
            var g = e ? "result += getBiasAtOutCoords();" : "";
            e && this.variableNames.push("bias"),
              r && this.variableNames.push("preluActivationWeights"),
              (this.userCode =
                "\n      " +
                v +
                "\n\n      const ivec2 strides = ivec2(" +
                u +
                ", " +
                c +
                ");\n      const ivec2 pads = ivec2(" +
                i +
                ", " +
                s +
                ");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / " +
                f +
                ";\n        int q = d2 - d1 * " +
                f +
                ";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < " +
                h +
                "; wR++) {\n          int xR = xRCorner + wR * " +
                l +
                ";\n\n          if (xR < 0 || xR >= " +
                o +
                ") {\n            continue;\n          }\n\n          for (int wC = 0; wC < " +
                d +
                "; wC++) {\n            int xC = xCCorner + wC * " +
                p +
                ";\n\n            if (xC < 0 || xC >= " +
                a +
                ") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        " +
                g +
                "\n        " +
                m +
                "\n        setOutput(result);\n      }\n    ");
          },
          ri = function (t, e, n, r) {
            void 0 === e && (e = !1),
              void 0 === n && (n = null),
              void 0 === r && (r = !1),
              (this.variableNames = ["x", "W"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = t.outShape);
            for (
              var o = t.inHeight,
                a = t.inWidth,
                i = t.padInfo.top,
                s = t.padInfo.left,
                u = t.strideHeight,
                c = t.strideWidth,
                l = t.dilationHeight,
                p = t.dilationWidth,
                h = t.filterHeight,
                d = t.filterWidth,
                f = d,
                v = "int xR; int xC; int xCOffset;",
                m = 0;
              m < h;
              m++
            )
              for (var g = 0; g < d; g++)
                v +=
                  "\n          vec4 xTexelR" +
                  m +
                  "C" +
                  2 * g +
                  " = vec4(0.);\n          vec4 wR" +
                  m +
                  "C" +
                  g +
                  " = vec4(0.);\n          vec4 xR" +
                  m +
                  "C" +
                  g +
                  " = vec4(0.);";
            for (m = 0; m < h; m++)
              for (var x = 0; x < f; x++) {
                if (
                  ((v +=
                    "\n          xR = xRCorner + " +
                    m * l +
                    ";\n          xC = xCCorner + " +
                    (g = 2 * x) * p +
                    ";\n        "),
                  1 === c)
                ) {
                  if (
                    g < d &&
                    ((v +=
                      s % 2 == 1
                        ? "\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < " +
                          o +
                          " && xCOffset >= 0 && xCOffset < " +
                          a +
                          ") {\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          " = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= " +
                          a +
                          ") {\n                    xTexelR" +
                          m +
                          "C" +
                          g +
                          ".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          " = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < " +
                          o +
                          " && xCOffset >= 0 && xCOffset < " +
                          a +
                          ") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= " +
                          a +
                          ") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR" +
                          m +
                          "C" +
                          g +
                          " = vec4(previous.zw, xTexelR" +
                          m +
                          "C" +
                          g +
                          ".xy);\n                } else {\n                  xR" +
                          m +
                          "C" +
                          g +
                          " = vec4(0, 0, xTexelR" +
                          m +
                          "C" +
                          g +
                          ".xy);\n                }\n              "
                        : "\n                if(xR >= 0 && xR < " +
                          o +
                          " && xC >= 0 && xC < " +
                          a +
                          ") {\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          " = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          " = vec4(0.);\n                }\n\n                xR" +
                          m +
                          "C" +
                          g +
                          " = xTexelR" +
                          m +
                          "C" +
                          g +
                          ";\n              "),
                    g + 1 < d)
                  ) {
                    var y = s % 2 == 0 ? E(p) : p;
                    (p % 2 == 0 && s % 2 == 1) || (p % 2 != 0 && s % 2 != 1)
                      ? ((v +=
                          "\n                  xCOffset = xC + " +
                          (s % 2) +
                          " + " +
                          y +
                          ";\n\n                  if(xR >= 0 && xR < " +
                          o +
                          " &&\n                    xCOffset >= 0 && xCOffset < " +
                          a +
                          ") {\n                    xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          " = getX(batch, xR, xCOffset, d1);\n                  }\n                "),
                        p > 1 &&
                          (v +=
                            "\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < " +
                            o +
                            " &&\n                      xCOffset >= 0 && xCOffset < " +
                            a +
                            ") {\n                      xTexelR" +
                            m +
                            "C" +
                            g +
                            " = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR" +
                            m +
                            "C" +
                            g +
                            " = vec4(0.);\n                    }\n                  "),
                        (v +=
                          "\n                  xR" +
                          m +
                          "C" +
                          (g + 1) +
                          " = vec4(\n                    xTexelR" +
                          m +
                          "C" +
                          g +
                          ".zw, xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          ".xy);\n                "))
                      : (v +=
                          "\n                  xCOffset = xC + " +
                          y +
                          ";\n\n                  if(xR >= 0 && xR < " +
                          o +
                          " &&\n                    xCOffset >= 0 && xCOffset < " +
                          a +
                          ") {\n                    xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          " = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR" +
                          m +
                          "C" +
                          (g + 1) +
                          " = xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          ";\n                ");
                  }
                } else
                  g < d &&
                    ((v +=
                      "\n              if(xR >= 0 && xR < " +
                      o +
                      ") {\n            "),
                    s % 2 == 1
                      ? ((v +=
                          "\n                xCOffset = xC + 1 - " +
                          c +
                          ";\n                if(xCOffset >= 0 && xCOffset < " +
                          a +
                          ") {\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          " = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          " = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < " +
                          a +
                          ") {\n                  xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          " = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          " = vec4(0.);\n                }\n\n                xR" +
                          m +
                          "C" +
                          g +
                          " = vec4(\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          ".zw, xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          ".zw);\n              "),
                        g + 1 < d &&
                          (v +=
                            "\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + " +
                            c +
                            ";\n                  if(xCOffset >= 0 && xCOffset < " +
                            a +
                            ") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR" +
                            m +
                            "C" +
                            (g + 1) +
                            " = vec4(xTexelR" +
                            m +
                            "C" +
                            (g + 2) +
                            ".xy, final.xy);\n                "))
                      : ((v +=
                          "\n                if(xC >= 0 && xC < " +
                          a +
                          ") {\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          " = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          " = vec4(0.);\n                }\n\n                xCOffset = xC + " +
                          c +
                          ";\n                if(xCOffset >= 0 && xCOffset < " +
                          a +
                          ") {\n                  xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          " = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          " = vec4(0.);\n                }\n\n                xR" +
                          m +
                          "C" +
                          g +
                          " = vec4(\n                  xTexelR" +
                          m +
                          "C" +
                          g +
                          ".xy, xTexelR" +
                          m +
                          "C" +
                          (g + 2) +
                          ".xy);\n              "),
                        g + 1 < d &&
                          (v +=
                            "\n                  xR" +
                            m +
                            "C" +
                            (g + 1) +
                            " = vec4(\n                    xTexelR" +
                            m +
                            "C" +
                            g +
                            ".zw, xTexelR" +
                            m +
                            "C" +
                            (g + 2) +
                            ".zw);\n                ")),
                    (v += "}"));
                g < d &&
                  ((v +=
                    "\n            vec4 wTexelR" +
                    m +
                    "C" +
                    g +
                    " = getW(" +
                    m +
                    ", " +
                    g +
                    ", d1, q);\n            wR" +
                    m +
                    "C" +
                    g +
                    " = vec4(wTexelR" +
                    m +
                    "C" +
                    g +
                    ".xz, wTexelR" +
                    m +
                    "C" +
                    g +
                    ".xz);\n          "),
                  g + 1 < d &&
                    (v +=
                      "\n              vec4 wTexelR" +
                      m +
                      "C" +
                      (g + 1) +
                      " = getW(" +
                      m +
                      ", " +
                      (g + 1) +
                      ", d1, q);\n              wR" +
                      m +
                      "C" +
                      (g + 1) +
                      " =\n                vec4(wTexelR" +
                      m +
                      "C" +
                      (g + 1) +
                      ".xz, wTexelR" +
                      m +
                      "C" +
                      (g + 1) +
                      ".xz);"));
              }
            for (m = 0; m < h; m++)
              for (g = 0; g < d; g++)
                v +=
                  "dotProd += xR" + m + "C" + g + " * wR" + m + "C" + g + ";";
            var b = "",
              w = "";
            n &&
              ((b = r
                ? "vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          " +
                  n +
                  "\n        }"
                : "vec4 activation(vec4 x) {\n          " + n + "\n        }"),
              (w = "result = activation(result);"));
            var C = e ? "result += getBiasAtOutCoords();" : "";
            e && this.variableNames.push("bias"),
              r && this.variableNames.push("preluActivationWeights"),
              (this.userCode =
                "\n      " +
                b +
                "\n\n      const ivec2 strides = ivec2(" +
                u +
                ", " +
                c +
                ");\n      const ivec2 pads = ivec2(" +
                i +
                ", " +
                s +
                ");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        " +
                v +
                "\n\n        vec4 result = dotProd;\n        " +
                C +
                "\n        " +
                w +
                "\n        setOutput(result);\n      }\n    ");
          },
          oi = function (t, e, n, r, o) {
            (this.variableNames = ["Image", "Boxes", "BoxInd"]),
              (this.outputShape = []);
            var a = t[0],
              i = t[1],
              s = t[2],
              u = t[3],
              c = e[0],
              l = n[0],
              p = n[1];
            this.outputShape = [c, l, p, u];
            var h = "bilinear" === r ? 1 : 0,
              d = [i - 1 + ".0", s - 1 + ".0"],
              f = d[0],
              v = d[1],
              m =
                l > 1
                  ? [
                      "" + (i - 1) / (l - 1),
                      "(y2-y1) * height_ratio",
                      "y1*" + f + " + float(y)*(height_scale)",
                    ]
                  : ["0.0", "0.0", "0.5 * (y1+y2) * " + f],
              g = m[0],
              x = m[1],
              y = m[2],
              b =
                p > 1
                  ? [
                      "" + (s - 1) / (p - 1),
                      "(x2-x1) * width_ratio",
                      "x1*" + v + " + float(x)*(width_scale)",
                    ]
                  : ["0.0", "0.0", "0.5 * (x1+x2) * " + v],
              w = b[0],
              C = b[1],
              E = b[2];
            this.userCode =
              "\n      const float height_ratio = float(" +
              g +
              ");\n      const float width_ratio = float(" +
              w +
              ");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= " +
              a +
              ") {\n          return;\n        }\n\n        float height_scale = " +
              x +
              ";\n        float width_scale = " +
              C +
              ";\n\n        float in_y = " +
              y +
              ";\n        if( in_y < 0.0 || in_y > " +
              f +
              " ) {\n          setOutput(float(" +
              o +
              "));\n          return;\n        }\n        float in_x = " +
              E +
              ";\n        if( in_x < 0.0 || in_x > " +
              v +
              " ) {\n          setOutput(float(" +
              o +
              "));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(" +
              h +
              " == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ";
          },
          ai = function (t, e, n) {
            (this.variableNames = ["x"]), (this.outputShape = t);
            var r = t.length,
              o = t[t.length - 1],
              a = n ? "<" : ">";
            this.userCode =
              "\n      int getIndex(int i) {\n        " +
              (n ? "return " + o + " -i - 1;" : "return i;") +
              "\n      }\n\n      void main() {\n        " +
              Ra(r) +
              " coords = getOutputCoords();\n        int end = " +
              ii(r, "coords") +
              ";\n        float val = 0.0;\n        for (int i = " +
              o +
              " - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx " +
              a +
              " end) {\n            continue;\n          }\n          if (idx == end && " +
              e +
              ") {\n            continue;\n          }\n          " +
              ii(r, "coords") +
              " = idx;\n          val += getX(" +
              (function (t, e) {
                if (1 === r) return "" + e;
                if (2 === r) return e + ".x, " + e + ".y";
                if (3 === r) return e + ".x, " + e + ".y, " + e + ".z";
                if (4 === r)
                  return e + ".x, " + e + ".y, " + e + ".z, " + e + ".w";
                throw Error(
                  "Cumulative sum for rank " + r + " is not yet supported"
                );
              })(0, "coords") +
              ");\n        }\n        setOutput(val);\n      }\n    ";
          };
        function ii(t, e) {
          if (1 === t) return "" + e;
          if (2 === t) return e + ".y";
          if (3 === t) return e + ".z";
          if (4 === t) return e + ".w";
          throw Error("Cumulative sum for rank " + t + " is not yet supported");
        }
        var si = function (t) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !1),
              (this.packedOutput = !0),
              (this.outPackingScheme = qt.DENSE);
            var e = Jt(t),
              n = pa();
            (this.outputShape = t),
              (this.userCode =
                "\n      ivec3 outCoordsFromFlatIndex(int index) {\n        " +
                ha(["r", "c", "d"], t) +
                "\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(" +
                e[0] +
                ", " +
                e[1] +
                "));\n        int index = 4 * (resTexRC.x * " +
                e[1] +
                " + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        " +
                n.output +
                " = result;\n      }\n    ");
          },
          ui = function (t) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outPackingScheme = qt.DENSE);
            var e = Jt(t),
              n = pa();
            (this.outputShape = t),
              (this.userCode =
                "\n      ivec3 outCoordsFromFlatIndex(int index) {\n        " +
                ha(["r", "c", "d"], t) +
                "\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(" +
                e[0] +
                ", " +
                e[1] +
                "));\n        int index = 4 * (resTexRC.x * " +
                e[1] +
                " + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        " +
                n.output +
                " = result;\n      }\n    ");
          },
          ci = (function () {
            function t(t, e, n) {
              (this.variableNames = ["x"]),
                (this.outputShape = []),
                (this.outputShape = t),
                (this.blockSize = e),
                (this.dataFormat = n),
                (this.userCode =
                  "\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = " +
                  this.getHeightCoordString() +
                  ";\n      int w = " +
                  this.getWidthCoordString() +
                  ";\n      int d = " +
                  this.getDepthCoordString() +
                  ";\n\n      int in_h = h / " +
                  e +
                  ";\n      int offset_h = imod(h, " +
                  e +
                  ");\n      int in_w = w / " +
                  e +
                  ";\n      int offset_w = imod(w, " +
                  e +
                  ");\n      int offset_d = (offset_h * " +
                  e +
                  " + offset_w) *\n        " +
                  this.getOutputDepthSize() +
                  ";\n      int in_d = d + offset_d;\n\n      float result = " +
                  this.getInputSamplingString() +
                  ";\n      setOutput(result);\n    }\n  ");
            }
            return (
              (t.prototype.getHeightCoordString = function () {
                return "NHWC" === this.dataFormat ? "coords[1]" : "coords[2]";
              }),
              (t.prototype.getWidthCoordString = function () {
                return "NHWC" === this.dataFormat ? "coords[2]" : "coords[3]";
              }),
              (t.prototype.getDepthCoordString = function () {
                return "NHWC" === this.dataFormat ? "coords[3]" : "coords[1]";
              }),
              (t.prototype.getOutputDepthSize = function () {
                return "NHWC" === this.dataFormat
                  ? this.outputShape[3]
                  : this.outputShape[1];
              }),
              (t.prototype.getInputSamplingString = function () {
                return "NHWC" === this.dataFormat
                  ? "getX(b, in_h, in_w, in_d)"
                  : "getX(b, in_d, in_h, in_w)";
              }),
              t
            );
          })(),
          li = function (t) {
            (this.variableNames = ["X"]),
              (this.outputShape = [t, t]),
              (this.userCode =
                "\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    ");
          },
          pi = function (t) {
            (this.variableNames = ["A"]), (this.outTexUsage = Ht.DOWNLOAD);
            var e = pa();
            (this.outputShape = t),
              (this.userCode =
                "\n      " +
                fa +
                "\n\n      void main() {\n        float x = getAAtOutCoords();\n        " +
                e.output +
                " = encode_float(x);\n      }\n    ");
          },
          hi = function (t) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !1),
              (this.outTexUsage = Ht.DOWNLOAD);
            var e = pa();
            (this.outputShape = t),
              (this.userCode =
                "\n      " +
                fa +
                "\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        " +
                e.output +
                " = encode_float(x);\n      }\n    ");
          },
          di = function (t, e, n) {
            void 0 === n && (n = !1), (this.variableNames = ["A"]);
            var r = pa(),
              o = e[0],
              a = e[1];
            this.outputShape = t;
            var i = "result";
            n && (i = "floor(result * 255. + 0.5)"),
              (this.userCode =
                "\n      " +
                da(t) +
                "\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / " +
                a +
                ";\n        int c = imod(flatIndex, " +
                a +
                ");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(" +
                a +
                ".0, " +
                o +
                ".0);\n        vec4 values = " +
                r.texture2D +
                "(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        " +
                r.output +
                " = vec4(" +
                i +
                ", 0., 0., 0.);\n      }\n    ");
          },
          fi = function (t, e, n) {
            void 0 === n && (n = !1),
              (this.variableNames = ["A"]),
              (this.packedInputs = !1),
              (this.packedOutput = !0);
            var r = pa(),
              o = e[0],
              a = e[1];
            this.outputShape = t;
            var i = "",
              s = "result";
            n && (s = "floor(result * 255. + 0.5)");
            for (var u = 0; u <= 1; u++)
              for (var c = 0; c <= 1; c++) {
                var l = 2 * u + c;
                i +=
                  "\n          localCoords = coords;\n          if(localCoords[2] + " +
                  c +
                  " < " +
                  t[2] +
                  ") {\n            localCoords[2] += " +
                  c +
                  ";\n            if(localCoords[1] + " +
                  u +
                  " < " +
                  t[1] +
                  ") {\n              localCoords[1] += " +
                  u +
                  ";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / " +
                  a +
                  ";\n              c = imod(flatIndex, " +
                  a +
                  ");\n              uv = (vec2(c, r) + halfCR) / vec2(" +
                  a +
                  ".0, " +
                  o +
                  ".0);\n              values = " +
                  r.texture2D +
                  "(A, uv);\n\n              if(offset == 0) {\n                result[" +
                  l +
                  "] = values[0];\n              } else if(offset == 1) {\n                result[" +
                  l +
                  "] = values[1];\n              } else if(offset == 2) {\n                result[" +
                  l +
                  "] = values[2];\n              } else {\n                result[" +
                  l +
                  "] = values[3];\n              }\n            }\n          }\n        ";
              }
            this.userCode =
              "\n      " +
              da(t) +
              "\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        " +
              i +
              "\n\n        " +
              r.output +
              " = " +
              s +
              ";\n      }\n    ";
          },
          vi = "return real * expR - imag * expI;",
          mi = "return real * expI + imag * expR;",
          gi = function (t, e, n) {
            this.variableNames = ["real", "imag"];
            var r = e[1];
            this.outputShape = e;
            var o = n ? "2.0 * " + Math.PI : "-2.0 * " + Math.PI,
              a = n ? r + ".0" : "1.0";
            this.userCode =
              "\n      const float exponentMultiplier = " +
              o +
              ";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        " +
              t +
              "\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(" +
              r +
              ");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < " +
              r +
              "; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / " +
              a +
              ";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ";
          },
          xi = (function () {
            function t(t, e) {
              (this.outputShape = []),
                (this.variableNames = ["x"]),
                (this.outputShape = t),
                (this.userCode =
                  "\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    ");
            }
            return (
              (t.prototype.getCustomSetupFunc = function (t) {
                var e = this;
                return function (n, r) {
                  null == e.valueLoc &&
                    (e.valueLoc = n.getUniformLocationNoThrow(r, "value")),
                    n.gl.uniform1f(e.valueLoc, t);
                };
              }),
              t
            );
          })(),
          yi = function (t, e, n) {
            this.variableNames = ["A", "indices"];
            var r = t.slice();
            (r[n] = e), (this.outputShape = r), (this.rank = r.length);
            var o = Ra(this.rank),
              a = (function (t, e) {
                var n = t.length;
                if (n > 4)
                  throw Error("Gather for rank " + n + " is not yet supported");
                if (1 === n) return "int(getIndices(resRC))";
                for (
                  var r = ["resRC.x", "resRC.y", "resRC.z", "resRC.w"],
                    o = [],
                    a = 0;
                  a < t.length;
                  a++
                )
                  a === e
                    ? o.push("int(getIndices(" + r[a] + "))")
                    : o.push("" + r[a]);
                return o.join();
              })(t, n);
            this.userCode =
              "\n      void main() {\n        " +
              o +
              " resRC = getOutputCoords();\n        setOutput(getA(" +
              a +
              "));\n      }\n    ";
          },
          bi = function (t, e, n) {
            (this.sliceDim = t),
              (this.strides = e),
              (this.variableNames = ["x", "indices"]),
              (this.outputShape = n);
            var r = Ra(e.length),
              o = Ra(n.length),
              a = this.sliceDim > 1 ? "strides[j]" : "strides";
            this.userCode =
              "\n        " +
              r +
              " strides = " +
              r +
              "(" +
              this.strides +
              ");\n         void main() {\n          " +
              o +
              " coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < " +
              this.sliceDim +
              "; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * " +
              a +
              ";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ";
          };
        function wi(t, e) {
          var n = pa();
          return se(
            t,
            e,
            n.version +
              "\n    precision highp float;\n    " +
              n.attribute +
              " vec3 clipSpacePos;\n    " +
              n.attribute +
              " vec2 uv;\n    " +
              n.varyingVs +
              " vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"
          );
        }
        function Ci(t, e) {
          return ve(
            t,
            e,
            new Float32Array([
              -1, 1, 0, 0, 1, -1, -1, 0, 0, 0, 1, 1, 0, 1, 1, 1, -1, 0, 1, 0,
            ])
          );
        }
        function Ei(t, e) {
          return me(t, e, new Uint16Array([0, 1, 2, 2, 1, 3]));
        }
        function Ri(t, e, n, r, o, a, i) {
          xe(n, r);
          var s = ge(t, e),
            u = t.TEXTURE_2D;
          return (
            ee(t, e, function () {
              return t.bindTexture(u, s);
            }),
            ee(t, e, function () {
              return t.texParameteri(u, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE);
            }),
            ee(t, e, function () {
              return t.texParameteri(u, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE);
            }),
            ee(t, e, function () {
              return t.texParameteri(u, t.TEXTURE_MIN_FILTER, t.NEAREST);
            }),
            ee(t, e, function () {
              return t.texParameteri(u, t.TEXTURE_MAG_FILTER, t.NEAREST);
            }),
            ee(t, e, function () {
              return t.texImage2D(u, 0, o, n, r, 0, a, i, null);
            }),
            ee(t, e, function () {
              return t.bindTexture(t.TEXTURE_2D, null);
            }),
            s
          );
        }
        function Ii(t, e, n, r, o) {
          var a = Qt(n, r);
          return Ri(
            t,
            e,
            a[0],
            a[1],
            o.internalFormatFloat,
            o.textureFormatFloat,
            t.FLOAT
          );
        }
        function ki(t, e, n, r, o) {
          var a = Qt(n, r);
          return Ri(
            t,
            e,
            a[0],
            a[1],
            o.internalFormatHalfFloat,
            o.textureFormatFloat,
            o.textureTypeHalfFloat
          );
        }
        function Si(t, e, n, r, o) {
          var a = Qt(n, r);
          return Ri(t, e, a[0], a[1], t.RGBA, t.RGBA, t.UNSIGNED_BYTE);
        }
        function Ai(t, e, n, r, o) {
          var a = Zt(n, r);
          return Ri(
            t,
            e,
            a[0],
            a[1],
            o.internalFormatPackedFloat,
            t.RGBA,
            t.FLOAT
          );
        }
        function Di(t, e, n, r, o) {
          var a = Zt(n, r);
          return Ri(
            t,
            e,
            a[0],
            a[1],
            o.internalFormatPackedHalfFloat,
            t.RGBA,
            o.textureTypeHalfFloat
          );
        }
        function Ni(t, e, n, r) {
          return (
            ee(t, e, function () {
              return t.bindBuffer(t.ARRAY_BUFFER, r);
            }),
            be(t, e, n, "clipSpacePos", r, 3, 20, 0) &&
              be(t, e, n, "uv", r, 2, 20, 12)
          );
        }
        function Ti(t, e, n, r, o, a, i) {
          var s, u, c;
          ee(t, e, function () {
            return t.bindTexture(t.TEXTURE_2D, n);
          }),
            a instanceof Uint8Array
              ? ((s = new Uint8Array(r * o * 4)),
                (u = t.UNSIGNED_BYTE),
                (c = t.RGBA))
              : ((s = new Float32Array(r * o * 4)),
                (u = t.FLOAT),
                (c = i.internalFormatPackedFloat)),
            s.set(a),
            ee(t, e, function () {
              return t.texImage2D(t.TEXTURE_2D, 0, c, r, o, 0, t.RGBA, u, s);
            }),
            ee(t, e, function () {
              return t.bindTexture(t.TEXTURE_2D, null);
            });
        }
        function Fi(t, e, n, r) {
          ee(t, e, function () {
            return t.bindTexture(t.TEXTURE_2D, n);
          }),
            r.data instanceof Uint8Array
              ? ee(t, e, function () {
                  return t.texImage2D(
                    t.TEXTURE_2D,
                    0,
                    t.RGBA,
                    r.width,
                    r.height,
                    0,
                    t.RGBA,
                    t.UNSIGNED_BYTE,
                    r.data
                  );
                })
              : ee(t, e, function () {
                  return t.texImage2D(
                    t.TEXTURE_2D,
                    0,
                    t.RGBA,
                    t.RGBA,
                    t.UNSIGNED_BYTE,
                    r
                  );
                }),
            ee(t, e, function () {
              return t.bindTexture(t.TEXTURE_2D, null);
            });
        }
        function _i(t, e, n, r, o) {
          var a = t.createBuffer();
          ee(t, e, function () {
            return t.bindBuffer(t.PIXEL_PACK_BUFFER, a);
          });
          var i = 16 * n * r;
          return (
            ee(t, e, function () {
              return t.bufferData(t.PIXEL_PACK_BUFFER, i, t.STREAM_READ);
            }),
            ee(t, e, function () {
              return t.readPixels(0, 0, r, n, t.RGBA, t.FLOAT, 0);
            }),
            ee(t, e, function () {
              return t.bindBuffer(t.PIXEL_PACK_BUFFER, null);
            }),
            a
          );
        }
        function Oi(t, e, n) {
          var r = t,
            o = new Float32Array(n);
          return (
            r.bindBuffer(r.PIXEL_PACK_BUFFER, e),
            r.getBufferSubData(r.PIXEL_PACK_BUFFER, 0, o),
            r.bindBuffer(r.PIXEL_PACK_BUFFER, null),
            o
          );
        }
        function Mi(t, e, n, r, o) {
          var a = Qt(n, r),
            i = a[0],
            s = a[1],
            u = new Uint8Array(n * r * 4);
          return (
            ee(t, e, function () {
              return t.readPixels(
                0,
                0,
                i,
                s,
                o.downloadTextureFormat,
                t.UNSIGNED_BYTE,
                u
              );
            }),
            new Float32Array(u.buffer)
          );
        }
        function Bi(t, e, n, r, o, a, i, s) {
          var u = t,
            c = new Float32Array(
              (function (t, e) {
                var n = Zt(a, i);
                return n[0] * n[1] * 4;
              })()
            );
          return (
            u.bindBuffer(u.PIXEL_PACK_BUFFER, e),
            u.getBufferSubData(u.PIXEL_PACK_BUFFER, 0, c),
            u.bindBuffer(u.PIXEL_PACK_BUFFER, null),
            c
          );
        }
        function Pi(t, e, n, r) {
          var o = new Float32Array(n * r * 4);
          return (
            ee(t, e, function () {
              return t.readPixels(0, 0, r, n, t.RGBA, t.FLOAT, o);
            }),
            o
          );
        }
        var Li = Object.freeze({
            createVertexShader: wi,
            createVertexBuffer: Ci,
            createIndexBuffer: Ei,
            createFloat32MatrixTexture: Ii,
            createFloat16MatrixTexture: ki,
            createUnsignedBytesMatrixTexture: Si,
            createPackedMatrixTexture: Ai,
            createFloat16PackedMatrixTexture: Di,
            bindVertexProgramAttributeStreams: Ni,
            uploadDenseMatrixToTexture: Ti,
            uploadPixelDataToTexture: Fi,
            createBufferFromOutputTexture: _i,
            downloadFloat32MatrixFromBuffer: Oi,
            downloadByteEncodedFloatMatrixFromOutputTexture: Mi,
            downloadPackedMatrixFromBuffer: Bi,
            downloadMatrixFromPackedOutputTexture: Pi,
          }),
          Wi = (function () {
            function t(t) {
              (this.outputTexture = null),
                (this.program = null),
                (this.disposed = !1),
                (this.vertexAttrsAreBound = !1),
                (this.itemsToPoll = []);
              var e = c().getNumber("WEBGL_VERSION");
              null != t ? ((this.gl = t), Yt(e, t)) : (this.gl = $t(e));
              var n = "WEBGL_color_buffer_float";
              if (1 === c().getNumber("WEBGL_VERSION")) {
                if (
                  ((this.textureFloatExtension = ie(
                    this.gl,
                    this.debug,
                    "OES_texture_float"
                  )),
                  ze(this.gl, "OES_texture_half_float"))
                )
                  this.textureHalfFloatExtension = ie(
                    this.gl,
                    this.debug,
                    "OES_texture_half_float"
                  );
                else if (c().get("WEBGL_FORCE_F16_TEXTURES"))
                  throw new Error(
                    "GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true."
                  );
                if (
                  ((this.colorBufferFloatExtension = this.gl.getExtension(n)),
                  ze(this.gl, "EXT_color_buffer_half_float"))
                )
                  this.colorBufferHalfFloatExtension = ie(
                    this.gl,
                    this.debug,
                    "EXT_color_buffer_half_float"
                  );
                else if (c().get("WEBGL_FORCE_F16_TEXTURES"))
                  throw new Error(
                    "GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true."
                  );
              } else if (((n = "EXT_color_buffer_float"), ze(this.gl, n)))
                this.colorBufferFloatExtension = this.gl.getExtension(n);
              else {
                if (!ze(this.gl, "EXT_color_buffer_half_float"))
                  throw new Error(
                    "GL context does not support color renderable floats"
                  );
                this.colorBufferHalfFloatExtension = this.gl.getExtension(
                  "EXT_color_buffer_half_float"
                );
              }
              (this.vertexBuffer = Ci(this.gl, this.debug)),
                (this.indexBuffer = Ei(this.gl, this.debug)),
                (this.framebuffer = ye(this.gl, this.debug)),
                (this.textureConfig = te(
                  this.gl,
                  this.textureHalfFloatExtension
                ));
            }
            return (
              Object.defineProperty(t.prototype, "debug", {
                get: function () {
                  return c().getBool("DEBUG");
                },
                enumerable: !0,
                configurable: !0,
              }),
              (t.prototype.dispose = function () {
                var t = this;
                if (!this.disposed) {
                  null != this.program &&
                    console.warn(
                      "Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."
                    ),
                    null != this.outputTexture &&
                      console.warn(
                        "Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing."
                      );
                  var e = this.gl;
                  ee(e, this.debug, function () {
                    return e.finish();
                  }),
                    ee(e, this.debug, function () {
                      return e.bindFramebuffer(e.FRAMEBUFFER, null);
                    }),
                    ee(e, this.debug, function () {
                      return e.deleteFramebuffer(t.framebuffer);
                    }),
                    ee(e, this.debug, function () {
                      return e.bindBuffer(e.ARRAY_BUFFER, null);
                    }),
                    ee(e, this.debug, function () {
                      return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, null);
                    }),
                    ee(e, this.debug, function () {
                      return e.deleteBuffer(t.indexBuffer);
                    }),
                    (this.disposed = !0);
                }
              }),
              (t.prototype.createFloat32MatrixTexture = function (t, e) {
                return (
                  this.throwIfDisposed(),
                  Ii(this.gl, this.debug, t, e, this.textureConfig)
                );
              }),
              (t.prototype.createFloat16MatrixTexture = function (t, e) {
                return (
                  this.throwIfDisposed(),
                  ki(this.gl, this.debug, t, e, this.textureConfig)
                );
              }),
              (t.prototype.createUnsignedBytesMatrixTexture = function (t, e) {
                return (
                  this.throwIfDisposed(),
                  Si(this.gl, this.debug, t, e, this.textureConfig)
                );
              }),
              (t.prototype.uploadPixelDataToTexture = function (t, e) {
                this.throwIfDisposed(), Fi(this.gl, this.debug, t, e);
              }),
              (t.prototype.uploadDenseMatrixToTexture = function (t, e, n, r) {
                this.throwIfDisposed(),
                  Ti(this.gl, this.debug, t, e, n, r, this.textureConfig);
              }),
              (t.prototype.createFloat16PackedMatrixTexture = function (t, e) {
                return (
                  this.throwIfDisposed(),
                  Di(this.gl, this.debug, t, e, this.textureConfig)
                );
              }),
              (t.prototype.createPackedMatrixTexture = function (t, e) {
                return (
                  this.throwIfDisposed(),
                  Ai(this.gl, this.debug, t, e, this.textureConfig)
                );
              }),
              (t.prototype.deleteMatrixTexture = function (t) {
                var e = this;
                this.throwIfDisposed(),
                  this.outputTexture === t &&
                    (ke(this.gl, this.debug, this.framebuffer),
                    (this.outputTexture = null)),
                  ee(this.gl, this.debug, function () {
                    return e.gl.deleteTexture(t);
                  });
              }),
              (t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture =
                function (t, e, n) {
                  var r = this;
                  return this.downloadMatrixDriver(t, function () {
                    return Mi(r.gl, r.debug, e, n, r.textureConfig);
                  });
                }),
              (t.prototype.downloadPackedMatrixFromBuffer = function (
                t,
                e,
                n,
                r,
                o,
                a
              ) {
                return Bi(this.gl, t, 0, 0, 0, o, a, this.textureConfig);
              }),
              (t.prototype.downloadFloat32MatrixFromBuffer = function (t, e) {
                return Oi(this.gl, t, e);
              }),
              (t.prototype.createBufferFromTexture = function (t, e, n) {
                this.bindTextureToFrameBuffer(t);
                var r = _i(this.gl, this.debug, e, n, this.textureConfig);
                return this.unbindTextureToFrameBuffer(), r;
              }),
              (t.prototype.createAndWaitForFence = function () {
                var t = this.createFence(this.gl);
                return this.pollFence(t);
              }),
              (t.prototype.createFence = function (t) {
                var e,
                  n,
                  r = this;
                if (c().getBool("WEBGL_FENCE_API_ENABLED")) {
                  var o = t,
                    a = o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE, 0);
                  t.flush(),
                    (n = function () {
                      var t = o.clientWaitSync(a, 0, 0);
                      return (
                        t === o.ALREADY_SIGNALED || t === o.CONDITION_SATISFIED
                      );
                    }),
                    (e = a);
                } else
                  c().getNumber(
                    "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"
                  ) > 0
                    ? ((e = this.beginQuery()),
                      this.endQuery(),
                      (n = function () {
                        return r.isQueryAvailable(
                          e,
                          c().getNumber(
                            "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"
                          )
                        );
                      }))
                    : (n = function () {
                        return !0;
                      });
                return { query: e, isFencePassed: n };
              }),
              (t.prototype.downloadMatrixFromPackedTexture = function (
                t,
                e,
                n
              ) {
                var r = this;
                return this.downloadMatrixDriver(t, function () {
                  return Pi(r.gl, r.debug, e, n);
                });
              }),
              (t.prototype.createProgram = function (t) {
                this.throwIfDisposed();
                var e = this.gl,
                  n = ue(e, this.debug, t),
                  r = wi(e, this.debug),
                  o = he(e, this.debug);
                return (
                  ee(e, this.debug, function () {
                    return e.attachShader(o, r);
                  }),
                  ee(e, this.debug, function () {
                    return e.attachShader(o, n);
                  }),
                  de(e, this.debug, o),
                  this.debug && fe(e, this.debug, o),
                  this.vertexAttrsAreBound ||
                    (this.setProgram(o),
                    (this.vertexAttrsAreBound = Ni(
                      e,
                      this.debug,
                      this.program,
                      this.vertexBuffer
                    ))),
                  o
                );
              }),
              (t.prototype.deleteProgram = function (t) {
                var e = this;
                this.throwIfDisposed(),
                  t === this.program && (this.program = null),
                  null != t &&
                    ee(this.gl, this.debug, function () {
                      return e.gl.deleteProgram(t);
                    });
              }),
              (t.prototype.setProgram = function (t) {
                var e = this;
                this.throwIfDisposed(),
                  (this.program = t),
                  null != this.program &&
                    this.debug &&
                    fe(this.gl, this.debug, this.program),
                  ee(this.gl, this.debug, function () {
                    return e.gl.useProgram(t);
                  });
              }),
              (t.prototype.getUniformLocation = function (t, e, n) {
                return (
                  void 0 === n && (n = !0),
                  this.throwIfDisposed(),
                  n ? Ce(this.gl, this.debug, t, e) : Ee(this.gl, t, e)
                );
              }),
              (t.prototype.getAttributeLocation = function (t, e) {
                var n = this;
                return (
                  this.throwIfDisposed(),
                  ee(this.gl, this.debug, function () {
                    return n.gl.getAttribLocation(t, e);
                  })
                );
              }),
              (t.prototype.getUniformLocationNoThrow = function (t, e) {
                return this.throwIfDisposed(), this.gl.getUniformLocation(t, e);
              }),
              (t.prototype.setInputMatrixTexture = function (t, e, n) {
                this.throwIfDisposed(),
                  this.throwIfNoProgram(),
                  Re(this.gl, this.debug, this.program, t, e, n);
              }),
              (t.prototype.setOutputMatrixTexture = function (t, e, n) {
                this.setOutputMatrixTextureDriver(t, n, e);
              }),
              (t.prototype.setOutputPackedMatrixTexture = function (t, e, n) {
                this.throwIfDisposed();
                var r = Zt(e, n),
                  o = r[0],
                  a = r[1];
                this.setOutputMatrixTextureDriver(t, o, a);
              }),
              (t.prototype.setOutputMatrixWriteRegion = function (t, e, n, r) {
                this.setOutputMatrixWriteRegionDriver(n, t, r, e);
              }),
              (t.prototype.setOutputPackedMatrixWriteRegion = function (
                t,
                e,
                n,
                r
              ) {
                throw new Error(
                  "setOutputPackedMatrixWriteRegion not implemented."
                );
              }),
              (t.prototype.debugValidate = function () {
                null != this.program && fe(this.gl, this.debug, this.program),
                  Se(this.gl);
              }),
              (t.prototype.executeProgram = function () {
                this.throwIfDisposed(), this.throwIfNoProgram();
                var t = this.gl;
                this.debug && this.debugValidate(),
                  ee(t, this.debug, function () {
                    return t.drawElements(t.TRIANGLES, 6, t.UNSIGNED_SHORT, 0);
                  });
              }),
              (t.prototype.blockUntilAllProgramsCompleted = function () {
                var t = this;
                this.throwIfDisposed(),
                  ee(this.gl, this.debug, function () {
                    return t.gl.finish();
                  });
              }),
              (t.prototype.getQueryTimerExtension = function () {
                return (
                  null == this.disjointQueryTimerExtension &&
                    (this.disjointQueryTimerExtension = ie(
                      this.gl,
                      this.debug,
                      2 ===
                        c().getNumber(
                          "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"
                        )
                        ? "EXT_disjoint_timer_query_webgl2"
                        : "EXT_disjoint_timer_query"
                    )),
                  this.disjointQueryTimerExtension
                );
              }),
              (t.prototype.getQueryTimerExtensionWebGL2 = function () {
                return this.getQueryTimerExtension();
              }),
              (t.prototype.getQueryTimerExtensionWebGL1 = function () {
                return this.getQueryTimerExtension();
              }),
              (t.prototype.beginQuery = function () {
                if (
                  2 ===
                  c().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")
                ) {
                  var t = this.gl,
                    e = this.getQueryTimerExtensionWebGL2(),
                    n = t.createQuery();
                  return t.beginQuery(e.TIME_ELAPSED_EXT, n), n;
                }
                var r = this.getQueryTimerExtensionWebGL1(),
                  o = r.createQueryEXT();
                return r.beginQueryEXT(r.TIME_ELAPSED_EXT, o), o;
              }),
              (t.prototype.endQuery = function () {
                if (
                  2 !==
                  c().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")
                ) {
                  var t = this.getQueryTimerExtensionWebGL1();
                  t.endQueryEXT(t.TIME_ELAPSED_EXT);
                } else {
                  var e = this.gl,
                    n = this.getQueryTimerExtensionWebGL2();
                  e.endQuery(n.TIME_ELAPSED_EXT);
                }
              }),
              (t.prototype.waitForQueryAndGetTime = function (t) {
                return a(this, void 0, void 0, function () {
                  var e = this;
                  return i(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return [
                          4,
                          M(function () {
                            return (
                              e.disposed ||
                              e.isQueryAvailable(
                                t,
                                c().getNumber(
                                  "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"
                                )
                              )
                            );
                          }),
                        ];
                      case 1:
                        return (
                          n.sent(),
                          [
                            2,
                            this.getQueryTime(
                              t,
                              c().getNumber(
                                "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"
                              )
                            ),
                          ]
                        );
                    }
                  });
                });
              }),
              (t.prototype.getQueryTime = function (t, e) {
                if (0 === e) return null;
                if (2 === e) {
                  var n = this.gl;
                  return n.getQueryParameter(t, n.QUERY_RESULT) / 1e6;
                }
                var r = this.getQueryTimerExtensionWebGL1();
                return r.getQueryObjectEXT(t, r.QUERY_RESULT_EXT) / 1e6;
              }),
              (t.prototype.isQueryAvailable = function (t, e) {
                if (0 === e) return !0;
                if (2 === e) {
                  var n = this.gl,
                    r = this.getQueryTimerExtensionWebGL2(),
                    o = n.getQueryParameter(t, n.QUERY_RESULT_AVAILABLE);
                  return (
                    null == this.disjoint &&
                      (this.disjoint = this.gl.getParameter(
                        r.GPU_DISJOINT_EXT
                      )),
                    o && !this.disjoint
                  );
                }
                return (
                  (o = (r =
                    this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(
                    t,
                    r.QUERY_RESULT_AVAILABLE_EXT
                  )),
                  null == this.disjoint &&
                    (this.disjoint = this.gl.getParameter(r.GPU_DISJOINT_EXT)),
                  o && !this.disjoint
                );
              }),
              (t.prototype.pollFence = function (t) {
                var e = this;
                return new Promise(function (n) {
                  e.addItemToPoll(
                    function () {
                      return t.isFencePassed();
                    },
                    function () {
                      return n();
                    }
                  );
                });
              }),
              (t.prototype.pollItems = function () {
                for (
                  var t = (function (t) {
                      for (var e = 0; e < t.length && t[e](); ++e);
                      return e - 1;
                    })(
                      this.itemsToPoll.map(function (t) {
                        return t.isDoneFn;
                      })
                    ),
                    e = 0;
                  e <= t;
                  ++e
                )
                  (0, this.itemsToPoll[e].resolveFn)();
                this.itemsToPoll = this.itemsToPoll.slice(t + 1);
              }),
              (t.prototype.addItemToPoll = function (t, e) {
                var n = this;
                this.itemsToPoll.push({ isDoneFn: t, resolveFn: e }),
                  this.itemsToPoll.length > 1 ||
                    M(function () {
                      return n.pollItems(), 0 === n.itemsToPoll.length;
                    });
              }),
              (t.prototype.bindTextureToFrameBuffer = function (t) {
                this.throwIfDisposed(),
                  Ie(this.gl, this.debug, t, this.framebuffer),
                  this.debug && Se(this.gl);
              }),
              (t.prototype.unbindTextureToFrameBuffer = function () {
                null != this.outputTexture
                  ? (Ie(
                      this.gl,
                      this.debug,
                      this.outputTexture,
                      this.framebuffer
                    ),
                    this.debug && Se(this.gl))
                  : ke(this.gl, this.debug, this.framebuffer);
              }),
              (t.prototype.downloadMatrixDriver = function (t, e) {
                this.bindTextureToFrameBuffer(t);
                var n = e();
                return this.unbindTextureToFrameBuffer(), n;
              }),
              (t.prototype.setOutputMatrixTextureDriver = function (t, e, n) {
                this.throwIfDisposed();
                var r = this.gl;
                Ie(r, this.debug, t, this.framebuffer),
                  this.debug && Se(r),
                  (this.outputTexture = t),
                  ee(r, this.debug, function () {
                    return r.viewport(0, 0, e, n);
                  }),
                  ee(r, this.debug, function () {
                    return r.scissor(0, 0, e, n);
                  });
              }),
              (t.prototype.setOutputMatrixWriteRegionDriver = function (
                t,
                e,
                n,
                r
              ) {
                var o = this;
                this.throwIfDisposed(),
                  ee(this.gl, this.debug, function () {
                    return o.gl.scissor(t, e, n, r);
                  });
              }),
              (t.prototype.throwIfDisposed = function () {
                if (this.disposed)
                  throw new Error("Attempted to use disposed GPGPUContext.");
              }),
              (t.prototype.throwIfNoProgram = function () {
                if (null == this.program)
                  throw new Error("No GPU program is currently set.");
              }),
              t
            );
          })();
        function zi(t, e) {
          if (t.length !== e.length)
            throw Error(
              "Binary was compiled with " +
                t.length +
                " inputs, but was executed with " +
                e.length +
                " inputs"
            );
          t.forEach(function (t, n) {
            var r = t.logicalShape,
              o = e[n],
              a = o.shape;
            if (!N(r, a))
              throw Error(
                "Binary was compiled with different shapes than the current args. Shapes " +
                  r +
                  " and " +
                  a +
                  " must match"
              );
            if (!t.isUniform || !o.isUniform) {
              var i = t.texShape,
                s = o.isUniform ? null : o.texData.texShape;
              if (!N(i, s))
                throw Error(
                  "Binary was compiled with different texture shapes than the current args. Shape " +
                    i +
                    " and " +
                    s +
                    " must match"
                );
            }
          });
        }
        var Ui = function (t, e, n) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = t);
            for (
              var r = n.filterWidth,
                o = n.inChannels,
                a = n.strideWidth,
                i = n.strideHeight,
                s = n.padInfo,
                u = n.outWidth,
                c = n.dilationWidth,
                l = n.dilationHeight,
                p = n.dataFormat,
                h = s.left,
                d = s.top,
                f = o * r,
                v = pa(),
                m = "channelsLast" === p,
                g = m ? 0 : 1,
                x = m ? 1 : 2,
                y = "",
                b = 0;
              b <= 1;
              b++
            )
              for (var w = 0; w <= 1; w++)
                y +=
                  "\n          blockIndex = rc.y + " +
                  w +
                  ";\n          pos = rc.x + " +
                  b +
                  ";\n\n          if(blockIndex < " +
                  t[1] +
                  " && pos < " +
                  t[0] +
                  ") {\n            offsetY = int(blockIndex / (" +
                  u +
                  ")) * " +
                  i +
                  " - " +
                  d +
                  ";\n            d0 = offsetY + " +
                  l +
                  " * (pos / " +
                  f +
                  ");\n\n            if(d0 < " +
                  e[g] +
                  " && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), " +
                  u +
                  ".) * " +
                  a +
                  ". - " +
                  h +
                  ".);\n              d1 = offsetX + " +
                  c +
                  " * (int(mod(float(pos), " +
                  f +
                  ".) / " +
                  o +
                  ".));\n\n              if(d1 < " +
                  e[x] +
                  " && d1 >= 0) {\n\n                ch = int(mod(float(pos), " +
                  o +
                  ".));\n\n                if (" +
                  m +
                  ") {\n                  innerDims = vec2(d1, ch);\n                  result[" +
                  (2 * b + w) +
                  "] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[" +
                  (2 * b + w) +
                  "] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";
            this.userCode =
              "\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        " +
              y +
              "\n\n        " +
              v.output +
              " = result;\n      }\n    ";
          },
          Vi = function (t, e, n, r, o) {
            (this.variableNames = ["x"]), (this.outputShape = []);
            var a,
              i = e,
              s = t[3] - 1;
            this.outputShape = t;
            var u = "float(" + n + ") + float(" + r + ") * sum";
            (a =
              0.5 === o
                ? "inversesqrt(" + u + ")"
                : 1 === o
                ? "1.0/(" + u + ")"
                : "exp(log(" + u + ") * float(-" + o + "));"),
              (this.userCode =
                "\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -" +
                i +
                "; j <= " +
                i +
                "; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  " +
                s +
                ") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * " +
                a +
                ";\n        setOutput(val);\n      }\n    ");
          },
          Gi = function (t, e, n, r, o) {
            (this.variableNames = ["inputImage", "outputImage", "dy"]),
              (this.outputShape = []),
              (this.outputShape = t),
              (this.depth = t[3]),
              (this.depthRadius = e),
              (this.bias = n),
              (this.alpha = r),
              (this.beta = o),
              (this.userCode =
                "\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < " +
                this.depth +
                "; ++d) {\n          int depthBegin = int(max(0.0, float(d - " +
                e +
                ")));\n          int depthEnd = int(min(float(" +
                this.depth +
                "),\n              float(d + " +
                e +
                " + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = " +
                this.depth +
                ";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(" +
                r +
                ") * norm + float(" +
                n +
                ");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(" +
                r +
                ")\n                * float(" +
                o +
                ")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * " +
                o +
                ");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ");
          },
          qi = function (t, e, n, r, o) {
            (this.variableNames = ["x"]),
              (this.outputShape = []),
              (this.packedInputs = !0),
              (this.packedOutput = !0);
            var a,
              i = e,
              s = t[3] - 1;
            this.outputShape = t;
            var u = "float(" + n + ") + float(" + r + ") * sum";
            (a =
              0.5 === o
                ? "inversesqrt(" + u + ")"
                : 1 === o
                ? "1.0/(" + u + ")"
                : "exp(log(" + u + ") * float(-" + o + "));"),
              (this.userCode =
                "\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < " +
                this.outputShape[3] +
                ";\n        bool hasNextRow = c < " +
                this.outputShape[2] +
                ";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - " +
                i +
                ";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - " +
                i +
                "; j <= " +
                i +
                "; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(" +
                s +
                "));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * " +
                a +
                ";\n        setOutput(result);\n      }\n    ");
          },
          Hi = function (t) {
            (this.variableNames = ["dy", "maxPos"]),
              (this.outputShape = t.inShape);
            var e = t.strideHeight,
              n = t.strideWidth,
              r = t.dilationHeight,
              o = t.effectiveFilterHeight,
              a = t.effectiveFilterWidth,
              i = o - 1 - t.padInfo.top,
              s = a - 1 - t.padInfo.left,
              u = o * a - 1;
            this.userCode =
              "\n      const ivec2 pads = ivec2(" +
              i +
              ", " +
              s +
              ");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < " +
              o +
              ";\n          wR += " +
              r +
              ") {\n          float dyR = float(dyRCorner + wR) / " +
              e +
              ".0;\n\n          if (dyR < 0.0 || dyR >= " +
              t.outHeight +
              ".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < " +
              a +
              "; wC++) {\n            float dyC = float(dyCCorner + wC) / " +
              n +
              ".0;\n\n            if (dyC < 0.0 || dyC >= " +
              t.outWidth +
              ".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = " +
              u +
              " - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * " +
              a +
              " + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          Ki = function (t) {
            (this.variableNames = ["dy", "maxPos"]),
              (this.outputShape = t.inShape);
            var e = t.strideDepth,
              n = t.strideHeight,
              r = t.strideWidth,
              o = t.dilationDepth,
              a = t.dilationHeight,
              i = t.dilationWidth,
              s = t.effectiveFilterDepth,
              u = t.effectiveFilterHeight,
              c = t.effectiveFilterWidth,
              l = s - 1 - t.padInfo.front,
              p = u - 1 - t.padInfo.top,
              h = c - 1 - t.padInfo.left,
              d = s * u * c - 1;
            this.userCode =
              "\n      const ivec3 pads = ivec3(" +
              l +
              ", " +
              p +
              ", " +
              h +
              ");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < " +
              s +
              ";\n           wD += " +
              o +
              ") {\n          float dyD = float(dyDCorner + wD) / " +
              e +
              ".0;\n\n          if (dyD < 0.0 || dyD >= " +
              t.outDepth +
              ".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < " +
              u +
              ";\n              wR += " +
              a +
              ") {\n            float dyR = float(dyRCorner + wR) / " +
              n +
              ".0;\n\n            if (dyR < 0.0 || dyR >= " +
              t.outHeight +
              ".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < " +
              c +
              ";\n                wC += " +
              i +
              ") {\n              float dyC = float(dyCCorner + wC) / " +
              r +
              ".0;\n\n              if (dyC < 0.0 || dyC >= " +
              t.outWidth +
              ".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = " +
              d +
              " -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * " +
              u +
              " * " +
              c +
              " +\n                  wR * " +
              c +
              " + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
          },
          ji = function (t, e, n, r, o, a, i) {
            void 0 === n && (n = !1),
              void 0 === r && (r = !1),
              void 0 === o && (o = !1),
              void 0 === a && (a = null),
              void 0 === i && (i = !1),
              (this.variableNames = ["matrixA", "matrixB"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = e);
            var s = n ? t[1] : t[2],
              u = Math.ceil(s / 2),
              c = n ? "i * 2, rc.y" : "rc.y, i * 2",
              l = r ? "rc.z, i * 2" : "i * 2, rc.z",
              p = n ? ["a.xxyy", "a.zzww"] : ["a.xxzz", "a.yyww"],
              h = r ? ["b.xzxz", "b.ywyw"] : ["b.xyxy", "b.zwzw"],
              d = "",
              f = "";
            a &&
              ((d = i
                ? "vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          " +
                  a +
                  "\n        }"
                : "vec4 activation(vec4 x) {\n          " + a + "\n        }"),
              (f = "result = activation(result);"));
            var v = o ? "result += getBiasAtOutCoords();" : "";
            o && this.variableNames.push("bias"),
              i && this.variableNames.push("preluActivationWeights"),
              (this.userCode =
                "\n      " +
                d +
                "\n\n      const float sharedDimension = " +
                u +
                ".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < " +
                u +
                "; i++) {\n          vec4 a = getMatrixA(rc.x, " +
                c +
                ");\n          vec4 b = getMatrixB(rc.x, " +
                l +
                ");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (" +
                p[0] +
                " * " +
                h[0] +
                ");\n          result += (" +
                p[1] +
                " * " +
                h[1] +
                ");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        " +
                v +
                "\n\n        " +
                f +
                "\n\n        setOutput(result);\n      }\n    ");
          },
          Xi = (function () {
            function t(t, e, n) {
              (this.variableNames = ["probs"]),
                (this.outputShape = [t, n]),
                (this.userCode =
                  "\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < " +
                  (e - 1) +
                  "; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(" +
                  (e - 1) +
                  "));\n      }\n    ");
            }
            return (
              (t.prototype.getCustomSetupFunc = function (t) {
                var e = this;
                return function (n, r) {
                  null == e.seedLoc &&
                    (e.seedLoc = n.getUniformLocation(r, "seed")),
                    n.gl.uniform1f(e.seedLoc, t);
                };
              }),
              t
            );
          })(),
          Yi = function (t, e, n, r) {
            (this.variableNames = ["indices"]),
              (this.outputShape = [t, e]),
              (this.userCode =
                "\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(" +
                r +
                "), float(" +
                n +
                "),\n                      float(index == coords.y)));\n      }\n    ");
          },
          $i = function (t) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !1),
              (this.packedOutput = !0),
              (this.outputShape = t);
            var e = t.length;
            if (0 === e)
              this.userCode =
                "\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";
            else {
              var n = la("rc", e),
                r = Ra(e),
                o = (function (t, e, n) {
                  if (1 === t) return "rc > " + e[0];
                  for (var r = "", o = t - 2; o < t; o++)
                    (r += n[o] + " >= " + e[o]), o < t - 1 && (r += "||");
                  return r;
                })(e, t, n),
                a = (function (t, e, n, r) {
                  if (1 === t) return "";
                  var o = r.slice(-2);
                  return (
                    "\n    int r = " +
                    o[0] +
                    ";\n    int c = " +
                    o[1] +
                    ";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= " +
                    e +
                    ";\n    bool rEdge = rp1 >= " +
                    n +
                    ";\n  "
                  );
                })(e, t[t.length - 1], t[t.length - 2], n),
                i = (function (t, e) {
                  var n = t.length,
                    r = (function (t, e) {
                      for (var n = [], r = 0; r <= 1; r++)
                        for (var o = 0; o <= 1; o++) {
                          for (
                            var a =
                                (0 === r ? "r" : "rp1") +
                                ", " +
                                (0 === o ? "c" : "cp1"),
                              i = 2;
                            i < t;
                            i++
                          )
                            a = e[e.length - 1 - i] + "," + a;
                          n.push(a);
                        }
                      return n;
                    })(n, e);
                  return 1 === n
                    ? "getA(rc),\n            rc + 1 >= " +
                        t[0] +
                        " ? 0. : getA(rc + 1),\n            0, 0"
                    : "getA(" +
                        r[0] +
                        "),\n          cEdge ? 0. : getA(" +
                        r[1] +
                        "),\n          rEdge ? 0. : getA(" +
                        r[2] +
                        "),\n          rEdge || cEdge ? 0. : getA(" +
                        r[3] +
                        ")";
                })(t, n);
              this.userCode =
                "\n        void main() {\n          " +
                r +
                " rc = getOutputCoords();\n\n          if(" +
                o +
                ") {\n            setOutput(vec4(0));\n          } else {\n            " +
                a +
                "\n\n            setOutput(vec4(" +
                i +
                "));\n          }\n        }\n      ";
            }
          },
          Qi = function (t, e, n) {
            (this.variableNames = ["x"]),
              (this.outputShape = e.map(function (e, n) {
                return e[0] + t[n] + e[1];
              }));
            var r = t.length,
              o = Ra(r),
              a = e
                .map(function (t) {
                  return t[0];
                })
                .join(","),
              i = e
                .map(function (e, n) {
                  return e[0] + t[n];
                })
                .join(","),
              s = ["coords[0]", "coords[1]", "coords[2]", "coords[3]"].slice(
                0,
                r
              );
            this.userCode =
              1 !== r
                ? "\n      " +
                  o +
                  " start = " +
                  o +
                  "(" +
                  a +
                  ");\n      " +
                  o +
                  " end = " +
                  o +
                  "(" +
                  i +
                  ");\n\n      void main() {\n        " +
                  o +
                  " outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float(" +
                  n +
                  "));\n        } else {\n          " +
                  o +
                  " coords = outC - start;\n          setOutput(getX(" +
                  s +
                  "));\n        }\n      }\n    "
                : "\n        int start = " +
                  a +
                  ";\n        int end = " +
                  i +
                  ";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float(" +
                  n +
                  "));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ";
          },
          Ji = function (t, e, n) {
            (this.variableNames = ["x"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = e.map(function (e, n) {
                return e[0] + t[n] + e[1];
              }));
            for (
              var r = t.length,
                o = Ra(r),
                a = e
                  .map(function (t) {
                    return t[0];
                  })
                  .join(","),
                i = e
                  .map(function (e, n) {
                    return e[0] + t[n];
                  })
                  .join(","),
                s = la("rc", r),
                u = la("source", r),
                c = s[r - 1] + " < " + this.outputShape[r - 1],
                l = 1 === r ? "source" : "vec2(" + u.slice(-2).join() + ")",
                p = [
                  o + " rc = outputLoc;",
                  s[r - 1] + " += 1;\n       if(" + c + ") {\n      ",
                  1 === r
                    ? ""
                    : "}\n       rc = outputLoc;\n       " +
                      s[r - 2] +
                      " += 1;\n       if(" +
                      s[r - 2] +
                      " < " +
                      this.outputShape[r - 2] +
                      ") {",
                  1 === r
                    ? ""
                    : "  " + s[r - 1] + " += 1;\n         if(" + c + ") {",
                ],
                h =
                  1 === r
                    ? "rc < start || rc >= end"
                    : "any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",
                d = "",
                f = 0,
                v = 1 === r ? 2 : 4;
              f < v;
              f++
            )
              d +=
                "\n        " +
                p[f] +
                "\n        if (" +
                h +
                ") {\n          result[" +
                f +
                "] = float(" +
                n +
                ");\n        } else {\n          " +
                o +
                " source = rc - start;\n          result[" +
                f +
                "] = getChannel(getX(" +
                u.join() +
                "), " +
                l +
                ");\n        }\n      ";
            (d += 1 === r ? "} " : "}}"),
              (this.userCode =
                "\n      const " +
                o +
                " start = " +
                o +
                "(" +
                a +
                ");\n      const " +
                o +
                " end = " +
                o +
                "(" +
                i +
                ");\n\n      void main() {\n        " +
                o +
                " outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        " +
                d +
                "\n        setOutput(result);\n      }\n    ");
          },
          Zi = function (t, e, n) {
            if (((this.variableNames = ["x"]), "avg" === e && n))
              throw new Error("Cannot compute positions for average pool.");
            var r = t.filterWidth,
              o = t.strideHeight,
              a = t.strideWidth,
              i = t.dilationHeight,
              s = t.dilationWidth,
              u = t.effectiveFilterHeight,
              c = t.effectiveFilterWidth,
              l = t.padInfo.top,
              p = t.padInfo.left;
            this.outputShape = t.outShape;
            var h = "avg" === e,
              d = "0.0";
            if ((h || (d = "-1.0 / 1e-20"), n))
              this.userCode =
                "\n        const ivec2 strides = ivec2(" +
                o +
                ", " +
                a +
                ");\n        const ivec2 pads = ivec2(" +
                l +
                ", " +
                p +
                ");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < " +
                u +
                ";\n              wR += " +
                i +
                ") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= " +
                t.inHeight +
                ") {\n              continue;\n            }\n\n            for (int wC = 0; wC < " +
                c +
                ";\n                wC += " +
                s +
                ") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= " +
                t.inWidth +
                ") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * " +
                c +
                " + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";
            else {
              var f =
                e +
                "(" +
                e +
                "(" +
                e +
                "(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";
              "avg" === e && (f = "avgValue / count");
              var v = 4 * Math.floor(r / 4),
                m = r % 4,
                g =
                  "\n      if (" +
                  h +
                  ") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";
              this.userCode =
                "\n      const ivec2 strides = ivec2(" +
                o +
                ", " +
                a +
                ");\n      const ivec2 pads = ivec2(" +
                l +
                ", " +
                p +
                ");\n      const float initializationValue = " +
                d +
                ";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= " +
                t.inWidth +
                ") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(" +
                d +
                ");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < " +
                u +
                ";\n            wR += " +
                i +
                ") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= " +
                t.inHeight +
                ") {\n            continue;\n          }\n\n          for (int wC = 0; wC < " +
                v +
                "; wC += 4) {\n            int xC = xCCorner + wC * " +
                s +
                ";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + " +
                s +
                ", d),\n              getValue(batch, xR, xC + 2 * " +
                s +
                ", d),\n              getValue(batch, xR, xC + 3 * " +
                s +
                ", d)\n            );\n\n            " +
                g +
                "\n          }\n\n          int xC = xCCorner + " +
                v +
                ";\n          if (" +
                (1 === m) +
                ") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            " +
                g +
                "\n          } else if (" +
                (2 === m) +
                ") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + " +
                s +
                ", d),\n              initializationValue,\n              initializationValue\n            );\n\n            " +
                g +
                "\n          } else if (" +
                (3 === m) +
                ") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + " +
                s +
                ", d),\n              getValue(batch, xR, xC + 2 * " +
                s +
                ", d),\n              initializationValue\n            );\n\n            " +
                g +
                "\n          }\n        }\n        setOutput(" +
                f +
                ");\n      }\n    ";
            }
          },
          ts = function (t, e, n) {
            if (((this.variableNames = ["x"]), "avg" === e && n))
              throw new Error("Cannot compute positions for average pool.");
            var r = t.filterWidth,
              o = t.strideDepth,
              a = t.strideHeight,
              i = t.strideWidth,
              s = t.dilationDepth,
              u = t.dilationHeight,
              c = t.dilationWidth,
              l = t.effectiveFilterDepth,
              p = t.effectiveFilterHeight,
              h = t.effectiveFilterWidth,
              d = t.padInfo.front,
              f = t.padInfo.top,
              v = t.padInfo.left;
            this.outputShape = t.outShape;
            var m = "avg" === e,
              g = "0.0";
            if ((m || (g = "-1.0 / 1e-20"), n))
              this.userCode =
                "\n        const ivec3 strides =\n            ivec3(" +
                o +
                ", " +
                a +
                ", " +
                i +
                ");\n        const ivec3 pads = ivec3(" +
                d +
                ", " +
                f +
                ", " +
                v +
                ");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < " +
                l +
                ";\n              wD += " +
                s +
                ") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= " +
                t.inDepth +
                ") {\n              continue;\n            }\n\n            for (int wR = 0; wR < " +
                p +
                ";\n                wR += " +
                u +
                ") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= " +
                t.inHeight +
                ") {\n                continue;\n              }\n\n              for (int wC = 0; wC < " +
                h +
                ";\n                  wC += " +
                c +
                ") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= " +
                t.inWidth +
                ") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * " +
                p +
                " * " +
                h +
                " +\n                      wR * " +
                h +
                " + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";
            else {
              var x =
                e +
                "(" +
                e +
                "(" +
                e +
                "(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";
              "avg" === e && (x = "avgValue / count");
              var y = 4 * Math.floor(r / 4),
                b = r % 4,
                w =
                  "\n      if (" +
                  m +
                  ") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";
              this.userCode =
                "\n      const ivec3 strides =\n        ivec3(" +
                o +
                ", " +
                a +
                ", " +
                i +
                ");\n      const ivec3 pads = ivec3(" +
                d +
                ", " +
                f +
                ", " +
                v +
                ");\n      const float initializationValue = " +
                g +
                ";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= " +
                t.inWidth +
                ") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(" +
                g +
                ");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < " +
                l +
                ";\n            wD += " +
                s +
                ") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= " +
                t.inDepth +
                ") {\n            continue;\n          }\n\n          for (int wR = 0; wR < " +
                p +
                ";\n            wR += " +
                u +
                ") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= " +
                t.inHeight +
                ") {\n              continue;\n            }\n\n            for (int wC = 0; wC < " +
                y +
                "; wC += 4) {\n              int xC = xCCorner + wC * " +
                c +
                ";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + " +
                c +
                ", ch),\n                getValue(batch, xD, xR, xC + 2 * " +
                c +
                ", ch),\n                getValue(batch, xD, xR, xC + 3 * " +
                c +
                ", ch)\n              );\n\n              " +
                w +
                "\n            }\n\n            int xC = xCCorner + " +
                y +
                ";\n            if (" +
                (1 === b) +
                ") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              " +
                w +
                "\n            } else if (" +
                (2 === b) +
                ") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + " +
                c +
                ", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              " +
                w +
                "\n            } else if (" +
                (3 === b) +
                ") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + " +
                c +
                ", ch),\n                getValue(batch, xD, xR, xC + 2 * " +
                c +
                ", ch),\n                initializationValue\n              );\n\n              " +
                w +
                "\n            }\n          }\n          setOutput(" +
                x +
                ");\n        }\n      }\n    ";
            }
          },
          es = function (t, e) {
            this.variableNames = ["x"];
            var n = t.windowSize,
              r = t.batchSize,
              o = t.inSize,
              a = Math.ceil(o / n);
            this.outputShape = [r, a];
            var i = "0.0",
              s = "";
            "prod" === e
              ? (i = "1.0")
              : "min" === e
              ? ((i = "1.0 / 1e-20"), (s = "min"))
              : "max" === e && ((i = "-1.0 / 1e-20"), (s = "max"));
            var u =
              e +
              "(" +
              e +
              "(" +
              e +
              "(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";
            "sum" === e
              ? (u = "sumValue")
              : "prod" === e
              ? (u = "prodValue")
              : "all" === e
              ? (u = "allValue")
              : "any" === e && (u = "anyValue");
            var c = 4 * Math.floor(n / 4),
              l = n % 4,
              p =
                "\n      if (" +
                ("sum" === e) +
                ") {\n        sumValue += dot(values, ones);\n      } else if (" +
                ("prod" === e) +
                ") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = " +
                s +
                "(values, minMaxValue);\n      }\n    ",
              h = "vec4";
            "all" === e
              ? ((i = "1.0"),
                (p =
                  "\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      "),
                (h = "bvec4"))
              : "any" === e &&
                ((i = "0.0"),
                (p =
                  "\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      "),
                (h = "bvec4"));
            var d = "";
            o % n > 0 &&
              (d =
                "\n        if (inIdx < 0 || inIdx >= " +
                o +
                ") {\n          return initializationValue;\n        }\n      "),
              (this.userCode =
                "\n      const float initializationValue = " +
                i +
                ";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        " +
                d +
                "\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * " +
                n +
                ";\n\n        vec4 minMaxValue = vec4(" +
                i +
                ");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < " +
                c +
                "; i += 4) {\n          int inIdx = inOffset + i;\n          " +
                h +
                " values = " +
                h +
                "(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          " +
                p +
                "\n        }\n\n        int inIdx = inOffset + " +
                c +
                ";\n        if (" +
                (1 === l) +
                ") {\n          " +
                h +
                " values = " +
                h +
                "(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          " +
                p +
                "\n        } else if (" +
                (2 === l) +
                ") {\n          " +
                h +
                " values = " +
                h +
                "(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          " +
                p +
                "\n        } else if (" +
                (3 === l) +
                ") {\n          " +
                h +
                " values = " +
                h +
                "(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          " +
                p +
                "\n        }\n        setOutput(" +
                u +
                ");\n      }\n    ");
          },
          ns = function (t, e) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = t);
            for (var n = "", r = 0; r < 4; r++) {
              var o = "thisRC = rc;";
              r % 2 == 1 && (o += "thisRC.z += 1;"),
                r > 1 && (o += "thisRC.y += 1;"),
                (n +=
                  "\n        " +
                  o +
                  "\n        " +
                  (r > 0 ? "if(thisRC.y < rows && thisRC.z < cols){" : "") +
                  "\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[" +
                  r +
                  "] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        " +
                  (r > 0 ? "}" : "") +
                  "\n      ");
            }
            this.userCode =
              "\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      " +
              ha(["r", "c", "d"], e) +
              "\n      return ivec3(r, c, d);\n    }\n  \n      " +
              da(t) +
              "\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = " +
              t[1] +
              ";\n        int cols = " +
              t[2] +
              ";\n\n        " +
              n +
              "\n\n        setOutput(result);\n      }\n    ";
          },
          rs = function (t, e, n) {
            (this.variableNames = ["dy"]),
              (this.outputShape = []),
              (this.outputShape = e.shape);
            var r = e.shape,
              o = r[1],
              a = r[2],
              i = t.shape,
              s = i[1],
              u = i[2],
              c = [n && s > 1 ? o - 1 : o, n && u > 1 ? a - 1 : a],
              l = [n && s > 1 ? s - 1 : s, n && u > 1 ? u - 1 : u],
              p = c[0] / l[0],
              h = c[1] / l[1],
              d = 1 / p,
              f = 1 / h,
              v = 2 * Math.ceil(d) + 2,
              m = 2 * Math.ceil(f) + 2;
            this.userCode =
              "\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(" +
              p +
              ");\n        const float widthScale = float(" +
              h +
              ");\n\n        const float invHeightScale = float(" +
              d +
              ");\n        const float invWidthScale = float(" +
              f +
              ");\n\n        const int winHeight = int(" +
              v +
              ");\n        const int winWidth = int(" +
              m +
              ");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= " +
              s +
              ") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= " +
              u +
              ") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), " +
              (o - 1) +
              ".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), " +
              (a - 1) +
              ".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ";
          },
          os = function (t, e, n, r) {
            (this.variableNames = ["A"]), (this.outputShape = []);
            var o = t[0],
              a = t[1],
              i = t[2],
              s = t[3];
            this.outputShape = [o, e, n, s];
            var u = [r && e > 1 ? a - 1 : a, r && n > 1 ? i - 1 : i],
              c = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n];
            this.userCode =
              "\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          " +
              u[0] / c[0] +
              ",\n          " +
              u[1] / c[1] +
              ");\n      const vec2 inputShapeRC = vec2(" +
              a +
              ".0, " +
              i +
              ".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ";
          },
          as = function (t, e, n, r) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = []);
            var o = t[0],
              a = t[1],
              i = t[2],
              s = t[3];
            this.outputShape = [o, e, n, s];
            var u = [r && e > 1 ? a - 1 : a, r && n > 1 ? i - 1 : i],
              c = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n];
            this.userCode =
              "\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          " +
              u[0] / c[0] +
              ",\n          " +
              u[1] / c[1] +
              ",\n          " +
              u[1] / c[1] +
              ");\n      const vec3 inputShapeRC = vec3(" +
              a +
              ".0, " +
              i +
              ".0,\n                                     " +
              i +
              ".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < " +
              (s - 1) +
              ";\n        bool hasNextRow = coords.z < " +
              (n - 1) +
              ";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ";
          },
          is = function (t, e, n) {
            (this.variableNames = ["dy"]),
              (this.outputShape = []),
              (this.outputShape = e.shape);
            var r = e.shape,
              o = r[1],
              a = r[2],
              i = t.shape,
              s = i[1],
              u = i[2],
              c = [n && s > 1 ? o - 1 : o, n && u > 1 ? a - 1 : a],
              l = [n && s > 1 ? s - 1 : s, n && u > 1 ? u - 1 : u],
              p = c[0] / l[0],
              h = c[1] / l[1],
              d = 1 / p,
              f = 1 / h,
              v = 2 * Math.ceil(d) + 2,
              m = 2 * Math.ceil(f) + 2;
            this.userCode =
              "\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(" +
              p +
              ");\n        const float widthScale = float(" +
              h +
              ");\n\n        const float invHeightScale = float(" +
              d +
              ");\n        const float invWidthScale = float(" +
              f +
              ");\n\n        const int winHeight = int(" +
              v +
              ");\n        const int winWidth = int(" +
              m +
              ");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= " +
              s +
              ") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= " +
              u +
              ") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(" +
              c[0] +
              ") *\n                (float(dyR) / float(" +
              l[0] +
              "));\n\n            float sourceFracCol =\n                float(" +
              c[1] +
              ") *\n                  (float(dyC) / float(" +
              l[1] +
              "));\n\n            int sourceNearestRow = int(min(\n                float(int(" +
              o +
              ") - 1),\n                " +
              n +
              " ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(" +
              a +
              ") - 1),\n                " +
              n +
              " ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ";
          },
          ss = function (t, e, n, r) {
            (this.variableNames = ["A"]), (this.outputShape = []);
            var o = t[0],
              a = t[1],
              i = t[2],
              s = t[3];
            this.outputShape = [o, e, n, s];
            var u = [r && e > 1 ? a - 1 : a, r && n > 1 ? i - 1 : i],
              c = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n],
              l = r ? "0.5" : "0.0";
            this.userCode =
              "\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          " +
              u[0] / c[0] +
              ",\n          " +
              u[1] / c[1] +
              ");\n      const vec2 inputShapeRC = vec2(" +
              a +
              ".0, " +
              i +
              ".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + " +
              l +
              ")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ";
          },
          us = function (t, e) {
            this.variableNames = ["x"];
            var n = t.length;
            if (n > 4)
              throw new Error(
                "WebGL backend: Reverse of rank-" +
                  n +
                  " tensor is not yet supported"
              );
            if (((this.outputShape = t), 1 !== n)) {
              var r = t
                  .map(function (n, r) {
                    return (function (n) {
                      return -1 !== e.indexOf(n) && 1 !== t[n]
                        ? t[n] + " - coords[" + n + "] - 1"
                        : "coords[" + n + "]";
                    })(r);
                  })
                  .join(","),
                o = Ra(n);
              this.userCode =
                "\n      void main() {\n        " +
                o +
                " coords = getOutputCoords();\n        setOutput(getX(" +
                r +
                "));\n      }\n    ";
            } else
              this.userCode =
                "\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(" +
                t[0] +
                " - coord - 1));\n        }\n      ";
          },
          cs = function (t, e) {
            (this.variableNames = ["x"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0);
            var n = t.length;
            if (n > 4)
              throw new Error(
                "WebGL backend: Reverse of rank-" +
                  n +
                  " tensor is not yet supported"
              );
            this.outputShape = t;
            var r = la("rc", n),
              o = r[n - 1] + " + 1 < " + this.outputShape[n - 1],
              a = r[n - 2] + " + 1 < " + this.outputShape[n - 2],
              i = Ra(n);
            function s(n) {
              var r = t.map(function (r, o) {
                return (function (n, r) {
                  return -1 !== e.indexOf(n) && 1 !== t[n]
                    ? t[n] + " - " + r[n] + " - 1"
                    : "" + r[n];
                })(o, n);
              });
              return (
                "getChannel(getX(" +
                r.join(",") +
                "), vec2(" +
                r.slice(-2).join(",") +
                "))"
              );
            }
            this.userCode =
              1 === n
                ? "\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(" +
                  t[0] +
                  " - rc - 1),\n            " +
                  t[0] +
                  " - rc - 1);\n          if(" +
                  o +
                  "){\n              result.g = getChannel(getX(" +
                  t[0] +
                  " - (rc  + 1) - 1),\n                " +
                  t[0] +
                  " - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "
                : "\n        void main() {\n          " +
                  i +
                  " rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = " +
                  s(r.slice()) +
                  ";\n          if(" +
                  o +
                  "){\n            result.g = " +
                  (function (t) {
                    return (t[n - 1] = "(" + t[n - 1] + " + 1)"), s(t);
                  })(r.slice()) +
                  ";\n          }\n          if(" +
                  a +
                  ") {\n            result.b = " +
                  (function (t) {
                    return (t[n - 2] = "(" + t[n - 2] + " + 1)"), s(t);
                  })(r.slice()) +
                  ";\n            if(" +
                  o +
                  ") {\n              result.a = " +
                  (function (t) {
                    return (
                      (t[n - 1] = "(" + t[n - 1] + " + 1)"),
                      (t[n - 2] = "(" + t[n - 2] + " + 1)"),
                      s(t)
                    );
                  })(r.slice()) +
                  ";\n            }\n          }\n          setOutput(result);\n        }\n    ";
          },
          ls = function (t, e, n, r, o, a, i) {
            void 0 === i && (i = !0),
              (this.variableNames = ["updates", "indices", "defaultValue"]),
              (this.outputShape = a);
            var s = Ra(o.length),
              u = Ra(a.length),
              c = "";
            1 === n ? (c = "i") : 2 === n && (c = "i, j");
            var l = "getIndices(" + c + ")",
              p = "";
            1 === r ? (p = "i") : 2 === r && (p = "i, coords[1]");
            var h = "getUpdates(" + p + ")",
              d = e > 1 ? "strides[j]" : "strides";
            this.userCode =
              "\n        " +
              s +
              " strides = " +
              s +
              "(" +
              o +
              ");\n\n        void main() {\n          " +
              u +
              " coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < " +
              t +
              "; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < " +
              e +
              "; j++) {\n              int index = round(" +
              l +
              ");\n              flattenedIndex += index * " +
              d +
              ";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += " +
              h +
              ";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ";
          },
          ps = function (t, e) {
            this.variableNames = ["x", "segmentIds"];
            var n = t.windowSize,
              r = t.batchSize,
              o = t.inSize,
              a = t.numSegments,
              i = a * Math.ceil(o / n);
            this.outputShape = [r, i];
            var s = 4 * Math.floor(n / 4),
              u = n % 4,
              c = "\n        sumValue += dot(values, segFilter);\n    ",
              l = "";
            o % n > 0 &&
              (l =
                "\n        if (inIdx < 0 || inIdx >= " +
                o +
                ") {\n          return initializationValue;\n        }\n      ");
            var p = "";
            o % n > 0 &&
              (p =
                "\n        if (inIdx < 0 || inIdx >= " +
                o +
                ") {\n          return -1.0;\n        }\n      "),
              (this.userCode =
                "\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        " +
                l +
                "\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        " +
                p +
                "\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          " +
                a +
                ")) * float(" +
                n +
                "));\n        int currentSeg = int(mod(float(outIdx), float(" +
                a +
                ")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < " +
                s +
                "; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          " +
                c +
                "\n        }\n\n        int inIdx = inOffset + " +
                s +
                ";\n        if (" +
                (1 === u) +
                ") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          " +
                c +
                "\n        } else if (" +
                (2 === u) +
                ") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          " +
                c +
                "\n        } else if (" +
                (3 === u) +
                ") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          " +
                c +
                "\n        }\n        setOutput(sumValue);\n      }\n    ");
          },
          hs = function (t, e, n) {
            var r, o;
            if (
              ((this.variableNames = ["c", "a", "b"]),
              (this.outputShape = e),
              n > 4)
            )
              throw Error("Where for rank " + n + " is not yet supported");
            if (1 === n) (o = "resRC"), (r = "resRC");
            else {
              for (
                var a = ["resRC.x", "resRC.y", "resRC.z", "resRC.w"],
                  i = [],
                  s = [],
                  u = 0;
                u < e.length;
                u++
              )
                s.push("" + a[u]), u < t && i.push("" + a[u]);
              (r = i.join()), (o = s.join());
            }
            var c = Ra(n);
            this.userCode =
              "\n      void main() {\n        " +
              c +
              " resRC = getOutputCoords();\n        float cVal = getC(" +
              r +
              ");\n        if (cVal >= 1.0) {\n          setOutput(getA(" +
              o +
              "));\n        } else {\n          setOutput(getB(" +
              o +
              "));\n        }\n      }\n    ";
          },
          ds = (function () {
            function t(t) {
              (this.variableNames = ["source"]),
                (this.outputShape = t),
                (this.rank = t.length);
              var e,
                n = Ra(this.rank),
                r = "uniform int start[" + this.rank + "];",
                o = (function (t) {
                  if (1 === t) return "sourceLoc";
                  if (t <= 6)
                    return fs
                      .slice(0, t)
                      .map(function (t) {
                        return "sourceLoc." + t;
                      })
                      .join(",");
                  throw Error(
                    "Slicing for rank " + t + " is not yet supported"
                  );
                })(this.rank);
              (e =
                "\n        " +
                n +
                " sourceLoc;\n        " +
                n +
                " coords = getOutputCoords();\n        " +
                t
                  .map(function (t, e) {
                    return (
                      "sourceLoc." +
                      fs[e] +
                      " = start[" +
                      e +
                      "] + coords." +
                      fs[e] +
                      ";"
                    );
                  })
                  .join("\n") +
                "\n      "),
                (this.userCode =
                  "\n      " +
                  r +
                  "\n      void main() {\n        " +
                  e +
                  "\n        setOutput(getSource(" +
                  o +
                  "));\n      }\n    ");
            }
            return (
              (t.prototype.getCustomSetupFunc = function (t) {
                var e = this;
                if (t.length !== this.rank)
                  throw Error(
                    "The rank (" +
                      this.rank +
                      ") of the program must match the length of start (" +
                      t.length +
                      ")"
                  );
                return function (n, r) {
                  (null == e.startLoc &&
                    ((e.startLoc = n.getUniformLocationNoThrow(r, "start")),
                    null == e.startLoc)) ||
                    n.gl.uniform1iv(e.startLoc, t);
                };
              }),
              t
            );
          })(),
          fs = ["x", "y", "z", "w", "u", "v"],
          vs = (function () {
            function t(t) {
              (this.variableNames = ["source"]),
                (this.packedInputs = !0),
                (this.packedOutput = !0),
                (this.outputShape = t),
                (this.rank = t.length);
              var e = Ra(this.rank),
                n = la("coords", this.rank),
                r = la("sourceLoc", this.rank),
                o =
                  1 === this.rank
                    ? "sourceLoc"
                    : "vec2(" + r.slice(-2).join() + ")",
                a = "getChannel(getSource(" + r.join() + "), " + o + ")",
                i =
                  "\n      result.x = " +
                  a +
                  ";\n      if (++" +
                  n[this.rank - 1] +
                  " < " +
                  t[this.rank - 1] +
                  ") {\n        ++" +
                  r[this.rank - 1] +
                  ";\n        result.y = " +
                  a +
                  ";\n        --" +
                  r[this.rank - 1] +
                  ";\n      }\n    ",
                s =
                  1 === this.rank
                    ? ""
                    : "\n      --" +
                      n[this.rank - 1] +
                      ";\n      if (++" +
                      n[this.rank - 2] +
                      " < " +
                      t[this.rank - 2] +
                      ") {\n        ++" +
                      r[this.rank - 2] +
                      ";\n        result.z = " +
                      a +
                      ";\n        if (++" +
                      n[this.rank - 1] +
                      " < " +
                      t[this.rank - 1] +
                      ") {\n          ++" +
                      r[this.rank - 1] +
                      ";\n          result.w = " +
                      a +
                      ";\n        }\n      }\n    ",
                u =
                  this.rank <= 4
                    ? "sourceLoc = coords +\n            " +
                      e +
                      "(" +
                      t
                        .map(function (t, e) {
                          return "start[" + e + "]";
                        })
                        .join() +
                      ");"
                    : t
                        .map(function (t, e) {
                          return r[e] + " = " + n[e] + " + start[" + e + "];";
                        })
                        .join("\n");
              this.userCode =
                "\n      uniform int start[" +
                this.rank +
                "];\n      void main() {\n        " +
                e +
                " coords = getOutputCoords();\n        " +
                e +
                " sourceLoc;\n        " +
                u +
                "\n        vec4 result = vec4(0.);\n        " +
                i +
                "\n        " +
                s +
                "\n        setOutput(result);\n      }\n    ";
            }
            return (
              (t.prototype.getCustomSetupFunc = function (t) {
                var e = this;
                if (t.length !== this.rank)
                  throw Error(
                    "The rank (" +
                      this.rank +
                      ") of the program must match the length of start (" +
                      t.length +
                      ")"
                  );
                return function (n, r) {
                  (null == e.startLoc &&
                    ((e.startLoc = n.getUniformLocationNoThrow(r, "start")),
                    null == e.startLoc)) ||
                    n.gl.uniform1iv(e.startLoc, t);
                };
              }),
              t
            );
          })(),
          ms = function (t, e, n) {
            (this.variableNames = ["x"]), (this.outputShape = n);
            var r = n.length,
              o = Ra(n.length),
              a = Ra(n.length),
              i = "";
            if (1 === r) i = "coords * strides + begin";
            else {
              var s = 0;
              i = n
                .map(function (t, e) {
                  return (
                    s++,
                    1 === n.length
                      ? "coords * strides[" + e + "] + begin[" + e + "]"
                      : "coords[" +
                        (s - 1) +
                        "] * strides[" +
                        e +
                        "] + begin[" +
                        e +
                        "]"
                  );
                })
                .join(",");
            }
            this.userCode =
              "\n      " +
              o +
              " begin = " +
              o +
              "(" +
              t +
              ");\n      " +
              o +
              " strides = " +
              o +
              "(" +
              e +
              ");\n\n      void main() {\n        " +
              a +
              " coords = getOutputCoords();\n        setOutput(getX(" +
              i +
              "));\n      }\n    ";
          },
          gs = (function () {
            function t(t) {
              (this.gpgpu = t),
                (this.numUsedTextures = 0),
                (this.numFreeTextures = 0),
                (this.freeTextures = {}),
                (this.logEnabled = !1),
                (this.usedTextures = {});
            }
            return (
              (t.prototype.acquireTexture = function (t, e, n) {
                var r,
                  o = xs(e, n),
                  a = ys(t, o, n);
                if (
                  (a in this.freeTextures || (this.freeTextures[a] = []),
                  a in this.usedTextures || (this.usedTextures[a] = []),
                  this.freeTextures[a].length > 0)
                ) {
                  this.numFreeTextures--, this.numUsedTextures++, this.log();
                  var i = this.freeTextures[a].shift();
                  return this.usedTextures[a].push(i), i;
                }
                return (
                  this.numUsedTextures++,
                  this.log(),
                  o === Kt.PACKED_2X2_FLOAT32
                    ? (r = this.gpgpu.createPackedMatrixTexture(t[0], t[1]))
                    : o === Kt.PACKED_2X2_FLOAT16
                    ? (r = this.gpgpu.createFloat16PackedMatrixTexture(
                        t[0],
                        t[1]
                      ))
                    : o === Kt.UNPACKED_FLOAT32
                    ? (r = this.gpgpu.createFloat32MatrixTexture(t[0], t[1]))
                    : o === Kt.UNPACKED_FLOAT16
                    ? (r = this.gpgpu.createFloat16MatrixTexture(t[0], t[1]))
                    : o === Kt.PACKED_4X1_UNSIGNED_BYTE &&
                      (r = this.gpgpu.createUnsignedBytesMatrixTexture(
                        t[0],
                        t[1]
                      )),
                  this.usedTextures[a].push(r),
                  r
                );
              }),
              (t.prototype.releaseTexture = function (t, e, n, r) {
                if (null != this.freeTextures) {
                  var o = ys(e, xs(n, r), r);
                  o in this.freeTextures || (this.freeTextures[o] = []),
                    this.freeTextures[o].push(t),
                    this.numFreeTextures++,
                    this.numUsedTextures--;
                  var a = this.usedTextures[o],
                    i = a.indexOf(t);
                  if (i < 0)
                    throw new Error(
                      "Cannot release a texture that was never provided by this texture manager"
                    );
                  a.splice(i, 1), this.log();
                }
              }),
              (t.prototype.log = function () {
                if (this.logEnabled) {
                  var t = this.numFreeTextures + this.numUsedTextures;
                  console.log(
                    "Free/Used",
                    this.numFreeTextures + " / " + this.numUsedTextures,
                    "(" + t + ")"
                  );
                }
              }),
              (t.prototype.getNumUsedTextures = function () {
                return this.numUsedTextures;
              }),
              (t.prototype.getNumFreeTextures = function () {
                return this.numFreeTextures;
              }),
              (t.prototype.dispose = function () {
                var t = this;
                if (null != this.freeTextures) {
                  for (var e in this.freeTextures)
                    this.freeTextures[e].forEach(function (e) {
                      t.gpgpu.deleteMatrixTexture(e);
                    });
                  for (var e in this.usedTextures)
                    this.usedTextures[e].forEach(function (e) {
                      t.gpgpu.deleteMatrixTexture(e);
                    });
                  (this.freeTextures = null),
                    (this.usedTextures = null),
                    (this.numUsedTextures = 0),
                    (this.numFreeTextures = 0);
                }
              }),
              t
            );
          })();
        function xs(t, e) {
          if (t === Ht.UPLOAD) return Kt.PACKED_2X2_FLOAT32;
          if (t === Ht.RENDER || null == t)
            return (function (t) {
              return c().getBool("WEBGL_RENDER_FLOAT32_ENABLED")
                ? t
                  ? Kt.PACKED_2X2_FLOAT32
                  : Kt.UNPACKED_FLOAT32
                : t
                ? Kt.PACKED_2X2_FLOAT16
                : Kt.UNPACKED_FLOAT16;
            })(e);
          if (t === Ht.DOWNLOAD || t === Ht.PIXELS)
            return Kt.PACKED_4X1_UNSIGNED_BYTE;
          throw new Error("Unknown logical texture type " + t);
        }
        function ys(t, e, n) {
          return t[0] + "_" + t[1] + "_" + e + "_" + n;
        }
        var bs = function (t, e) {
            this.variableNames = ["A"];
            for (var n = new Array(t.length), r = 0; r < n.length; r++)
              n[r] = t[r] * e[r];
            (this.outputShape = n), (this.rank = n.length);
            var o = Ra(this.rank),
              a = (function (t) {
                var e = t.length;
                if (e > 5)
                  throw Error("Tile for rank " + e + " is not yet supported");
                if (1 === e) return "imod(resRC, " + t[0] + ")";
                for (
                  var n = [
                      "resRC.x",
                      "resRC.y",
                      "resRC.z",
                      "resRC.w",
                      "resRC.u",
                    ],
                    r = [],
                    o = 0;
                  o < t.length;
                  o++
                )
                  r.push("imod(" + n[o] + ", " + t[o] + ")");
                return r.join();
              })(t);
            this.userCode =
              "\n      void main() {\n        " +
              o +
              " resRC = getOutputCoords();\n        setOutput(getA(" +
              a +
              "));\n      }\n    ";
          },
          ws = function (t, e) {
            this.variableNames = ["A"];
            for (var n = new Array(t.length), r = 0; r < n.length; r++)
              n[r] = t[e[r]];
            (this.outputShape = n), (this.rank = n.length);
            var o = Ra(this.rank),
              a = (function (t) {
                var e = t.length;
                if (e > 6)
                  throw Error(
                    "Transpose for rank " + e + " is not yet supported"
                  );
                for (
                  var n = [
                      "resRC.x",
                      "resRC.y",
                      "resRC.z",
                      "resRC.w",
                      "resRC.u",
                      "resRC.v",
                    ],
                    r = new Array(e),
                    o = 0;
                  o < t.length;
                  o++
                )
                  r[t[o]] = n[o];
                return r.join();
              })(e);
            this.userCode =
              "\n    void main() {\n      " +
              o +
              " resRC = getOutputCoords();\n      setOutput(getA(" +
              a +
              "));\n    }\n    ";
          },
          Cs = function (t, e) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0);
            for (var n = new Array(t.length), r = 0; r < n.length; r++)
              n[r] = t[e[r]];
            if (((this.outputShape = n), (this.rank = n.length), this.rank > 6))
              throw Error(
                "Packed transpose for rank " +
                  this.rank +
                  " is not yet supported."
              );
            var o = Ra(this.rank),
              a = ca("rc", this.rank),
              i = new Array(this.rank);
            for (r = 0; r < e.length; r++) i[e[r]] = a[r];
            var s = "vec2(" + i.slice(-2).join() + ")",
              u = "++" + a[this.rank - 1] + " < " + n[this.rank - 1],
              c = "getChannel(getA(" + i.join() + "), " + s + ")";
            this.userCode =
              "\n    void main() {\n      " +
              o +
              " rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = " +
              c +
              ";\n      if(" +
              u +
              ") {\n        result[1] = " +
              c +
              ";\n      }\n      --" +
              a[this.rank - 1] +
              ";\n      if(++" +
              a[this.rank - 2] +
              " < " +
              n[this.rank - 2] +
              ") {\n        result[2] = " +
              c +
              ";\n        if(" +
              u +
              ") {\n          result[3] = " +
              c +
              ";\n        }\n      }\n      setOutput(result);\n    }\n    ";
          },
          Es = 1.7580993408473768,
          Rs = 1.0507009873554805,
          Is = function (t, e) {
            (this.variableNames = ["A"]),
              (this.outputShape = t),
              (this.userCode =
                "\n      float unaryOperation(float x) {\n        " +
                e +
                "\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ");
          },
          ks = "if (isnan(x)) return x;",
          Ss = "return x;",
          As = "return abs(x);",
          Ds = ks + "\n  return (x < 0.0) ? 0.0 : x;\n",
          Ns = ks + "\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",
          Ts = "return (x >= 0.0) ? x : (exp(x) - 1.0);",
          Fs =
            "\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = " +
            Es +
            ";\n  float scale = " +
            Rs +
            ";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",
          _s = "return -x;",
          Os = "return ceil(x);",
          Ms = "return floor(x);",
          Bs = "return exp(x);",
          Ps = "return exp(x) - 1.0;",
          Ls = ks + "\n  return sin(x);\n",
          Ws = ks + "\n  return cos(x);\n",
          zs =
            ks +
            "\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",
          Us =
            ks +
            "\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",
          Vs = ks + "\n  return atan(x);\n",
          Gs = ks + "return log(x + sqrt(x * x + 1.0));",
          qs =
            ks +
            "\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",
          Hs =
            ks +
            "\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",
          Ks = "return x;",
          js = "return x;",
          Xs =
            "\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",
          Ys =
            "\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",
          $s =
            "\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",
          Qs = function (t, e) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !0),
              (this.outputShape = t),
              (this.userCode =
                "\n      vec4 unaryOperation(vec4 x) {\n        " +
                e +
                "\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ");
          },
          Js = function (t) {
            (this.variableNames = ["A"]),
              (this.packedInputs = !0),
              (this.packedOutput = !1),
              (this.outputShape = t);
            var e = t.length,
              n = la("rc", e),
              r = Ra(e),
              o = (function (t, e) {
                if (1 === t) return "rc";
                for (var n = "", r = 0; r < t; r++)
                  (n += e[r]), r < t - 1 && (n += ",");
                return n;
              })(e, n),
              a = n.slice(-2),
              i = e <= 1 ? "rc" : "vec2(" + a.join(",") + ")";
            this.userCode =
              "\n      void main() {\n        " +
              r +
              " rc = getOutputCoords();\n        vec4 packedInput = getA(" +
              o +
              ");\n\n        setOutput(getChannel(packedInput, " +
              i +
              "));\n      }\n    ";
          },
          Zs = {};
        function tu(t, e) {
          if ((void 0 === e && (e = !1), "linear" === t)) return e ? js : Ss;
          if ("relu" === t) return e ? Xs : Ds;
          if ("elu" === t) return e ? $s : Ts;
          if ("relu6" === t) return e ? Ys : Ns;
          if ("prelu" === t) return e ? za : La;
          throw new Error(
            "Activation " +
              t +
              " has not been implemented for the WebGL backend."
          );
        }
        var eu = 600,
          nu = (function (t) {
            function e(e) {
              var n,
                r = t.call(this) || this;
              if (
                ((r.pendingRead = new WeakMap()),
                (r.pendingDisposal = new WeakSet()),
                (r.dataRefCount = new WeakMap()),
                (r.numBytesInGPU = 0),
                (r.uploadWaitMs = 0),
                (r.downloadWaitMs = 0),
                (r.warnedAboutMemory = !1),
                (r.pendingDeletes = 0),
                (r.disposed = !1),
                !c().getBool("HAS_WEBGL"))
              )
                throw new Error("WebGL is not supported on this device");
              if (null == e) {
                var o = $t(c().getNumber("WEBGL_VERSION"));
                (r.binaryCache =
                  (n = c().getNumber("WEBGL_VERSION")) in Zs
                    ? Zs[n]
                    : ((Zs[n] = {}), Zs[n])),
                  (r.gpgpu = new Wi(o)),
                  (r.canvas = o.canvas),
                  (r.gpgpuCreatedLocally = !0);
              } else
                (r.gpgpu = e),
                  (r.binaryCache = {}),
                  (r.gpgpuCreatedLocally = !1),
                  (r.canvas = e.gl.canvas);
              return (
                (r.textureManager = new gs(r.gpgpu)),
                (r.numMBBeforeWarning =
                  null == c().global.screen
                    ? 1024
                    : (c().global.screen.height *
                        c().global.screen.width *
                        window.devicePixelRatio *
                        eu) /
                      1024 /
                      1024),
                (r.texData = new Co(r, Ut)),
                r
              );
            }
            return (
              o(e, t),
              (e.prototype.numDataIds = function () {
                return (
                  this.texData.numDataIds() +
                  (this.cpuBackend ? this.cpuBackend.numDataIds() : 0) -
                  this.pendingDeletes
                );
              }),
              (e.prototype.write = function (t, e, n) {
                if (
                  (c().getBool("DEBUG") && this.checkNumericalProblems(t),
                  "complex64" === n && null != t)
                )
                  throw new Error(
                    "Cannot write to a complex64 dtype. Please use tf.complex(real, imag)."
                  );
                var r = {};
                return (
                  this.texData.set(r, {
                    shape: e,
                    dtype: n,
                    values: t,
                    usage: Ht.UPLOAD,
                  }),
                  r
                );
              }),
              (e.prototype.move = function (t, e, n, r) {
                if (
                  (c().getBool("DEBUG") && this.checkNumericalProblems(e),
                  "complex64" === r)
                )
                  throw new Error(
                    "Cannot write to a complex64 dtype. Please use tf.complex(real, imag)."
                  );
                this.texData.set(t, {
                  shape: n,
                  dtype: r,
                  values: e,
                  usage: Ht.UPLOAD,
                });
              }),
              (e.prototype.readSync = function (t) {
                var e = this.texData.get(t),
                  n = e.values,
                  r = e.dtype,
                  o = e.complexTensors,
                  a = e.slice,
                  i = e.shape,
                  s = e.isPacked;
                if (null != a) {
                  var u;
                  u = s ? new Qs(i, Ks) : new Is(i, Ks);
                  var c = this.runWebGLProgram(
                      u,
                      [{ dataId: t, shape: i, dtype: r }],
                      r
                    ),
                    l = this.readSync(c.dataId);
                  return this.disposeData(c.dataId), l;
                }
                if (null != n) return this.convertAndCacheOnCPU(t);
                if ("string" === r) return n;
                var p,
                  h,
                  d = null != this.activeTimers;
                return (
                  d && (p = ot()),
                  (h =
                    "complex64" === r
                      ? qo(o.real.dataSync(), o.imag.dataSync())
                      : this.getValuesFromTexture(t)),
                  d && (this.downloadWaitMs += ot() - p),
                  this.convertAndCacheOnCPU(t, h)
                );
              }),
              (e.prototype.read = function (t) {
                return a(this, void 0, void 0, function () {
                  var e,
                    n,
                    r,
                    o,
                    a,
                    s,
                    u,
                    l,
                    p,
                    h,
                    d,
                    f,
                    v,
                    m,
                    g,
                    x,
                    y,
                    b,
                    w,
                    C,
                    E,
                    R;
                  return i(this, function (i) {
                    switch (i.label) {
                      case 0:
                        if (this.pendingRead.has(t))
                          return (
                            (e = this.pendingRead.get(t)),
                            [
                              2,
                              new Promise(function (t) {
                                return e.push(t);
                              }),
                            ]
                          );
                        if (
                          ((n = this.texData.get(t)),
                          (r = n.values),
                          (o = n.shape),
                          (a = n.slice),
                          (s = n.dtype),
                          (u = n.complexTensors),
                          (l = n.isPacked),
                          null != a)
                        )
                          return (
                            void 0,
                            (p = l ? new Qs(o, Ks) : new Is(o, Ks)),
                            (h = this.runWebGLProgram(
                              p,
                              [{ dataId: t, shape: o, dtype: s }],
                              s
                            )),
                            (d = this.read(h.dataId)),
                            this.disposeData(h.dataId),
                            [2, d]
                          );
                        if (null != r) return [2, this.convertAndCacheOnCPU(t)];
                        if (
                          !c().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED") &&
                          2 === c().getNumber("WEBGL_VERSION")
                        )
                          throw new Error(
                            "tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported."
                          );
                        return (
                          (f = null),
                          "complex64" !== s &&
                            c().get("WEBGL_BUFFER_SUPPORTED") &&
                            ((v = this.decode(t)),
                            (m = this.texData.get(v.dataId)),
                            (f = (R = this.gpgpu).createBufferFromTexture.apply(
                              R,
                              [m.texture].concat(Jt(o))
                            ))),
                          this.pendingRead.set(t, []),
                          "complex64" === s
                            ? [3, 2]
                            : [4, this.gpgpu.createAndWaitForFence()]
                        );
                      case 1:
                        i.sent(), (i.label = 2);
                      case 2:
                        return "complex64" !== s
                          ? [3, 4]
                          : [4, Promise.all([u.real.data(), u.imag.data()])];
                      case 3:
                        return (
                          (x = i.sent()),
                          (y = x[0]),
                          (b = x[1]),
                          (g = qo(y, b)),
                          [3, 5]
                        );
                      case 4:
                        null == f
                          ? (g = this.getValuesFromTexture(t))
                          : ((w = D(o)),
                            (g = this.gpgpu.downloadFloat32MatrixFromBuffer(
                              f,
                              w
                            ))),
                          (i.label = 5);
                      case 5:
                        return (
                          null != v && this.disposeData(v.dataId),
                          (C = this.convertAndCacheOnCPU(t, g)),
                          (E = this.pendingRead.get(t)),
                          this.pendingRead.delete(t),
                          E.forEach(function (t) {
                            return t(C);
                          }),
                          this.pendingDisposal.has(t) &&
                            (this.pendingDisposal.delete(t),
                            this.disposeData(t),
                            this.pendingDeletes--),
                          [2, C]
                        );
                    }
                  });
                });
              }),
              (e.prototype.checkNumericalProblems = function (t) {
                if (null != t)
                  for (var e = 0; e < t.length; e++) {
                    var n = t[e];
                    if (!oe(n)) {
                      if (c().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))
                        throw Error(
                          "The value " +
                            n +
                            " cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"
                        );
                      throw Error(
                        "The value " +
                          n +
                          " cannot be represented on this device."
                      );
                    }
                  }
              }),
              (e.prototype.getValuesFromTexture = function (t) {
                var e,
                  n = this.texData.get(t),
                  r = n.shape,
                  o = n.dtype,
                  a = n.isPacked,
                  i = D(r);
                if (c().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")) {
                  var s = this.decode(t),
                    u = this.texData.get(s.dataId),
                    l = (e = this.gpgpu).downloadMatrixFromPackedTexture
                      .apply(e, [u.texture].concat(Jt(r)))
                      .subarray(0, i);
                  return this.disposeData(s.dataId), l;
                }
                var p = c().getBool("WEBGL_PACK") && !0 === a,
                  h = p ? _e(r) : r,
                  d = p ? new hi(h) : new pi(h),
                  f = this.runWebGLProgram(
                    d,
                    [{ shape: h, dtype: o, dataId: t }],
                    "float32"
                  ),
                  v = this.texData.get(f.dataId),
                  m = this.gpgpu
                    .downloadByteEncodedFloatMatrixFromOutputTexture(
                      v.texture,
                      v.texShape[0],
                      v.texShape[1]
                    )
                    .subarray(0, i);
                return this.disposeData(f.dataId), m;
              }),
              (e.prototype.time = function (t) {
                return a(this, void 0, void 0, function () {
                  var e, n, r, o, a, s, u;
                  return i(this, function (i) {
                    switch (i.label) {
                      case 0:
                        return (
                          (e = this.activeTimers),
                          (n = []),
                          (r = !1),
                          null == this.programTimersStack
                            ? ((this.programTimersStack = n), (r = !0))
                            : this.activeTimers.push(n),
                          (this.activeTimers = n),
                          t(),
                          (o = A(
                            this.activeTimers.map(function (t) {
                              return t.query;
                            })
                          ).filter(function (t) {
                            return null != t;
                          })),
                          (a = A(
                            this.activeTimers.map(function (t) {
                              return t.name;
                            })
                          ).filter(function (t) {
                            return null != t;
                          })),
                          (this.activeTimers = e),
                          r && (this.programTimersStack = null),
                          (s = {
                            uploadWaitMs: this.uploadWaitMs,
                            downloadWaitMs: this.downloadWaitMs,
                            kernelMs: null,
                            wallMs: null,
                          }),
                          c().getNumber(
                            "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"
                          ) > 0
                            ? [4, Promise.all(o)]
                            : [3, 2]
                        );
                      case 1:
                        return (
                          (u = i.sent()),
                          (s.kernelMs = R(u)),
                          (s.getExtraProfileInfo = function () {
                            return u
                              .map(function (t, e) {
                                return { name: a[e], ms: t };
                              })
                              .map(function (t) {
                                return t.name + ": " + t.ms;
                              })
                              .join(", ");
                          }),
                          [3, 3]
                        );
                      case 2:
                        (s.kernelMs = {
                          error:
                            "WebGL query timers are not supported in this environment.",
                        }),
                          (i.label = 3);
                      case 3:
                        return (
                          (this.uploadWaitMs = 0),
                          (this.downloadWaitMs = 0),
                          [2, s]
                        );
                    }
                  });
                });
              }),
              (e.prototype.memory = function () {
                return { unreliable: !1, numBytesInGPU: this.numBytesInGPU };
              }),
              (e.prototype.startTimer = function () {
                return c().getNumber(
                  "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"
                ) > 0
                  ? this.gpgpu.beginQuery()
                  : { startMs: ot(), endMs: null };
              }),
              (e.prototype.endTimer = function (t) {
                return c().getNumber(
                  "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"
                ) > 0
                  ? (this.gpgpu.endQuery(), t)
                  : ((t.endMs = ot()), t);
              }),
              (e.prototype.getQueryTime = function (t) {
                return a(this, void 0, void 0, function () {
                  var e;
                  return i(this, function (n) {
                    return c().getNumber(
                      "WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"
                    ) > 0
                      ? [2, this.gpgpu.waitForQueryAndGetTime(t)]
                      : [2, (e = t).endMs - e.startMs];
                  });
                });
              }),
              (e.prototype.disposeData = function (t) {
                if (!this.pendingDisposal.has(t)) {
                  if (this.pendingRead.has(t))
                    return (
                      this.pendingDisposal.add(t), void this.pendingDeletes++
                    );
                  if (this.texData.has(t)) {
                    this.releaseGPUData(t);
                    var e = this.texData.get(t).complexTensors;
                    null != e && (e.real.dispose(), e.imag.dispose()),
                      this.texData.delete(t);
                  }
                }
              }),
              (e.prototype.releaseGPUData = function (t) {
                var e = this.texData.get(t),
                  n = e.texture,
                  r = e.dtype,
                  o = e.texShape,
                  a = e.usage,
                  i = e.isPacked,
                  s = e.slice,
                  u = (s && s.origDataId) || t,
                  c = this.dataRefCount.get(u);
                c > 1
                  ? this.dataRefCount.set(u, c - 1)
                  : (this.dataRefCount.delete(u),
                    null != n &&
                      ((this.numBytesInGPU -= this.computeBytes(o, r)),
                      this.textureManager.releaseTexture(n, o, a, i)));
                var l = this.texData.get(t);
                (l.texture = null),
                  (l.texShape = null),
                  (l.isPacked = !1),
                  (l.slice = null);
              }),
              (e.prototype.getTexture = function (t) {
                return this.uploadToGPU(t), this.texData.get(t).texture;
              }),
              (e.prototype.getDataInfo = function (t) {
                return this.texData.get(t);
              }),
              (e.prototype.getCPUBackend = function () {
                return c().getBool("WEBGL_CPU_FORWARD")
                  ? (null == this.cpuBackend &&
                      (this.cpuBackend = Ut.findBackend("cpu")),
                    this.cpuBackend)
                  : null;
              }),
              (e.prototype.shouldExecuteOnCPU = function (t, e) {
                var n = this;
                return (
                  void 0 === e && (e = 128),
                  null != this.getCPUBackend() &&
                    t.every(function (t) {
                      return (
                        null == n.texData.get(t.dataId).texture && t.size < e
                      );
                    })
                );
              }),
              (e.prototype.getGPGPUContext = function () {
                return this.gpgpu;
              }),
              (e.prototype.complex = function (t, e) {
                var n = this.makeOutput(t.shape, "complex64");
                return (
                  (this.texData.get(n.dataId).complexTensors = {
                    real: Ut.keep(t.clone()),
                    imag: Ut.keep(e.clone()),
                  }),
                  n
                );
              }),
              (e.prototype.real = function (t) {
                return this.texData.get(t.dataId).complexTensors.real.clone();
              }),
              (e.prototype.imag = function (t) {
                return this.texData.get(t.dataId).complexTensors.imag.clone();
              }),
              (e.prototype.slice = function (t, e, n) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.slice(t, e, n);
                if (0 === D(n)) return Mn([], n, t.dtype);
                var r = this.texData.get(t.dataId).isPacked,
                  o = co(t.shape, e, n);
                if (r || !o) {
                  var a = c().getBool("WEBGL_PACK_ARRAY_OPERATIONS")
                      ? new vs(n)
                      : new ds(n),
                    i = a.getCustomSetupFunc(e);
                  return this.compileAndRun(a, [t], null, i);
                }
                return this.uploadToGPU(t.dataId), this.shallowSlice(t, e, n);
              }),
              (e.prototype.shallowSlice = function (t, e, n) {
                var r = this.texData.get(t.dataId),
                  o = this.makeOutput(n, t.dtype),
                  a = this.texData.get(o.dataId);
                Object.assign(a, r), (a.shape = n), (a.dtype = t.dtype);
                var i = lo(e, t.strides);
                r.slice && (i += r.slice.flatOffset),
                  (a.slice = {
                    flatOffset: i,
                    origDataId: (r.slice && r.slice.origDataId) || t.dataId,
                  });
                var s = this.dataRefCount.get(a.slice.origDataId) || 1;
                return this.dataRefCount.set(a.slice.origDataId, s + 1), o;
              }),
              (e.prototype.stridedSlice = function (t, e, n, r) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.stridedSlice(t, e, n, r);
                var o = io(e, n, r);
                if (
                  o.some(function (t) {
                    return 0 === t;
                  })
                )
                  return Mn([], o);
                var a = new ms(e, r, o);
                return this.compileAndRun(a, [t]);
              }),
              (e.prototype.reverse = function (t, e) {
                var n = c().getBool("WEBGL_PACK_ARRAY_OPERATIONS")
                  ? new cs(t.shape, e)
                  : new us(t.shape, e);
                return this.compileAndRun(n, [t]);
              }),
              (e.prototype.concat = function (t, e) {
                if ("complex64" === t[0].dtype) {
                  var n = t.map(function (t) {
                      return _n(t);
                    }),
                    r = t.map(function (t) {
                      return On(t);
                    });
                  return Fn(this.concat(n, e), this.concat(r, e));
                }
                if (this.shouldExecuteOnCPU(t))
                  return this.cpuBackend.concat(t, e);
                if (1 === t.length) return t[0];
                if (t.length > c().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")) {
                  var o = Math.floor(t.length / 2),
                    a = this.concat(t.slice(0, o), e),
                    i = this.concat(t.slice(o), e);
                  return this.concat([a, i], e);
                }
                if (
                  c().getBool("WEBGL_PACK_ARRAY_OPERATIONS") &&
                  t[0].rank > 1
                ) {
                  var s = new Ka(
                    t.map(function (t) {
                      return t.shape;
                    }),
                    e
                  );
                  return this.compileAndRun(s, t);
                }
                var u = Nn(
                    t.map(function (t) {
                      return t.shape;
                    }),
                    e
                  ),
                  l = t.map(function (t) {
                    return t.as2D(-1, D(t.shape.slice(e)));
                  }),
                  p = new Ha(
                    l.map(function (t) {
                      return t.shape;
                    })
                  );
                return this.compileAndRun(p, l).reshape(u);
              }),
              (e.prototype.neg = function (t) {
                if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.neg(t);
                if (c().getBool("WEBGL_PACK_UNARY_OPERATIONS"))
                  return this.packedUnaryOp(t, _s, t.dtype);
                var e = new Is(t.shape, _s);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.batchMatMul = function (t, e, n, r) {
                var o = n ? t.shape[2] : t.shape[1],
                  a = r ? e.shape[1] : e.shape[2],
                  i = n ? t.shape[1] : t.shape[2],
                  s = t.shape[0];
                if ((1 === o || 1 === a) && i > 1e3) {
                  n && (t = t.transpose([0, 2, 1])),
                    r && (e = e.transpose([0, 2, 1]));
                  var u = 1 === a ? t : t.as3D(s, i, 1),
                    c = 1 === a ? 2 : 1,
                    l = 1 === a ? e.as3D(s, 1, i) : e;
                  return this.multiply(u, l).sum(c, !0);
                }
                var p = Ft(t.dtype, e.dtype),
                  h = new ji(t.shape, [s, o, a], n, r);
                return this.compileAndRun(h, [t, e], p);
              }),
              (e.prototype.fusedBatchMatMul = function (t) {
                var e = t.a,
                  n = t.b,
                  r = t.transposeA,
                  o = t.transposeB,
                  a = t.bias,
                  i = t.activation,
                  s = t.preluActivationWeights,
                  u = r ? e.shape[2] : e.shape[1],
                  c = o ? n.shape[1] : n.shape[2],
                  l = e.shape[0],
                  p = Ft(e.dtype, n.dtype),
                  h = null != a,
                  d = null != s,
                  f = i ? tu(i, !0) : null,
                  v = new ji(e.shape, [l, u, c], r, o, h, f, d),
                  m = [e, n];
                return (
                  a && m.push(a), s && m.push(s), this.compileAndRun(v, m, p)
                );
              }),
              (e.prototype.multiply = function (t, e) {
                if ("complex64" === t.dtype) {
                  var n = this.texData.get(t.dataId),
                    r = this.texData.get(e.dataId),
                    o = new Oa(Fa, t.shape, e.shape),
                    a = new Oa(_a, t.shape, e.shape),
                    i = [
                      this.makeComplexComponentTensorInfo(
                        t,
                        n.complexTensors.real
                      ),
                      this.makeComplexComponentTensorInfo(
                        t,
                        n.complexTensors.imag
                      ),
                      this.makeComplexComponentTensorInfo(
                        e,
                        r.complexTensors.real
                      ),
                      this.makeComplexComponentTensorInfo(
                        e,
                        r.complexTensors.imag
                      ),
                    ],
                    s = this.compileAndRun(o, i),
                    u = this.compileAndRun(a, i),
                    l = this.complex(s, u);
                  return s.dispose(), u.dispose(), l;
                }
                if (this.shouldExecuteOnCPU([t, e]))
                  return this.cpuBackend.multiply(t, e);
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(t, e, Pa, t.dtype);
                var p = new Wa(Pa, t.shape, e.shape);
                return this.compileAndRun(p, [t, e], t.dtype);
              }),
              (e.prototype.batchNormalization = function (t, e, n, r, o, a) {
                var i = [t, e, n],
                  s = null;
                null != a && ((s = a.shape), i.push(a));
                var u = null;
                if (
                  (null != o && ((u = o.shape), i.push(o)),
                  c().getBool("WEBGL_PACK_NORMALIZATION"))
                ) {
                  var l = new Ta(t.shape, e.shape, n.shape, s, u, r);
                  return this.compileAndRun(l, i);
                }
                var p = new Na(t.shape, e.shape, n.shape, s, u, r);
                return this.compileAndRun(p, i);
              }),
              (e.prototype.localResponseNormalization4D = function (
                t,
                e,
                n,
                r,
                o
              ) {
                var a = c().getBool("WEBGL_PACK_NORMALIZATION")
                  ? new qi(t.shape, e, n, r, o)
                  : new Vi(t.shape, e, n, r, o);
                return this.compileAndRun(a, [t]);
              }),
              (e.prototype.LRNGrad = function (t, e, n, r, o, a, i) {
                var s = new Gi(e.shape, r, o, a, i);
                return this.compileAndRun(s, [e, n, t]);
              }),
              (e.prototype.tile = function (t, e) {
                if ("string" === t.dtype) {
                  var n = this.readSync(t.dataId).map(function (t) {
                    return st(t);
                  });
                  return ra(mr(t.shape, t.dtype, n), e);
                }
                var r = new bs(t.shape, e);
                return this.compileAndRun(r, [t]);
              }),
              (e.prototype.pad = function (t, e, n) {
                var r = c().getBool("WEBGL_PACK_ARRAY_OPERATIONS")
                  ? new Ji(t.shape, e, n)
                  : new Qi(t.shape, e, n);
                return this.compileAndRun(r, [t]);
              }),
              (e.prototype.transpose = function (t, e) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.transpose(t, e);
                var n = c().getBool("WEBGL_PACK_ARRAY_OPERATIONS")
                  ? new Cs(t.shape, e)
                  : new ws(t.shape, e);
                return this.compileAndRun(n, [t]);
              }),
              (e.prototype.gather = function (t, e, n) {
                if (this.shouldExecuteOnCPU([t, e]))
                  return this.cpuBackend.gather(t, e, n);
                var r = new yi(t.shape, e.size, n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.batchToSpaceND = function (t, e, n) {
                I(t.rank <= 4, function () {
                  return "batchToSpaceND for rank > 4 with a WebGL backend not implemented yet";
                });
                var r = e.reduce(function (t, e) {
                    return t * e;
                  }),
                  o = Hr(t.shape, e, r),
                  a = Kr(o.length, e.length),
                  i = jr(t.shape, e, r),
                  s = Xr(n, e.length),
                  u = Yr(i, n, e.length);
                return t.reshape(o).transpose(a).reshape(i).slice(s, u);
              }),
              (e.prototype.spaceToBatchND = function (t, e, n) {
                I(t.rank <= 4, function () {
                  return "spaceToBatchND for rank > 4 with a WebGL backend not implemented yet";
                });
                var r = e.reduce(function (t, e) {
                    return t * e;
                  }),
                  o = [[0, 0]];
                o.push.apply(o, n);
                for (var a = 1 + e.length; a < t.shape.length; ++a)
                  o.push([0, 0]);
                var i = t.pad(o),
                  s = Hr(i.shape, e, r, !1),
                  u = Kr(s.length, e.length, !1),
                  c = jr(i.shape, e, r, !1);
                return i.reshape(s).transpose(u).reshape(c);
              }),
              (e.prototype.reduce = function (t, e, n) {
                var r = t.shape[0],
                  o = t.shape[1],
                  a = Zr(o),
                  i = new es({ windowSize: a, inSize: o, batchSize: r }, e),
                  s = this.compileAndRun(i, [t], n);
                return 1 === s.shape[1] ? s : this.reduce(s, e, n);
              }),
              (e.prototype.argReduce = function (t, e, n) {
                void 0 === n && (n = null);
                var r = t.shape[0],
                  o = t.shape[1];
                null != n && ((r = n.shape[0]), (o = n.shape[1]));
                var a = Zr(o),
                  i = new ua(
                    { windowSize: a, inSize: o, batchSize: r },
                    e,
                    null == n
                  ),
                  s = [t];
                null != n && s.push(n);
                var u = this.compileAndRun(i, s, "int32");
                return 1 === u.shape[1] ? u : this.argReduce(t, e, u);
              }),
              (e.prototype.argReducePacked = function (t, e, n) {
                void 0 === n && (n = null);
                var r = null != n ? n.shape : t.shape,
                  o = Zr(r[r.length - 1]),
                  a = new Sa(r, o, e, null == n),
                  i = null == n ? [t] : [t, n],
                  s = this.compileAndRun(a, i, "int32");
                return s.rank === t.rank ? this.argReducePacked(t, e, s) : s;
              }),
              (e.prototype.sum = function (t, e) {
                In("sum", e, t.rank);
                var n = En(t.shape, e),
                  r = n[0],
                  o = D(n[1]),
                  a = t.as2D(-1, o),
                  i = _t(t.dtype);
                return this.reduce(a, "sum", i).reshape(r);
              }),
              (e.prototype.prod = function (t, e) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.prod(t, e);
                var n = En(t.shape, e),
                  r = n[0],
                  o = D(n[1]),
                  a = t.as2D(-1, o),
                  i = _t(t.dtype);
                return this.reduce(a, "prod", i).reshape(r);
              }),
              (e.prototype.unsortedSegmentSum = function (t, e, n) {
                var r = 0,
                  o = kn([r], t.rank),
                  a = t;
                null != o && ((a = t.transpose(o)), (r = An(1, t.rank)[0]));
                var i = (function (t, e, n) {
                    for (var r = [], o = t.length, a = 0; a < o; a++)
                      a !== e ? r.push(t[a]) : r.push(n);
                    return r;
                  })(a.shape, r, n),
                  s = D([a.shape[r]]),
                  u = a.as2D(-1, s),
                  c = _t(t.dtype),
                  l = this.segOpCompute(
                    u,
                    "unsortedSegmentSum",
                    e,
                    c,
                    n
                  ).reshape(i);
                return null != o && (l = l.transpose(Sn(o))), l;
              }),
              (e.prototype.segOpCompute = function (t, e, n, r, o) {
                var a = t.shape[0],
                  i = t.shape[1],
                  s = (function (t, e) {
                    var n,
                      r = !1;
                    for (
                      t <= Jr
                        ? ((n = t), (r = !0))
                        : (n = J(t, Math.floor(Math.sqrt(t))));
                      !r;

                    )
                      n > e || n === t ? (r = !0) : (n = J(t, n + 1));
                    return n;
                  })(i, o),
                  u = new ps(
                    { windowSize: s, inSize: i, batchSize: a, numSegments: o },
                    e
                  ),
                  c = this.compileAndRun(u, [t, n], r);
                return c.shape[1] === o
                  ? c
                  : ((n = Yn(0, o).tile([i / s])),
                    this.segOpCompute(c, e, n, r, o));
              }),
              (e.prototype.argMinMaxReduce = function (t, e, n) {
                var r = [e];
                if (
                  (In(
                    "arg" + n.charAt(0).toUpperCase() + n.slice(1),
                    r,
                    t.rank
                  ),
                  !c().getBool("WEBGL_PACK_REDUCE") || t.rank <= 2)
                ) {
                  var o = En(t.shape, r),
                    a = o[0],
                    i = D(o[1]),
                    s = t.as2D(-1, i);
                  return this.argReduce(s, n).reshape(a);
                }
                return this.argReducePacked(t, n);
              }),
              (e.prototype.argMin = function (t, e) {
                return this.argMinMaxReduce(t, e, "min");
              }),
              (e.prototype.argMax = function (t, e) {
                return this.argMinMaxReduce(t, e, "max");
              }),
              (e.prototype.cumsum = function (t, e, n, r) {
                if (e !== t.rank - 1)
                  throw new Error(
                    "WebGL cumsum shader expects an inner-most axis=" +
                      (t.rank - 1) +
                      " but got axis=" +
                      e
                  );
                var o = new ai(t.shape, n, r);
                return this.compileAndRun(o, [t]);
              }),
              (e.prototype.equal = function (t, e) {
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  return vec4(equal(a, b));\n",
                    "bool"
                  );
                var n = new Wa("return float(a == b);", t.shape, e.shape);
                return this.compileAndRun(n, [t, e], "bool");
              }),
              (e.prototype.notEqual = function (t, e) {
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  return vec4(notEqual(a, b));\n",
                    "bool"
                  );
                var n = new Wa("return float(a != b);", t.shape, e.shape);
                return this.compileAndRun(n, [t, e], "bool");
              }),
              (e.prototype.less = function (t, e) {
                if (this.shouldExecuteOnCPU([t, e]))
                  return this.cpuBackend.less(t, e);
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  return vec4(lessThan(a, b));\n",
                    "bool"
                  );
                var n = new Wa("return float(a < b);", t.shape, e.shape);
                return this.compileAndRun(n, [t, e], "bool");
              }),
              (e.prototype.lessEqual = function (t, e) {
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  return vec4(lessThanEqual(a, b));\n",
                    "bool"
                  );
                var n = new Wa("return float(a <= b);", t.shape, e.shape);
                return this.compileAndRun(n, [t, e], "bool");
              }),
              (e.prototype.greater = function (t, e) {
                if (this.shouldExecuteOnCPU([t, e]))
                  return this.cpuBackend.greater(t, e);
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  return vec4(greaterThan(a, b));\n",
                    "bool"
                  );
                var n = new Wa("return float(a > b);", t.shape, e.shape);
                return this.compileAndRun(n, [t, e], "bool");
              }),
              (e.prototype.greaterEqual = function (t, e) {
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  return vec4(greaterThanEqual(a, b));\n",
                    "bool"
                  );
                var n = new Wa("return float(a >= b);", t.shape, e.shape);
                return this.compileAndRun(n, [t, e], "bool");
              }),
              (e.prototype.logicalNot = function (t) {
                var e = new Is(t.shape, "return float(!(x >= 1.0));");
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.logicalAnd = function (t, e) {
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",
                    "bool"
                  );
                var n = new Wa(
                  "return float(a >= 1.0 && b >= 1.0);",
                  t.shape,
                  e.shape
                );
                return this.compileAndRun(n, [t, e], "bool");
              }),
              (e.prototype.logicalOr = function (t, e) {
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",
                    "bool"
                  );
                var n = new Wa(
                  "return float(a >= 1.0 || b >= 1.0);",
                  t.shape,
                  e.shape
                );
                return this.compileAndRun(n, [t, e], "bool");
              }),
              (e.prototype.select = function (t, e, n) {
                var r = new hs(t.rank, e.shape, e.rank);
                return this.compileAndRun(r, [t, e, n], Ft(e.dtype, n.dtype));
              }),
              (e.prototype.where = function (t) {
                mn(
                  "tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead"
                );
                var e = t.dataSync();
                return aa(t.shape, e);
              }),
              (e.prototype.topk = function (t, e, n) {
                return oa(t.dataSync(), t.shape, t.dtype, e);
              }),
              (e.prototype.min = function (t, e) {
                In("min", e, t.rank);
                var n = En(t.shape, e),
                  r = n[0],
                  o = D(n[1]),
                  a = t.as2D(-1, o);
                return this.reduce(a, "min", a.dtype).reshape(r);
              }),
              (e.prototype.minimum = function (t, e) {
                if (this.shouldExecuteOnCPU([t, e]))
                  return this.cpuBackend.minimum(t, e);
                var n = c().getBool("WEBGL_PACK_BINARY_OPERATIONS")
                  ? new Ua(
                      "\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",
                      t.shape,
                      e.shape
                    )
                  : new Wa(
                      "\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",
                      t.shape,
                      e.shape
                    );
                return this.compileAndRun(n, [t, e]);
              }),
              (e.prototype.mod = function (t, e) {
                var n = c().getBool("WEBGL_PACK_BINARY_OPERATIONS")
                  ? new Ua(
                      "\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",
                      t.shape,
                      e.shape
                    )
                  : new Wa(
                      "if (b == 0.0) return NAN;\n  return mod(a, b);",
                      t.shape,
                      e.shape
                    );
                return this.compileAndRun(n, [t, e]);
              }),
              (e.prototype.max = function (t, e) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.max(t, e);
                In("max", e, t.rank);
                var n = En(t.shape, e),
                  r = n[0],
                  o = D(n[1]),
                  a = t.as2D(-1, o);
                return this.reduce(a, "max", a.dtype).reshape(r);
              }),
              (e.prototype.maximum = function (t, e) {
                if (this.shouldExecuteOnCPU([t, e]))
                  return this.cpuBackend.maximum(t, e);
                var n = c().getBool("WEBGL_PACK_BINARY_OPERATIONS")
                  ? new Ua(
                      "\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",
                      t.shape,
                      e.shape
                    )
                  : new Wa(
                      "\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",
                      t.shape,
                      e.shape
                    );
                return this.compileAndRun(n, [t, e]);
              }),
              (e.prototype.all = function (t, e) {
                In("all", e, t.rank);
                var n = En(t.shape, e),
                  r = n[0],
                  o = D(n[1]),
                  a = t.as2D(-1, o);
                return this.reduce(a, "all", a.dtype).reshape(r);
              }),
              (e.prototype.any = function (t, e) {
                In("any", e, t.rank);
                var n = En(t.shape, e),
                  r = n[0],
                  o = D(n[1]),
                  a = t.as2D(-1, o);
                return this.reduce(a, "any", a.dtype).reshape(r);
              }),
              (e.prototype.realDivide = function (t, e) {
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",
                    "float32",
                    !0
                  );
                var n = new Wa(
                  "\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",
                  t.shape,
                  e.shape
                );
                return this.compileAndRun(n, [t, e], "float32");
              }),
              (e.prototype.floorDiv = function (t, e) {
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(
                    t,
                    e,
                    "\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",
                    "int32"
                  );
                var n = new Wa(
                  "\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",
                  t.shape,
                  e.shape
                );
                return this.compileAndRun(n, [t, e], "int32");
              }),
              (e.prototype.add = function (t, e) {
                if ("complex64" === t.dtype && "complex64" === e.dtype)
                  return this.complexSeparableBinaryOp(t, e, Ma);
                if (this.shouldExecuteOnCPU([t, e]))
                  return this.cpuBackend.add(t, e);
                var n = Ft(t.dtype, e.dtype);
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(t, e, Ma, n);
                var r = new Wa(Ma, t.shape, e.shape);
                return this.compileAndRun(r, [t, e], n);
              }),
              (e.prototype.packedUnaryOp = function (t, e, n) {
                var r = new Qs(t.shape, e);
                return this.compileAndRun(r, [t], n);
              }),
              (e.prototype.packedBinaryOp = function (t, e, n, r, o) {
                void 0 === o && (o = !1);
                var a = new Ua(n, t.shape, e.shape, o);
                return this.compileAndRun(a, [t, e], r);
              }),
              (e.prototype.complexSeparableBinaryOp = function (t, e, n) {
                var r = this,
                  o = this.texData.get(t.dataId),
                  a = this.texData.get(e.dataId),
                  i = [
                    [o.complexTensors.real, a.complexTensors.real],
                    [o.complexTensors.imag, a.complexTensors.imag],
                  ].map(function (o) {
                    var a = o[0],
                      i = o[1],
                      s = r.makeComplexComponentTensorInfo(t, a),
                      u = r.makeComplexComponentTensorInfo(e, i),
                      c = new Wa(n, t.shape, e.shape);
                    return r.compileAndRun(c, [s, u], Ft(a.dtype, i.dtype));
                  }),
                  s = i[0],
                  u = i[1],
                  c = this.complex(s, u);
                return s.dispose(), u.dispose(), c;
              }),
              (e.prototype.makeComplexComponentTensorInfo = function (t, e) {
                return { dataId: e.dataId, dtype: e.dtype, shape: t.shape };
              }),
              (e.prototype.addN = function (t) {
                if (1 === t.length) return t[0];
                if (t.length > c().get("WEBGL_MAX_TEXTURES_IN_SHADER")) {
                  var e = Math.floor(t.length / 2),
                    n = this.addN(t.slice(0, e)),
                    r = this.addN(t.slice(e));
                  return this.addN([n, r]);
                }
                var o = t
                    .map(function (t) {
                      return t.dtype;
                    })
                    .reduce(function (t, e) {
                      return Ft(t, e);
                    }),
                  a = t.map(function (t) {
                    return t.shape;
                  }),
                  i = c().getBool("WEBGL_PACK")
                    ? new sa(t[0].shape, a)
                    : new ia(t[0].shape, a);
                return this.compileAndRun(i, t, o);
              }),
              (e.prototype.subtract = function (t, e) {
                if ("complex64" === t.dtype && "complex64" === e.dtype)
                  return this.complexSeparableBinaryOp(t, e, Ba);
                if (this.shouldExecuteOnCPU([t, e]))
                  return this.cpuBackend.subtract(t, e);
                var n = Ft(t.dtype, e.dtype);
                if (c().getBool("WEBGL_PACK_BINARY_OPERATIONS"))
                  return this.packedBinaryOp(t, e, Ba, t.dtype);
                var r = new Wa(Ba, t.shape, e.shape);
                return this.compileAndRun(r, [t, e], n);
              }),
              (e.prototype.pow = function (t, e) {
                var n = c().getBool("WEBGL_PACK_BINARY_OPERATIONS")
                    ? new Ua(
                        "\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",
                        t.shape,
                        e.shape
                      )
                    : new Wa(
                        "\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",
                        t.shape,
                        e.shape
                      ),
                  r = Ft(t.dtype, e.dtype);
                return this.compileAndRun(n, [t, e], r);
              }),
              (e.prototype.ceil = function (t) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.ceil(t);
                if (c().getBool("WEBGL_PACK_UNARY_OPERATIONS"))
                  return this.packedUnaryOp(t, Os, t.dtype);
                var e = new Is(t.shape, Os);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.floor = function (t) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.floor(t);
                if (c().getBool("WEBGL_PACK_UNARY_OPERATIONS"))
                  return this.packedUnaryOp(t, Ms, t.dtype);
                var e = new Is(t.shape, Ms);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.sign = function (t) {
                var e = new Is(
                  t.shape,
                  "\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"
                );
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.isNaN = function (t) {
                var e = new Is(t.shape, "return float(isnan(x));");
                return this.compileAndRun(e, [t], "bool");
              }),
              (e.prototype.isInf = function (t) {
                var e = new Is(t.shape, "return float(isinf(x));");
                return this.compileAndRun(e, [t], "bool");
              }),
              (e.prototype.isFinite = function (t) {
                var e = new Is(
                  t.shape,
                  "return float(!isnan(x) && !isinf(x));"
                );
                return this.compileAndRun(e, [t], "bool");
              }),
              (e.prototype.round = function (t) {
                var e = new Is(
                  t.shape,
                  "\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"
                );
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.exp = function (t) {
                if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.exp(t);
                if (c().getBool("WEBGL_PACK_UNARY_OPERATIONS"))
                  return this.packedUnaryOp(t, Bs, t.dtype);
                var e = new Is(t.shape, Bs);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.expm1 = function (t) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.expm1(t);
                if (c().getBool("WEBGL_PACK_UNARY_OPERATIONS"))
                  return this.packedUnaryOp(t, Ps, t.dtype);
                var e = new Is(t.shape, Ps);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.softmax = function (t, e) {
                var n = P([e], t.shape),
                  r = this.max(t, n),
                  o = Rn(r.shape, n),
                  a = this.subtract(t, r.reshape(o)),
                  i = this.exp(a),
                  s = this.sum(i, n).reshape(o);
                return this.realDivide(i, s);
              }),
              (e.prototype.log = function (t) {
                if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.log(t);
                if (c().getBool("WEBGL_PACK_UNARY_OPERATIONS"))
                  return this.packedUnaryOp(
                    t,
                    "\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",
                    t.dtype
                  );
                var e = new Is(
                  t.shape,
                  "if (x < 0.0) return NAN;\n  return log(x);"
                );
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.log1p = function (t) {
                var e = new Is(t.shape, "return log(1.0 + x);");
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.sqrt = function (t) {
                var e = new Is(t.shape, "return sqrt(x);");
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.rsqrt = function (t) {
                if (this.shouldExecuteOnCPU([t]))
                  return this.cpuBackend.rsqrt(t);
                var e = new Is(t.shape, "return inversesqrt(x);");
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.reciprocal = function (t) {
                var e = new Is(t.shape, "return 1.0 / x;");
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.relu = function (t) {
                var e;
                return (
                  (e = c().getBool("WEBGL_PACK")
                    ? new Qs(t.shape, Xs)
                    : new Is(t.shape, Ds)),
                  this.compileAndRun(e, [t])
                );
              }),
              (e.prototype.relu6 = function (t) {
                var e;
                return (
                  (e = c().getBool("WEBGL_PACK")
                    ? new Qs(t.shape, Ys)
                    : new Is(t.shape, Ns)),
                  this.compileAndRun(e, [t])
                );
              }),
              (e.prototype.prelu = function (t, e) {
                var n = c().getBool("WEBGL_PACK_BINARY_OPERATIONS")
                  ? new Ua(za, t.shape, e.shape)
                  : new Wa(La, t.shape, e.shape);
                return this.compileAndRun(n, [t, e]);
              }),
              (e.prototype.elu = function (t) {
                if (c().getBool("WEBGL_PACK_UNARY_OPERATIONS"))
                  return this.packedUnaryOp(t, $s, t.dtype);
                var e = new Is(t.shape, Ts);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.eluDer = function (t, e) {
                var n = c().getBool("WEBGL_PACK_BINARY_OPERATIONS")
                  ? new Ua(
                      "\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",
                      t.shape,
                      e.shape
                    )
                  : new Wa(
                      "return (b >= 1.0) ? a : a * (b + 1.0);",
                      t.shape,
                      e.shape
                    );
                return this.compileAndRun(n, [t, e]);
              }),
              (e.prototype.selu = function (t) {
                var e = new Is(t.shape, Fs);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.int = function (t) {
                var e = new Is(t.shape, "return float(int(x));");
                return this.compileAndRun(e, [t], "int32");
              }),
              (e.prototype.clip = function (t, e, n) {
                var r,
                  o = (r = c().getBool("WEBGL_PACK_CLIP")
                    ? new Ga(t.shape)
                    : new Va(t.shape)).getCustomSetupFunc(e, n);
                return this.compileAndRun(r, [t], null, o);
              }),
              (e.prototype.abs = function (t) {
                if (this.shouldExecuteOnCPU([t])) return this.cpuBackend.abs(t);
                if (c().getBool("WEBGL_PACK_UNARY_OPERATIONS"))
                  return this.packedUnaryOp(t, As, t.dtype);
                var e = new Is(t.shape, As);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.complexAbs = function (t) {
                var e = this.texData.get(t.dataId),
                  n = new qa(t.shape),
                  r = [
                    this.makeComplexComponentTensorInfo(
                      t,
                      e.complexTensors.real
                    ),
                    this.makeComplexComponentTensorInfo(
                      t,
                      e.complexTensors.imag
                    ),
                  ];
                return this.compileAndRun(n, r);
              }),
              (e.prototype.sigmoid = function (t) {
                var e = new Is(t.shape, "return 1.0 / (1.0 + exp(-1.0 * x));");
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.softplus = function (t) {
                var e = new Is(
                  t.shape,
                  "\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"
                );
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.sin = function (t) {
                var e = new Is(t.shape, Ls);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.cos = function (t) {
                var e = new Is(t.shape, Ws);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.tan = function (t) {
                var e = new Is(t.shape, "return tan(x);");
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.asin = function (t) {
                var e = new Is(t.shape, zs);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.acos = function (t) {
                var e = new Is(t.shape, Us);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.atan = function (t) {
                var e = new Is(t.shape, Vs);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.atan2 = function (t, e) {
                var n = c().getBool("WEBGL_PACK_BINARY_OPERATIONS")
                  ? new Ua(
                      "\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",
                      t.shape,
                      e.shape
                    )
                  : new Wa(
                      "\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",
                      t.shape,
                      e.shape
                    );
                return this.compileAndRun(n, [t, e]);
              }),
              (e.prototype.sinh = function (t) {
                var e = new Is(
                  t.shape,
                  "\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"
                );
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.cosh = function (t) {
                var e = new Is(
                  t.shape,
                  "\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"
                );
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.tanh = function (t) {
                var e = new Is(
                  t.shape,
                  "\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"
                );
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.asinh = function (t) {
                var e = new Is(t.shape, Gs);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.acosh = function (t) {
                var e = new Is(t.shape, qs);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.atanh = function (t) {
                var e = new Is(t.shape, Hs);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.erf = function (t) {
                var e = new Is(
                  t.shape,
                  '\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n'
                );
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.step = function (t, e) {
                var n = new Is(
                  t.shape,
                  (function (t) {
                    return (
                      void 0 === t && (t = 0),
                      ks + "\n    return x > 0.0 ? 1.0 : float(" + t + ");\n  "
                    );
                  })(e)
                );
                return this.compileAndRun(n, [t]);
              }),
              (e.prototype.conv2dByMatMul = function (t, e, n, r, o, a) {
                var i = t.shape,
                  s = this.texData.get(t.dataId),
                  u = n.inChannels,
                  l = i[0] * i[1] * i[2],
                  p = n.outChannels,
                  h = "channelsLast" === n.dataFormat,
                  d = (1 === l || 1 === p) && u > 1e3,
                  f = i[2] % 2 != 0 && !!s.isPacked;
                if (
                  d ||
                  !c().getBool("WEBGL_LAZILY_UNPACK") ||
                  !c().getBool("WEBGL_PACK_BINARY_OPERATIONS") ||
                  !f
                ) {
                  var v = h ? i[0] * i[1] * i[2] : i[0] * i[2] * i[3],
                    m = this.reshape(t, [1, v, n.inChannels]),
                    g = this.reshape(e, [1, n.inChannels, n.outChannels]);
                  return this.reshape(
                    this.fusedBatchMatMul({
                      a: m,
                      b: g,
                      transposeA: !1,
                      transposeB: !1,
                      bias: r,
                      activation: o,
                      preluActivationWeights: a,
                    }),
                    n.outShape
                  );
                }
                var x = h ? i[0] * i[1] * (i[2] + 1) : i[0] * i[2] * (i[3] + 1),
                  y = {
                    dataId: t.dataId,
                    shape: [1, x, n.inChannels],
                    dtype: t.dtype,
                  },
                  b = s.shape;
                (s.shape = s.shape.slice()),
                  s.shape[s.shape.length - 2]++,
                  I(Be(s.shape, y.shape), function () {
                    return (
                      "packed reshape " +
                      s.shape +
                      " to " +
                      y.shape +
                      " isn't free"
                    );
                  });
                var w = this.reshape(e, [1, n.inChannels, n.outChannels]),
                  C = this.fusedBatchMatMul({
                    a: y,
                    b: w,
                    transposeA: !1,
                    transposeB: !1,
                    bias: r,
                    activation: o,
                    preluActivationWeights: a,
                  }),
                  E = this.texData.get(C.dataId);
                return (
                  I(E.isPacked, function () {
                    return "batchMatMul result is expected to be packed";
                  }),
                  (s.shape = b),
                  (E.shape = n.outShape),
                  Ut.makeTensorFromDataId(C.dataId, n.outShape, C.dtype)
                );
              }),
              (e.prototype.conv2dWithIm2Row = function (t, e, n, r, o, a) {
                var i = n.filterWidth,
                  s = n.filterHeight,
                  u = n.inChannels,
                  c = n.outWidth,
                  l = n.outHeight,
                  p = "channelsLast" === n.dataFormat,
                  h = i * s * u,
                  d = l * c,
                  f = [h, d],
                  v = t.squeeze([0]),
                  m = e.reshape([1, h, -1]),
                  g = new Ui(f, v.shape, n),
                  x = this.compileAndRun(g, [v]).reshape([1, f[0], f[1]]),
                  y = null != r,
                  b = null != a,
                  w = o ? tu(o, !0) : null,
                  C = new ji(x.shape, [1, d, n.outChannels], !0, !1, y, w, b),
                  E = [x, m];
                r && E.push(r), b && E.push(a);
                var R = this.compileAndRun(C, E);
                return p
                  ? R.reshape([1, l, c, n.outChannels])
                  : R.reshape([1, n.outChannels, l, c]);
              }),
              (e.prototype.fusedConv2d = function (t) {
                var e = t.input,
                  n = t.filter,
                  r = t.convInfo,
                  o = t.bias,
                  a = t.activation,
                  i = t.preluActivationWeights;
                if (
                  1 === r.filterHeight &&
                  1 === r.filterWidth &&
                  1 === r.dilationHeight &&
                  1 === r.dilationWidth &&
                  1 === r.strideHeight &&
                  1 === r.strideWidth &&
                  ("SAME" === r.padInfo.type || "VALID" === r.padInfo.type)
                )
                  return this.conv2dByMatMul(e, n, r, o, a, i);
                if (c().getBool("WEBGL_CONV_IM2COL") && 1 === e.shape[0])
                  return this.conv2dWithIm2Row(e, n, r, o, a, i);
                var s = null != o,
                  u = null != i,
                  l = a ? tu(a, !1) : null,
                  p = new ti(r, s, l, u),
                  h = [e, n];
                return o && h.push(o), i && h.push(i), this.compileAndRun(p, h);
              }),
              (e.prototype.conv2d = function (t, e, n) {
                if (
                  1 === n.filterHeight &&
                  1 === n.filterWidth &&
                  1 === n.dilationHeight &&
                  1 === n.dilationWidth &&
                  1 === n.strideHeight &&
                  1 === n.strideWidth &&
                  ("SAME" === n.padInfo.type || "VALID" === n.padInfo.type)
                )
                  return this.conv2dByMatMul(t, e, n);
                if (c().getBool("WEBGL_CONV_IM2COL") && 1 === t.shape[0])
                  return this.conv2dWithIm2Row(t, e, n);
                var r = new ti(n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.conv2dDerInput = function (t, e, n) {
                var r = new Ya(n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.conv2dDerFilter = function (t, e, n) {
                var r = new Xa(n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.fusedDepthwiseConv2D = function (t) {
                var e,
                  n = t.input,
                  r = t.filter,
                  o = t.convInfo,
                  a = t.bias,
                  i = t.activation,
                  s = t.preluActivationWeights,
                  u =
                    c().getBool("WEBGL_PACK_DEPTHWISECONV") &&
                    o.strideWidth <= 2 &&
                    o.outChannels / o.inChannels == 1,
                  l = i ? tu(i, u) : null,
                  p = [n, r],
                  h = null != a,
                  d = null != s;
                return (
                  h && p.push(a),
                  d && p.push(s),
                  u
                    ? ((e = new ri(o, h, l, d)), this.compileAndRun(e, p))
                    : ((e = new ni(o, h, l, d)), this.compileAndRun(e, p))
                );
              }),
              (e.prototype.depthwiseConv2D = function (t, e, n) {
                var r;
                return c().getBool("WEBGL_PACK_DEPTHWISECONV") &&
                  n.strideWidth <= 2 &&
                  n.outChannels / n.inChannels == 1
                  ? ((r = new ri(n)), this.compileAndRun(r, [t, e]))
                  : ((r = new ni(n)), this.compileAndRun(r, [t, e]));
              }),
              (e.prototype.depthwiseConv2DDerInput = function (t, e, n) {
                var r = new Za(n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.depthwiseConv2DDerFilter = function (t, e, n) {
                var r = new Ja(n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.conv3d = function (t, e, n) {
                var r = new ei(n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.conv3dDerInput = function (t, e, n) {
                var r = new Qa(n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.conv3dDerFilter = function (t, e, n) {
                var r = new $a(n);
                return this.compileAndRun(r, [t, e]);
              }),
              (e.prototype.maxPool = function (t, e) {
                var n = new Zi(e, "max", !1);
                return this.compileAndRun(n, [t]);
              }),
              (e.prototype.avgPool = function (t, e) {
                var n = new Zi(e, "avg", !1);
                return this.compileAndRun(n, [t], "float32");
              }),
              (e.prototype.maxPoolBackprop = function (t, e, n, r) {
                var o = new Zi(r, "max", !0),
                  a = this.compileAndRun(o, [e]),
                  i = new Hi(r),
                  s = this.compileAndRun(i, [t, a], e.dtype);
                return a.dispose(), s;
              }),
              (e.prototype.avgPoolBackprop = function (t, e, n) {
                var r = new Aa(n);
                return this.compileAndRun(r, [t], e.dtype);
              }),
              (e.prototype.cast = function (t, e) {
                return zo(t, e, this);
              }),
              (e.prototype.unstack = function (t, e) {
                for (
                  var n = t.shape[e], r = new Array(t.rank - 1), o = 0, a = 0;
                  a < t.rank;
                  a++
                )
                  a !== e && (r[o++] = t.shape[a]);
                var i = new Array(t.rank).fill(0),
                  s = t.shape.slice();
                s[e] = 1;
                var u = new Array(n);
                for (a = 0; a < u.length; a++)
                  (i[e] = a), (u[a] = this.slice(t, i, s).reshape(r));
                return u;
              }),
              (e.prototype.avgPool3d = function (t, e) {
                var n = new ts(e, "avg", !1);
                return this.compileAndRun(n, [t], "float32");
              }),
              (e.prototype.avgPool3dBackprop = function (t, e, n) {
                var r = new Da(n);
                return this.compileAndRun(r, [t], e.dtype);
              }),
              (e.prototype.maxPool3d = function (t, e) {
                var n = new ts(e, "max", !1);
                return this.compileAndRun(n, [t], "float32");
              }),
              (e.prototype.maxPool3dBackprop = function (t, e, n, r) {
                var o = new ts(r, "max", !0),
                  a = this.compileAndRun(o, [e]),
                  i = new Ki(r),
                  s = this.compileAndRun(i, [t, a], e.dtype);
                return a.dispose(), s;
              }),
              (e.prototype.reshape = function (t, e) {
                var n = this.texData.get(t.dataId);
                if (
                  n.isPacked &&
                  !Be(t.shape, e) &&
                  (null === n.texture || !Be(n.shape, e))
                ) {
                  var r = this.packedReshape(t, e);
                  return Ut.makeTensorFromDataId(r.dataId, r.shape, r.dtype);
                }
                return Uo(t, e);
              }),
              (e.prototype.resizeBilinear = function (t, e, n, r) {
                var o = c().getBool("WEBGL_PACK_IMAGE_OPERATIONS")
                  ? new as(t.shape, e, n, r)
                  : new os(t.shape, e, n, r);
                return this.compileAndRun(o, [t], "float32");
              }),
              (e.prototype.resizeBilinearBackprop = function (t, e, n) {
                var r = new rs(t, e, n);
                return this.compileAndRun(r, [t]);
              }),
              (e.prototype.resizeNearestNeighbor = function (t, e, n, r) {
                var o = new ss(t.shape, e, n, r);
                return this.compileAndRun(o, [t]);
              }),
              (e.prototype.resizeNearestNeighborBackprop = function (t, e, n) {
                var r = new is(t, e, n);
                return this.compileAndRun(r, [t]);
              }),
              (e.prototype.multinomial = function (t, e, n, r) {
                var o = e ? t : bo(t),
                  a = o.shape[0],
                  i = o.shape[1],
                  s = new Xi(a, i, n),
                  u = s.getCustomSetupFunc(r);
                return this.compileAndRun(s, [o], "int32", u);
              }),
              (e.prototype.oneHot = function (t, e, n, r) {
                var o = new Yi(t.size, e, n, r);
                return this.compileAndRun(o, [t]);
              }),
              (e.prototype.diag = function (t) {
                var e = new li(t.size);
                return this.compileAndRun(e, [t]);
              }),
              (e.prototype.nonMaxSuppression = function (t, e, n, r, o) {
                return (
                  mn(
                    "tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"
                  ),
                  $o(t.dataSync(), e.dataSync(), n, r, o)
                );
              }),
              (e.prototype.cropAndResize = function (t, e, n, r, o, a) {
                var i = new oi(t.shape, e.shape, r, o, a);
                return this.compileAndRun(i, [t, e, n], "float32");
              }),
              (e.prototype.depthToSpace = function (t, e, n) {
                I(e > 1, function () {
                  return (
                    "blockSize should be > 1 for depthToSpace, but was: " + e
                  );
                });
                var r = t.shape[0],
                  o = "NHWC" === n ? t.shape[1] : t.shape[2],
                  a = "NHWC" === n ? t.shape[2] : t.shape[3],
                  i = "NHWC" === n ? t.shape[3] : t.shape[1],
                  s = o * e,
                  u = a * e,
                  c = i / (e * e),
                  l = new ci("NHWC" === n ? [r, s, u, c] : [r, c, s, u], e, n);
                return this.compileAndRun(l, [t]);
              }),
              (e.prototype.split = function (t, e, n) {
                return na(t, e, n);
              }),
              (e.prototype.scatterND = function (t, e, n) {
                var r = no(0, t, n),
                  o = r.sliceRank,
                  a = r.numUpdates,
                  i = r.sliceSize,
                  s = r.strides,
                  u = r.outputSize,
                  c = [u / i, i],
                  l = t.reshape([a, o]),
                  p = e.reshape([a, i]);
                if (0 === u) return Uo(Mn([]), n);
                var h = Pn(0),
                  d = new ls(a, o, l.rank, p.rank, s, c);
                return this.compileAndRun(d, [p, l, h]).reshape(n);
              }),
              (e.prototype.sparseToDense = function (t, e, n, r) {
                var o = no(0, t, n),
                  a = o.sliceRank,
                  i = o.numUpdates,
                  s = o.strides,
                  u = o.outputSize,
                  c = new ls(i, a, t.rank, e.rank, s, [u, 1], !1);
                return this.compileAndRun(c, [e, t, r]).reshape(n);
              }),
              (e.prototype.fft = function (t) {
                return this.fftImpl(t, !1);
              }),
              (e.prototype.ifft = function (t) {
                return this.fftImpl(t, !0);
              }),
              (e.prototype.fftImpl = function (t, e) {
                var n = this.texData.get(t.dataId),
                  r = new gi(vi, t.shape, e),
                  o = new gi(mi, t.shape, e),
                  a = [
                    this.makeComplexComponentTensorInfo(
                      t,
                      n.complexTensors.real
                    ),
                    this.makeComplexComponentTensorInfo(
                      t,
                      n.complexTensors.imag
                    ),
                  ],
                  i = this.compileAndRun(r, a),
                  s = this.compileAndRun(o, a),
                  u = this.complex(i, s).as2D(t.shape[0], t.shape[1]);
                return i.dispose(), s.dispose(), u;
              }),
              (e.prototype.gatherND = function (t, e) {
                var n = e.shape,
                  r = n[n.length - 1],
                  o = $r(t, e),
                  a = o[0],
                  i = o[1],
                  s = o[2],
                  u = o[3],
                  c = e.reshape([i, r]),
                  l = t.reshape([t.size / s, s]),
                  p = new bi(r, u, [i, s]);
                return this.compileAndRun(p, [l, c]).reshape(a);
              }),
              (e.prototype.fill = function (t, e, n) {
                if ("string" === (n = n || $(e))) {
                  var r = z(n, D(t));
                  return r.fill(e), Ut.makeTensor(r, t, n, this);
                }
                var o = new xi(t, e),
                  a = o.getCustomSetupFunc(e);
                return this.compileAndRun(o, [], n, a);
              }),
              (e.prototype.onesLike = function (t) {
                if ("string" === t.dtype)
                  throw new Error(
                    "onesLike is not supported under string dtype"
                  );
                return this.fill(t.shape, 1, t.dtype);
              }),
              (e.prototype.zerosLike = function (t) {
                return this.fill(
                  t.shape,
                  "string" === t.dtype ? "" : 0,
                  t.dtype
                );
              }),
              (e.prototype.linspace = function (t, e, n) {
                return Vo(t, e, n);
              }),
              (e.prototype.makeTensorInfo = function (t, e) {
                var n = this.write(null, t, e);
                return (
                  (this.texData.get(n).usage = null),
                  { dataId: n, shape: t, dtype: e }
                );
              }),
              (e.prototype.makeOutput = function (t, e) {
                var n = this.makeTensorInfo(t, e).dataId;
                return Ut.makeTensorFromDataId(n, t, e, this);
              }),
              (e.prototype.unpackTensor = function (t) {
                var e = new Js(t.shape);
                return this.runWebGLProgram(e, [t], t.dtype);
              }),
              (e.prototype.packTensor = function (t) {
                var e = new $i(t.shape);
                return this.runWebGLProgram(e, [t], t.dtype, null, !0);
              }),
              (e.prototype.packedReshape = function (t, e) {
                var n = [Te(t.shape)].concat(Fe(t.shape)),
                  r = { dtype: t.dtype, shape: n, dataId: t.dataId },
                  o = [Te(e)].concat(Fe(e)),
                  a = new ns(o, n),
                  i = this.runWebGLProgram(a, [r], t.dtype, null, !0);
                return { dataId: i.dataId, shape: e, dtype: i.dtype };
              }),
              (e.prototype.decode = function (t) {
                var e,
                  n = this.texData.get(t),
                  r = n.isPacked,
                  o = n.shape,
                  a = n.dtype,
                  i = _e(o);
                return (
                  (e = r ? new ui(i) : new si(i)),
                  {
                    dtype: a,
                    shape: o,
                    dataId: this.runWebGLProgram(
                      e,
                      [{ shape: i, dtype: a, dataId: t }],
                      a,
                      null,
                      !0
                    ).dataId,
                  }
                );
              }),
              (e.prototype.runWebGLProgram = function (t, e, n, r, o) {
                var a = this;
                void 0 === o && (o = !1);
                var i = this.makeTensorInfo(t.outputShape, n),
                  s = this.texData.get(i.dataId);
                if (
                  (t.packedOutput && (s.isPacked = !0),
                  t.outPackingScheme === qt.DENSE)
                ) {
                  var u = Jt(t.outputShape);
                  s.texShape = u.map(function (t) {
                    return 2 * t;
                  });
                }
                if (
                  (null != t.outTexUsage && (s.usage = t.outTexUsage),
                  0 === D(i.shape))
                )
                  return (s.values = W(i.dtype, 0)), i;
                var l = [],
                  p = e.map(function (e) {
                    if ("complex64" === e.dtype)
                      throw new Error(
                        "GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts."
                      );
                    var n = a.texData.get(e.dataId);
                    if (null == n.texture) {
                      if (
                        !t.packedInputs &&
                        D(e.shape) <= c().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM")
                      )
                        return {
                          shape: e.shape,
                          texData: null,
                          isUniform: !0,
                          uniformValues: n.values,
                        };
                      t.packedInputs &&
                        ((n.isPacked = !0), (n.shape = e.shape));
                    } else if (!!n.isPacked != !!t.packedInputs)
                      (e = n.isPacked ? a.unpackTensor(e) : a.packTensor(e)),
                        l.push(e),
                        (n = a.texData.get(e.dataId));
                    else if (n.isPacked && !Be(n.shape, e.shape)) {
                      var r = e,
                        o = e.shape;
                      (e.shape = n.shape),
                        (e = a.packedReshape(e, o)),
                        l.push(e),
                        (n = a.texData.get(e.dataId)),
                        (r.shape = o);
                    }
                    return (
                      a.uploadToGPU(e.dataId),
                      { shape: e.shape, texData: n, isUniform: !1 }
                    );
                  });
                this.uploadToGPU(i.dataId);
                var h,
                  d = { shape: i.shape, texData: s, isUniform: !1 },
                  f = (function (t, e, n) {
                    var r = "";
                    p.concat(n).forEach(function (t) {
                      var e =
                          null != t.texData &&
                          null != t.texData.slice &&
                          t.texData.slice.flatOffset > 0,
                        n = t.isUniform ? "uniform" : t.texData.texShape;
                      r += t.shape + "_" + n + "_" + e;
                    });
                    var o = t.userCode;
                    return t.constructor.name + "_" + r + "_" + o;
                  })(t, 0, d),
                  v = this.getAndSaveBinary(f, function () {
                    return (function (t, e, n, r) {
                      var o = e.userCode,
                        a = n.map(function (t, n) {
                          var r = {
                            logicalShape: t.shape,
                            texShape: t.isUniform ? null : t.texData.texShape,
                            isUniform: t.isUniform,
                            isPacked: !t.isUniform && t.texData.isPacked,
                            flatOffset: null,
                          };
                          return (
                            null != t.texData &&
                              null != t.texData.slice &&
                              t.texData.slice.flatOffset > 0 &&
                              (r.flatOffset = t.texData.slice.flatOffset),
                            { name: e.variableNames[n], shapeInfo: r }
                          );
                        }),
                        i = a.map(function (t) {
                          return t.shapeInfo;
                        }),
                        s = {
                          logicalShape: r.shape,
                          texShape: r.texData.texShape,
                          isUniform: !1,
                          isPacked: r.texData.isPacked,
                          flatOffset: null,
                        },
                        u = va(a, s, o, e.packedInputs),
                        l = t.createProgram(u),
                        p = null,
                        h = t.getUniformLocation(l, "NAN", !1);
                      1 === c().getNumber("WEBGL_VERSION") &&
                        (p = t.getUniformLocation(l, "INFINITY", !1));
                      for (var d = {}, f = 0; f < e.variableNames.length; f++) {
                        var v = e.variableNames[f];
                        (d[v] = t.getUniformLocation(l, v, !1)),
                          (d["offset" + v] = t.getUniformLocation(
                            l,
                            "offset" + v,
                            !1
                          ));
                      }
                      return {
                        program: e,
                        source: u,
                        webGLProgram: l,
                        uniformLocations: d,
                        inShapeInfos: i,
                        outShapeInfo: s,
                        infLoc: p,
                        nanLoc: h,
                      };
                    })(a.gpgpu, t, p, d);
                  }),
                  m = null != this.activeTimers;
                if (
                  (m && (h = this.startTimer()),
                  (function (t, e, n, r, o) {
                    zi(e.inShapeInfos, n), zi([e.outShapeInfo], [r]);
                    var a = r.texData.texture,
                      i = r.texData.texShape;
                    r.texData.isPacked
                      ? t.setOutputPackedMatrixTexture(a, i[0], i[1])
                      : t.setOutputMatrixTexture(a, i[0], i[1]),
                      t.setProgram(e.webGLProgram),
                      1 === c().getNumber("WEBGL_VERSION") &&
                        null !== e.infLoc &&
                        t.gl.uniform1f(e.infLoc, 1 / 0),
                      null !== e.nanLoc && t.gl.uniform1f(e.nanLoc, NaN),
                      n.forEach(function (n, r) {
                        var o = e.program.variableNames[r],
                          a = e.uniformLocations[o],
                          i = e.uniformLocations["offset" + o];
                        if (null != a)
                          if (n.isUniform)
                            if (D(n.shape) < 2)
                              t.gl.uniform1f(a, n.uniformValues[0]);
                            else {
                              var s = n.uniformValues;
                              s instanceof Float32Array ||
                                (s = new Float32Array(s)),
                                t.gl.uniform1fv(a, s);
                            }
                          else
                            null != n.texData.slice &&
                              null != i &&
                              t.gl.uniform1i(i, n.texData.slice.flatOffset),
                              t.setInputMatrixTexture(n.texData.texture, a, r);
                      }),
                      null != o && o(t, e.webGLProgram),
                      t.executeProgram();
                  })(this.gpgpu, v, p, d, r),
                  l.forEach(function (t) {
                    return a.disposeData(t.dataId);
                  }),
                  m &&
                    ((h = this.endTimer(h)),
                    this.activeTimers.push({
                      name: t.constructor.name,
                      query: this.getQueryTime(h),
                    })),
                  !c().getBool("WEBGL_LAZILY_UNPACK") && s.isPacked && !1 === o)
                ) {
                  var g = this.unpackTensor(i);
                  return this.disposeData(i.dataId), g;
                }
                return i;
              }),
              (e.prototype.compileAndRun = function (t, e, n, r, o) {
                void 0 === o && (o = !1), (n = n || e[0].dtype);
                var a = this.runWebGLProgram(t, e, n, r, o);
                return Ut.makeTensorFromDataId(a.dataId, a.shape, a.dtype);
              }),
              (e.prototype.getAndSaveBinary = function (t, e) {
                return (
                  t in this.binaryCache || (this.binaryCache[t] = e()),
                  this.binaryCache[t]
                );
              }),
              (e.prototype.getTextureManager = function () {
                return this.textureManager;
              }),
              (e.prototype.dispose = function () {
                var t = this;
                this.disposed ||
                  (c().getBool("IS_TEST") ||
                    Object.keys(this.binaryCache).forEach(function (e) {
                      t.gpgpu.deleteProgram(t.binaryCache[e].webGLProgram),
                        delete t.binaryCache[e];
                    }),
                  this.textureManager.dispose(),
                  null != this.canvas &&
                  "undefined" != typeof HTMLCanvasElement &&
                  this.canvas instanceof HTMLCanvasElement
                    ? this.canvas.remove()
                    : (this.canvas = null),
                  this.gpgpuCreatedLocally &&
                    ((this.gpgpu.program = null), this.gpgpu.dispose()),
                  (this.disposed = !0));
              }),
              (e.prototype.floatPrecision = function () {
                var t = this;
                return (
                  null == this.floatPrecisionValue &&
                    (this.floatPrecisionValue = nn(function () {
                      if (!c().get("WEBGL_RENDER_FLOAT32_ENABLED")) {
                        var e = c().getBool("DEBUG");
                        c().set("DEBUG", !1);
                        var n = t.abs(Pn(1e-8)).dataSync()[0];
                        if ((c().set("DEBUG", e), n > 0)) return 32;
                      }
                      return 16;
                    })),
                  this.floatPrecisionValue
                );
              }),
              (e.prototype.epsilon = function () {
                return 32 === this.floatPrecision() ? 1e-7 : 1e-4;
              }),
              (e.prototype.uploadToGPU = function (t) {
                var e,
                  n = this.texData.get(t),
                  r = n.shape,
                  o = n.dtype,
                  a = n.values,
                  i = n.texture,
                  s = n.usage,
                  u = n.isPacked;
                if (null == i) {
                  var c,
                    l = null != this.activeTimers;
                  l && (c = ot());
                  var p = n.texShape;
                  if (
                    (null == p && ((p = Oe(r, u)), (n.texShape = p)), null != a)
                  ) {
                    var h = _e(r),
                      d = void 0,
                      f = p[1],
                      v = p[0],
                      m = a instanceof Uint8Array;
                    u
                      ? ((f = (e = Zt(p[0], p[1]))[0]),
                        (v = e[1]),
                        (d = new fi(h, [v, f], m)))
                      : (d = new di(h, [v, f], m));
                    var g = this.makeTensorInfo([v, f], o);
                    (this.texData.get(g.dataId).usage = m
                      ? Ht.PIXELS
                      : Ht.UPLOAD),
                      this.gpgpu.uploadDenseMatrixToTexture(
                        this.getTexture(g.dataId),
                        f,
                        v,
                        a
                      );
                    var x = this.runWebGLProgram(d, [g], o, null, !0),
                      y = this.texData.get(x.dataId);
                    (n.texture = y.texture),
                      (n.texShape = y.texShape),
                      (n.isPacked = y.isPacked),
                      (n.usage = y.usage),
                      this.disposeData(g.dataId),
                      this.texData.delete(x.dataId),
                      (n.values = null),
                      l && (this.uploadWaitMs += ot() - c);
                  } else {
                    var b = this.acquireTexture(p, s, o, u);
                    n.texture = b;
                  }
                }
              }),
              (e.prototype.convertAndCacheOnCPU = function (t, e) {
                var n = this.texData.get(t),
                  r = n.dtype;
                return (
                  this.releaseGPUData(t),
                  null != e &&
                    (n.values = (function (t, e) {
                      if ("float32" === e || "complex64" === e) return t;
                      if ("int32" === e || "bool" === e) {
                        for (
                          var n =
                              "int32" === e
                                ? new Int32Array(t.length)
                                : new Uint8Array(t.length),
                            r = 0;
                          r < n.length;
                          ++r
                        )
                          n[r] = Math.round(t[r]);
                        return n;
                      }
                      throw new Error("Unknown dtype " + e);
                    })(e, r)),
                  n.values
                );
              }),
              (e.prototype.acquireTexture = function (t, e, n, r) {
                if (
                  ((this.numBytesInGPU += this.computeBytes(t, n)),
                  !this.warnedAboutMemory &&
                    this.numBytesInGPU > 1024 * this.numMBBeforeWarning * 1024)
                ) {
                  var o = (this.numBytesInGPU / 1024 / 1024).toFixed(2);
                  (this.warnedAboutMemory = !0),
                    console.warn(
                      "High memory usage in GPU: " +
                        o +
                        " MB, most likely due to a memory leak"
                    );
                }
                return this.textureManager.acquireTexture(t, e, r);
              }),
              (e.prototype.computeBytes = function (t, e) {
                return t[0] * t[1] * H(e);
              }),
              e
            );
          })(Eo);
        Vt() &&
          Ut.registerBackend(
            "webgl",
            function () {
              return new nu();
            },
            2
          );
        var ru = Tn({
            square_: function (t) {
              var e = yn(t, "x", "square"),
                n = [e];
              return Ut.runKernelFunc(
                function (t, n) {
                  return n([e]), t.square(e);
                },
                { x: e },
                null,
                "Square",
                {},
                n,
                []
              );
            },
          }),
          ou = "SquaredDifference";
        exports.square = ru;
        var au = Tn({
          squaredDifference_: function (t, e) {
            var n,
              r = yn(t, "a", "squaredDifference"),
              o = yn(e, "b", "squaredDifference");
            (n = Ot(r, o)), (r = n[0]), (o = n[1]), So(r.shape, o.shape);
            var a = { a: r, b: o },
              i = [r, o];
            return Ut.runKernelFunc(
              function (t, e) {
                var n = t.squaredDifference(r, o);
                return e([r, o]), n;
              },
              a,
              function (t, e) {
                var n = e[0],
                  r = e[1],
                  o = Pn(2);
                return {
                  a: function () {
                    return t.mul(n.sub(r).mul(o));
                  },
                  b: function () {
                    return t.mul(r.sub(n).mul(o));
                  },
                };
              },
              ou,
              {},
              i,
              []
            );
          },
        });
        exports.squaredDifference = au;
        var iu = Tn({
            abs_: function (t) {
              var e = yn(t, "x", "abs");
              return "complex64" === e.dtype
                ? Ut.runKernelFunc(
                    function (t) {
                      return t.complexAbs(e);
                    },
                    { $x: e }
                  )
                : Ut.runKernelFunc(
                    function (t, n) {
                      var r = t.abs(e);
                      return n([e]), r;
                    },
                    { x: e },
                    function (t, e) {
                      var n = e[0];
                      return {
                        x: function () {
                          return t.mul(n.toFloat().step(-1));
                        },
                      };
                    },
                    "Abs"
                  );
            },
          }),
          su = Tn({
            acos_: function (t) {
              var e = yn(t, "x", "acos");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.acos(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t
                        .divStrict(Pn(1).sub(n.toFloat().square()).sqrt())
                        .neg();
                    },
                  };
                }
              );
            },
          }),
          uu = Tn({
            acosh_: function (t) {
              var e = yn(t, "x", "acosh");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.acosh(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.divStrict(n.toFloat().square().sub(1).sqrt());
                    },
                  };
                }
              );
            },
          }),
          cu = Tn({
            asin_: function (t) {
              var e = yn(t, "x", "asin");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.asin(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.divStrict(
                        Pn(1).sub(n.toFloat().square()).sqrt()
                      );
                    },
                  };
                }
              );
            },
          }),
          lu = Tn({
            asinh_: function (t) {
              var e = yn(t, "x", "asinh");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.asinh(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.divStrict(
                        Pn(1).add(n.toFloat().square()).sqrt()
                      );
                    },
                  };
                }
              );
            },
          }),
          pu = Tn({
            atan_: function (t) {
              var e = yn(t, "x", "atan");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.atan(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.div(n.toFloat().square().add(1));
                    },
                  };
                }
              );
            },
          }),
          hu = Tn({
            atanh_: function (t) {
              var e = yn(t, "x", "atanh");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.atanh(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.div(Pn(1).sub(n.toFloat().square()));
                    },
                  };
                }
              );
            },
          }),
          du = Tn({
            ceil_: function (t) {
              var e = yn(t, "x", "ceil");
              return Ut.runKernelFunc(
                function (t) {
                  return t.ceil(e);
                },
                { $x: e },
                function (t) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          fu = Tn({
            clipByValue_: function (t, e, n) {
              var r = yn(t, "x", "clipByValue");
              I(e <= n, function () {
                return (
                  "Error in clip: min (" +
                  e +
                  ") must be less than or equal to max (" +
                  n +
                  ")."
                );
              });
              var o = [r],
                a = { min: e, max: n };
              return Ut.runKernelFunc(
                function (t, o) {
                  var a = t.clip(r, e, n);
                  return o([r]), a;
                },
                { x: r },
                function (t, r) {
                  var o = r[0];
                  return {
                    x: function () {
                      return t.where(
                        o.greaterEqual(e).logicalAnd(o.lessEqual(n)),
                        Qn(t)
                      );
                    },
                  };
                },
                "ClipByValue",
                a,
                o
              );
            },
          }),
          vu = Tn({
            cos_: function (t) {
              var e = yn(t, "x", "cos"),
                n = [e];
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.cos(e);
                  return n([e]), r;
                },
                { x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    x: function () {
                      return n.toFloat().sin().neg().mul(t);
                    },
                  };
                },
                "Cos",
                {},
                n
              );
            },
          }),
          mu = Tn({
            cosh_: function (t) {
              var e = yn(t, "x", "cosh");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.cosh(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return n.toFloat().sinh().mulStrict(t);
                    },
                  };
                }
              );
            },
          }),
          gu = Tn({
            erf_: function (t) {
              var e = yn(t, "x", "erf");
              return (
                I("int32" === e.dtype || "float32" === e.dtype, function () {
                  return "Input dtype must be `int32` or `float32`.";
                }),
                "int32" === e.dtype && (e = e.toFloat()),
                Ut.runKernelFunc(
                  function (t, n) {
                    var r = t.erf(e);
                    return n([e]), r;
                  },
                  { $x: e },
                  function (t, e) {
                    var n = e[0];
                    return {
                      $x: function () {
                        return t.mul(
                          n
                            .square()
                            .neg()
                            .exp()
                            .mul(2 / Math.sqrt(Math.PI))
                        );
                      },
                    };
                  }
                )
              );
            },
          }),
          xu = Tn({
            exp_: function (t) {
              var e = yn(t, "x", "exp");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.exp(e);
                  return n([r]), r;
                },
                { x: e },
                function (t, e) {
                  return {
                    x: function () {
                      return t.mulStrict(e[0]);
                    },
                  };
                },
                "Exp",
                {},
                [],
                [!0]
              );
            },
          }),
          yu = Tn({
            expm1_: function (t) {
              var e = yn(t, "x", "expm1");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.expm1(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.mul(n.exp());
                    },
                  };
                }
              );
            },
          }),
          bu = Tn({
            floor_: function (t) {
              var e = yn(t, "x", "floor");
              return Ut.runKernelFunc(
                function (t) {
                  return t.floor(e);
                },
                { $x: e },
                function (t) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          wu = Tn({
            log_: function (t) {
              var e = yn(t, "x", "log"),
                n = [e];
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.log(e);
                  return n([e]), r;
                },
                { x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    x: function () {
                      return t.div(n.toFloat());
                    },
                  };
                },
                "Log",
                {},
                n
              );
            },
          }),
          Cu = Tn({
            log1p_: function (t) {
              var e = yn(t, "x", "log1p");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.log1p(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.div(n.add(1));
                    },
                  };
                }
              );
            },
          }),
          Eu = Tn({
            logSigmoid_: function (t) {
              var e = yn(t, "x", "logSigmoid");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.softplus(e.neg()).neg();
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.mul(n.neg().sigmoid());
                    },
                  };
                }
              );
            },
          }),
          Ru = Tn({
            neg_: function (t) {
              var e = yn(t, "x", "neg"),
                n = [e];
              return Ut.runKernelFunc(
                function (t) {
                  return t.neg(e);
                },
                { x: e },
                function (t) {
                  return {
                    x: function () {
                      return t.neg();
                    },
                  };
                },
                "Neg",
                {},
                n
              );
            },
          }),
          Iu = Tn({
            reciprocal_: function (t) {
              var e = yn(t, "x", "reciprocal");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.reciprocal(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.div(n.square().neg());
                    },
                  };
                }
              );
            },
          }),
          ku = Tn({
            round_: function (t) {
              var e = yn(t, "x", "round");
              return Ut.runKernelFunc(
                function (t) {
                  return t.round(e);
                },
                { $x: e },
                function (t) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          Su = Tn({
            rsqrt_: function (t) {
              var e = yn(t, "x", "rsqrt"),
                n = [e];
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.rsqrt(e);
                  return n([e]), r;
                },
                { x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    x: function () {
                      return t.div(n.pow(1.5).mul(2)).neg();
                    },
                  };
                },
                "Rsqrt",
                {},
                n
              );
            },
          }),
          Au = Tn({
            sigmoid_: function (t) {
              var e = yn(t, "x", "sigmoid");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.sigmoid(e);
                  return n([r]), r;
                },
                { x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    x: function () {
                      return t.mul(n.mul(Pn(1).sub(n)));
                    },
                  };
                },
                "Sigmoid"
              );
            },
          }),
          Du = Tn({
            sign_: function (t) {
              var e = yn(t, "x", "sign");
              return Ut.runKernelFunc(
                function (t) {
                  return t.sign(e);
                },
                { $x: e },
                function (t) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          Nu = Tn({
            isNaN_: function (t) {
              var e = yn(t, "x", "isNaN");
              return Ut.runKernelFunc(
                function (t) {
                  return t.isNaN(e);
                },
                { $x: e },
                function (t) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          Tu = Tn({
            isInf_: function (t) {
              var e = yn(t, "x", "isInf");
              return Ut.runKernelFunc(
                function (t) {
                  return t.isInf(e);
                },
                { $x: e },
                function (t) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          Fu = Tn({
            isFinite_: function (t) {
              var e = yn(t, "x", "isFinite");
              return Ut.runKernelFunc(
                function (t) {
                  return t.isFinite(e);
                },
                { $x: e },
                function (t) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          _u = Tn({
            sin_: function (t) {
              var e = yn(t, "x", "sin"),
                n = [e];
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.sin(e);
                  return n([e]), r;
                },
                { x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    x: function () {
                      return n.toFloat().cos().mul(t);
                    },
                  };
                },
                "Sin",
                {},
                n
              );
            },
          }),
          Ou = Tn({
            sinh_: function (t) {
              var e = yn(t, "x", "sinh");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.sinh(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return n.toFloat().cosh().mulStrict(t);
                    },
                  };
                }
              );
            },
          }),
          Mu = Tn({
            softplus_: function (t) {
              var e = yn(t, "x", "softplus");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.softplus(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.mul(n.sigmoid());
                    },
                  };
                }
              );
            },
          }),
          Bu = Tn({
            sqrt_: function (t) {
              var e = yn(t, "x", "sqrt");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.sqrt(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.div(n.toFloat().sqrt().mul(2));
                    },
                  };
                }
              );
            },
          }),
          Pu = Tn({
            step_: function (t, e) {
              void 0 === e && (e = 0);
              var n = yn(t, "x", "step");
              return Ut.runKernelFunc(
                function (t) {
                  return t.step(n, e);
                },
                { $x: n },
                function (t) {
                  return {
                    $x: function () {
                      return Qn(t);
                    },
                  };
                }
              );
            },
          }),
          Lu = Tn({
            tan_: function (t) {
              var e = yn(t, "x", "tan");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.tan(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return t.div(n.cos().square());
                    },
                  };
                }
              );
            },
          }),
          Wu = Tn({
            tanh_: function (t) {
              var e = yn(t, "x", "tanh");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.tanh(e);
                  return n([r]), r;
                },
                { x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    x: function () {
                      return Pn(1).sub(n.square()).mulStrict(t);
                    },
                  };
                },
                "Tanh",
                {},
                null,
                [!0]
              );
            },
          });
        function zu(t, e, n, r, o, a) {
          var i,
            s,
            u = yn(t, "x", "batchNorm"),
            c = yn(e, "mean", "batchNorm"),
            l = yn(n, "variance", "batchNorm");
          return (
            null != o && (i = yn(o, "scale", "batchNorm")),
            null != r && (s = yn(r, "offset", "batchNorm")),
            I(2 === u.rank, function () {
              return (
                "Error in batchNorm3D: x must be rank 3 but got rank " +
                u.rank +
                "."
              );
            }),
            I(2 === c.rank || 1 === c.rank, function () {
              return (
                "Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank " +
                c.rank +
                "."
              );
            }),
            I(2 === l.rank || 1 === l.rank, function () {
              return (
                "Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank " +
                l.rank +
                "."
              );
            }),
            null != i &&
              I(2 === i.rank || 1 === i.rank, function () {
                return (
                  "Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank " +
                  i.rank +
                  "."
                );
              }),
            null != s &&
              I(2 === s.rank || 1 === s.rank, function () {
                return (
                  "Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank " +
                  s.rank +
                  "."
                );
              }),
            Gu(u, c, l, s, i, a)
          );
        }
        function Uu(t, e, n, r, o, a) {
          var i,
            s,
            u = yn(t, "x", "batchNorm"),
            c = yn(e, "mean", "batchNorm"),
            l = yn(n, "variance", "batchNorm");
          return (
            null != o && (i = yn(o, "scale", "batchNorm")),
            null != r && (s = yn(r, "offset", "batchNorm")),
            I(3 === u.rank, function () {
              return (
                "Error in batchNorm3D: x must be rank 3 but got rank " +
                u.rank +
                "."
              );
            }),
            I(3 === c.rank || 1 === c.rank, function () {
              return (
                "Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank " +
                c.rank +
                "."
              );
            }),
            I(3 === l.rank || 1 === l.rank, function () {
              return (
                "Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank " +
                l.rank +
                "."
              );
            }),
            null != i &&
              I(3 === i.rank || 1 === i.rank, function () {
                return (
                  "Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank " +
                  i.rank +
                  "."
                );
              }),
            null != s &&
              I(3 === s.rank || 1 === s.rank, function () {
                return (
                  "Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank " +
                  s.rank +
                  "."
                );
              }),
            Gu(u, c, l, s, i, a)
          );
        }
        function Vu(t, e, n, r, o, a) {
          var i,
            s,
            u = yn(t, "x", "batchNorm"),
            c = yn(e, "mean", "batchNorm"),
            l = yn(n, "variance", "batchNorm");
          return (
            null != o && (i = yn(o, "scale", "batchNorm")),
            null != r && (s = yn(r, "offset", "batchNorm")),
            I(4 === u.rank, function () {
              return (
                "Error in batchNorm4D: x must be rank 4 but got rank " +
                u.rank +
                "."
              );
            }),
            I(4 === c.rank || 1 === c.rank, function () {
              return (
                "Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank " +
                c.rank +
                "."
              );
            }),
            I(4 === l.rank || 1 === l.rank, function () {
              return (
                "Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank " +
                l.rank +
                "."
              );
            }),
            null != i &&
              I(4 === i.rank || 1 === i.rank, function () {
                return (
                  "Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank " +
                  i.rank +
                  "."
                );
              }),
            null != s &&
              I(4 === s.rank || 1 === s.rank, function () {
                return (
                  "Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank " +
                  s.rank +
                  "."
                );
              }),
            Gu(u, c, l, s, i, a)
          );
        }
        function Gu(t, e, n, r, o, a) {
          null == a && (a = 0.001);
          var i,
            s,
            u,
            c = yn(t, "x", "batchNorm"),
            l = yn(e, "mean", "batchNorm"),
            p = yn(n, "variance", "batchNorm");
          null != o && (i = yn(o, "scale", "batchNorm")),
            null != r && (s = yn(r, "offset", "batchNorm")),
            I(l.rank === p.rank, function () {
              return "Batch normalization gradient requires mean and variance to have equal ranks.";
            }),
            I(null == s || l.rank === s.rank, function () {
              return "Batch normalization gradient requires mean and offset to have equal ranks.";
            }),
            I(null == i || l.rank === i.rank, function () {
              return "Batch normalization gradient requires mean and scale to have equal ranks.";
            }),
            (u =
              0 === c.rank || 1 === c.rank
                ? c.as4D(1, 1, 1, c.size)
                : 2 === c.rank
                ? c.as4D(1, 1, c.shape[0], c.shape[1])
                : 3 === c.rank
                ? c.as4D(1, c.shape[0], c.shape[1], c.shape[2])
                : c);
          var h = [c, l, p, i];
          return Ut.runKernelFunc(
            function (t, e) {
              var n = t.batchNormalization(u, qu(l), qu(p), a, qu(i), qu(s));
              return e([c, l, p, i]), n;
            },
            { x: c, mean: l, variance: p, scale: i, offset: s },
            function (t, e) {
              var n = e,
                r = n[0],
                o = n[1],
                i = n[2],
                s = n[3],
                c = null == s ? Pn(1) : s,
                l = ko(o.shape, u.shape),
                p = [];
              if (1 === o.rank) {
                for (var h = 0; h < u.shape.length - 1; ++h) p.push(u.shape[h]);
                p.push(1);
              }
              var d = r.sub(o),
                f = t.mul(c),
                v = Su(i.add(Pn(a))),
                m = v.mul(v).mul(v).mul(Pn(-0.5));
              return {
                x: function () {
                  return 1 === o.rank
                    ? t
                        .mul(Ur(v.as4D(1, 1, 1, o.shape[0]), p))
                        .mul(c)
                        .reshape(r.shape)
                    : t.mul(v).mul(c).reshape(r.shape);
                },
                mean: function () {
                  var t = v.mul(Pn(-1)).mul(f);
                  return 1 === o.rank && (t = t.sum(l)), t.reshape(o.shape);
                },
                variance: function () {
                  var t = m.mul(d).mul(f);
                  return 1 === o.rank && (t = t.sum(l)), t.reshape(o.shape);
                },
                scale: function () {
                  var e = d.mul(v),
                    n = t.mul(e);
                  return 1 === o.rank && (n = n.sum(l)), n.reshape(o.shape);
                },
                offset: function () {
                  var e = t;
                  return 1 === o.rank && (e = e.sum(l)), e.reshape(o.shape);
                },
              };
            },
            "BatchNormalization",
            { varianceEpsilon: a },
            h
          ).reshape(c.shape);
        }
        function qu(t) {
          return null == t
            ? null
            : 0 === t.rank
            ? t.as1D()
            : 1 === t.rank
            ? t
            : 2 === t.rank
            ? t.as4D(1, 1, t.shape[0], t.shape[1])
            : 3 === t.rank
            ? t.as4D(1, t.shape[0], t.shape[1], t.shape[2])
            : t;
        }
        function Hu() {
          Qe(
            "tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"
          );
        }
        (exports.tanh = Wu),
          (exports.tan = Lu),
          (exports.step = Pu),
          (exports.sqrt = Bu),
          (exports.softplus = Mu),
          (exports.sinh = Ou),
          (exports.sin = _u),
          (exports.isFinite = Fu),
          (exports.isInf = Tu),
          (exports.isNaN = Nu),
          (exports.sign = Du),
          (exports.sigmoid = Au),
          (exports.rsqrt = Su),
          (exports.round = ku),
          (exports.reciprocal = Iu),
          (exports.neg = Ru),
          (exports.logSigmoid = Eu),
          (exports.log1p = Cu),
          (exports.log = wu),
          (exports.floor = bu),
          (exports.expm1 = yu),
          (exports.exp = xu),
          (exports.erf = gu),
          (exports.cosh = mu),
          (exports.cos = vu),
          (exports.clipByValue = fu),
          (exports.ceil = du),
          (exports.atanh = hu),
          (exports.atan = pu),
          (exports.asinh = lu),
          (exports.asin = cu),
          (exports.acosh = uu),
          (exports.acos = su),
          (exports.abs = iu);
        var Ku = Tn({
            batchNormalization2d_: function (t, e, n, r, o, a) {
              return void 0 === r && (r = 0.001), Hu(), zu(t, e, n, a, o, r);
            },
          }),
          ju = Tn({
            batchNormalization3d_: function (t, e, n, r, o, a) {
              return void 0 === r && (r = 0.001), Hu(), Uu(t, e, n, a, o, r);
            },
          }),
          Xu = Tn({
            batchNormalization4d_: function (t, e, n, r, o, a) {
              return void 0 === r && (r = 0.001), Hu(), Vu(t, e, n, a, o, r);
            },
          }),
          Yu = Tn({
            batchNormalization_: function (t, e, n, r, o, a) {
              return void 0 === r && (r = 0.001), Hu(), Gu(t, e, n, a, o, r);
            },
          }),
          $u = Tn({ batchNorm_: Gu }),
          Qu = Tn({ batchNorm2d_: zu }),
          Ju = Tn({ batchNorm3d_: Uu }),
          Zu = Tn({ batchNorm4d_: Vu });
        (exports.batchNorm4d = Zu),
          (exports.batchNorm3d = Ju),
          (exports.batchNorm2d = Qu),
          (exports.batchNorm = $u),
          (exports.batchNormalization = Yu),
          (exports.batchNormalization4d = Xu),
          (exports.batchNormalization3d = ju),
          (exports.batchNormalization2d = Ku);
        var tc = Tn({
            logicalAnd_: function (t, e) {
              var n = yn(t, "a", "logicalAnd", "bool"),
                r = yn(e, "b", "logicalAnd", "bool");
              return (
                So(n.shape, r.shape),
                Ut.runKernelFunc(
                  function (t) {
                    return t.logicalAnd(n, r);
                  },
                  { a: n, b: r },
                  null,
                  "LogicalAnd"
                )
              );
            },
          }),
          ec = Tn({
            logicalNot_: function (t) {
              var e = yn(t, "x", "logicalNot", "bool");
              return Ut.runKernelFunc(
                function (t) {
                  return t.logicalNot(e);
                },
                { $x: e }
              );
            },
          }),
          nc = Tn({
            logicalOr_: function (t, e) {
              var n = yn(t, "a", "logicalOr", "bool"),
                r = yn(e, "b", "logicalOr", "bool");
              return (
                So(n.shape, r.shape),
                Ut.runKernelFunc(
                  function (t) {
                    return t.logicalOr(n, r);
                  },
                  { $a: n, $b: r }
                )
              );
            },
          }),
          rc = Tn({
            logicalXor_: function (t, e) {
              var n = yn(t, "a", "logicalXor", "bool"),
                r = yn(e, "b", "logicalXor", "bool");
              return (
                So(n.shape, r.shape), nc(t, e).logicalAnd(tc(t, e).logicalNot())
              );
            },
          }),
          oc = Tn({
            where_: function (t, e, n) {
              var r = yn(e, "a", "where"),
                o = yn(n, "b", "where"),
                a = yn(t, "condition", "where", "bool");
              return (
                k(r.shape, o.shape, "Error in where: "),
                1 === a.rank
                  ? I(a.shape[0] === r.shape[0], function () {
                      return "The first dimension of `a` must match the size of `condition`.";
                    })
                  : k(a.shape, o.shape, "Error in where: "),
                Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.select(a, r, o);
                    return e([a]), n;
                  },
                  { $condition: a, $a: r, $b: o },
                  function (t, e) {
                    var n = e[0];
                    return {
                      $condition: function () {
                        return Qn(n).toFloat();
                      },
                      $a: function () {
                        return t.mul(n.cast(t.dtype));
                      },
                      $b: function () {
                        return t.mul(n.logicalNot().cast(t.dtype));
                      },
                    };
                  }
                )
              );
            },
          }),
          ac = function (t) {
            return a(this, void 0, void 0, function () {
              var e, n, r;
              return i(this, function (o) {
                switch (o.label) {
                  case 0:
                    return [
                      4,
                      (e = yn(t, "condition", "whereAsync", "bool")).data(),
                    ];
                  case 1:
                    return (
                      (n = o.sent()),
                      (r = aa(e.shape, n)),
                      t !== e && e.dispose(),
                      [2, r]
                    );
                }
              });
            });
          };
        (exports.whereAsync = ac),
          (exports.where = oc),
          (exports.logicalXor = rc),
          (exports.logicalOr = nc),
          (exports.logicalNot = ec),
          (exports.logicalAnd = tc);
        var ic = Tn({
            add_: function (t, e) {
              var n,
                r = yn(t, "a", "add"),
                o = yn(e, "b", "add");
              (n = Ot(r, o)), (r = n[0]), (o = n[1]);
              var a = So(r.shape, o.shape);
              return Ut.runKernelFunc(
                function (t) {
                  return t.add(r, o);
                },
                { a: r, b: o },
                function (t) {
                  return {
                    a: function () {
                      var e = t,
                        n = ko(r.shape, a);
                      return n.length > 0 && (e = e.sum(n)), e.reshape(r.shape);
                    },
                    b: function () {
                      var e = t,
                        n = ko(o.shape, a);
                      return n.length > 0 && (e = e.sum(n)), e.reshape(o.shape);
                    },
                  };
                },
                "Add"
              );
            },
          }),
          sc = Tn({
            addN_: function (t) {
              I(Array.isArray(t), function () {
                return "The argument passed to tf.addN() must be a list of tensors";
              }),
                I(t.length >= 1, function () {
                  return (
                    "Must pass at least one tensor to tf.addN(), but got " +
                    t.length
                  );
                });
              var e = t.map(function (t, e) {
                  return yn(t, "tensors" + e, "addN");
                }),
                n = e[0];
              e.forEach(function (t) {
                if (t.dtype !== n.dtype)
                  throw new Error(
                    "All tensors passed to tf.addN() must have the same dtype"
                  );
              }),
                e.forEach(function (t) {
                  if (!N(t.shape, n.shape))
                    throw new Error(
                      "All tensors passed to tf.addN() must have the same shape"
                    );
                });
              var r = e;
              return Ut.runKernelFunc(
                function (t) {
                  return t.addN(e);
                },
                r,
                function (t) {
                  var n = {};
                  return (
                    e.forEach(function (e, r) {
                      n[r] = function () {
                        return t.clone();
                      };
                    }),
                    n
                  );
                },
                "AddN"
              );
            },
          }),
          uc = Tn({
            addStrict_: function (t, e) {
              var n = yn(t, "a", "addStrict"),
                r = yn(e, "b", "addStrict");
              return k(n.shape, r.shape, "Error in addStrict: "), n.add(r);
            },
          }),
          cc = Tn({
            atan2_: function (t, e) {
              var n,
                r = yn(t, "a", "atan2"),
                o = yn(e, "b", "atan2");
              (n = Ot(r, o)), (r = n[0]), (o = n[1]);
              var a = So(r.shape, o.shape);
              return Ut.runKernelFunc(
                function (t, e) {
                  var n = t.atan2(r, o);
                  return e([r, o]), n;
                },
                { $a: r, $b: o },
                function (t, e) {
                  var n = e[0],
                    r = e[1];
                  return {
                    $a: function () {
                      var e = ic(n.square(), r.square()),
                        o = t.mul(r.div(e)),
                        i = ko(n.shape, a);
                      return i.length > 0 && (o = o.sum(i)), o.reshape(n.shape);
                    },
                    $b: function () {
                      var e = ic(n.square(), r.square()),
                        o = Ru(t.mul(n.div(e))),
                        i = ko(r.shape, a);
                      return i.length > 0 && (o = o.sum(i)), o.reshape(r.shape);
                    },
                  };
                }
              );
            },
          }),
          lc = Tn({
            div_: function (t, e) {
              var n,
                r = yn(t, "a", "div"),
                o = yn(e, "b", "div");
              if (
                ((n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                "int32" === r.dtype && "int32" === o.dtype)
              )
                return dc(r, o);
              var a = So(r.shape, o.shape);
              return Ut.runKernelFunc(
                function (t, e) {
                  var n = t.realDivide(r, o);
                  return e([r, o]), n;
                },
                { a: r, b: o },
                function (t, e) {
                  var n = e[0],
                    r = e[1];
                  return {
                    a: function () {
                      var e = t.div(r.toFloat()),
                        o = ko(n.shape, a);
                      return o.length > 0 ? e.sum(o).reshape(n.shape) : e;
                    },
                    b: function () {
                      var e = t.mul(n.toFloat()),
                        o = ko(r.shape, a);
                      o.length > 0 && (e = e.sum(o).reshape(r.shape));
                      var i = r.square();
                      return e.div(i.toFloat()).neg();
                    },
                  };
                },
                "Div"
              );
            },
          }),
          pc = Tn({
            divNoNan_: function (t, e) {
              var n,
                r = yn(t, "a", "div"),
                o = yn(e, "b", "div");
              (r = (n = Ot(r, o))[0]), (o = n[1]);
              var a = lc(r, o),
                i = Qn(a),
                s = o.equal(i);
              return oc(s, i, a);
            },
          }),
          hc = Tn({
            divStrict_: function (t, e) {
              var n = yn(t, "a", "div"),
                r = yn(e, "b", "div");
              return k(n.shape, r.shape, "Error in divideStrict: "), n.div(r);
            },
          }),
          dc = Tn({
            floorDiv_: function (t, e) {
              var n,
                r = yn(t, "a", "floorDiv"),
                o = yn(e, "b", "floorDiv");
              (n = Ot(r, o)), (r = n[0]), (o = n[1]);
              var a = So(r.shape, o.shape);
              return Ut.runKernelFunc(
                function (t, e) {
                  var n = t.floorDiv(r, o);
                  return e([r, o]), n;
                },
                { a: r, b: o },
                function (t, e) {
                  var n = e[0],
                    r = e[1];
                  return {
                    a: function () {
                      var e = t.div(r.toFloat()),
                        o = ko(n.shape, a);
                      return o.length > 0 ? e.sum(o).reshape(n.shape) : e;
                    },
                    b: function () {
                      var e = t.mul(n.toFloat()),
                        o = ko(r.shape, a);
                      o.length > 0 && (e = e.sum(o).reshape(r.shape));
                      var i = r.square();
                      return e.div(i.toFloat()).neg();
                    },
                  };
                },
                "FloorDiv"
              );
            },
          }),
          fc = Tn({
            maximum_: function (t, e) {
              var n,
                r = yn(t, "a", "maximum"),
                o = yn(e, "b", "maximum");
              return (
                (n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                "bool" === r.dtype && ((r = r.toInt()), (o = o.toInt())),
                So(r.shape, o.shape),
                Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.maximum(r, o);
                    return e([r, o]), n;
                  },
                  { a: r, b: o },
                  function (t, e) {
                    var n = e[0],
                      r = e[1];
                    return {
                      a: function () {
                        return t.mul(n.greaterEqual(r).toFloat());
                      },
                      b: function () {
                        return t.mul(n.less(r).toFloat());
                      },
                    };
                  },
                  "Maximum"
                )
              );
            },
          }),
          vc = Tn({
            maximumStrict_: function (t, e) {
              var n = yn(t, "a", "maximumStrict"),
                r = yn(e, "b", "maximumStrict");
              return (
                k(n.shape, r.shape, "Error in maximumStrict: "), n.maximum(r)
              );
            },
          }),
          mc = Tn({
            minimum_: function (t, e) {
              var n,
                r = yn(t, "a", "minimum"),
                o = yn(e, "b", "minimum");
              return (
                (n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                "bool" === r.dtype && ((r = r.toInt()), (o = o.toInt())),
                So(r.shape, o.shape),
                Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.minimum(r, o);
                    return e([r, o]), n;
                  },
                  { a: r, b: o },
                  function (t, e) {
                    var n = e[0],
                      r = e[1];
                    return {
                      a: function () {
                        return t.mul(n.lessEqual(r).toFloat());
                      },
                      b: function () {
                        return t.mul(n.greater(r).toFloat());
                      },
                    };
                  },
                  "Minimum"
                )
              );
            },
          }),
          gc = Tn({
            minimumStrict_: function (t, e) {
              var n = yn(t, "a", "minimumStrict"),
                r = yn(e, "b", "minimumStrict");
              return (
                k(n.shape, r.shape, "Error in minimumStrict: "), n.minimum(r)
              );
            },
          }),
          xc = Tn({
            mod_: function (t, e) {
              var n,
                r = yn(t, "a", "mod"),
                o = yn(e, "b", "mod");
              (n = Ot(r, o)), (r = n[0]), (o = n[1]);
              var a = So(r.shape, o.shape);
              return Ut.runKernelFunc(
                function (t, e) {
                  var n = t.mod(r, o);
                  return e([r, o]), n;
                },
                { $a: r, $b: o },
                function (t, e) {
                  var n = e[0],
                    r = e[1];
                  return {
                    $a: function () {
                      var e = ko(n.shape, a);
                      return e.length > 0 ? t.sum(e).reshape(n.shape) : t;
                    },
                    $b: function () {
                      var e = t.mul(n.div(r).floor().neg()),
                        o = ko(r.shape, a);
                      return o.length > 0 ? e.sum(o).reshape(r.shape) : e;
                    },
                  };
                }
              );
            },
          }),
          yc = Tn({
            modStrict_: function (t, e) {
              var n = yn(t, "a", "modStrict"),
                r = yn(e, "b", "modStrict");
              return k(n.shape, r.shape, "Error in modStrict: "), n.mod(r);
            },
          }),
          bc = Tn({
            mul_: function (t, e) {
              var n,
                r = yn(t, "a", "mul"),
                o = yn(e, "b", "mul");
              (n = Ot(r, o)), (r = n[0]), (o = n[1]);
              var a = So(r.shape, o.shape);
              return Ut.runKernelFunc(
                function (t, e) {
                  var n = t.multiply(r, o);
                  return e([r, o]), n;
                },
                { a: r, b: o },
                function (t, e) {
                  var n = e[0],
                    r = e[1];
                  return {
                    a: function () {
                      var e = t.mul(r.toFloat()),
                        o = ko(n.shape, a);
                      return o.length > 0 ? e.sum(o).reshape(n.shape) : e;
                    },
                    b: function () {
                      var e = t.mul(n.toFloat()),
                        o = ko(r.shape, a);
                      return o.length > 0 ? e.sum(o).reshape(r.shape) : e;
                    },
                  };
                },
                "Mul"
              );
            },
          }),
          wc = Tn({
            mulStrict_: function (t, e) {
              var n = yn(t, "a", "mul"),
                r = yn(e, "b", "mul");
              return k(n.shape, r.shape, "Error in multiplyStrict: "), n.mul(r);
            },
          }),
          Cc = Tn({
            pow_: function (t, e) {
              var n,
                r = yn(t, "base", "pow"),
                o = yn(e, "exp", "pow");
              (n = Ot(r, o)), (r = n[0]), (o = n[1]);
              var a = So(r.shape, o.shape),
                i = [r, o];
              return Ut.runKernelFunc(
                function (t, e) {
                  var n = t.pow(r, o);
                  return e([r, o, n]), n;
                },
                { a: r, b: o },
                function (t, e) {
                  var n = e[0],
                    r = e[1],
                    o = e[2];
                  return {
                    a: function () {
                      var e = r.toFloat(),
                        o = t.mul(e.mul(n.pow(e.sub(Pn(1))))),
                        i = ko(n.shape, a);
                      return i.length > 0 && (o = o.sum(i)), o.reshape(n.shape);
                    },
                    b: function () {
                      var e = n.greater(0),
                        i = n.log().where(e, Qn(n)),
                        s = t.mul(o.mul(i)),
                        u = ko(r.shape, a);
                      return u.length > 0 && (s = s.sum(u)), s.reshape(r.shape);
                    },
                  };
                },
                "Pow",
                {},
                i,
                [!0]
              );
            },
          }),
          Ec = Tn({
            powStrict_: function (t, e) {
              return k(t.shape, e.shape, "Error in powStrict: "), t.pow(e);
            },
          }),
          Rc = Tn({
            squaredDifferenceStrict_: function (t, e) {
              var n = yn(t, "a", "squaredDifferenceStrict"),
                r = yn(e, "b", "squaredDifferenceStrict");
              return (
                k(n.shape, r.shape, "Error in squaredDifferenceStrict: "),
                n.squaredDifference(r)
              );
            },
          }),
          Ic = Tn({
            sub_: function (t, e) {
              var n,
                r = yn(t, "a", "sub"),
                o = yn(e, "b", "sub");
              (n = Ot(r, o)), (r = n[0]), (o = n[1]);
              var a = So(r.shape, o.shape);
              return Ut.runKernelFunc(
                function (t) {
                  return t.subtract(r, o);
                },
                { a: r, b: o },
                function (t) {
                  return {
                    a: function () {
                      var e = t,
                        n = ko(r.shape, a);
                      return n.length > 0 && (e = e.sum(n)), e.reshape(r.shape);
                    },
                    b: function () {
                      var e = t,
                        n = ko(o.shape, a);
                      return (
                        n.length > 0 && (e = e.sum(n)), e.neg().reshape(o.shape)
                      );
                    },
                  };
                },
                "Sub"
              );
            },
          }),
          kc = Tn({
            subStrict_: function (t, e) {
              var n = yn(t, "a", "subStrict"),
                r = yn(e, "b", "subStrict");
              return k(n.shape, r.shape, "Error in subStrict: "), n.sub(r);
            },
          });
        (exports.subStrict = kc),
          (exports.sub = Ic),
          (exports.squaredDifferenceStrict = Rc),
          (exports.powStrict = Ec),
          (exports.pow = Cc),
          (exports.mulStrict = wc),
          (exports.mul = bc),
          (exports.modStrict = yc),
          (exports.mod = xc),
          (exports.minimumStrict = gc),
          (exports.minimum = mc),
          (exports.maximumStrict = vc),
          (exports.maximum = fc),
          (exports.floorDiv = dc),
          (exports.divStrict = hc),
          (exports.divNoNan = pc),
          (exports.div = lc),
          (exports.atan2 = cc),
          (exports.addStrict = uc),
          (exports.addN = sc),
          (exports.add = ic);
        var Sc = Tn({
            equal_: function (t, e) {
              var n,
                r = yn(t, "a", "equal"),
                o = yn(e, "b", "equal");
              return (
                (n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                So(r.shape, o.shape),
                Ut.runKernelFunc(
                  function (t) {
                    return t.equal(r, o);
                  },
                  { $a: r, $b: o }
                )
              );
            },
          }),
          Ac = Tn({
            equalStrict_: function (t, e) {
              var n = yn(t, "a", "equalStrict"),
                r = yn(e, "b", "equalStrict");
              return k(n.shape, r.shape, "Error in equalStrict: "), n.equal(r);
            },
          }),
          Dc = Tn({
            greater_: function (t, e) {
              var n,
                r = yn(t, "a", "greater"),
                o = yn(e, "b", "greater");
              return (
                (n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                So(r.shape, o.shape),
                Ut.runKernelFunc(
                  function (t) {
                    return t.greater(r, o);
                  },
                  { a: r, b: o },
                  null,
                  "Greater"
                )
              );
            },
          }),
          Nc = Tn({
            greaterEqual_: function (t, e) {
              var n,
                r = yn(t, "a", "greaterEqual"),
                o = yn(e, "b", "greaterEqual");
              return (
                (n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                So(r.shape, o.shape),
                Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.greaterEqual(r, o);
                    return e([r, o]), n;
                  },
                  { a: r, b: o },
                  function (t, e) {
                    var n = e[0],
                      r = e[1];
                    return {
                      a: function () {
                        return Qn(n);
                      },
                      b: function () {
                        return Qn(r);
                      },
                    };
                  },
                  "GreaterEqual"
                )
              );
            },
          }),
          Tc = Tn({
            greaterEqualStrict_: function (t, e) {
              var n = yn(t, "a", "greaterEqualStrict"),
                r = yn(e, "b", "greaterEqualStrict");
              return (
                k(n.shape, r.shape, "Error in greaterEqualStrict: "),
                n.greaterEqual(r)
              );
            },
          }),
          Fc = Tn({
            greaterStrict_: function (t, e) {
              var n = yn(t, "a", "greaterStrict"),
                r = yn(e, "b", "greaterStrict");
              return (
                k(n.shape, r.shape, "Error in greaterStrict: "), n.greater(r)
              );
            },
          }),
          _c = Tn({
            less_: function (t, e) {
              var n,
                r = yn(t, "a", "less"),
                o = yn(e, "b", "less");
              return (
                (n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                So(r.shape, o.shape),
                Ut.runKernelFunc(
                  function (t) {
                    return t.less(r, o);
                  },
                  { a: r, b: o },
                  null,
                  "Less"
                )
              );
            },
          }),
          Oc = Tn({
            lessEqual_: function (t, e) {
              var n,
                r = yn(t, "a", "lessEqual"),
                o = yn(e, "b", "lessEqual");
              return (
                (n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                So(r.shape, o.shape),
                Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.lessEqual(r, o);
                    return e([r, o]), n;
                  },
                  { a: r, b: o },
                  null,
                  "LessEqual"
                )
              );
            },
          }),
          Mc = Tn({
            lessEqualStrict_: function (t, e) {
              var n = yn(t, "a", "lessEqualStrict"),
                r = yn(e, "b", "lessEqualStrict");
              return (
                k(n.shape, r.shape, "Error in lessEqualStrict: "),
                n.lessEqual(r)
              );
            },
          }),
          Bc = Tn({
            lessStrict_: function (t, e) {
              var n = yn(t, "a", "lessStrict"),
                r = yn(e, "b", "lessStrict");
              return k(n.shape, r.shape, "Error in lessStrict: "), n.less(r);
            },
          }),
          Pc = Tn({
            notEqual_: function (t, e) {
              var n,
                r = yn(t, "a", "notEqual"),
                o = yn(e, "b", "notEqual");
              return (
                (n = Ot(r, o)),
                (r = n[0]),
                (o = n[1]),
                So(r.shape, o.shape),
                Ut.runKernelFunc(
                  function (t) {
                    return t.notEqual(r, o);
                  },
                  { a: r, b: o },
                  null,
                  "NotEqual"
                )
              );
            },
          }),
          Lc = Tn({
            notEqualStrict_: function (t, e) {
              var n = yn(t, "a", "notEqualStrict"),
                r = yn(e, "b", "notEqualStrict");
              return (
                k(n.shape, r.shape, "Error in notEqualStrict: "), n.notEqual(r)
              );
            },
          });
        function Wc(t, e) {
          for (var n = [], r = t; r < e; ++r) n.push(r);
          return n;
        }
        function zc(t) {
          for (var e = [], n = 0; n < t.length; ++n)
            for (var r = 0; r < t[n].length; ++r) e.push(t[n][r]);
          return e;
        }
        (exports.notEqualStrict = Lc),
          (exports.notEqual = Pc),
          (exports.lessStrict = Bc),
          (exports.lessEqualStrict = Mc),
          (exports.lessEqual = Oc),
          (exports.less = _c),
          (exports.greaterStrict = Fc),
          (exports.greaterEqualStrict = Tc),
          (exports.greaterEqual = Nc),
          (exports.greater = Dc),
          (exports.equalStrict = Ac),
          (exports.equal = Sc);
        var Uc = Tn({
            gather_: function (t, e, n) {
              void 0 === n && (n = 0);
              var r = yn(t, "x", "gather"),
                o = yn(e, "indices", "gather", "int32");
              n = P(n, r.shape)[0];
              var a = (function (t, e, n) {
                for (
                  var r = t.shape[n], o = [], a = 1, i = 1, s = 0;
                  s < n;
                  s++
                )
                  o.push(t.shape[s]), (a *= t.shape[s]);
                for (s = 0; s < e.rank; s++) o.push(e.shape[s]);
                for (s = n + 1; s < t.rank; s++)
                  o.push(t.shape[s]), (i *= t.shape[s]);
                return {
                  batchSize: a,
                  sliceSize: i,
                  dimSize: r,
                  outputShape: o,
                };
              })(r, o, n);
              return Ut.runKernelFunc(
                function (t, e) {
                  var a = t.gather(r, o.flatten(), n);
                  return e([o]), a;
                },
                { x: r, indices: o },
                function (t, e) {
                  var o = e[0];
                  return {
                    x: function () {
                      var e = r.shape,
                        a = o.size,
                        i = e.slice(0, n),
                        s = i.length,
                        u = e.slice(n, e.length).slice(1),
                        c = u.length,
                        l = Wc(0, s),
                        p = Wc(s + 1, s + 1 + c),
                        h = zc([i, [a], u]),
                        d = t.reshape(h),
                        f = o.reshape([a]),
                        v = zc([[s], l, p]),
                        m = d.transpose(v),
                        g = Vc(m, f, r.shape[n]),
                        x = Sn(v);
                      return g.transpose(x);
                    },
                    indices: function () {
                      return o;
                    },
                  };
                },
                "Gather",
                { axis: n }
              ).reshape(a.outputShape);
            },
          }),
          Vc = Tn({
            unsortedSegmentSum_: function (t, e, n) {
              var r = yn(t, "x", "unsortedSegmentSum"),
                o = yn(e, "segmentIds", "unsortedSegmentSum", "int32");
              return (
                I(T(n), function () {
                  return "numSegments must be of dtype int";
                }),
                Ut.runKernelFunc(
                  function (t, e) {
                    var a = t.unsortedSegmentSum(r, o, n);
                    return e([o]), a;
                  },
                  { $x: r },
                  function (t, e) {
                    var n = e[0];
                    return {
                      $x: function () {
                        return (function (t, e) {
                          for (
                            var n = fc(e, Qn(e)),
                              r = Uc(t, n),
                              o = Nc(e, Pn(0, "int32")),
                              a = r.rank - o.rank,
                              i = 0;
                            i < a;
                            ++i
                          )
                            o = Rr(o, i + 1);
                          o = tc(o, Hn(r.shape, "bool"));
                          var s = Qn(r);
                          return oc(o, r, s);
                        })(t, n);
                      },
                    };
                  }
                )
              );
            },
          });
        (exports.unsortedSegmentSum = Vc), (exports.gather = Uc);
        var Gc = function (t, e, n) {
          return a(this, void 0, void 0, function () {
            var r, o, a, s, u, c, l, p, h, d, f, v, m;
            return i(this, function (i) {
              switch (i.label) {
                case 0:
                  for (
                    r = yn(t, "tensor", "boolMask"),
                      o = yn(e, "mask", "boolMask", "bool"),
                      a = null == n ? 0 : n,
                      s = o.rank,
                      u = r.shape,
                      I(s > 0, function () {
                        return "mask cannot be scalar";
                      }),
                      k(
                        u.slice(a, a + s),
                        o.shape,
                        "mask's shape must match the first K dimensions of tensor's shape,"
                      ),
                      c = 1,
                      l = a;
                    l < a + s;
                    l++
                  )
                    c *= u[l];
                  return (
                    (p = u.slice(0, a).concat([c], u.slice(a + s))),
                    (h = r.reshape(p)),
                    (d = o.reshape([-1])),
                    [4, ac(d)]
                  );
                case 1:
                  return (
                    (f = i.sent()),
                    (v = f.squeeze([1])),
                    (m = Uc(h, v, a)),
                    t !== r && r.dispose(),
                    e !== o && o.dispose(),
                    v.dispose(),
                    h.dispose(),
                    d.dispose(),
                    f.dispose(),
                    [2, m]
                  );
              }
            });
          });
        };
        function qc(t, e, n, r, o, a, i) {
          void 0 === a && (a = "NHWC"),
            I(t.length === e.rank, function () {
              return (
                "Length of inShape (" +
                t.length +
                ") and rank of dy (" +
                e.rank +
                ") must match"
              );
            });
          var s = t,
            u = e,
            c = !1;
          3 === e.rank &&
            ((c = !0),
            (u = e.as4D(1, e.shape[0], e.shape[1], e.shape[2])),
            (s = [1, t[0], t[1], t[2]])),
            I(4 === s.length, function () {
              return (
                "Error in conv2dDerInput: inShape must be length 4, but got length " +
                s.length +
                "."
              );
            }),
            I(4 === u.rank, function () {
              return (
                "Error in conv2dDerInput: dy must be rank 4, but got rank " +
                u.rank
              );
            }),
            I(4 === n.rank, function () {
              return (
                "Error in conv2dDerInput: filter must be rank 4, but got rank " +
                n.rank
              );
            });
          var l = "NHWC" === a ? s[3] : s[1],
            p = "NHWC" === a ? u.shape[3] : u.shape[1];
          I(l === n.shape[2], function () {
            return (
              "Error in conv2dDerInput: depth of input (" +
              l +
              ") must match input depth for filter " +
              n.shape[2] +
              "."
            );
          }),
            I(p === n.shape[3], function () {
              return (
                "Error in conv2dDerInput: depth of output (" +
                p +
                ") must match output depth for filter " +
                n.shape[3] +
                "."
              );
            }),
            null != i &&
              I(T(o), function () {
                return (
                  "Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode " +
                  i +
                  " but got pad " +
                  o +
                  "."
                );
              });
          var h = Wo(a),
            d = No(s, n.shape, r, 1, o, i, !1, h),
            f = Ut.runKernelFunc(
              function (t, e) {
                var r = t.conv2dDerInput(u, n, d);
                return e([n, u]), r;
              },
              { dy4D: u, filter: n },
              function (t, e) {
                var n = e[0],
                  s = e[1];
                return {
                  dy4D: function () {
                    return Xc(t, n, r, o, a, 1, i);
                  },
                  filter: function () {
                    return $c(t, s, n.shape, r, o, a, i);
                  },
                };
              }
            );
          return c ? f.as3D(f.shape[1], f.shape[2], f.shape[3]) : f;
        }
        function Hc(t) {
          var e = (function (t) {
              return "number" == typeof t
                ? [t, t, t]
                : 2 === t.length
                ? [t[0], t[1], 1]
                : t;
            })(t),
            n = e[0],
            r = e[1],
            o = e[2];
          return 1 === n && 1 === r && 1 === o;
        }
        function Kc(t, e, n, r, o) {
          I(t.length === e.rank, function () {
            return (
              "Length of inShape (" +
              t.length +
              ") and rank of dy (" +
              e.rank +
              ") must match"
            );
          });
          var a = t,
            i = e,
            s = !1;
          4 === e.rank &&
            ((s = !0),
            (i = e.as5D(1, e.shape[0], e.shape[1], e.shape[2], e.shape[3])),
            (a = [1, t[0], t[1], t[2], t[3]]));
          var u = a[4],
            c = i.shape[4];
          I(5 === a.length, function () {
            return (
              "Error in conv3dDerInput: inShape must be length 5, but got length " +
              a.length +
              "."
            );
          }),
            I(5 === i.rank, function () {
              return (
                "Error in conv3dDerInput: dy must be rank 5, but got rank " +
                i.rank
              );
            }),
            I(5 === n.rank, function () {
              return (
                "Error in conv3dDerInput: filter must be rank 5, but got rank " +
                n.rank
              );
            }),
            I(u === n.shape[3], function () {
              return (
                "Error in conv3dDerInput: depth of input (" +
                u +
                ") must match input depth for filter " +
                n.shape[3] +
                "."
              );
            }),
            I(c === n.shape[4], function () {
              return (
                "Error in conv3dDerInput: depth of output (" +
                c +
                ") must match output depth for filter " +
                n.shape[4] +
                "."
              );
            });
          var l = To(a, n.shape, r, 1, o),
            p = Ut.runKernelFunc(
              function (t) {
                return t.conv3dDerInput(i, n, l);
              },
              { dy5D: i }
            );
          return s ? p.as4D(p.shape[1], p.shape[2], p.shape[3], p.shape[4]) : p;
        }
        exports.booleanMaskAsync = Gc;
        var jc = Tn({
            conv1d_: function (t, e, n, r, o, a, i) {
              void 0 === o && (o = "NWC"), void 0 === a && (a = 1);
              var s = yn(t, "x", "conv1d"),
                u = yn(e, "filter", "conv1d"),
                c = s,
                l = !1;
              2 === s.rank &&
                ((l = !0), (c = s.as3D(1, s.shape[0], s.shape[1]))),
                I(3 === c.rank, function () {
                  return (
                    "Error in conv1d: input must be rank 3, but got rank " +
                    c.rank +
                    "."
                  );
                }),
                I(3 === u.rank, function () {
                  return (
                    "Error in conv1d: filter must be rank 3, but got rank " +
                    u.rank +
                    "."
                  );
                }),
                null != i &&
                  I(T(r), function () {
                    return (
                      "Error in conv1d: pad must be an integer when using, dimRoundingMode " +
                      i +
                      " but got pad " +
                      r +
                      "."
                    );
                  }),
                I(c.shape[2] === u.shape[1], function () {
                  return (
                    "Error in conv1d: depth of input (" +
                    c.shape[2] +
                    ") must match input depth for filter " +
                    u.shape[1] +
                    "."
                  );
                }),
                I(Lo(n, a), function () {
                  return (
                    "Error in conv1D: Either stride or dilation must be 1. Got stride " +
                    n +
                    " and dilation '" +
                    a +
                    "'"
                  );
                }),
                I("NWC" === o, function () {
                  return (
                    "Error in conv1d: got dataFormat of " +
                    o +
                    " but only NWC is currently supported."
                  );
                });
              var p = u.as4D(1, u.shape[0], u.shape[1], u.shape[2]),
                h = c.as4D(c.shape[0], 1, c.shape[1], c.shape[2]),
                d = Xc(h, p, [1, n], r, "NHWC", [1, a], i);
              return l
                ? d.as2D(d.shape[2], d.shape[3])
                : d.as3D(d.shape[0], d.shape[2], d.shape[3]);
            },
          }),
          Xc = Tn({
            conv2d_: function (t, e, n, r, o, a, i) {
              void 0 === o && (o = "NHWC"), void 0 === a && (a = [1, 1]);
              var s = yn(t, "x", "conv2d"),
                u = yn(e, "filter", "conv2d"),
                c = s,
                l = !1;
              3 === s.rank &&
                ((l = !0), (c = s.as4D(1, s.shape[0], s.shape[1], s.shape[2]))),
                I(4 === c.rank, function () {
                  return (
                    "Error in conv2d: input must be rank 4, but got rank " +
                    c.rank +
                    "."
                  );
                }),
                I(4 === u.rank, function () {
                  return (
                    "Error in conv2d: filter must be rank 4, but got rank " +
                    u.rank +
                    "."
                  );
                }),
                null != i &&
                  I(T(r), function () {
                    return (
                      "Error in conv2d: pad must be an integer when using, dimRoundingMode " +
                      i +
                      " but got pad " +
                      r +
                      "."
                    );
                  });
              var p = "NHWC" === o ? c.shape[3] : c.shape[1];
              I(p === u.shape[2], function () {
                return (
                  "Error in conv2d: depth of input (" +
                  p +
                  ") must match input depth for filter " +
                  u.shape[2] +
                  "."
                );
              }),
                I(Lo(n, a), function () {
                  return (
                    "Error in conv2D: Either strides or dilations must be 1. Got strides " +
                    n +
                    " and dilations '" +
                    a +
                    "'"
                  );
                });
              var h = Wo(o),
                d = No(c.shape, u.shape, n, a, r, i, !1, h),
                f = [u, c],
                v = Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.conv2d(c, u, d);
                    return e([u, c]), n;
                  },
                  { x: c, filter: u },
                  function (t, e) {
                    var i = e,
                      s = i[0],
                      u = i[1];
                    return (
                      I(Po(a), function () {
                        return (
                          "Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '" +
                          a +
                          "'"
                        );
                      }),
                      {
                        x: function () {
                          return Qc(u.shape, t, s, n, r, o);
                        },
                        filter: function () {
                          return $c(u, t, s.shape, n, r, o);
                        },
                      }
                    );
                  },
                  "Conv2D",
                  d,
                  f
                );
              return l ? v.as3D(v.shape[1], v.shape[2], v.shape[3]) : v;
            },
          }),
          Yc = Tn({
            conv3d_: function (t, e, n, r, o, a) {
              void 0 === o && (o = "NDHWC"), void 0 === a && (a = [1, 1, 1]);
              var i = yn(t, "x", "conv3d"),
                s = yn(e, "filter", "conv3d"),
                u = i,
                c = !1;
              4 === i.rank &&
                ((c = !0),
                (u = i.as5D(
                  1,
                  i.shape[0],
                  i.shape[1],
                  i.shape[2],
                  i.shape[3]
                ))),
                I(5 === u.rank, function () {
                  return (
                    "Error in conv3d: input must be rank 5, but got rank " +
                    u.rank +
                    "."
                  );
                }),
                I(5 === s.rank, function () {
                  return (
                    "Error in conv3d: filter must be rank 5, but got rank " +
                    s.rank +
                    "."
                  );
                }),
                I(u.shape[4] === s.shape[3], function () {
                  return (
                    "Error in conv3d: depth of input (" +
                    u.shape[4] +
                    ") must match input depth for filter " +
                    s.shape[3] +
                    "."
                  );
                }),
                I(
                  (function (t, e) {
                    return Hc(n) || Hc(e);
                  })(0, a),
                  function () {
                    return (
                      "Error in conv3D: Either strides or dilations must be 1. Got strides " +
                      n +
                      " and dilations '" +
                      a +
                      "'"
                    );
                  }
                ),
                I("NDHWC" === o, function () {
                  return (
                    "Error in conv3d: got dataFormat of " +
                    o +
                    " but only NDHWC is currently supported."
                  );
                });
              var l = To(u.shape, s.shape, n, a, r),
                p = Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.conv3d(u, s, l);
                    return e([u, s]), n;
                  },
                  { x: u, $filter: s },
                  function (t, e) {
                    I(Hc(a), function () {
                      return (
                        "Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '" +
                        a +
                        "'"
                      );
                    });
                    var o = e[0],
                      i = e[1];
                    return {
                      x: function () {
                        return Kc(o.shape, t, i, n, r);
                      },
                      $filter: function () {
                        return (function (t, e, n, r, o) {
                          var a = t;
                          4 === t.rank &&
                            (a = t.as5D(
                              1,
                              t.shape[0],
                              t.shape[1],
                              t.shape[2],
                              t.shape[3]
                            ));
                          var i = e;
                          4 === i.rank &&
                            (i = e.as5D(
                              1,
                              e.shape[0],
                              e.shape[1],
                              e.shape[2],
                              e.shape[3]
                            )),
                            I(5 === a.rank, function () {
                              return (
                                "Error in conv3dDerFilter: input must be rank 5, but got shape " +
                                a.shape +
                                "."
                              );
                            }),
                            I(5 === i.rank, function () {
                              return (
                                "Error in conv3dDerFilter: dy must be rank 5, but got shape " +
                                i.shape +
                                "."
                              );
                            }),
                            I(5 === n.length, function () {
                              return (
                                "Error in conv3dDerFilter: filterShape must be length 5, but got " +
                                n +
                                "."
                              );
                            }),
                            I(a.shape[4] === n[3], function () {
                              return (
                                "Error in conv3dDerFilter: depth of input " +
                                a.shape[4] +
                                ") must match input depth in filter (" +
                                n[3] +
                                "."
                              );
                            }),
                            I(i.shape[4] === n[4], function () {
                              return (
                                "Error in conv3dDerFilter: depth of dy (" +
                                i.shape[4] +
                                ") must match output depth for filter (" +
                                n[4] +
                                ")."
                              );
                            });
                          var s = To(a.shape, n, r, 1, o);
                          return Ut.runKernelFunc(
                            function (t) {
                              return t.conv3dDerFilter(a, i, s);
                            },
                            { x5D: a, dy5D: i }
                          );
                        })(o, t, i.shape, n, r);
                      },
                    };
                  }
                );
              return c
                ? p.as4D(p.shape[1], p.shape[2], p.shape[3], p.shape[4])
                : p;
            },
          }),
          $c = Tn({
            conv2dDerFilter_: function (t, e, n, r, o, a, i) {
              void 0 === a && (a = "NHWC");
              var s = t;
              3 === t.rank &&
                (s = t.as4D(1, t.shape[0], t.shape[1], t.shape[2]));
              var u = e;
              3 === u.rank &&
                (u = e.as4D(1, e.shape[0], e.shape[1], e.shape[2])),
                I(4 === s.rank, function () {
                  return (
                    "Error in conv2dDerFilter: input must be rank 4, but got shape " +
                    s.shape +
                    "."
                  );
                }),
                I(4 === u.rank, function () {
                  return (
                    "Error in conv2dDerFilter: dy must be rank 4, but got shape " +
                    u.shape +
                    "."
                  );
                }),
                I(4 === n.length, function () {
                  return (
                    "Error in conv2dDerFilter: filterShape must be length 4, but got " +
                    n +
                    "."
                  );
                });
              var c = "NHWC" === a ? s.shape[3] : s.shape[1],
                l = "NHWC" === a ? u.shape[3] : u.shape[1];
              I(c === n[2], function () {
                return (
                  "Error in conv2dDerFilter: depth of input " +
                  c +
                  ") must match input depth in filter (" +
                  n[2] +
                  "."
                );
              }),
                I(l === n[3], function () {
                  return (
                    "Error in conv2dDerFilter: depth of dy (" +
                    l +
                    ") must match output depth for filter (" +
                    n[3] +
                    ")."
                  );
                }),
                null != i &&
                  I(T(o), function () {
                    return (
                      "Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode " +
                      i +
                      " but got pad " +
                      o +
                      "."
                    );
                  });
              var p = Wo(a),
                h = No(s.shape, n, r, 1, o, i, !1, p);
              return Ut.runKernelFunc(
                function (t) {
                  return t.conv2dDerFilter(s, u, h);
                },
                { x4D: s, dy4D: u }
              );
            },
          }),
          Qc = Tn({ conv2dDerInput_: qc }),
          Jc = Tn({
            depthwiseConv2d_: function (t, e, n, r, o, a, i) {
              void 0 === o && (o = "NHWC"), void 0 === a && (a = [1, 1]);
              var s = yn(t, "x", "depthwiseConv2d"),
                u = yn(e, "filter", "depthwiseConv2d"),
                c = s,
                l = !1;
              3 === s.rank &&
                ((l = !0), (c = s.as4D(1, s.shape[0], s.shape[1], s.shape[2]))),
                I(4 === c.rank, function () {
                  return (
                    "Error in depthwiseConv2d: input must be rank 4, but got rank " +
                    c.rank +
                    "."
                  );
                }),
                I(4 === u.rank, function () {
                  return (
                    "Error in depthwiseConv2d: filter must be rank 4, but got rank " +
                    u.rank +
                    "."
                  );
                }),
                I(c.shape[3] === u.shape[2], function () {
                  return (
                    "Error in depthwiseConv2d: number of input channels (" +
                    c.shape[3] +
                    ") must match the inChannels dimension in filter " +
                    u.shape[2] +
                    "."
                  );
                }),
                null == a && (a = [1, 1]),
                I(Lo(n, a), function () {
                  return (
                    "Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides " +
                    n +
                    " and dilations '" +
                    a +
                    "'"
                  );
                }),
                null != i &&
                  I(T(r), function () {
                    return (
                      "Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode " +
                      i +
                      " but got pad " +
                      r +
                      "."
                    );
                  });
              var p = No(c.shape, u.shape, n, a, r, i, !0),
                h = [c, u],
                d = Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.depthwiseConv2D(c, u, p);
                    return e([c, u]), n;
                  },
                  { x: c, filter: u },
                  function (t, e) {
                    I(Po(a), function () {
                      return (
                        "Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '" +
                        a +
                        "'"
                      );
                    });
                    var n = e[0],
                      r = e[1];
                    return {
                      x: function () {
                        return Zc(n.shape, t, r, p);
                      },
                      filter: function () {
                        return tl(n, t, r.shape, p);
                      },
                    };
                  },
                  "DepthwiseConv2dNative",
                  p,
                  h
                );
              return l ? d.as3D(d.shape[1], d.shape[2], d.shape[3]) : d;
            },
          }),
          Zc = Tn({
            depthwiseConv2dDerInput_: function (t, e, n, r) {
              var o = e,
                a = !1;
              3 === e.rank &&
                ((a = !0), (o = e.as4D(1, e.shape[0], e.shape[1], e.shape[2])));
              var i = Ut.runKernelFunc(
                function (t) {
                  return t.depthwiseConv2DDerInput(o, n, r);
                },
                { dy4D: o }
              );
              return a ? i.as3D(i.shape[1], i.shape[2], i.shape[3]) : i;
            },
          }),
          tl = Tn({
            depthwiseConv2dDerFilter_: function (t, e, n, r) {
              var o = t;
              3 === t.rank &&
                (o = t.as4D(1, t.shape[0], t.shape[1], t.shape[2]));
              var a = e;
              return (
                3 === a.rank &&
                  (a = e.as4D(1, e.shape[0], e.shape[1], e.shape[2])),
                Ut.runKernelFunc(
                  function (t) {
                    return t.depthwiseConv2DDerFilter(o, a, r);
                  },
                  { x4D: o, dy4D: a }
                )
              );
            },
          }),
          el = Tn({
            separableConv2d_: function (t, e, n, r, o, a, i) {
              void 0 === a && (a = [1, 1]), void 0 === i && (i = "NHWC");
              var s = yn(t, "x", "separableConv2d"),
                u = yn(e, "depthwiseFilter", "separableConv2d"),
                c = yn(n, "pointwiseFilter", "separableConv2d"),
                l = s,
                p = !1;
              if (
                (3 === s.rank &&
                  ((p = !0),
                  (l = s.as4D(1, s.shape[0], s.shape[1], s.shape[2]))),
                "NCHW" === i)
              )
                throw new Error(
                  "separableConv2d currently does not support dataFormat NCHW; only NHWC is supported"
                );
              I(4 === l.rank, function () {
                return (
                  "Error in separableConv2d: input must be rank 4, but got rank " +
                  l.rank +
                  "."
                );
              }),
                I(4 === u.rank, function () {
                  return (
                    "Error in separableConv2d: depthwise filter must be rank 4, but got rank " +
                    u.rank +
                    "."
                  );
                }),
                I(4 === c.rank, function () {
                  return (
                    "Error in separableConv2d: pointwise filter must be rank 4, but got rank " +
                    u.rank +
                    "."
                  );
                }),
                I(1 === c.shape[0], function () {
                  return (
                    "Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got " +
                    c.shape[0] +
                    "."
                  );
                }),
                I(1 === c.shape[1], function () {
                  return (
                    "Error in separableConv2d: the second dimension of pointwise filter must be 1, but got " +
                    c.shape[1] +
                    "."
                  );
                });
              var h = u.shape[2],
                d = u.shape[3];
              I(c.shape[2] === h * d, function () {
                return (
                  "Error in separableConv2d: the third dimension of pointwise filter must be " +
                  h * d +
                  ", but got " +
                  c.shape[2] +
                  "."
                );
              });
              var f = Jc(l, u, r, o, i, a),
                v = Xc(f, c, 1, "valid", i);
              return p ? v.as3D(v.shape[1], v.shape[2], v.shape[3]) : v;
            },
          }),
          nl = Tn({
            conv2dTranspose_: function (t, e, n, r, o, a) {
              return qc(
                n,
                yn(t, "x", "conv2dTranspose"),
                yn(e, "filter", "conv2dTranspose"),
                r,
                o,
                "NHWC",
                a
              );
            },
          }),
          rl = Tn({
            conv3dTranspose_: function (t, e, n, r, o) {
              return Kc(
                n,
                yn(t, "x", "conv3dTranspose"),
                yn(e, "filter", "conv3dTranspose"),
                r,
                o
              );
            },
          });
        (exports.conv3dTranspose = rl),
          (exports.conv2dTranspose = nl),
          (exports.separableConv2d = el),
          (exports.depthwiseConv2d = Jc),
          (exports.conv3d = Yc),
          (exports.conv2d = Xc),
          (exports.conv1d = jc);
        var ol = Tn({
            matMul_: function (t, e, n, r) {
              var o;
              void 0 === n && (n = !1), void 0 === r && (r = !1);
              var a = yn(t, "a", "matMul"),
                i = yn(e, "b", "matMul");
              (o = Ot(a, i)), (a = o[0]), (i = o[1]);
              var s = n ? a.shape[a.rank - 2] : a.shape[a.rank - 1],
                u = r ? i.shape[i.rank - 1] : i.shape[i.rank - 2],
                c = n ? a.shape[a.rank - 1] : a.shape[a.rank - 2],
                l = r ? i.shape[i.rank - 2] : i.shape[i.rank - 1],
                p = a.shape.slice(0, -2),
                h = i.shape.slice(0, -2),
                d = D(p),
                f = D(h);
              I(a.rank >= 2 && i.rank >= 2 && a.rank === i.rank, function () {
                return (
                  "Error in matMul: inputs must have the same rank of at least 2, got ranks " +
                  a.rank +
                  " and " +
                  i.rank +
                  "."
                );
              }),
                I(N(p, h), function () {
                  return (
                    "Error in matMul: outer dimensions (" +
                    p +
                    ") and (" +
                    h +
                    ") of Tensors with shapes " +
                    a.shape +
                    " and " +
                    i.shape +
                    " must match."
                  );
                }),
                I(s === u, function () {
                  return (
                    "Error in matMul: inner shapes (" +
                    s +
                    ") and (" +
                    u +
                    ") of Tensors with shapes " +
                    a.shape +
                    " and " +
                    i.shape +
                    " and transposeA=" +
                    n +
                    " and transposeB=" +
                    r +
                    " must match."
                  );
                });
              var v = a.shape.slice(0, -2).concat([c, l]),
                m = n ? a.as3D(d, s, c) : a.as3D(d, c, s),
                g = r ? i.as3D(f, l, u) : i.as3D(f, u, l),
                x = { transposeA: n, transposeB: r };
              return Ut.runKernelFunc(
                function (t, e) {
                  var o = t.batchMatMul(m, g, n, r);
                  return e([m, g]), o;
                },
                { a: m, b: g },
                function (t, e) {
                  var o = e,
                    a = o[0],
                    i = o[1];
                  return n || r
                    ? !n && r
                      ? {
                          a: function () {
                            return t.matMul(i, !1, !1);
                          },
                          b: function () {
                            return t.matMul(a, !0, !1);
                          },
                        }
                      : n && !r
                      ? {
                          a: function () {
                            return i.matMul(t, !1, !0);
                          },
                          b: function () {
                            return a.matMul(t, !1, !1);
                          },
                        }
                      : {
                          a: function () {
                            return i.matMul(t, !0, !0);
                          },
                          b: function () {
                            return t.matMul(a, !0, !0);
                          },
                        }
                    : {
                        a: function () {
                          return t.matMul(i, !1, !0);
                        },
                        b: function () {
                          return a.matMul(t, !0, !1);
                        },
                      };
                },
                "BatchMatMul",
                x
              ).reshape(v);
            },
          }),
          al = Tn({
            dot_: function (t, e) {
              var n = yn(t, "t1", "dot"),
                r = yn(e, "t2", "dot");
              I(
                !(
                  (1 !== n.rank && 2 !== n.rank) ||
                  (1 !== r.rank && 2 !== r.rank)
                ),
                function () {
                  return (
                    "Error in dot: inputs must all be rank 1 or 2, but got ranks " +
                    n.rank +
                    " and " +
                    r.rank +
                    "."
                  );
                }
              );
              var o = 1 === n.rank ? n.size : n.shape[1],
                a = 1 === r.rank ? r.size : r.shape[0];
              return (
                I(o === a, function () {
                  return (
                    "Error in dot: inner dimensions of inputs must match, but got " +
                    o +
                    " and " +
                    a +
                    "."
                  );
                }),
                1 === n.rank && 1 === r.rank
                  ? n.as2D(1, -1).matMul(r.as2D(-1, 1)).asScalar()
                  : 1 === n.rank && 2 === r.rank
                  ? n.as2D(1, -1).matMul(r.as2D(r.shape[0], r.shape[1])).as1D()
                  : 2 === n.rank && 1 === r.rank
                  ? n.matMul(r.as2D(-1, 1)).as1D()
                  : n.matMul(r.as2D(r.shape[0], r.shape[1]))
              );
            },
          }),
          il = Tn({
            outerProduct_: function (t, e) {
              var n = yn(t, "v1", "outerProduct"),
                r = yn(e, "v2", "outerProduct");
              return (
                I(1 === n.rank && 1 === r.rank, function () {
                  return (
                    "Error in outerProduct: inputs must be rank 1, but got ranks " +
                    n.rank +
                    " and " +
                    r.rank +
                    "."
                  );
                }),
                n.as2D(-1, 1).matMul(r.as2D(1, -1))
              );
            },
          });
        (exports.outerProduct = il), (exports.dot = al), (exports.matMul = ol);
        var sl = Tn({
            reverse_: function (t, e) {
              var n = yn(t, "x", "reverse");
              if (0 === n.rank) return n.clone();
              var r = P(e, n.shape);
              return Ut.runKernelFunc(
                function (t) {
                  return t.reverse(n, r);
                },
                { $x: n },
                function (t) {
                  return {
                    $x: function () {
                      return t.reverse(r);
                    },
                  };
                }
              ).reshapeAs(n);
            },
          }),
          ul = Tn({
            reverse1d_: function (t) {
              var e = yn(t, "x", "reverse");
              return (
                I(1 === e.rank, function () {
                  return (
                    "Error in reverse1D: x must be rank 1 but got rank " +
                    e.rank +
                    "."
                  );
                }),
                sl(e, 0)
              );
            },
          }),
          cl = Tn({
            reverse2d_: function (t, e) {
              var n = yn(t, "x", "reverse");
              return (
                I(2 === n.rank, function () {
                  return (
                    "Error in reverse2D: x must be rank 2 but got rank " +
                    n.rank +
                    "."
                  );
                }),
                sl(n, e)
              );
            },
          }),
          ll = Tn({
            reverse3d_: function (t, e) {
              var n = yn(t, "x", "reverse");
              return (
                I(3 === n.rank, function () {
                  return (
                    "Error in reverse3D: x must be rank 3 but got rank " +
                    n.rank +
                    "."
                  );
                }),
                sl(n, e)
              );
            },
          }),
          pl = Tn({
            reverse4d_: function (t, e) {
              var n = yn(t, "x", "reverse");
              return (
                I(4 === n.rank, function () {
                  return (
                    "Error in reverse4D: x must be rank 4 but got rank " +
                    n.rank +
                    "."
                  );
                }),
                sl(n, e)
              );
            },
          });
        function hl(t, e, n, r, o, a) {
          var i = yn(t, "x", "maxPool"),
            s = i,
            u = !1;
          3 === i.rank &&
            ((u = !0), (s = i.as4D(1, i.shape[0], i.shape[1], i.shape[2]))),
            null == r && (r = [1, 1]),
            I(4 === s.rank, function () {
              return (
                "Error in maxPool: input must be rank 4 but got rank " +
                s.rank +
                "."
              );
            }),
            I(Lo(n, r), function () {
              return (
                "Error in maxPool: Either strides or dilations must be 1. Got strides " +
                n +
                " and dilations '" +
                r +
                "'"
              );
            }),
            null != a &&
              I(T(o), function () {
                return (
                  "Error in maxPool: pad must be an integer when using, dimRoundingMode " +
                  a +
                  " but got pad " +
                  o +
                  "."
                );
              });
          var c = Ao(s.shape, e, n, r, o, a);
          if (
            1 === c.filterWidth &&
            1 === c.filterHeight &&
            N(c.inShape, c.outShape)
          )
            return i.clone();
          var l = [s],
            p = Ut.runKernelFunc(
              function (t, e) {
                var n = t.maxPool(s, c);
                return e([s, n]), n;
              },
              { x: s },
              function (t, a) {
                var i = a[0],
                  s = a[1];
                return {
                  x: function () {
                    return (function (t, e, n, r, o, a, i, s) {
                      var u = yn(t, "dy", "maxPoolBackprop"),
                        c = yn(e, "input", "maxPoolBackprop"),
                        l = yn(n, "output", "maxPoolBackprop");
                      I(c.rank === u.rank, function () {
                        return (
                          "Rank of input (" +
                          c.rank +
                          ") does not match rank of dy (" +
                          u.rank +
                          ")"
                        );
                      }),
                        null == a && (a = [1, 1]),
                        I(Lo(o, a), function () {
                          return (
                            "Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides " +
                            o +
                            " and dilations '" +
                            a +
                            "'"
                          );
                        }),
                        I(4 === u.rank, function () {
                          return (
                            "Error in maxPoolBackprop: dy must be rank 4 but got rank " +
                            u.rank +
                            "."
                          );
                        }),
                        I(4 === c.rank, function () {
                          return (
                            "Error in maxPoolBackprop: input must be rank 4 but got rank " +
                            c.rank +
                            "."
                          );
                        });
                      var p = Ao(c.shape, r, o, a, i, s);
                      return Ut.runKernelFunc(
                        function (t) {
                          return t.maxPoolBackprop(u, c, l, p);
                        },
                        { $dy: u, $input: c }
                      );
                    })(t, i, s, e, n, r, o);
                  },
                };
              },
              "MaxPool",
              c,
              l
            );
          return u ? p.as3D(p.shape[1], p.shape[2], p.shape[3]) : p;
        }
        function dl(t, e, n, r, o, a) {
          var i = yn(t, "x", "avgPool", "float32");
          null == r && (r = [1, 1]),
            I(Lo(n, r), function () {
              return (
                "Error in avgPool: Either strides or dilations must be 1. Got strides " +
                n +
                " and dilations '" +
                r +
                "'"
              );
            });
          var s = i,
            u = !1;
          3 === i.rank &&
            ((u = !0), (s = i.as4D(1, i.shape[0], i.shape[1], i.shape[2]))),
            I(4 === s.rank, function () {
              return (
                "Error in avgPool: x must be rank 4 but got rank " +
                s.rank +
                "."
              );
            }),
            null != a &&
              I(T(o), function () {
                return (
                  "Error in avgPool: pad must be an integer when using, dimRoundingMode " +
                  a +
                  " but got pad " +
                  o +
                  "."
                );
              });
          var c = Ao(s.shape, e, n, r, o, a);
          if (
            1 === c.filterWidth &&
            1 === c.filterHeight &&
            N(c.inShape, c.outShape)
          )
            return i.clone();
          var l = Ut.runKernelFunc(
            function (t) {
              return t.avgPool(s, c);
            },
            { x: s },
            function (t) {
              return {
                x: function () {
                  return (function (t, e, n, r, o, a) {
                    var i = yn(t, "dy", "avgPoolBackprop"),
                      s = yn(e, "input", "avgPoolBackprop");
                    I(s.rank === i.rank, function () {
                      return (
                        "Rank of input (" +
                        s.rank +
                        ") does not match rank of dy (" +
                        i.rank +
                        ")"
                      );
                    }),
                      null == o && (o = [1, 1]),
                      I(Lo(r, o), function () {
                        return (
                          "Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides " +
                          r +
                          " and dilations '" +
                          o +
                          "'"
                        );
                      });
                    var u = s,
                      c = i,
                      l = !1;
                    3 === s.rank &&
                      ((l = !0),
                      (u = s.as4D(1, s.shape[0], s.shape[1], s.shape[2])),
                      (c = i.as4D(1, i.shape[0], i.shape[1], i.shape[2]))),
                      I(4 === c.rank, function () {
                        return (
                          "Error in avgPoolBackprop: dy must be rank 4 but got rank " +
                          c.rank +
                          "."
                        );
                      }),
                      I(4 === u.rank, function () {
                        return (
                          "Error in avgPoolBackprop: input must be rank 4 but got rank " +
                          u.rank +
                          "."
                        );
                      });
                    var p = Ao(u.shape, n, r, o, a),
                      h = Ut.runKernelFunc(
                        function (t) {
                          return t.avgPoolBackprop(c, u, p);
                        },
                        { dy4D: c, input4D: u }
                      );
                    return l ? h.as3D(h.shape[1], h.shape[2], h.shape[3]) : h;
                  })(t, s, e, n, r, o);
                },
              };
            },
            "AvgPool",
            c
          );
          return (
            (l = l.cast(i.dtype)),
            u ? l.as3D(l.shape[1], l.shape[2], l.shape[3]) : l
          );
        }
        (exports.reverse4d = pl),
          (exports.reverse3d = ll),
          (exports.reverse2d = cl),
          (exports.reverse1d = ul),
          (exports.reverse = sl);
        var fl = Tn({
            maxPool_: function (t, e, n, r, o) {
              return hl(t, e, n, 1, r, o);
            },
          }),
          vl = Tn({
            avgPool_: function (t, e, n, r, o) {
              return dl(t, e, n, 1, r, o);
            },
          }),
          ml = Tn({
            pool_: function (t, e, n, r, o, a) {
              null == o && (o = [1, 1]),
                null == a && (a = 1),
                0 === r && (r = "valid");
              var i = yn(t, "x", "maxPool"),
                s = i,
                u = !1;
              3 === i.rank &&
                ((u = !0), (s = i.as4D(1, i.shape[0], i.shape[1], i.shape[2]))),
                I(Lo(a, o), function () {
                  return (
                    "Error in pool: Either strides or dilations must be 1. Got strides " +
                    a +
                    " and dilations '" +
                    o +
                    "'"
                  );
                });
              var c,
                l = Ao(s.shape, e, a, o, r),
                p = [l.dilationHeight, l.dilationWidth];
              c =
                "same" === r
                  ? (function (t, e) {
                      var n = t
                          .map(function (t, n) {
                            return t + (t - 1) * (e[n] - 1);
                          })
                          .map(function (t) {
                            return t - 1;
                          }),
                        r = n.map(function (t) {
                          return Math.floor(t / 2);
                        }),
                        o = n.map(function (t, e) {
                          return t - r[e];
                        });
                      return n.map(function (t, e) {
                        return [r[e], o[e]];
                      });
                    })([l.filterHeight, l.filterWidth], p)
                  : [
                      [0, 0],
                      [0, 0],
                    ];
              var h = 1 === p[0] && 1 === p[1],
                d = (function (t, e, n) {
                  var r = n.map(function (t) {
                      return t[0];
                    }),
                    o = n.map(function (t) {
                      return t[1];
                    }),
                    a = t.concat(r, o),
                    i = e.map(function (t, e) {
                      return (t - (a[e] % t)) % t;
                    }),
                    s = o.map(function (t, e) {
                      return t + i[e];
                    });
                  return [
                    e.map(function (t, e) {
                      return [r[e], s[e]];
                    }),
                    e.map(function (t, e) {
                      return [0, i[e]];
                    }),
                  ];
                })([l.inHeight, l.inWidth], p, c),
                f = d[0],
                v = d[1],
                m = h ? r : "valid",
                g = h ? s : Lr(s, p, f),
                x = (
                  "avg" === n
                    ? function () {
                        return dl(g, e, a, 1, m);
                      }
                    : function () {
                        return hl(g, e, a, 1, m);
                      }
                )(),
                y = h ? x : xr(x, p, v);
              return u ? y.as3D(y.shape[1], y.shape[2], y.shape[3]) : y;
            },
          }),
          gl = Tn({
            maxPool3d_: function (t, e, n, r, o, a, i) {
              void 0 === a && (a = "NDHWC");
              var s = yn(t, "x", "maxPool3d"),
                u = s,
                c = !1;
              4 === s.rank &&
                ((c = !0),
                (u = s.as5D(
                  1,
                  s.shape[0],
                  s.shape[1],
                  s.shape[2],
                  s.shape[3]
                ))),
                null == i && (i = [1, 1, 1]),
                I(5 === u.rank, function () {
                  return (
                    "Error in maxPool3d: x must be rank 5 but got rank " +
                    u.rank +
                    "."
                  );
                }),
                I("NDHWC" === a, function () {
                  return (
                    "Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of " +
                    a
                  );
                }),
                I(Lo(n, i), function () {
                  return (
                    "Error in maxPool3d: Either strides or dilations must be 1. Got strides " +
                    n +
                    " and dilations '" +
                    i +
                    "'"
                  );
                }),
                null != o &&
                  I(T(r), function () {
                    return (
                      "Error in maxPool3d: pad must be an integer when using, dimRoundingMode " +
                      o +
                      " but got pad " +
                      r +
                      "."
                    );
                  });
              var l = Do(u.shape, e, n, i, r, o, a),
                p = Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.maxPool3d(u, l);
                    return e([u, n]), n;
                  },
                  { x: u },
                  function (t, a) {
                    var s = a[0],
                      u = a[1];
                    return {
                      x: function () {
                        return (function (t, e, n, r, o, a, i, s) {
                          var u = yn(t, "dy", "maxPool3dBackprop"),
                            c = yn(e, "input", "maxPool3dBackprop"),
                            l = yn(n, "output", "maxPool3dBackprop"),
                            p = u,
                            h = c,
                            d = l,
                            f = !1;
                          4 === c.rank &&
                            ((f = !0),
                            (p = u.as5D(
                              1,
                              u.shape[0],
                              u.shape[1],
                              u.shape[2],
                              u.shape[3]
                            )),
                            (h = c.as5D(
                              1,
                              c.shape[0],
                              c.shape[1],
                              c.shape[2],
                              c.shape[3]
                            )),
                            (d = l.as5D(
                              1,
                              l.shape[0],
                              l.shape[1],
                              l.shape[2],
                              l.shape[3]
                            ))),
                            I(5 === p.rank, function () {
                              return (
                                "Error in maxPool3dBackprop: dy must be rank 5 but got rank " +
                                p.rank +
                                "."
                              );
                            }),
                            I(5 === h.rank, function () {
                              return (
                                "Error in maxPool3dBackprop: input must be rank 5 but got rank " +
                                h.rank +
                                "."
                              );
                            }),
                            I(5 === d.rank, function () {
                              return (
                                "Error in maxPool3dBackprop: output must be rank 5 but got rank " +
                                d.rank +
                                "."
                              );
                            }),
                            null == a && (a = [1, 1, 1]),
                            I(Lo(o, a), function () {
                              return (
                                "Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides " +
                                o +
                                " and dilations '" +
                                a +
                                "'"
                              );
                            }),
                            null != s &&
                              I(T(i), function () {
                                return (
                                  "Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode " +
                                  s +
                                  " but got pad " +
                                  i +
                                  "."
                                );
                              });
                          var v = Do(h.shape, r, o, a, i, s),
                            m = Ut.runKernelFunc(
                              function (t) {
                                return t.maxPool3dBackprop(p, h, d, v);
                              },
                              { dy5D: p, input5D: h }
                            );
                          return f
                            ? m.as4D(
                                m.shape[1],
                                m.shape[2],
                                m.shape[3],
                                m.shape[4]
                              )
                            : m;
                        })(t, s, u, e, n, i, r, o);
                      },
                    };
                  }
                );
              return c
                ? p.as4D(p.shape[1], p.shape[2], p.shape[3], p.shape[4])
                : p;
            },
          }),
          xl = Tn({
            avgPool3d_: function (t, e, n, r, o, a, i) {
              void 0 === a && (a = "NDHWC");
              var s = yn(t, "x", "avgPool3d", "float32"),
                u = s,
                c = !1;
              4 === s.rank &&
                ((c = !0),
                (u = s.as5D(
                  1,
                  s.shape[0],
                  s.shape[1],
                  s.shape[2],
                  s.shape[3]
                ))),
                null == i && (i = [1, 1, 1]),
                I(5 === u.rank, function () {
                  return (
                    "Error in avgPool3d: x must be rank 5 but got rank " +
                    u.rank +
                    "."
                  );
                }),
                I("NDHWC" === a, function () {
                  return (
                    "Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of " +
                    a
                  );
                }),
                I(Lo(n, i), function () {
                  return (
                    "Error in avgPool3d: Either strides or dilations must be 1. Got strides " +
                    n +
                    " and dilations '" +
                    i +
                    "'"
                  );
                }),
                null != o &&
                  I(T(r), function () {
                    return (
                      "Error in avgPool3d: pad must be an integer when using, dimRoundingMode " +
                      o +
                      " but got pad " +
                      r +
                      "."
                    );
                  });
              var l = Do(u.shape, e, n, i, r, o, a),
                p = Ut.runKernelFunc(
                  function (t) {
                    return t.avgPool3d(u, l);
                  },
                  { x: u },
                  function (t) {
                    return {
                      x: function () {
                        return (function (t, e, n, r, o, a, i) {
                          var s = yn(t, "dy", "avgPool3dBackprop"),
                            u = yn(e, "input", "avgPool3dBackprop"),
                            c = s,
                            l = u,
                            p = !1;
                          4 === u.rank &&
                            ((p = !0),
                            (c = s.as5D(
                              1,
                              s.shape[0],
                              s.shape[1],
                              s.shape[2],
                              s.shape[3]
                            )),
                            (l = u.as5D(
                              1,
                              u.shape[0],
                              u.shape[1],
                              u.shape[2],
                              u.shape[3]
                            ))),
                            I(5 === c.rank, function () {
                              return (
                                "Error in avgPool3dBackprop: dy must be rank 5 but got rank " +
                                c.rank +
                                "."
                              );
                            }),
                            I(5 === l.rank, function () {
                              return (
                                "Error in avgPool3dBackprop: input must be rank 5 but got rank " +
                                l.rank +
                                "."
                              );
                            }),
                            null == o && (o = [1, 1, 1]),
                            I(Lo(r, o), function () {
                              return (
                                "Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides " +
                                r +
                                " and dilations '" +
                                o +
                                "'"
                              );
                            }),
                            null != i &&
                              I(T(a), function () {
                                return (
                                  "Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode " +
                                  i +
                                  " but got pad " +
                                  a +
                                  "."
                                );
                              });
                          var h = Do(l.shape, n, r, o, a, i),
                            d = Ut.runKernelFunc(
                              function (t) {
                                return t.avgPool3dBackprop(c, l, h);
                              },
                              { dy5D: c, input5D: l }
                            );
                          return p
                            ? d.as4D(
                                d.shape[1],
                                d.shape[2],
                                d.shape[3],
                                d.shape[4]
                              )
                            : d;
                        })(t, u, e, n, i, r, o);
                      },
                    };
                  }
                );
              return (
                (p = p.cast(u.dtype)),
                c ? p.as4D(p.shape[1], p.shape[2], p.shape[3], p.shape[4]) : p
              );
            },
          });
        (exports.avgPool3d = xl),
          (exports.maxPool3d = gl),
          (exports.pool = ml),
          (exports.avgPool = vl),
          (exports.maxPool = fl);
        var yl = Tn({
            slice_: function (t, e, n) {
              var r,
                o,
                a = yn(t, "x", "slice");
              if (0 === a.rank)
                throw new Error("Slicing scalar is not possible");
              (r =
                "number" == typeof e
                  ? [e].concat(new Array(a.rank - 1).fill(0))
                  : e.length < a.rank
                  ? e.concat(new Array(a.rank - e.length).fill(0))
                  : e.slice()).forEach(function (t) {
                I(-1 !== t, function () {
                  return "slice() does not support negative begin indexing.";
                });
              }),
                (o = (o =
                  null == n
                    ? new Array(a.rank).fill(-1)
                    : "number" == typeof n
                    ? [n].concat(new Array(a.rank - 1).fill(-1))
                    : n.length < a.rank
                    ? n.concat(new Array(a.rank - n.length).fill(-1))
                    : n).map(function (t, e) {
                  return t >= 0
                    ? t
                    : (I(-1 === t, function () {
                        return (
                          "Negative size values should be exactly -1 but got " +
                          t +
                          " for the slice() size at index " +
                          e +
                          "."
                        );
                      }),
                      a.shape[e] - r[e]);
                })),
                oo(a, r, o);
              var i = a.shape,
                s = { begin: r, size: o };
              return Ut.runKernelFunc(
                function (t) {
                  return t.slice(a, r, o);
                },
                { x: a },
                function (t) {
                  for (var e = [], n = 0; n < t.rank; n++)
                    e.push([r[n], i[n] - r[n] - o[n]]);
                  return {
                    x: function () {
                      return t.pad(e);
                    },
                  };
                },
                "Slice",
                s
              );
            },
          }),
          bl = Tn({
            slice1d_: function (t, e, n) {
              var r = yn(t, "x", "slice1d");
              return (
                I(1 === r.rank, function () {
                  return (
                    "slice1d expects a rank-1 tensor, but got a rank-" +
                    r.rank +
                    " tensor"
                  );
                }),
                yl(r, [e], [n])
              );
            },
          }),
          wl = Tn({
            slice2d_: function (t, e, n) {
              var r = yn(t, "x", "slice2d");
              return (
                I(2 === r.rank, function () {
                  return (
                    "slice2d expects a rank-2 tensor, but got a rank-" +
                    r.rank +
                    " tensor"
                  );
                }),
                yl(r, e, n)
              );
            },
          }),
          Cl = Tn({
            slice3d_: function (t, e, n) {
              var r = yn(t, "x", "slice3d");
              return (
                I(3 === r.rank, function () {
                  return (
                    "slice3d expects a rank-3 tensor, but got a rank-" +
                    r.rank +
                    " tensor"
                  );
                }),
                yl(r, e, n)
              );
            },
          }),
          El = Tn({
            slice4d_: function (t, e, n) {
              var r = yn(t, "x", "slice4d");
              return (
                I(4 === r.rank, function () {
                  return (
                    "slice4d expects a rank-4 tensor, but got a rank-" +
                    r.rank +
                    " tensor"
                  );
                }),
                yl(r, e, n)
              );
            },
          });
        function Rl(t, e, n, r, o) {
          return (
            e.rank < n.rank && (e = e.reshape(Rn(e.shape, r))),
            t.rank < n.rank && (t = t.reshape(Rn(t.shape, r))),
            {
              x: function () {
                var r = t.mul(n.equal(e).cast(t.dtype));
                return null == o ? r : r.transpose(o);
              },
            }
          );
        }
        (exports.slice4d = El),
          (exports.slice3d = Cl),
          (exports.slice2d = wl),
          (exports.slice1d = bl),
          (exports.slice = yl);
        var Il = Tn({
            all_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = yn(t, "x", "all", "bool"),
                o = P(e, r.shape),
                a = o,
                i = kn(a, r.rank);
              null != i && ((r = r.transpose(i)), (a = An(a.length, r.rank)));
              var s = Ut.runKernelFunc(
                function (t) {
                  return t.all(r, a);
                },
                { $x: r }
              );
              if (n) {
                var u = Rn(s.shape, o);
                return s.reshape(u);
              }
              return s;
            },
          }),
          kl = Tn({
            any_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = yn(t, "x", "any", "bool"),
                o = P(e, r.shape),
                a = o,
                i = kn(a, r.rank);
              null != i && ((r = r.transpose(i)), (a = An(a.length, r.rank)));
              var s = Ut.runKernelFunc(
                function (t) {
                  return t.any(r, a);
                },
                { $x: r }
              );
              if (n) {
                var u = Rn(s.shape, o);
                return s.reshape(u);
              }
              return s;
            },
          }),
          Sl = Tn({
            argMax_: function (t, e) {
              void 0 === e && (e = 0);
              var n = yn(t, "x", "argMax");
              null == e && (e = 0);
              var r = P(e, n.shape),
                o = kn(r, n.rank);
              null != o && ((n = n.transpose(o)), (r = An(r.length, n.rank)));
              var a = { axis: r[0] },
                i = [n];
              return Ut.runKernelFunc(
                function (t, e) {
                  var o = t.argMax(n, r[0]);
                  return e([n]), o;
                },
                { x: n },
                function (t, e) {
                  var n = e[0];
                  return {
                    x: function () {
                      return Qn(n);
                    },
                  };
                },
                "ArgMax",
                a,
                i
              );
            },
          }),
          Al = Tn({
            argMin_: function (t, e) {
              void 0 === e && (e = 0);
              var n = yn(t, "x", "argMin");
              null == e && (e = 0);
              var r = P(e, n.shape),
                o = kn(r, n.rank);
              return (
                null != o && ((n = n.transpose(o)), (r = An(r.length, n.rank))),
                Ut.runKernelFunc(
                  function (t, e) {
                    var o = t.argMin(n, r[0]);
                    return e([n]), o;
                  },
                  { $x: n },
                  function (t, e) {
                    var n = e[0];
                    return {
                      $x: function () {
                        return Qn(n);
                      },
                    };
                  }
                )
              );
            },
          }),
          Dl = Tn({
            logSumExp_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = yn(t, "x", "logSumExp"),
                o = P(e, r.shape),
                a = r.max(o, !0),
                i = r.sub(a).exp().sum(o).log(),
                s = a.reshape(i.shape).add(i);
              if (n) {
                var u = Rn(s.shape, o);
                return s.reshape(u);
              }
              return s;
            },
          }),
          Nl = Tn({
            max_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = yn(t, "x", "max"),
                o = r,
                a = P(e, r.shape),
                i = a,
                s = kn(i, r.rank);
              null != s && ((r = r.transpose(s)), (i = An(i.length, r.rank)));
              var u = [r],
                c = Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.max(r, i);
                    return e([o, n]), n;
                  },
                  { x: r },
                  function (t, e) {
                    return Rl(t, e[1], e[0], a, s);
                  },
                  "Max",
                  { axes: i },
                  u,
                  [!0]
                );
              if (n) {
                var l = Rn(c.shape, a);
                c = c.reshape(l);
              }
              return c;
            },
          }),
          Tl = Tn({
            mean_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = yn(t, "x", "mean"),
                o = P(e, r.shape),
                a = D(En(r.shape, o)[1]);
              return xo(function (t) {
                var r = Pn(a);
                return {
                  value: (r.dtype === t.dtype ? t : t.cast(r.dtype))
                    .div(r)
                    .sum(e, n),
                  gradFunc: function (e) {
                    var n = t.shape.slice();
                    return (
                      o.forEach(function (t) {
                        n[t] = 1;
                      }),
                      e.reshape(n).mul(Hn(t.shape, "float32")).div(a)
                    );
                  },
                };
              })(r);
            },
          }),
          Fl = Tn({
            min_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = yn(t, "x", "min"),
                o = r,
                a = P(e, r.shape),
                i = a,
                s = kn(i, r.rank);
              null != s && ((r = r.transpose(s)), (i = An(i.length, r.rank)));
              var u = [r],
                c = Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.min(r, i);
                    return e([o, n]), n;
                  },
                  { x: r },
                  function (t, e) {
                    return Rl(t, e[1], e[0], a, s);
                  },
                  "Min",
                  { axes: i },
                  u,
                  [!0]
                );
              if (n) {
                var l = Rn(c.shape, a);
                c = c.reshape(l);
              }
              return c;
            },
          }),
          _l = Tn({
            moments_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = P(e, (t = yn(t, "x", "moments")).shape),
                o = t.mean(r, n),
                a = o.shape;
              n || (a = Rn(o.shape, r));
              var i = t.toFloat().sub(o.reshape(a)).square();
              return { mean: o, variance: i.mean(r, n) };
            },
          }),
          Ol = Tn({
            sum_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = yn(t, "x", "sum");
              "bool" === r.dtype && (r = r.toInt());
              var o = P(e, r.shape);
              return xo(function (t) {
                var e = kn(o, t.rank),
                  r = o,
                  a = t;
                null != e && ((a = t.transpose(e)), (r = An(r.length, t.rank)));
                var i = function (e) {
                    var n = t.shape.slice();
                    return (
                      o.forEach(function (t) {
                        n[t] = 1;
                      }),
                      e.reshape(n).mul(Hn(t.shape, "float32"))
                    );
                  },
                  s = { axes: r },
                  u = Ut.runKernelFunc(
                    function (t) {
                      return t.sum(a, r);
                    },
                    { x: a },
                    function (t) {
                      return {
                        x: function () {
                          return i(t);
                        },
                      };
                    },
                    "Sum",
                    s
                  );
                if (n) {
                  var c = Rn(u.shape, o);
                  u = u.reshape(c);
                }
                return { value: u, gradFunc: i };
              })(r);
            },
          }),
          Ml = Tn({
            prod_: function (t, e, n) {
              void 0 === e && (e = null), void 0 === n && (n = !1);
              var r = yn(t, "x", "prod");
              "bool" === r.dtype && (r = r.toInt());
              var o = P(e, r.shape),
                a = kn(o, r.rank),
                i = o,
                s = r;
              null != a && ((s = r.transpose(a)), (i = An(i.length, r.rank)));
              var u = Ut.runKernelFunc(
                function (t) {
                  return t.prod(s, i);
                },
                { permutedX: s }
              );
              if (n) {
                var c = Rn(u.shape, o);
                u = u.reshape(c);
              }
              return u;
            },
          });
        (exports.prod = Ml),
          (exports.sum = Ol),
          (exports.moments = _l),
          (exports.min = Fl),
          (exports.mean = Tl),
          (exports.max = Nl),
          (exports.logSumExp = Dl),
          (exports.argMin = Al),
          (exports.argMax = Sl),
          (exports.any = kl),
          (exports.all = Il);
        var Bl = Tn({
            elu_: function (t) {
              var e = yn(t, "x", "elu");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.elu(e);
                  return n([r]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      return Ut.runKernelFunc(
                        function (e) {
                          return e.eluDer(t, n);
                        },
                        { dy: t, y: n }
                      );
                    },
                  };
                }
              );
            },
          }),
          Pl = Tn({
            leakyRelu_: function (t, e) {
              void 0 === e && (e = 0.2);
              var n = yn(t, "x", "leakyRelu");
              return fc(Pn(e).mul(n), n);
            },
          }),
          Ll = Tn({
            prelu_: function (t, e) {
              var n = yn(t, "x", "prelu"),
                r = yn(e, "alpha", "prelu");
              return Ut.runKernelFunc(
                function (t, e) {
                  var o = t.prelu(n, r);
                  return e([n, r]), o;
                },
                { x: n, alpha: r },
                function (t, e) {
                  var n = e[0],
                    r = e[1],
                    o = n.greater(0);
                  return {
                    x: function () {
                      return oc(o, t, t.mul(r));
                    },
                    alpha: function () {
                      var e = oc(o, Qn(t), t.mul(n)),
                        a = ko(r.shape, t.shape);
                      return a.length > 0 && (e = e.sum(a)), e.reshape(r.shape);
                    },
                  };
                },
                "Prelu"
              );
            },
          }),
          Wl = Tn({
            relu_: function (t) {
              var e = yn(t, "x", "relu");
              return "bool" === e.dtype
                ? e.toInt()
                : Ut.runKernelFunc(
                    function (t, n) {
                      var r = t.relu(e);
                      return n([e]), r;
                    },
                    { x: e },
                    function (t, e) {
                      var n = e[0];
                      return {
                        x: function () {
                          return t.mulStrict(n.step().toFloat());
                        },
                      };
                    },
                    "Relu"
                  );
            },
          }),
          zl = Tn({
            relu6_: function (t) {
              var e = yn(t, "x", "relu6");
              return "bool" === e.dtype
                ? e.toInt()
                : Ut.runKernelFunc(
                    function (t, n) {
                      var r = t.relu6(e);
                      return n([e]), r;
                    },
                    { x: e },
                    function (t, e) {
                      var n = e[0],
                        r = n.lessEqual(6).mul(n.step());
                      return {
                        x: function () {
                          return t.mulStrict(r.toFloat());
                        },
                      };
                    },
                    "Relu6"
                  );
            },
          }),
          Ul = Tn({
            selu_: function (t) {
              var e = yn(t, "x", "selu");
              return Ut.runKernelFunc(
                function (t, n) {
                  var r = t.selu(e);
                  return n([e]), r;
                },
                { $x: e },
                function (t, e) {
                  var n = e[0];
                  return {
                    $x: function () {
                      var e = n.greater(Pn(0)),
                        r = Pn(Es),
                        o = Pn(Rs),
                        a = t.mul(o),
                        i = t.mul(r).mul(n.toFloat().exp());
                      return oc(e, a, i);
                    },
                  };
                }
              );
            },
          });
        (exports.selu = Ul),
          (exports.relu6 = zl),
          (exports.relu = Wl),
          (exports.prelu = Ll),
          (exports.leakyRelu = Pl),
          (exports.elu = Bl);
        var Vl = Tn({
          transpose_: function (t, e) {
            var n = yn(t, "x", "transpose");
            if (
              (null == e &&
                (e = n.shape
                  .map(function (t, e) {
                    return e;
                  })
                  .reverse()),
              I(n.rank === e.length, function () {
                return (
                  "Error in transpose: rank of input " +
                  n.rank +
                  " must match length of perm " +
                  e +
                  "."
                );
              }),
              e.forEach(function (t) {
                I(t >= 0 && t < n.rank, function () {
                  return (
                    "All entries in 'perm' must be between 0 and " +
                    (n.rank - 1) +
                    " but got " +
                    e
                  );
                });
              }),
              n.rank <= 1)
            )
              return n.clone();
            var r = { perm: e };
            return Ut.runKernelFunc(
              function (t) {
                return t.transpose(n, e);
              },
              { x: n },
              function (t) {
                var n = Sn(e);
                return {
                  x: function () {
                    return t.transpose(n);
                  },
                };
              },
              "Transpose",
              r
            );
          },
        });
        exports.transpose = Vl;
        var Gl = Tn({
          localResponseNormalization_: function (t, e, n, r, o) {
            void 0 === e && (e = 5),
              void 0 === n && (n = 1),
              void 0 === r && (r = 1),
              void 0 === o && (o = 0.5);
            var a = yn(t, "x", "localResponseNormalization");
            I(4 === a.rank || 3 === a.rank, function () {
              return (
                "Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank " +
                a.rank +
                "."
              );
            }),
              I(T(e), function () {
                return (
                  "Error in localResponseNormalization: depthRadius must be an integer but got depthRadius " +
                  e +
                  "."
                );
              });
            var i = a,
              s = !1;
            3 === a.rank &&
              ((s = !0), (i = a.as4D(1, a.shape[0], a.shape[1], a.shape[2])));
            var u = Ut.runKernelFunc(
              function (t, a) {
                var s = t.localResponseNormalization4D(i, e, n, r, o);
                return a([i, s]), s;
              },
              { x4D: i },
              function (t, a) {
                var i = a[0],
                  s = a[1];
                return {
                  x4D: function () {
                    return Ut.runKernelFunc(function (a) {
                      return a.LRNGrad(t, i, s, e, n, r, o);
                    }, {});
                  },
                };
              }
            );
            return s ? u.as3D(u.shape[1], u.shape[2], u.shape[3]) : u;
          },
        });
        exports.localResponseNormalization = Gl;
        var ql = Tn({
          norm_: function (t, e, n, r) {
            void 0 === e && (e = "euclidean"),
              void 0 === n && (n = null),
              void 0 === r && (r = !1);
            var o = (function t(e, n, r) {
                if ((void 0 === r && (r = null), 0 === e.rank)) return e.abs();
                if (1 !== e.rank && null === r) return t(e.reshape([-1]), n, r);
                if (
                  1 === e.rank ||
                  "number" == typeof r ||
                  (Array.isArray(r) && 1 === r.length)
                ) {
                  if (1 === n) return e.abs().sum(r);
                  if (n === 1 / 0) return e.abs().max(r);
                  if (n === -1 / 0) return e.abs().min(r);
                  if ("euclidean" === n || 2 === n)
                    return e.abs().pow(Pn(2, "int32")).sum(r).sqrt();
                  throw new Error("Error in norm: invalid ord value: " + n);
                }
                if (Array.isArray(r) && 2 === r.length) {
                  if (1 === n)
                    return e
                      .abs()
                      .sum(r[0])
                      .max(r[1] - 1);
                  if (n === 1 / 0) return e.abs().sum(r[1]).max(r[0]);
                  if (n === -1 / 0) return e.abs().sum(r[1]).min(r[0]);
                  if ("fro" === n || "euclidean" === n)
                    return e.square().sum(r).sqrt();
                  throw new Error("Error in norm: invalid ord value: " + n);
                }
                throw new Error("Error in norm: invalid axis: " + r);
              })((t = yn(t, "x", "norm")), e, n),
              a = o.shape;
            if (r) {
              var i = P(n, t.shape);
              a = Rn(o.shape, i);
            }
            return o.reshape(a);
          },
        });
        exports.norm = ql;
        var Hl = Tn({
            basicLSTMCell_: function (t, e, n, r, o, a) {
              var i = yn(t, "forgetBias", "basicLSTMCell"),
                s = yn(e, "lstmKernel", "basicLSTMCell"),
                u = yn(n, "lstmBias", "basicLSTMCell"),
                c = yn(r, "data", "basicLSTMCell"),
                l = yn(o, "c", "basicLSTMCell"),
                p = yn(a, "h", "basicLSTMCell"),
                h = c.concat(p, 1).matMul(s).add(u),
                d = h.shape[0],
                f = h.shape[1] / 4,
                v = [d, f],
                m = h.slice([0, 0], v),
                g = h.slice([0, f], v),
                x = h.slice([0, 2 * f], v),
                y = h.slice([0, 3 * f], v),
                b = m
                  .sigmoid()
                  .mulStrict(g.tanh())
                  .addStrict(l.mulStrict(i.add(x).sigmoid())),
                w = b.tanh().mulStrict(y.sigmoid());
              return [b, w];
            },
          }),
          Kl = Tn({
            multiRNNCell_: function (t, e, n, r) {
              for (
                var o = yn(e, "data", "multiRNNCell"),
                  a = bn(n, "c", "multiRNNCell"),
                  i = bn(r, "h", "multiRNNCell"),
                  s = o,
                  u = [],
                  c = 0;
                c < t.length;
                c++
              ) {
                var l = t[c](s, a[c], i[c]);
                u.push(l[0]), u.push(l[1]), (s = l[1]);
              }
              var p = [],
                h = [];
              for (c = 0; c < u.length; c += 2) p.push(u[c]), h.push(u[c + 1]);
              return [p, h];
            },
          });
        (exports.multiRNNCell = Kl), (exports.basicLSTMCell = Hl);
        var jl = Tn({
          movingAverage_: function (t, e, n, r, o) {
            void 0 === o && (o = !0);
            var a = yn(t, "v", "movingAverage"),
              i = yn(e, "x", "movingAverage"),
              s = yn(n, "decay", "movingAverage");
            Mt(a, i),
              I(N(a.shape, i.shape), function () {
                return "Shape mismatch in v and x";
              });
            var u = Pn(1),
              c = u.sub(s),
              l = i.sub(a).mul(c);
            if (o) {
              I(null != r, function () {
                return "When using zeroDebias: true, step is required.";
              });
              var p = yn(r, "step", "movingAverage");
              l = l.div(u.sub(Cc(s, p)));
            }
            return a.add(l);
          },
        });
        exports.movingAverage = jl;
        var Xl = Tn({
          stridedSlice_: function (t, e, n, r, o, a, i, s, u) {
            if (
              (void 0 === o && (o = 0),
              void 0 === a && (a = 0),
              void 0 === i && (i = 0),
              void 0 === s && (s = 0),
              void 0 === u && (u = 0),
              null == r && (r = new Array(e.length)),
              0 !== i)
            )
              throw new Error("ellipsis mask is not yet supported");
            var c = yn(t, "x", "stridedSlice"),
              l = ao(s),
              p = c.shape.slice();
            l.forEach(function (t) {
              (e[t] = 0), (n[t] = 1), p.splice(t, 0, 1);
            }),
              (c = c.reshape(p));
            for (var h = 0; h < c.rank; h++)
              (e[h] = so(o, e, r, c.shape, h)),
                (n[h] = uo(a, n, r, c.shape, h)),
                (r[h] = r[h] || 1);
            var d = ao(u);
            d.forEach(function (t) {
              (n[t] = e[t] + 1), (r[t] = 1);
            });
            var f = io(e, n, r),
              v = f.filter(function (t, e) {
                return -1 === d.indexOf(e);
              });
            return r.every(function (t) {
              return 1 === t;
            })
              ? yl(c, e, f).reshape(v)
              : Ut.runKernelFunc(
                  function (t) {
                    return t.stridedSlice(c, e, n, r);
                  },
                  { $x: c }
                ).reshape(v);
          },
        });
        exports.stridedSlice = Xl;
        var Yl = Tn({
          topk_: function (t, e, n) {
            void 0 === e && (e = 1), void 0 === n && (n = !0);
            var r = yn(t, "x", "topk");
            if (0 === r.rank)
              throw new Error(
                "topk() expects the input to be of rank 1 or higher"
              );
            var o = r.shape[r.shape.length - 1];
            if (e > o)
              throw new Error(
                "'k' passed to topk() must be <= the last dimension (" +
                  o +
                  ") but got " +
                  e
              );
            var a = Ut.runKernelFunc(
              function (t) {
                return t.topk(r, e, n);
              },
              { $x: r }
            );
            return { values: a[0], indices: a[1] };
          },
        });
        exports.topk = Yl;
        var $l = Tn({
          scatterND_: function (t, e, n) {
            var r = yn(t, "indices", "scatterND", "int32"),
              o = yn(e, "updates", "scatterND");
            return (
              eo(o, r, n),
              Ut.runKernelFunc(
                function (t) {
                  return t.scatterND(r, o, n);
                },
                { indices: r, updates: o },
                null,
                "ScatterNd",
                { shape: n }
              )
            );
          },
        });
        exports.scatterND = $l;
        var Ql = Tn({
            fft_: function (t) {
              I("complex64" === t.dtype, function () {
                return (
                  "The dtype for tf.spectral.fft() must be complex64 but got " +
                  t.dtype +
                  "."
                );
              });
              var e = t.shape[t.shape.length - 1],
                n = t.size / e,
                r = t.as2D(n, e);
              return Ut.runKernelFunc(
                function (t) {
                  return t.fft(r);
                },
                { input: t }
              ).reshape(t.shape);
            },
          }),
          Jl = Tn({
            ifft_: function (t) {
              I("complex64" === t.dtype, function () {
                return (
                  "The dtype for tf.spectral.ifft() must be complex64 but got " +
                  t.dtype +
                  "."
                );
              });
              var e = t.shape[t.shape.length - 1],
                n = t.size / e,
                r = t.as2D(n, e);
              return Ut.runKernelFunc(
                function (t) {
                  return t.ifft(r);
                },
                { input: t }
              ).reshape(t.shape);
            },
          }),
          Zl = Tn({
            rfft_: function (t, e) {
              I("float32" === t.dtype, function () {
                return (
                  "The dtype for rfft() must be real value but got " + t.dtype
                );
              });
              var n,
                r = t.shape[t.shape.length - 1],
                o = t.size / r;
              if (null != e && e < r) {
                var a = t.shape.map(function (t) {
                    return 0;
                  }),
                  i = t.shape.map(function (t) {
                    return t;
                  });
                (i[t.shape.length - 1] = e), (n = t.slice(a, i)), (r = e);
              } else if (null != e && e > r) {
                var s = t.shape.map(function (t) {
                  return t;
                });
                (s[t.shape.length - 1] = e - r),
                  (n = t.concat(Kn(s), t.shape.length - 1)),
                  (r = e);
              } else n = t;
              var u = n.zerosLike(),
                c = Fn(n, u).as2D(o, r),
                l = Ql(c),
                p = Math.floor(r / 2) + 1,
                h = _n(l),
                d = On(l),
                f = h.split([p, r - p], h.shape.length - 1),
                v = d.split([p, r - p], d.shape.length - 1),
                m = n.shape.slice();
              return (m[n.shape.length - 1] = p), Fn(f[0], v[0]).reshape(m);
            },
          }),
          tp = Tn({
            irfft_: function (t) {
              var e = t.shape[t.shape.length - 1],
                n = t.size / e;
              if (e <= 2) {
                var r = t.as2D(n, e),
                  o = Jl(r);
                return _n(o);
              }
              var a = [n, 2 * (e - 1)],
                i = _n(t).as2D(n, e),
                s = On(t).as2D(n, e),
                u = i.slice([0, 1], [n, e - 2]).reverse(1),
                c = s
                  .slice([0, 1], [n, e - 2])
                  .reverse(1)
                  .mul(Pn(-1)),
                l = i.concat(u, 1),
                p = s.concat(c, 1);
              return (r = Fn(l, p).as2D(a[0], a[1])), (o = Jl(r)), _n(o);
            },
          }),
          ep = Object.freeze({ fft: Ql, ifft: Jl, rfft: Zl, irfft: tp });
        (exports.spectral = ep),
          (exports.irfft = tp),
          (exports.rfft = Zl),
          (exports.ifft = Jl),
          (exports.fft = Ql);
        var np = Tn({
          sparseToDense_: function (t, e, n, r) {
            void 0 === r && (r = 0);
            var o = yn(t, "sparseIndices", "sparseToDense", "int32"),
              a = yn(e, "sparseValues", "sparseToDense"),
              i = yn(r, "defaultValue", "sparseToDense", a.dtype);
            return (
              (function (t, e, n, r) {
                if ("int32" !== t.dtype)
                  throw new Error(
                    "tf.sparseToDense() expects the indices to be int32 type, but the dtype was " +
                      t.dtype +
                      "."
                  );
                if (t.rank > 2)
                  throw new Error(
                    "sparseIndices should be a scalar, vector, or matrix, but got shape " +
                      t.shape +
                      "."
                  );
                var o = t.rank > 0 ? t.shape[0] : 1,
                  a = t.rank > 1 ? t.shape[1] : 1;
                if (n.length !== a)
                  throw new Error(
                    "outputShape has incorrect number of elements:, " +
                      n.length +
                      ", should be: " +
                      a +
                      "."
                  );
                var i = e.size;
                if (0 !== e.rank && (1 !== e.rank || i !== o))
                  throw new Error(
                    "sparseValues has incorrect shape " +
                      e.shape +
                      ", should be [] or [" +
                      o +
                      "]"
                  );
                if (e.dtype !== r.dtype)
                  throw new Error(
                    "sparseValues.dtype must match defaultValues.dtype"
                  );
              })(o, a, n, i),
              Ut.runKernelFunc(
                function (t) {
                  return t.sparseToDense(o, a, n, i);
                },
                { $sparseIndices: o, $sparseValues: a, $defaultValue: i }
              )
            );
          },
        });
        exports.sparseToDense = np;
        var rp = Tn({
          gatherND_: function (t, e) {
            var n = yn(e, "indices", "gatherND", "int32"),
              r = yn(t, "x", "gatherND");
            return Ut.runKernelFunc(
              function (t) {
                return t.gatherND(r, n);
              },
              { x: r, indices: n },
              null,
              "GatherNd"
            );
          },
        });
        exports.gatherND = rp;
        var op = Tn({
          diag_: function (t) {
            var e = yn(t, "x", "diag").flatten(),
              n = t.shape.concat(t.shape);
            return Ut.runKernelFunc(
              function (t) {
                return t.diag(e);
              },
              { $x: e }
            ).reshape(n);
          },
        });
        exports.diag = op;
        var ap = Tn({
          dropout_: function (t, e, n, r) {
            var o = yn(t, "x", "dropout");
            if (
              (I("float32" === o.dtype, function () {
                return (
                  "x has to be a floating point tensor since it's going to be scaled, but got a " +
                  o.dtype +
                  " tensor instead."
                );
              }),
              I(e >= 0 && e < 1, function () {
                return (
                  "rate must be a float in the range [0, 1), but got " + e + "."
                );
              }),
              0 === e)
            )
              return t instanceof Rt ? o.clone() : o;
            var a = (function (t, e) {
                if (null == e) return t.shape.slice();
                if (N(t.shape, e)) return e;
                if (t.shape.length === e.length) {
                  for (var n = [], r = 0; r < t.shape.length; r++)
                    null == e[r] && null != t.shape[r]
                      ? n.push(t.shape[r])
                      : n.push(e[r]);
                  return n;
                }
                return e;
              })(o, n),
              i = 1 - e,
              s = Br(a, 0, 1, "float32", r).add(i).floor().div(i);
            return o.mul(s);
          },
        });
        function ip(t, e, n) {
          for (
            var r = 1 - (t % 2), o = new Float32Array(t), a = 0;
            a < t;
            ++a
          ) {
            var i = (2 * Math.PI * a) / (t + r - 1);
            o[a] = e - n * Math.cos(i);
          }
          return Ln(o, "float32");
        }
        exports.dropout = ap;
        var sp = Tn({
            hannWindow_: function (t) {
              return ip(t, 0.5, 0.5);
            },
          }),
          up = Tn({
            hammingWindow_: function (t) {
              return ip(t, 0.54, 0.46);
            },
          }),
          cp = Tn({
            frame_: function (t, e, n, r, o) {
              void 0 === r && (r = !1), void 0 === o && (o = 0);
              for (var a = 0, i = []; a + e <= t.size; )
                i.push(yl(t, a, e)), (a += n);
              if (r)
                for (; a < t.size; ) {
                  var s = a + e - t.size,
                    u = Jn([yl(t, a, e - s), jn([s], o)]);
                  i.push(u), (a += n);
                }
              return 0 === i.length ? Wn([], [0, e]) : Jn(i).as2D(i.length, e);
            },
          }),
          lp = Tn({
            stft_: function (t, e, n, r, o) {
              var a;
              void 0 === o && (o = sp),
                null == r &&
                  ((a = e),
                  (r = Math.floor(
                    Math.pow(2, Math.ceil(Math.log(a) / Math.log(2)))
                  )));
              for (
                var i = cp(t, e, n), s = bc(i, o(e)), u = [], c = 0;
                c < i.shape[0];
                c++
              )
                u.push(Zl(s.slice([c, 0], [1, e]), r));
              return Jn(u);
            },
          }),
          pp = Object.freeze({
            hannWindow: sp,
            hammingWindow: up,
            frame: cp,
            stft: lp,
          });
        (exports.signal = pp),
          (exports.stft = lp),
          (exports.frame = cp),
          (exports.hammingWindow = up),
          (exports.hannWindow = sp);
        var hp,
          dp = function (t, e, n) {
            return (
              void 0 === n && (n = 1),
              a(this, void 0, void 0, function () {
                var r, o, a, s, u, c, l, p, h, d, f, v, m, g;
                return i(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (r = yn(t, "predictions", "inTopK")),
                        (o = yn(e, "targets", "inTopK")),
                        I(r.rank > 1, function () {
                          return (
                            "inTopK() expects the predictions to be of rank 2 or higher, but got " +
                            r.rank
                          );
                        }),
                        I(r.rank - 1 === o.rank, function () {
                          return (
                            "predictions rank should be 1 larger than targets rank, but got predictions rank " +
                            r.rank +
                            " and targets rank " +
                            o.rank
                          );
                        }),
                        k(
                          r.shape.slice(0, r.shape.length - 1),
                          o.shape,
                          "predictions's shape should be align with the targets' shape, except the last dimension."
                        ),
                        (a = r.shape[r.shape.length - 1]),
                        I(n > 0 && n <= a, function () {
                          return (
                            "'k' passed to inTopK() must be > 0 && <= the predictions last dimension (" +
                            a +
                            "), but got " +
                            n
                          );
                        }),
                        [4, r.data()]
                      );
                    case 1:
                      return (s = i.sent()), [4, o.data()];
                    case 2:
                      for (
                        u = i.sent(),
                          c = [s.length / a, a],
                          p = c[1],
                          h = W("bool", (l = c[0])),
                          d = 0;
                        d < l;
                        d++
                      ) {
                        for (
                          f = d * p, v = s.subarray(f, f + p), m = [], g = 0;
                          g < v.length;
                          g++
                        )
                          m.push({ value: v[g], index: g });
                        for (
                          m.sort(function (t, e) {
                            return e.value - t.value;
                          }),
                            h[d] = 0,
                            g = 0;
                          g < n;
                          g++
                        )
                          if (m[g].index === u[d]) {
                            h[d] = 1;
                            break;
                          }
                      }
                      return (
                        t !== r && r.dispose(),
                        e !== o && o.dispose(),
                        [2, Mn(h, o.shape, "bool")]
                      );
                  }
                });
              })
            );
          };
        (exports.inTopKAsync = dp),
          (exports.Reduction = hp),
          (function (t) {
            (t[(t.NONE = 0)] = "NONE"),
              (t[(t.MEAN = 1)] = "MEAN"),
              (t[(t.SUM = 2)] = "SUM"),
              (t[(t.SUM_BY_NONZERO_WEIGHTS = 3)] = "SUM_BY_NONZERO_WEIGHTS");
          })(hp || (exports.Reduction = hp = {}));
        var fp = Tn({
            absoluteDifference_: function (t, e, n, r) {
              void 0 === r && (r = hp.SUM_BY_NONZERO_WEIGHTS);
              var o = yn(t, "labels", "absoluteDifference"),
                a = yn(e, "predictions", "absoluteDifference"),
                i = null;
              null != n && (i = yn(n, "weights", "absoluteDifference")),
                k(o.shape, a.shape, "Error in absoluteDifference: ");
              var s = o.sub(a).abs();
              return vp(s, i, r);
            },
          }),
          vp = Tn({
            computeWeightedLoss_: function (t, e, n) {
              void 0 === n && (n = hp.SUM_BY_NONZERO_WEIGHTS);
              var r = yn(t, "losses", "computeWeightedLoss"),
                o = null;
              null != e && (o = yn(e, "weights", "computeWeightedLoss"));
              var a = null == o ? r : r.mul(o);
              if (n === hp.NONE) return a;
              if (n === hp.SUM) return a.sum();
              if (n === hp.MEAN) {
                if (null == o) return a.mean();
                var i = r.size / o.size,
                  s = a.sum().div(o.sum());
                return i > 1 ? s.div(Pn(i)) : s;
              }
              if (n === hp.SUM_BY_NONZERO_WEIGHTS) {
                if (null == o) return a.sum().div(Pn(r.size));
                var u = o.mul(Hn(r.shape)).notEqual(Pn(0)).sum().toFloat();
                return a.sum().div(u);
              }
              throw Error("Unknown reduction: " + n);
            },
          }),
          mp = Tn({
            cosineDistance_: function (t, e, n, r, o) {
              void 0 === o && (o = hp.SUM_BY_NONZERO_WEIGHTS);
              var a = yn(t, "labels", "cosineDistance"),
                i = yn(e, "predictions", "cosineDistance"),
                s = null;
              null != r && (s = yn(r, "weights", "cosineDistance")),
                k(a.shape, i.shape, "Error in cosineDistance: ");
              var u = Pn(1).sub(a.mul(i).sum(n, !0));
              return vp(u, s, o);
            },
          }),
          gp = Tn({
            hingeLoss_: function (t, e, n, r) {
              void 0 === r && (r = hp.SUM_BY_NONZERO_WEIGHTS);
              var o = yn(t, "labels", "hingeLoss"),
                a = yn(e, "predictions", "hingeLoss"),
                i = null;
              null != n && (i = yn(n, "weights", "hingeLoss")),
                k(o.shape, a.shape, "Error in hingeLoss: ");
              var s = Pn(1);
              o = Pn(2).mul(o).sub(s);
              var u = s.sub(o.mul(a)).relu();
              return vp(u, i, r);
            },
          }),
          xp = Tn({
            huberLoss_: function (t, e, n, r, o) {
              void 0 === r && (r = 1),
                void 0 === o && (o = hp.SUM_BY_NONZERO_WEIGHTS);
              var a = yn(t, "labels", "huberLoss"),
                i = yn(e, "predictions", "huberLoss"),
                s = null;
              null != n && (s = yn(n, "weights", "huberLoss")),
                k(a.shape, i.shape, "Error in huberLoss: ");
              var u = Pn(r),
                c = i.sub(a).abs(),
                l = mc(c, u),
                p = c.sub(l),
                h = Pn(0.5).mul(l.square()).add(u.mul(p));
              return vp(h, s, o);
            },
          }),
          yp = Tn({
            logLoss_: function (t, e, n, r, o) {
              void 0 === r && (r = 1e-7),
                void 0 === o && (o = hp.SUM_BY_NONZERO_WEIGHTS);
              var a = yn(t, "labels", "logLoss"),
                i = yn(e, "predictions", "logLoss"),
                s = null;
              null != n && (s = yn(n, "weights", "logLoss")),
                k(a.shape, i.shape, "Error in logLoss: ");
              var u = Pn(1),
                c = Pn(r),
                l = a
                  .mul(i.add(c).log())
                  .neg()
                  .sub(u.sub(a).mul(u.sub(i).add(c).log()));
              return vp(l, s, o);
            },
          }),
          bp = Tn({
            meanSquaredError_: function (t, e, n, r) {
              void 0 === r && (r = hp.SUM_BY_NONZERO_WEIGHTS);
              var o = yn(t, "labels", "meanSquaredError"),
                a = yn(e, "predictions", "meanSquaredError"),
                i = null;
              null != n && (i = yn(n, "weights", "meanSquaredError")),
                k(o.shape, a.shape, "Error in meanSquaredError: ");
              var s = o.squaredDifference(a);
              return vp(s, i, r);
            },
          }),
          wp = Tn({
            sigmoidCrossEntropy_: function (t, e, n, r, o) {
              void 0 === r && (r = 0),
                void 0 === o && (o = hp.SUM_BY_NONZERO_WEIGHTS);
              var a = yn(t, "multiClassLabels", "sigmoidCrossEntropy"),
                i = yn(e, "logits", "sigmoidCrossEntropy"),
                s = null;
              if (
                (null != n && (s = yn(n, "weights", "sigmoidCrossEntropy")),
                k(a.shape, i.shape, "Error in sigmoidCrossEntropy: "),
                r > 0)
              ) {
                var u = Pn(r),
                  c = Pn(1),
                  l = Pn(0.5);
                a = a.mul(c.sub(u)).add(l.mul(u));
              }
              var p = (function (t, e) {
                var n = yn(t, "labels", "sigmoidCrossEntropyWithLogits"),
                  r = yn(e, "logits", "sigmoidCrossEntropyWithLogits");
                k(n.shape, r.shape, "Error in sigmoidCrossEntropyWithLogits: ");
                var o = r.relu(),
                  a = r.mul(n),
                  i = r.abs().neg().exp().log1p();
                return o.sub(a).add(i);
              })(a, i);
              return vp(p, s, o);
            },
          }),
          Cp = Tn({
            softmaxCrossEntropy_: function (t, e, n, r, o) {
              void 0 === r && (r = 0),
                void 0 === o && (o = hp.SUM_BY_NONZERO_WEIGHTS);
              var a = yn(t, "onehotLabels", "softmaxCrossEntropy"),
                i = yn(e, "logits", "softmaxCrossEntropy"),
                s = null;
              if (
                (null != n && (s = yn(n, "weights", "softmaxCrossEntropy")),
                k(a.shape, i.shape, "Error in softmaxCrossEntropy: "),
                r > 0)
              ) {
                var u = Pn(r),
                  c = Pn(1),
                  l = Pn(a.shape[1]);
                a = a.mul(c.sub(u)).add(u.div(l));
              }
              var p = (function (t, e, n) {
                if (
                  (void 0 === n && (n = -1),
                  -1 === n && (n = e.rank - 1),
                  n !== e.rank - 1)
                )
                  throw Error(
                    "Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank " +
                      e.rank +
                      " and dim was " +
                      n
                  );
                return xo(function (t, e, r) {
                  var o = e.logSumExp([n], !0),
                    a = e.toFloat().sub(o);
                  return (
                    r([t, a]),
                    {
                      value: a.mul(t).neg().sum([n]),
                      gradFunc: function (t, e) {
                        var r = e[0],
                          o = e[1],
                          a = Rn(t.shape, [n]);
                        return [
                          t.reshape(a).mul(r.toFloat().sub(o.exp())),
                          t.reshape(a).mul(o.exp().sub(r.toFloat())),
                        ];
                      },
                    }
                  );
                })(t, e);
              })(a, i);
              return vp(p, s, o);
            },
          }),
          Ep = Object.freeze({
            get Reduction() {
              return hp;
            },
            absoluteDifference: fp,
            computeWeightedLoss: vp,
            cosineDistance: mp,
            hingeLoss: gp,
            huberLoss: xp,
            logLoss: yp,
            meanSquaredError: bp,
            sigmoidCrossEntropy: wp,
            softmaxCrossEntropy: Cp,
          });
        function Rp(t, e) {
          return (
            void 0 === e && (e = !1),
            Ut.tidy(function () {
              if (2 !== t.shape.length)
                throw new Error(
                  "qr2d() requires a 2D Tensor, but got a " +
                    t.shape.length +
                    "D Tensor."
                );
              for (
                var n = t.shape[0],
                  r = t.shape[1],
                  o = Ir(n),
                  a = t.clone(),
                  i = Wn([[1]], [1, 1]),
                  s = i.clone(),
                  u = n >= r ? r : n,
                  c = function (t) {
                    var e,
                      u = a,
                      c = s,
                      l = o;
                    (e = Ut.tidy(function () {
                      var e = a.slice([t, t], [n - t, 1]),
                        u = e.norm(),
                        c = a.slice([t, t], [1, 1]),
                        l = Wn([[-1]]).where(c.greater(0), Wn([[1]])),
                        p = c.sub(l.mul(u)),
                        h = e.div(p);
                      s =
                        1 === h.shape[0]
                          ? i.clone()
                          : i.concat(
                              h.slice([1, 0], [h.shape[0] - 1, h.shape[1]]),
                              0
                            );
                      var d = l.matMul(p).div(u).neg(),
                        f = a.slice([t, 0], [n - t, r]),
                        v = d.mul(s);
                      if (0 === t) a = f.sub(v.matMul(s.transpose().matMul(f)));
                      else {
                        var m = f.sub(v.matMul(s.transpose().matMul(f)));
                        a = a.slice([0, 0], [t, r]).concat(m, 0);
                      }
                      var g = o.slice([0, t], [n, o.shape[1] - t]);
                      if (0 === t) o = g.sub(g.matMul(s).matMul(v.transpose()));
                      else {
                        var x = g.sub(g.matMul(s).matMul(v.transpose()));
                        o = o.slice([0, 0], [n, t]).concat(x, 1);
                      }
                      return [s, a, o];
                    })),
                      (s = e[0]),
                      (a = e[1]),
                      (o = e[2]),
                      rn([u, c, l]);
                  },
                  l = 0;
                l < u;
                ++l
              )
                c(l);
              return (
                !e &&
                  n > r &&
                  ((o = o.slice([0, 0], [n, r])),
                  (a = a.slice([0, 0], [r, r]))),
                [o, a]
              );
            })
          );
        }
        exports.losses = Ep;
        var Ip = Tn({
            bandPart_: function (t, e, n) {
              if (e % 1 != 0)
                throw new Error(
                  "bandPart(): numLower must be an integer, got " + e + "."
                );
              if (n % 1 != 0)
                throw new Error(
                  "bandPart(): numUpper must be an integer, got " + n + "."
                );
              var r = yn(t, "a", "bandPart");
              if (r.rank < 2)
                throw new Error(
                  "bandPart(): Rank must be at least 2, got " + r.rank + "."
                );
              var o = r.shape,
                a = r.shape.slice(-2),
                i = a[0],
                s = a[1];
              if (!(e <= i))
                throw new Error(
                  "bandPart(): numLower (" +
                    e +
                    ") must not be greater than the number of rows (" +
                    i +
                    ")."
                );
              if (!(n <= s))
                throw new Error(
                  "bandPart(): numUpper (" +
                    n +
                    ") must not be greater than the number of columns (" +
                    s +
                    ")."
                );
              e < 0 && (e = i), n < 0 && (n = s);
              var u = Yn(0, i, 1, "int32").reshape([-1, 1]),
                c = Yn(0, s, 1, "int32"),
                l = Ic(u, c),
                p = tc(
                  l.lessEqual(Pn(+e, "int32")),
                  l.greaterEqual(Pn(-n, "int32"))
                ),
                h = Kn([i, s], r.dtype);
              return zr(
                Gr(r.reshape([-1, i, s])).map(function (t) {
                  return oc(p, t, h);
                })
              ).reshape(o);
            },
          }),
          kp = Tn({
            gramSchmidt_: function (t) {
              var e;
              if (Array.isArray(t)) {
                (e = !1),
                  I(null != t && t.length > 0, function () {
                    return "Gram-Schmidt process: input must not be null, undefined, or empty";
                  });
                for (
                  var n = t[0].shape[0],
                    r = function (e) {
                      I(t[e].shape[0] === n, function () {
                        return (
                          "Gram-Schmidt: Non-unique lengths found in the input vectors: (" +
                          t[e].shape[0] +
                          " vs. " +
                          n +
                          ")"
                        );
                      });
                    },
                    o = 1;
                  o < t.length;
                  ++o
                )
                  r(o);
              } else
                (e = !0),
                  (t = rr(t, t.shape[0], 0).map(function (t) {
                    return Wr(t, [0]);
                  }));
              I(t.length <= t[0].shape[0], function () {
                return (
                  "Gram-Schmidt: Number of vectors (" +
                  t.length +
                  ") exceeds number of dimensions (" +
                  t[0].shape[0] +
                  ")."
                );
              });
              var a = [],
                i = t,
                s = function (t) {
                  a.push(
                    Ut.tidy(function () {
                      var e = i[t];
                      if (t > 0)
                        for (var n = 0; n < t; ++n) {
                          var r = Ol(a[n].mulStrict(e)).mul(a[n]);
                          e = e.sub(r);
                        }
                      return e.div(ql(e, "euclidean"));
                    })
                  );
                };
              for (o = 0; o < t.length; ++o) s(o);
              return e ? zr(a, 0) : a;
            },
          }),
          Sp = Tn({
            qr_: function (t, e) {
              if ((void 0 === e && (e = !1), t.rank < 2))
                throw new Error(
                  "qr() requires input tensor to have a rank >= 2, but got rank " +
                    t.rank
                );
              if (2 === t.rank) return Rp(t, e);
              var n = t.shape
                  .slice(0, t.shape.length - 2)
                  .reduce(function (t, e) {
                    return t * e;
                  }),
                r = Gr(
                  t.reshape([
                    n,
                    t.shape[t.shape.length - 2],
                    t.shape[t.shape.length - 1],
                  ]),
                  0
                ),
                o = [],
                a = [];
              return (
                r.forEach(function (t) {
                  var n = Rp(t, e),
                    r = n[0],
                    i = n[1];
                  o.push(r), a.push(i);
                }),
                [zr(o, 0).reshape(t.shape), zr(a, 0).reshape(t.shape)]
              );
            },
          }),
          Ap = Object.freeze({ bandPart: Ip, gramSchmidt: kp, qr: Sp });
        function Dp(t, e, n, r, o, a) {
          null == r && (r = 0.5),
            null == o && (o = Number.NEGATIVE_INFINITY),
            null == a && (a = 0);
          var i = t.shape[0];
          return (
            (n = Math.min(n, i)),
            I(0 <= r && r <= 1, function () {
              return "iouThreshold must be in [0, 1], but was '" + r + "'";
            }),
            I(2 === t.rank, function () {
              return (
                "boxes must be a 2D tensor, but was of rank '" + t.rank + "'"
              );
            }),
            I(4 === t.shape[1], function () {
              return (
                "boxes must have 4 columns, but 2nd dimension was " + t.shape[1]
              );
            }),
            I(1 === e.rank, function () {
              return "scores must be a 1D tensor";
            }),
            I(e.shape[0] === i, function () {
              return (
                "scores has incompatible shape with boxes. Expected " +
                i +
                ", but was " +
                e.shape[0]
              );
            }),
            I(0 <= a && a <= 1, function () {
              return "softNmsSigma must be in [0, 1], but was '" + a + "'";
            }),
            {
              maxOutputSize: n,
              iouThreshold: r,
              scoreThreshold: o,
              softNmsSigma: a,
            }
          );
        }
        exports.linalg = Ap;
        var Np = Tn({
            resizeBilinear_: function (t, e, n) {
              void 0 === n && (n = !1);
              var r = yn(t, "images", "resizeBilinear");
              I(3 === r.rank || 4 === r.rank, function () {
                return (
                  "Error in resizeBilinear: x must be rank 3 or 4, but got rank " +
                  r.rank +
                  "."
                );
              }),
                I(2 === e.length, function () {
                  return (
                    "Error in resizeBilinear: new shape must 2D, but got shape " +
                    e +
                    "."
                  );
                });
              var o = r,
                a = !1;
              3 === r.rank &&
                ((a = !0), (o = r.as4D(1, r.shape[0], r.shape[1], r.shape[2])));
              var i = e[0],
                s = e[1],
                u = Ut.runKernelFunc(
                  function (t, e) {
                    return e([o]), t.resizeBilinear(o, i, s, n);
                  },
                  { x: o },
                  function (t, e) {
                    return {
                      x: function () {
                        return Ut.runKernelFunc(function (r) {
                          return r.resizeBilinearBackprop(t, e[0], n);
                        }, {});
                      },
                    };
                  },
                  "ResizeBilinear",
                  { alignCorners: n, newHeight: i, newWidth: s }
                );
              return a ? u.as3D(u.shape[1], u.shape[2], u.shape[3]) : u;
            },
          }),
          Tp = Tn({
            resizeNearestNeighbor_: function (t, e, n) {
              void 0 === n && (n = !1);
              var r = yn(t, "images", "resizeNearestNeighbor");
              I(3 === r.rank || 4 === r.rank, function () {
                return (
                  "Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank " +
                  r.rank +
                  "."
                );
              }),
                I(2 === e.length, function () {
                  return (
                    "Error in resizeNearestNeighbor: new shape must 2D, but got shape " +
                    e +
                    "."
                  );
                }),
                I("float32" === r.dtype || "int32" === r.dtype, function () {
                  return "`images` must have `int32` or `float32` as dtype";
                });
              var o = r,
                a = !1;
              3 === r.rank &&
                ((a = !0), (o = r.as4D(1, r.shape[0], r.shape[1], r.shape[2])));
              var i = e[0],
                s = e[1],
                u = Ut.runKernelFunc(
                  function (t, e) {
                    return e([o]), t.resizeNearestNeighbor(o, i, s, n);
                  },
                  { batchImages: o },
                  function (t, e) {
                    return {
                      batchImages: function () {
                        return Ut.runKernelFunc(function (r) {
                          return r.resizeNearestNeighborBackprop(t, e[0], n);
                        }, {});
                      },
                    };
                  }
                );
              return a ? u.as3D(u.shape[1], u.shape[2], u.shape[3]) : u;
            },
          }),
          Fp = Tn({
            nonMaxSuppression_: function (t, e, n, r, o) {
              void 0 === r && (r = 0.5),
                void 0 === o && (o = Number.NEGATIVE_INFINITY);
              var a = yn(t, "boxes", "nonMaxSuppression"),
                i = yn(e, "scores", "nonMaxSuppression"),
                s = Dp(a, i, n, r, o);
              (n = s.maxOutputSize),
                (r = s.iouThreshold),
                (o = s.scoreThreshold);
              var u = { maxOutputSize: n, iouThreshold: r, scoreThreshold: o };
              return Ut.runKernelFunc(
                function (t) {
                  return t.nonMaxSuppression(a, i, n, r, o);
                },
                { boxes: a, scores: i },
                null,
                "NonMaxSuppressionV3",
                u
              );
            },
          }),
          _p = function (t, e, n, r, o) {
            return (
              void 0 === r && (r = 0.5),
              void 0 === o && (o = Number.NEGATIVE_INFINITY),
              a(this, void 0, void 0, function () {
                var a, s, u, c, l, p, h;
                return i(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (a = yn(t, "boxes", "nonMaxSuppressionAsync")),
                        (s = yn(e, "scores", "nonMaxSuppressionAsync")),
                        (u = Dp(a, s, n, r, o)),
                        (n = u.maxOutputSize),
                        (r = u.iouThreshold),
                        (o = u.scoreThreshold),
                        [4, Promise.all([a.data(), s.data()])]
                      );
                    case 1:
                      return (
                        (c = i.sent()),
                        (l = c[0]),
                        (p = c[1]),
                        (h = $o(l, p, n, r, o)),
                        a !== t && a.dispose(),
                        s !== e && s.dispose(),
                        [2, h]
                      );
                  }
                });
              })
            );
          },
          Op = Tn({
            nonMaxSuppressionWithScore_: function (t, e, n, r, o, a) {
              void 0 === r && (r = 0.5),
                void 0 === o && (o = Number.NEGATIVE_INFINITY),
                void 0 === a && (a = 0);
              var i = yn(t, "boxes", "nonMaxSuppression"),
                s = yn(e, "scores", "nonMaxSuppression"),
                u = Dp(i, s, n, r, o, a),
                c = {
                  maxOutputSize: (n = u.maxOutputSize),
                  iouThreshold: (r = u.iouThreshold),
                  scoreThreshold: (o = u.scoreThreshold),
                  softNmsSigma: (a = u.softNmsSigma),
                },
                l = Ut.runKernel(
                  "NonMaxSuppressionV5",
                  { boxes: i, scores: s },
                  c
                );
              return { selectedIndices: l[0], selectedScores: l[1] };
            },
          }),
          Mp = function (t, e, n, r, o, s) {
            return (
              void 0 === r && (r = 0.5),
              void 0 === o && (o = Number.NEGATIVE_INFINITY),
              void 0 === s && (s = 0),
              a(this, void 0, void 0, function () {
                var a, u, c, l, p, h, d;
                return i(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        (a = yn(t, "boxes", "nonMaxSuppressionAsync")),
                        (u = yn(e, "scores", "nonMaxSuppressionAsync")),
                        (c = Dp(a, u, n, r, o, s)),
                        (n = c.maxOutputSize),
                        (r = c.iouThreshold),
                        (o = c.scoreThreshold),
                        (s = c.softNmsSigma),
                        [4, Promise.all([a.data(), u.data()])]
                      );
                    case 1:
                      return (
                        (l = i.sent()),
                        (p = l[0]),
                        (h = l[1]),
                        (d = Qo(p, h, n, r, o, s)),
                        a !== t && a.dispose(),
                        u !== e && u.dispose(),
                        [2, d]
                      );
                  }
                });
              })
            );
          },
          Bp = Tn({
            cropAndResize_: function (t, e, n, r, o, a) {
              var i = yn(t, "image", "cropAndResize"),
                s = yn(e, "boxes", "cropAndResize", "float32"),
                u = yn(n, "boxInd", "cropAndResize", "int32");
              (o = o || "bilinear"), (a = a || 0);
              var c = s.shape[0];
              return (
                I(4 === i.rank, function () {
                  return (
                    "Error in cropAndResize: image must be rank 4,but got rank " +
                    i.rank +
                    "."
                  );
                }),
                I(2 === s.rank && 4 === s.shape[1], function () {
                  return (
                    "Error in cropAndResize: boxes must be have size [" +
                    c +
                    ",4] but had shape " +
                    s.shape +
                    "."
                  );
                }),
                I(1 === u.rank && u.shape[0] === c, function () {
                  return (
                    "Error in cropAndResize: boxInd must be have size [" +
                    c +
                    "] but had shape " +
                    s.shape +
                    "."
                  );
                }),
                I(2 === r.length, function () {
                  return (
                    "Error in cropAndResize: cropSize must be of length 2, but got length " +
                    r.length +
                    "."
                  );
                }),
                I(r[0] >= 1 && r[1] >= 1, function () {
                  return "cropSize must be atleast [1,1], but was " + r;
                }),
                I("bilinear" === o || "nearest" === o, function () {
                  return "method must be bilinear or nearest, but was " + o;
                }),
                Ut.runKernelFunc(
                  function (t, e) {
                    return t.cropAndResize(i, s, u, r, o, a);
                  },
                  { images: i, boxes: s, boxInd: u },
                  null,
                  "CropAndResize",
                  { method: o, extrapolationValue: a, cropSize: r }
                )
              );
            },
          }),
          Pp = Object.freeze({
            resizeBilinear: Np,
            resizeNearestNeighbor: Tp,
            nonMaxSuppression: Fp,
            nonMaxSuppressionAsync: _p,
            nonMaxSuppressionWithScore: Op,
            nonMaxSuppressionWithScoreAsync: Mp,
            cropAndResize: Bp,
          }),
          Lp = function (t, e) {
            return !(t > 0) || "linear" === e;
          },
          Wp = function (t, e, n) {
            if (null == n || "linear" === n) return t;
            if ("relu" === n) return t.mul(e.step());
            throw new Error(
              "Gradient for activation " + n + " has not been implemented yet."
            );
          },
          zp = function (t, e) {
            var n = e,
              r = ko(t.shape, e.shape);
            return r.length > 0 && (n = n.sum(r)), n.reshape(t.shape);
          },
          Up = function (t, e, n) {
            if ("linear" === e) return t;
            if ("relu" === e) return Wl(t);
            if ("elu" === e) return Bl(t);
            if ("relu6" === e) return zl(t);
            if ("prelu" === e) return Ll(t, n);
            throw new Error("Unknown fused activation " + e + ".");
          };
        exports.image = Pp;
        var Vp = Tn({
            fusedMatMul_: function (t) {
              var e,
                n = t.a,
                r = t.b,
                o = t.transposeA,
                a = void 0 !== o && o,
                i = t.transposeB,
                s = void 0 !== i && i,
                u = t.bias,
                c = t.activation,
                l = void 0 === c ? "linear" : c,
                p = t.preluActivationWeights;
              if (!1 === Lp(Ut.state.gradientDepth, l)) {
                var h = ol(n, r, a, s);
                return null != u && (h = ic(h, u)), Up(h, l, p);
              }
              var d = yn(n, "a", "fused matMul"),
                f = yn(r, "b", "fused matMul");
              (e = Ot(d, f)), (d = e[0]), (f = e[1]);
              var v = a ? d.shape[d.rank - 2] : d.shape[d.rank - 1],
                m = s ? f.shape[f.rank - 1] : f.shape[f.rank - 2],
                g = a ? d.shape[d.rank - 1] : d.shape[d.rank - 2],
                x = s ? f.shape[f.rank - 2] : f.shape[f.rank - 1],
                y = d.shape.slice(0, -2),
                b = f.shape.slice(0, -2),
                w = D(y),
                C = D(b);
              I(d.rank >= 2 && f.rank >= 2 && d.rank === f.rank, function () {
                return (
                  "Error in fused matMul: inputs must have the same rank of at least 2, got ranks " +
                  d.rank +
                  " and " +
                  f.rank +
                  "."
                );
              }),
                I(N(y, b), function () {
                  return (
                    "Error in fused matMul: outer dimensions (" +
                    y +
                    ") and (" +
                    b +
                    ") of Tensors with shapes " +
                    d.shape +
                    " and " +
                    f.shape +
                    " must match."
                  );
                }),
                I(v === m, function () {
                  return (
                    "Error in fused matMul: inner shapes (" +
                    v +
                    ") and (" +
                    m +
                    ") of Tensors with shapes " +
                    d.shape +
                    " and " +
                    f.shape +
                    " and transposeA=" +
                    a +
                    " and transposeB=" +
                    s +
                    " must match."
                  );
                });
              var E,
                R,
                k = d.shape.slice(0, -2).concat([g, x]),
                S = a ? d.as3D(w, v, g) : d.as3D(w, g, v),
                A = s ? f.as3D(C, x, m) : f.as3D(C, m, x);
              null != u &&
                So(
                  k,
                  (E = Ot((E = yn(u, "bias", "fused matMul")), d)[0]).shape
                ),
                null != p && (R = yn(p, "prelu weights", "fused matMul"));
              var T = { a: S, b: A };
              null != u && (T.bias = E),
                null != p && (T.preluActivationWeights = R);
              var F = [S, A];
              return Ut.runKernelFunc(
                function (t, e) {
                  var n = t.fusedBatchMatMul({
                    a: S,
                    b: A,
                    transposeA: a,
                    transposeB: s,
                    bias: E,
                    activation: l,
                    preluActivationWeights: R,
                  });
                  return e([S, A, n]), n;
                },
                T,
                function (t, e) {
                  var n = e[0],
                    r = e[1],
                    o = e[2],
                    i = Wp(t, o, l),
                    c = {};
                  return (
                    null != u &&
                      (c = {
                        bias: function () {
                          return zp(E, i);
                        },
                      }),
                    a || s
                      ? !a && s
                        ? Object.assign(
                            {
                              a: function () {
                                return i.matMul(r, !1, !1);
                              },
                              b: function () {
                                return i.matMul(n, !0, !1);
                              },
                            },
                            c
                          )
                        : a && !s
                        ? Object.assign(
                            {
                              a: function () {
                                return r.matMul(i, !1, !0);
                              },
                              b: function () {
                                return n.matMul(i, !1, !1);
                              },
                            },
                            c
                          )
                        : Object.assign(
                            {
                              a: function () {
                                return r.matMul(i, !0, !0);
                              },
                              b: function () {
                                return i.matMul(n, !0, !0);
                              },
                            },
                            c
                          )
                      : Object.assign(
                          {
                            a: function () {
                              return i.matMul(r, !1, !0);
                            },
                            b: function () {
                              return n.matMul(i, !0, !1);
                            },
                          },
                          c
                        )
                  );
                },
                "_FusedMatMul",
                { transposeA: a, transposeB: s, activation: l },
                F,
                [!0]
              ).reshape(k);
            },
          }),
          Gp = Tn({
            fusedConv2d_: function (t) {
              var e = t.x,
                n = t.filter,
                r = t.strides,
                o = t.pad,
                a = t.dataFormat,
                i = void 0 === a ? "NHWC" : a,
                s = t.dilations,
                u = void 0 === s ? [1, 1] : s,
                c = t.dimRoundingMode,
                l = t.bias,
                p = t.activation,
                h = void 0 === p ? "linear" : p,
                d = t.preluActivationWeights;
              if (((h = h || "linear"), !1 === Lp(Ut.state.gradientDepth, h))) {
                var f = Xc(e, n, r, o, i, u, c);
                return null != l && (f = ic(f, l)), Up(f, h, d);
              }
              var v = yn(e, "x", "conv2d"),
                m = yn(n, "filter", "conv2d"),
                g = v,
                x = !1;
              3 === v.rank &&
                ((x = !0), (g = v.as4D(1, v.shape[0], v.shape[1], v.shape[2]))),
                I(4 === g.rank, function () {
                  return (
                    "Error in fused conv2d: input must be rank 4, but got rank " +
                    g.rank +
                    "."
                  );
                }),
                I(4 === m.rank, function () {
                  return (
                    "Error in fused conv2d: filter must be rank 4, but got rank " +
                    m.rank +
                    "."
                  );
                }),
                null != c &&
                  I(T(o), function () {
                    return (
                      "Error in fused conv2d: pad must be an integer when using, dimRoundingMode " +
                      c +
                      " but got pad " +
                      o +
                      "."
                    );
                  }),
                I(g.shape[3] === m.shape[2], function () {
                  return (
                    "Error in conv2d: depth of input (" +
                    g.shape[3] +
                    ") must match input depth for filter " +
                    m.shape[2] +
                    "."
                  );
                }),
                I(Lo(r, u), function () {
                  return (
                    "Error in conv2D: Either strides or dilations must be 1. Got strides " +
                    r +
                    " and dilations '" +
                    u +
                    "'"
                  );
                }),
                I("NHWC" === i, function () {
                  return (
                    "Error in conv2d: got dataFormat of " +
                    i +
                    " but only NHWC is currently supported."
                  );
                });
              var y,
                b,
                w = No(g.shape, m.shape, r, u, o, c);
              null != l &&
                ((y = Ot((y = yn(l, "bias", "fused conv2d")), v)[0]),
                So(w.outShape, y.shape)),
                null != d && (b = yn(d, "prelu weights", "fused conv2d"));
              var C = { x: g, filter: m };
              null != l && (C.bias = y),
                null != d && (C.preluActivationWeights = b);
              var E = [m, g],
                R = Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.fusedConv2d({
                      input: g,
                      filter: m,
                      convInfo: w,
                      bias: y,
                      activation: h,
                      preluActivationWeights: b,
                    });
                    return e([m, g, n]), n;
                  },
                  C,
                  function (t, e) {
                    var n = e,
                      a = n[0],
                      i = n[1],
                      s = n[2],
                      c = Wp(t, s, h);
                    I(Po(u), function () {
                      return (
                        "Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '" +
                        u +
                        "'"
                      );
                    });
                    var p = {};
                    return (
                      null != l &&
                        (p = {
                          bias: function () {
                            return zp(y, c);
                          },
                        }),
                      Object.assign(
                        {
                          x: function () {
                            return Qc(i.shape, c, a, r, o);
                          },
                          filter: function () {
                            return $c(i, c, a.shape, r, o);
                          },
                        },
                        p
                      )
                    );
                  },
                  "FusedConv2D",
                  { convInfo: w, activation: h },
                  E,
                  [!0]
                );
              return x ? R.as3D(R.shape[1], R.shape[2], R.shape[3]) : R;
            },
          }),
          qp = Tn({
            fusedDepthwiseConv2d_: function (t) {
              var e = t.x,
                n = t.filter,
                r = t.strides,
                o = t.pad,
                a = t.dataFormat,
                i = void 0 === a ? "NHWC" : a,
                s = t.dilations,
                u = void 0 === s ? [1, 1] : s,
                c = t.dimRoundingMode,
                l = t.bias,
                p = t.activation,
                h = void 0 === p ? "linear" : p,
                d = t.preluActivationWeights;
              if (!1 === Lp(Ut.state.gradientDepth, h)) {
                var f = Jc(e, n, r, o, i, u, c);
                return null != l && (f = ic(f, l)), Up(f, h, d);
              }
              var v = yn(e, "x", "depthwiseConv2d"),
                m = yn(n, "filter", "depthwiseConv2d"),
                g = v,
                x = !1;
              3 === v.rank &&
                ((x = !0), (g = v.as4D(1, v.shape[0], v.shape[1], v.shape[2]))),
                I(4 === g.rank, function () {
                  return (
                    "Error in fused depthwiseConv2d: input must be rank 4, but got rank " +
                    g.rank +
                    "."
                  );
                }),
                I(4 === m.rank, function () {
                  return (
                    "Error in fused depthwiseConv2d: filter must be rank 4, but got rank " +
                    m.rank +
                    "."
                  );
                }),
                I(g.shape[3] === m.shape[2], function () {
                  return (
                    "Error in fused depthwiseConv2d: number of input channels (" +
                    g.shape[3] +
                    ") must match the inChannels dimension in filter " +
                    m.shape[2] +
                    "."
                  );
                }),
                null == u && (u = [1, 1]),
                I(Lo(r, u), function () {
                  return (
                    "Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides " +
                    r +
                    " and dilations '" +
                    u +
                    "'"
                  );
                }),
                null != c &&
                  I(T(o), function () {
                    return (
                      "Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode " +
                      c +
                      " but got pad " +
                      o +
                      "."
                    );
                  });
              var y,
                b,
                w = No(g.shape, m.shape, r, u, o, c, !0);
              null != l &&
                ((y = Ot((y = yn(l, "bias", "fused conv2d")), v)[0]),
                So(w.outShape, y.shape)),
                null != d &&
                  (b = yn(d, "prelu weights", "fused depthwiseConv2d"));
              var C = { x: g, filter: m };
              null != l && (C.bias = y),
                null != d && (C.preluActivationWeights = b);
              var E = [m, g],
                R = Ut.runKernelFunc(
                  function (t, e) {
                    var n = t.fusedDepthwiseConv2D({
                      input: g,
                      filter: m,
                      convInfo: w,
                      bias: y,
                      activation: h,
                      preluActivationWeights: b,
                    });
                    return e([m, g, n]), n;
                  },
                  C,
                  function (t, e) {
                    I(Po(u), function () {
                      return (
                        "Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '" +
                        u +
                        "'"
                      );
                    });
                    var n = e[0],
                      r = e[1],
                      o = e[2],
                      a = Wp(t, o, h),
                      i = {};
                    return (
                      null != l &&
                        (i = {
                          bias: function () {
                            return zp(y, a);
                          },
                        }),
                      Object.assign(
                        {
                          x: function () {
                            return Zc(r.shape, a, n, w);
                          },
                          filter: function () {
                            return tl(r, a, n.shape, w);
                          },
                        },
                        i
                      )
                    );
                  },
                  "FusedDepthwiseConv2D",
                  { convInfo: w, activation: h },
                  E,
                  [!0]
                );
              return x ? R.as3D(R.shape[1], R.shape[2], R.shape[3]) : R;
            },
          }),
          Hp = Object.freeze({ matMul: Vp, conv2d: Gp, depthwiseConv2d: qp }),
          Kp = Object.freeze({
            image: Pp,
            linalg: Ap,
            losses: Ep,
            spectral: ep,
            fused: Hp,
            signal: pp,
            square: ru,
            squaredDifference: au,
            conv1d: jc,
            conv2d: Xc,
            conv3d: Yc,
            depthwiseConv2d: Jc,
            separableConv2d: el,
            conv2dTranspose: nl,
            conv3dTranspose: rl,
            op: Tn,
            batchNormalization2d: Ku,
            batchNormalization3d: ju,
            batchNormalization4d: Xu,
            batchNormalization: Yu,
            batchNorm: $u,
            batchNorm2d: Qu,
            batchNorm3d: Ju,
            batchNorm4d: Zu,
            booleanMaskAsync: Gc,
            complex: Fn,
            real: _n,
            imag: On,
            concat: Jn,
            concat1d: Zn,
            concat2d: tr,
            concat3d: er,
            concat4d: nr,
            split: rr,
            matMul: ol,
            dot: al,
            outerProduct: il,
            reverse: sl,
            reverse1d: ul,
            reverse2d: cl,
            reverse3d: ll,
            reverse4d: pl,
            maxPool: fl,
            avgPool: vl,
            pool: ml,
            maxPool3d: gl,
            avgPool3d: xl,
            slice: yl,
            slice1d: bl,
            slice2d: wl,
            slice3d: Cl,
            slice4d: El,
            abs: iu,
            acos: su,
            acosh: uu,
            asin: cu,
            asinh: lu,
            atan: pu,
            atanh: hu,
            ceil: du,
            clipByValue: fu,
            cos: vu,
            cosh: mu,
            erf: gu,
            exp: xu,
            expm1: yu,
            floor: bu,
            log: wu,
            log1p: Cu,
            logSigmoid: Eu,
            neg: Ru,
            reciprocal: Iu,
            round: ku,
            rsqrt: Su,
            sigmoid: Au,
            sign: Du,
            isNaN: Nu,
            isInf: Tu,
            isFinite: Fu,
            sin: _u,
            sinh: Ou,
            softplus: Mu,
            sqrt: Bu,
            step: Pu,
            tan: Lu,
            tanh: Wu,
            all: Il,
            any: kl,
            argMax: Sl,
            argMin: Al,
            logSumExp: Dl,
            max: Nl,
            mean: Tl,
            min: Fl,
            moments: _l,
            sum: Ol,
            prod: Ml,
            equal: Sc,
            equalStrict: Ac,
            greater: Dc,
            greaterEqual: Nc,
            greaterEqualStrict: Tc,
            greaterStrict: Fc,
            less: _c,
            lessEqual: Oc,
            lessEqualStrict: Mc,
            lessStrict: Bc,
            notEqual: Pc,
            notEqualStrict: Lc,
            add: ic,
            addN: sc,
            addStrict: uc,
            atan2: cc,
            div: lc,
            divNoNan: pc,
            divStrict: hc,
            floorDiv: dc,
            maximum: fc,
            maximumStrict: vc,
            minimum: mc,
            minimumStrict: gc,
            mod: xc,
            modStrict: yc,
            mul: bc,
            mulStrict: wc,
            pow: Cc,
            powStrict: Ec,
            squaredDifferenceStrict: Rc,
            sub: Ic,
            subStrict: kc,
            elu: Bl,
            leakyRelu: Pl,
            prelu: Ll,
            relu: Wl,
            relu6: zl,
            selu: Ul,
            logicalAnd: tc,
            logicalNot: ec,
            logicalOr: nc,
            logicalXor: rc,
            where: oc,
            whereAsync: ac,
            buffer: mr,
            print: gr,
            batchToSpaceND: xr,
            broadcastTo: yr,
            cast: br,
            clone: wr,
            cumsum: Cr,
            depthToSpace: Er,
            expandDims: Rr,
            eye: Ir,
            multinomial: kr,
            oneHot: Sr,
            pad: Ar,
            pad1d: Dr,
            pad2d: Nr,
            pad3d: Tr,
            pad4d: Fr,
            rand: _r,
            randomNormal: Or,
            randomGamma: Mr,
            randomUniform: Br,
            reshape: Pr,
            spaceToBatchND: Lr,
            squeeze: Wr,
            stack: zr,
            tile: Ur,
            truncatedNormal: Vr,
            unstack: Gr,
            setdiff1dAsync: qr,
            fill: jn,
            linspace: Xn,
            ones: Hn,
            range: Yn,
            scalar: Pn,
            tensor: Mn,
            tensor1d: Ln,
            tensor2d: Wn,
            tensor3d: zn,
            tensor4d: Un,
            tensor5d: Vn,
            tensor6d: Gn,
            variable: qn,
            zeros: Kn,
            onesLike: $n,
            zerosLike: Qn,
            transpose: Vl,
            softmax: bo,
            logSoftmax: wo,
            localResponseNormalization: Gl,
            norm: ql,
            gather: Uc,
            unsortedSegmentSum: Vc,
            basicLSTMCell: Hl,
            multiRNNCell: Kl,
            movingAverage: jl,
            stridedSlice: Xl,
            topk: Yl,
            scatterND: $l,
            fft: Ql,
            ifft: Jl,
            rfft: Zl,
            irfft: tp,
            sparseToDense: np,
            gatherND: rp,
            diag: op,
            dropout: ap,
            hannWindow: sp,
            hammingWindow: up,
            frame: cp,
            stft: lp,
            inTopKAsync: dp,
          });
        function jp(t, e) {
          Array.isArray(t) || (t = [t]),
            t.forEach(function (t) {
              null != t &&
                I("complex64" !== t.dtype, function () {
                  return e + " does not support complex64 tensors.";
                });
            });
        }
        function Xp(t, e, n, r) {
          if ("linear" === n) return t.linear(e);
          if ("relu" === n) return t.relu(e);
          if ("elu" === n) return t.elu(e);
          if ("relu6" === n) return t.relu6(e);
          if ("prelu" === n) return t.prelu(e, r);
          throw new Error(
            "Activation " + n + " has not been implemented for the CPU backend."
          );
        }
        exports.fused = Hp;
        var Yp = (function (t) {
          function e() {
            var e = t.call(this) || this;
            return (
              (e.blockSize = 48), (e.firstUse = !0), (e.data = new Co(e, Ut)), e
            );
          }
          return (
            o(e, t),
            (e.prototype.write = function (t, e, n) {
              this.firstUse &&
                ((this.firstUse = !1),
                c().get("IS_NODE") &&
                  mn(
                    "\n============================\nHi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"
                  ));
              var r = {};
              return this.data.set(r, { values: t, dtype: n }), r;
            }),
            (e.prototype.move = function (t, e, n, r) {
              this.data.set(t, { values: e, dtype: r });
            }),
            (e.prototype.numDataIds = function () {
              return this.data.numDataIds();
            }),
            (e.prototype.read = function (t) {
              return a(this, void 0, void 0, function () {
                return i(this, function (e) {
                  return [2, this.readSync(t)];
                });
              });
            }),
            (e.prototype.readSync = function (t) {
              var e = this.data.get(t),
                n = e.dtype,
                r = e.complexTensors;
              return "complex64" === n
                ? qo(this.readSync(r.real.dataId), this.readSync(r.imag.dataId))
                : this.data.get(t).values;
            }),
            (e.prototype.bufferSync = function (t) {
              var e = this.readSync(t.dataId),
                n = e;
              if ("string" === t.dtype)
                try {
                  n = e.map(function (t) {
                    return st(t);
                  });
                } catch (t) {
                  throw new Error(
                    "Failed to decode encoded string bytes into utf-8"
                  );
                }
              return mr(t.shape, t.dtype, n);
            }),
            (e.prototype.makeOutput = function (t, e, n) {
              var r = this.write(t, e, n);
              return Ut.makeTensorFromDataId(r, e, n, this);
            }),
            (e.prototype.disposeData = function (t) {
              if (this.data.has(t)) {
                var e = this.data.get(t).complexTensors;
                null != e && (e.real.dispose(), e.imag.dispose()),
                  this.data.delete(t);
              }
            }),
            (e.prototype.time = function (t) {
              return a(this, void 0, void 0, function () {
                var e;
                return i(this, function (n) {
                  return (e = ot()), t(), [2, { kernelMs: ot() - e }];
                });
              });
            }),
            (e.prototype.memory = function () {
              return {
                unreliable: !0,
                reasons: [
                  "The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less.",
                ],
              };
            }),
            (e.prototype.complex = function (t, e) {
              var n = this.makeOutput(null, t.shape, "complex64");
              return (
                (this.data.get(n.dataId).complexTensors = {
                  real: Ut.keep(t.clone()),
                  imag: Ut.keep(e.clone()),
                }),
                n
              );
            }),
            (e.prototype.real = function (t) {
              return this.data.get(t.dataId).complexTensors.real.clone();
            }),
            (e.prototype.imag = function (t) {
              return this.data.get(t.dataId).complexTensors.imag.clone();
            }),
            (e.prototype.slice = function (t, e, n) {
              if ((jp(t, "slice"), co(t.shape, e, n))) {
                var r = lo(e, t.strides),
                  o = D(n);
                return Mn(
                  this.readSync(t.dataId).subarray(r, r + o),
                  n,
                  t.dtype
                );
              }
              for (
                var a = mr(n, t.dtype), i = this.bufferSync(t), s = 0;
                s < a.size;
                ++s
              ) {
                var u = a.indexToLoc(s).map(function (t, n) {
                  return t + e[n];
                });
                a.values[s] = i.get.apply(i, u);
              }
              return a.toTensor();
            }),
            (e.prototype.stridedSlice = function (t, e, n, r) {
              jp(t, "stridedSlice");
              var o = io(e, n, r);
              if (
                o.some(function (t) {
                  return 0 === t;
                })
              )
                return Mn([], o);
              for (
                var a = mr(o, t.dtype), i = this.bufferSync(t), s = 0;
                s < a.size;
                s++
              ) {
                for (
                  var u = a.indexToLoc(s), c = new Array(u.length), l = 0;
                  l < c.length;
                  l++
                )
                  c[l] = u[l] * r[l] + e[l];
                a.set.apply(a, [i.get.apply(i, c)].concat(u));
              }
              return a.toTensor();
            }),
            (e.prototype.diag = function (t) {
              for (
                var e = this.readSync(t.dataId),
                  n = mr([t.size, t.size], t.dtype),
                  r = n.values,
                  o = 0;
                o < e.length;
                o++
              )
                r[o * t.size + o] = e[o];
              return n.toTensor();
            }),
            (e.prototype.unstack = function (t, e) {
              for (
                var n = t.shape[e], r = new Array(t.rank - 1), o = 0, a = 0;
                a < t.rank;
                a++
              )
                a !== e && (r[o++] = t.shape[a]);
              var i = new Array(t.rank).fill(0),
                s = t.shape.slice();
              s[e] = 1;
              var u = new Array(n);
              for (a = 0; a < u.length; a++)
                (i[e] = a), (u[a] = this.slice(t, i, s).reshape(r));
              return u;
            }),
            (e.prototype.reverse = function (t, e) {
              jp(t, "reverse");
              for (
                var n = mr(t.shape, t.dtype),
                  r = this.bufferSync(t),
                  o = function (o) {
                    var a = n.indexToLoc(o),
                      i = a.slice();
                    e.forEach(function (e) {
                      return (i[e] = t.shape[e] - 1 - i[e]);
                    }),
                      n.set.apply(n, [r.get.apply(r, i)].concat(a));
                  },
                  a = 0;
                a < n.size;
                a++
              )
                o(a);
              return n.toTensor();
            }),
            (e.prototype.concat = function (t, e) {
              var n = this;
              if ("complex64" === t[0].dtype) {
                var r = t.map(function (t) {
                    return _n(t);
                  }),
                  o = t.map(function (t) {
                    return On(t);
                  });
                return Fn(this.concat(r, e), this.concat(o, e));
              }
              var a = t.map(function (t) {
                  var n = D(t.shape.slice(e));
                  return t.as2D(-1, n);
                }),
                i = Nn(
                  a.map(function (t) {
                    return t.shape;
                  }),
                  1
                ),
                s = mr(i, t[0].dtype).values;
              if (1 === a[0].shape[0]) {
                var u = 0;
                a.forEach(function (t) {
                  s.set(n.readSync(t.dataId), u), (u += t.size);
                });
              } else {
                var c = 0;
                a.forEach(function (t) {
                  for (
                    var e = n.readSync(t.dataId), r = 0, o = 0;
                    o < t.shape[0];
                    ++o
                  )
                    for (var a = o * i[1] + c, u = 0; u < t.shape[1]; ++u)
                      s[a + u] = e[r++];
                  c += t.shape[1];
                });
              }
              var l = Nn(
                t.map(function (t) {
                  return t.shape;
                }),
                e
              );
              return Mn(s, l, t[0].dtype);
            }),
            (e.prototype.neg = function (t) {
              return jp(t, "neg"), this.multiply(Pn(-1), t);
            }),
            (e.prototype.add = function (t, e) {
              return "complex64" === t.dtype || "complex64" === e.dtype
                ? this.broadcastedBinaryComplexOp(
                    t.cast("complex64"),
                    e.cast("complex64"),
                    function (t, e, n, r) {
                      return { real: t + n, imag: e + r };
                    }
                  )
                : this.broadcastedBinaryOp(
                    t,
                    e,
                    Ft(t.dtype, e.dtype),
                    function (t, e) {
                      return t + e;
                    }
                  );
            }),
            (e.prototype.addN = function (t) {
              var e = this;
              jp(t, "addN");
              for (
                var n = t.map(function (t) {
                    return e.readSync(t.dataId);
                  }),
                  r = mr(t[0].shape, t[0].dtype),
                  o = r.values,
                  a = 0;
                a < t.length;
                a++
              )
                for (var i = n[a], s = 0; s < o.length; s++) o[s] += i[s];
              return r.toTensor();
            }),
            (e.prototype.softmax = function (t, e) {
              var n = P([e], t.shape),
                r = this.max(t, n),
                o = Rn(r.shape, n),
                a = this.subtract(t, r.reshape(o)),
                i = this.exp(a),
                s = this.sum(i, n).reshape(o);
              return this.realDivide(i, s);
            }),
            (e.prototype.subtract = function (t, e) {
              return "complex64" === t.dtype || "complex64" === e.dtype
                ? this.broadcastedBinaryComplexOp(
                    t.cast("complex64"),
                    e.cast("complex64"),
                    function (t, e, n, r) {
                      return { real: t - n, imag: e - r };
                    }
                  )
                : this.broadcastedBinaryOp(
                    t,
                    e,
                    Ft(t.dtype, e.dtype),
                    function (t, e) {
                      return t - e;
                    }
                  );
            }),
            (e.prototype.pow = function (t, e) {
              return (
                jp([t, e], "pow"),
                this.broadcastedBinaryOp(t, e, t.dtype, function (t, e) {
                  return Math.pow(t, e);
                })
              );
            }),
            (e.prototype.batchMatMul = function (t, e, n, r) {
              jp([t, e], "matMul");
              for (
                var o = n ? t.shape[1] : t.shape[2],
                  a = n ? t.shape[2] : t.shape[1],
                  i = r ? e.shape[1] : e.shape[2],
                  s = t.shape[0],
                  u = this.readSync(t.dataId),
                  c = this.readSync(e.dataId),
                  l = n
                    ? [t.strides[0], 1, t.strides[1]]
                    : [t.strides[0], t.strides[1], 1],
                  p = l[0],
                  h = l[1],
                  d = l[2],
                  f = r
                    ? [1, e.strides[1], e.strides[0]]
                    : [e.strides[1], 1, e.strides[0]],
                  v = f[0],
                  m = f[1],
                  g = f[2],
                  x = a * i,
                  y = mr([s, a, i], t.dtype),
                  b = y.values,
                  w = this.blockSize,
                  C = 0;
                C < s;
                C++
              )
                for (var E = 0; E < a; E += w)
                  for (var R = 0; R < i; R += w)
                    for (var I = 0; I < o; I += w)
                      for (
                        var k = Math.min(E + w, a),
                          S = Math.min(R + w, i),
                          A = Math.min(I + w, o),
                          D = E;
                        D < k;
                        D++
                      )
                        for (var N = R; N < S; N++) {
                          for (var T = 0, F = I; F < A; F++)
                            T +=
                              u[C * p + D * h + F * d] *
                              c[F * v + N * m + C * g];
                          b[C * x + (D * i + N)] += T;
                        }
              return y.toTensor();
            }),
            (e.prototype.fusedBatchMatMul = function (t) {
              var e = t.a,
                n = t.b,
                r = t.transposeA,
                o = t.transposeB,
                a = t.bias,
                i = t.activation,
                s = t.preluActivationWeights,
                u = this.batchMatMul(e, n, r, o);
              return a && (u = this.add(u, a)), i && (u = Xp(this, u, i, s)), u;
            }),
            (e.prototype.multiply = function (t, e) {
              return "complex64" === t.dtype || "complex64" === e.dtype
                ? this.broadcastedBinaryComplexOp(
                    t.cast("complex64"),
                    e.cast("complex64"),
                    function (t, e, n, r) {
                      return { real: t * n - e * r, imag: t * r + e * n };
                    }
                  )
                : this.broadcastedBinaryOp(
                    t,
                    e,
                    Ft(t.dtype, e.dtype),
                    function (t, e) {
                      return t * e;
                    }
                  );
            }),
            (e.prototype.realDivide = function (t, e) {
              return (
                jp([t, e], "realDivide"),
                this.broadcastedBinaryOp(t, e, "float32", function (t, e) {
                  return t / e;
                })
              );
            }),
            (e.prototype.floorDiv = function (t, e) {
              return (
                jp([t, e], "floorDiv"),
                this.broadcastedBinaryOp(t, e, "int32", function (t, e) {
                  return Math.floor(t / e);
                })
              );
            }),
            (e.prototype.sum = function (t, e) {
              jp(t, "sum"), In("sum", e, t.rank);
              for (
                var n = En(t.shape, e),
                  r = n[0],
                  o = n[1],
                  a = Kn(r, Ft(t.dtype, "int32")),
                  i = D(o),
                  s = this.readSync(a.dataId),
                  u = this.readSync(t.dataId),
                  c = 0;
                c < s.length;
                ++c
              ) {
                for (var l = c * i, p = 0, h = 0; h < i; ++h) p += u[l + h];
                s[c] = p;
              }
              return a;
            }),
            (e.prototype.prod = function (t, e) {
              jp(t, "sum");
              for (
                var n = En(t.shape, e),
                  r = n[0],
                  o = n[1],
                  a = Kn(r, Ft(t.dtype, "int32")),
                  i = D(o),
                  s = this.readSync(a.dataId),
                  u = this.readSync(t.dataId),
                  c = 0;
                c < s.length;
                ++c
              ) {
                for (var l = c * i, p = 1, h = 0; h < i; ++h) p *= u[l + h];
                s[c] = p;
              }
              return a;
            }),
            (e.prototype.unsortedSegmentSum = function (t, e, n) {
              jp(t, "unsortedSegmentSum");
              for (var r = [], o = t.rank - e.rank, a = 0; a < o; ++a)
                e = e.expandDims(a + 1);
              for (a = 0; a < n; ++a) {
                var i = Pn(a, "int32"),
                  s = Sc(i, e).asType("float32").mul(t).sum(0);
                r.push(s);
              }
              return zr(r);
            }),
            (e.prototype.argMin = function (t, e) {
              jp(t, "argMin");
              var n = [e];
              In("argMin", n, t.rank);
              for (
                var r = En(t.shape, n),
                  o = r[0],
                  a = r[1],
                  i = Kn(o, "int32"),
                  s = D(a),
                  u = this.readSync(i.dataId),
                  c = this.readSync(t.dataId),
                  l = 0;
                l < u.length;
                ++l
              ) {
                for (var p = l * s, h = c[p], d = 0, f = 0; f < s; ++f) {
                  var v = c[p + f];
                  v < h && ((h = v), (d = f));
                }
                u[l] = d;
              }
              return i;
            }),
            (e.prototype.argMax = function (t, e) {
              jp(t, "argMax");
              var n = [e];
              In("argMax", n, t.rank);
              for (
                var r = En(t.shape, n),
                  o = r[0],
                  a = r[1],
                  i = Kn(o, "int32"),
                  s = D(a),
                  u = this.readSync(i.dataId),
                  c = this.readSync(t.dataId),
                  l = 0;
                l < u.length;
                ++l
              ) {
                for (var p = l * s, h = c[p], d = 0, f = 0; f < s; ++f) {
                  var v = c[p + f];
                  v > h && ((h = v), (d = f));
                }
                u[l] = d;
              }
              return i;
            }),
            (e.prototype.cumsum = function (t, e, n, r) {
              if ((jp(t, "cumsum"), e !== t.rank - 1))
                throw new Error(
                  "backend.cumsum in CPU expects an inner-most axis=" +
                    (t.rank - 1) +
                    " but got axis=" +
                    e
                );
              for (
                var o = Ft(t.dtype, "int32"),
                  a = Kn(t.shape, o),
                  i = this.readSync(a.dataId),
                  s = this.readSync(t.dataId),
                  u = t.shape[t.rank - 1],
                  c = r
                    ? function (t, e) {
                        return t + u - e - 1;
                      }
                    : function (t, e) {
                        return t + e;
                      },
                  l = 0;
                l < s.length;
                l += u
              )
                for (var p = 0; p < u; p++) {
                  var h = c(l, p);
                  if (0 === p) i[h] = n ? 0 : s[h];
                  else {
                    var d = c(l, p - 1);
                    i[h] = n ? s[d] + i[d] : s[h] + i[d];
                  }
                }
              return a;
            }),
            (e.prototype.equal = function (t, e) {
              return (
                jp([t, e], "equal"),
                this.broadcastedBinaryOp(t, e, "bool", function (t, e) {
                  return t === e ? 1 : 0;
                })
              );
            }),
            (e.prototype.notEqual = function (t, e) {
              return (
                jp([t, e], "notEqual"),
                this.broadcastedBinaryOp(t, e, "bool", function (t, e) {
                  return t !== e ? 1 : 0;
                })
              );
            }),
            (e.prototype.less = function (t, e) {
              return (
                jp([t, e], "less"),
                this.broadcastedBinaryOp(t, e, "bool", function (t, e) {
                  return t < e ? 1 : 0;
                })
              );
            }),
            (e.prototype.lessEqual = function (t, e) {
              return (
                jp([t, e], "lessEqual"),
                this.broadcastedBinaryOp(t, e, "bool", function (t, e) {
                  return t <= e ? 1 : 0;
                })
              );
            }),
            (e.prototype.greater = function (t, e) {
              return (
                jp([t, e], "greater"),
                this.broadcastedBinaryOp(t, e, "bool", function (t, e) {
                  return t > e ? 1 : 0;
                })
              );
            }),
            (e.prototype.greaterEqual = function (t, e) {
              return (
                jp([t, e], "greaterEqual"),
                this.broadcastedBinaryOp(t, e, "bool", function (t, e) {
                  return t >= e ? 1 : 0;
                })
              );
            }),
            (e.prototype.logicalNot = function (t) {
              jp(t, "logicalNot");
              for (
                var e = this.readSync(t.dataId),
                  n = new Uint8Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                n[r] = e[r] ? 0 : 1;
              return this.makeOutput(n, t.shape, "bool");
            }),
            (e.prototype.logicalAnd = function (t, e) {
              return (
                jp([t, e], "logicalAnd"),
                this.broadcastedBinaryOp(t, e, "bool", function (t, e) {
                  return t && e;
                })
              );
            }),
            (e.prototype.logicalOr = function (t, e) {
              return (
                jp([t, e], "logicalOr"),
                this.broadcastedBinaryOp(t, e, "bool", function (t, e) {
                  return t || e;
                })
              );
            }),
            (e.prototype.select = function (t, e, n) {
              jp([t, e, n], "select");
              for (
                var r = this.readSync(t.dataId),
                  o = this.readSync(e.dataId),
                  a = this.readSync(n.dataId),
                  i = Kn(e.shape, Ft(e.dtype, n.dtype)),
                  s = this.readSync(i.dataId),
                  u = 0,
                  c =
                    0 === t.rank || t.rank > 1 || 1 === e.rank
                      ? 1
                      : D(e.shape.slice(1)),
                  l = 0;
                l < r.length;
                l++
              )
                for (var p = 0; p < c; p++)
                  1 === r[l] ? (s[u++] = o[l]) : (s[u++] = a[l]);
              return i;
            }),
            (e.prototype.where = function (t) {
              jp([t], "where");
              var e = this.readSync(t.dataId);
              return aa(t.shape, e);
            }),
            (e.prototype.topk = function (t, e, n) {
              return (
                jp(t, "topk"), oa(this.readSync(t.dataId), t.shape, t.dtype, e)
              );
            }),
            (e.prototype.min = function (t, e) {
              jp(t, "min"), In("min", e, t.rank);
              for (
                var n = En(t.shape, e),
                  r = n[0],
                  o = n[1],
                  a = Kn(r, t.dtype),
                  i = D(o),
                  s = this.readSync(a.dataId),
                  u = this.readSync(t.dataId),
                  c = 0;
                c < s.length;
                ++c
              ) {
                for (var l = c * i, p = u[l], h = 0; h < i; ++h) {
                  var d = u[l + h];
                  d < p && (p = d);
                }
                s[c] = p;
              }
              return a;
            }),
            (e.prototype.minimum = function (t, e) {
              return (
                jp([t, e], "minimum"),
                this.broadcastedBinaryOp(t, e, t.dtype, function (t, e) {
                  return Math.min(t, e);
                })
              );
            }),
            (e.prototype.mod = function (t, e) {
              return (
                jp([t, e], "mod"),
                this.broadcastedBinaryOp(t, e, t.dtype, function (t, e) {
                  var n = t % e;
                  return (t < 0 && e < 0) || (t >= 0 && e >= 0)
                    ? n
                    : (n + e) % e;
                })
              );
            }),
            (e.prototype.max = function (t, e) {
              jp(t, "max"), In("max", e, t.rank);
              for (
                var n = En(t.shape, e),
                  r = n[0],
                  o = n[1],
                  a = Kn(r, t.dtype),
                  i = D(o),
                  s = this.readSync(a.dataId),
                  u = this.readSync(t.dataId),
                  c = 0;
                c < s.length;
                ++c
              ) {
                for (var l = c * i, p = u[l], h = 0; h < i; ++h) {
                  var d = u[l + h];
                  d > p && (p = d);
                }
                s[c] = p;
              }
              return a;
            }),
            (e.prototype.maximum = function (t, e) {
              return (
                jp([t, e], "maximum"),
                this.broadcastedBinaryOp(t, e, t.dtype, function (t, e) {
                  return Math.max(t, e);
                })
              );
            }),
            (e.prototype.all = function (t, e) {
              jp(t, "all"), In("all", e, t.rank);
              for (
                var n = En(t.shape, e),
                  r = n[0],
                  o = n[1],
                  a = Kn(r, t.dtype),
                  i = D(o),
                  s = this.readSync(a.dataId),
                  u = this.readSync(t.dataId),
                  c = 0;
                c < s.length;
                ++c
              ) {
                for (var l = c * i, p = u[l], h = 0; h < i; ++h) {
                  var d = u[l + h];
                  p = p && d;
                }
                s[c] = p;
              }
              return a;
            }),
            (e.prototype.any = function (t, e) {
              jp(t, "any"), In("any", e, t.rank);
              for (
                var n = En(t.shape, e),
                  r = n[0],
                  o = n[1],
                  a = Kn(r, t.dtype),
                  i = D(o),
                  s = this.readSync(a.dataId),
                  u = this.readSync(t.dataId),
                  c = 0;
                c < s.length;
                ++c
              ) {
                for (var l = c * i, p = u[l], h = 0; h < i; ++h) {
                  var d = u[l + h];
                  p = p || d;
                }
                s[c] = p;
              }
              return a;
            }),
            (e.prototype.squaredDifference = function (t, e) {
              return (
                jp([t, e], "squaredDifference"),
                this.broadcastedBinaryOp(t, e, t.dtype, function (t, e) {
                  var n = t - e;
                  return n * n;
                })
              );
            }),
            (e.prototype.ceil = function (t) {
              jp(t, "ceil");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                n[r] = Math.ceil(e[r]);
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.floor = function (t) {
              jp(t, "floor");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                n[r] = Math.floor(e[r]);
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.sign = function (t) {
              jp(t, "x");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                e[r] < 0 ? (n[r] = -1) : e[r] > 0 ? (n[r] = 1) : (n[r] = 0);
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.isNaN = function (t) {
              jp(t, "x");
              for (
                var e = this.readSync(t.dataId),
                  n = new Uint8Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                Number.isNaN(e[r]) && (n[r] = 1);
              return this.makeOutput(n, t.shape, "bool");
            }),
            (e.prototype.isInf = function (t) {
              jp(t, "x");
              for (
                var e = this.readSync(t.dataId),
                  n = new Uint8Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                Math.abs(e[r]) === 1 / 0 && (n[r] = 1);
              return this.makeOutput(n, t.shape, "bool");
            }),
            (e.prototype.isFinite = function (t) {
              jp(t, "x");
              for (
                var e = this.readSync(t.dataId),
                  n = new Uint8Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                Number.isFinite(e[r]) && (n[r] = 1);
              return this.makeOutput(n, t.shape, "bool");
            }),
            (e.prototype.round = function (t) {
              jp(t, "round");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              ) {
                var o = Math.floor(e[r]);
                e[r] - o < 0.5
                  ? (n[r] = Math.floor(e[r]))
                  : e[r] - o > 0.5
                  ? (n[r] = Math.ceil(e[r]))
                  : (n[r] = o % 2 == 0 ? o : o + 1);
              }
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.exp = function (t) {
              jp(t, "exp");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                n[r] = Math.exp(e[r]);
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.expm1 = function (t) {
              jp(t, "expm1");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                n[r] = Math.expm1(e[r]);
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.log = function (t) {
              jp(t, "log");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              ) {
                var o = e[r];
                n[r] = Math.log(o);
              }
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.log1p = function (t) {
              jp(t, "log1p");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              ) {
                var o = e[r];
                n[r] = Math.log1p(o);
              }
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.sqrt = function (t) {
              jp(t, "sqrt");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              ) {
                var o = e[r];
                n[r] = Math.sqrt(o);
              }
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.rsqrt = function (t) {
              jp(t, "rsqrt");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              ) {
                var o = e[r];
                n[r] = 1 / Math.sqrt(o);
              }
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.reciprocal = function (t) {
              jp(t, "reciprocal");
              for (
                var e = this.readSync(t.dataId),
                  n = new Float32Array(e.length),
                  r = 0;
                r < e.length;
                ++r
              )
                n[r] = 1 / e[r];
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.linear = function (t) {
              return t;
            }),
            (e.prototype.relu = function (t) {
              jp(t, "relu");
              for (
                var e = Kn(t.shape, t.dtype),
                  n = this.readSync(e.dataId),
                  r = this.readSync(t.dataId),
                  o = 0;
                o < r.length;
                ++o
              )
                n[o] = Math.max(0, r[o]);
              return e;
            }),
            (e.prototype.relu6 = function (t) {
              jp(t, "relu");
              for (
                var e = Kn(t.shape, t.dtype),
                  n = this.readSync(e.dataId),
                  r = this.readSync(t.dataId),
                  o = 0;
                o < r.length;
                ++o
              )
                n[o] = Math.min(Math.max(0, r[o]), 6);
              return e;
            }),
            (e.prototype.prelu = function (t, e) {
              return (
                jp([t, e], "prelu"),
                this.broadcastedBinaryOp(t, e, t.dtype, function (t, e) {
                  return t < 0 ? e * t : t;
                })
              );
            }),
            (e.prototype.elu = function (t) {
              jp(t, "elu");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              ) {
                var o = n[r];
                e[r] = o >= 0 ? o : Math.exp(o) - 1;
              }
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.eluDer = function (t, e) {
              jp([t, e], "eluDer");
              for (
                var n = new Float32Array(e.size),
                  r = this.readSync(e.dataId),
                  o = this.readSync(t.dataId),
                  a = 0;
                a < r.length;
                ++a
              ) {
                var i = r[a];
                n[a] = i >= 1 ? o[a] : o[a] * (i + 1);
              }
              return this.makeOutput(n, e.shape, "float32");
            }),
            (e.prototype.selu = function (t) {
              jp(t, "selu");
              for (
                var e = Es,
                  n = Rs,
                  r = new Float32Array(t.size),
                  o = this.readSync(t.dataId),
                  a = 0;
                a < o.length;
                ++a
              ) {
                var i = o[a];
                r[a] = i >= 0 ? n * i : e * (Math.exp(i) - 1);
              }
              return this.makeOutput(r, t.shape, "float32");
            }),
            (e.prototype.clip = function (t, e, n) {
              jp(t, "clip");
              for (
                var r = new Float32Array(t.size),
                  o = this.readSync(t.dataId),
                  a = 0;
                a < o.length;
                ++a
              ) {
                var i = o[a];
                r[a] = i > n ? n : i < e ? e : i;
              }
              return this.makeOutput(r, t.shape, "float32");
            }),
            (e.prototype.abs = function (t) {
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.abs(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.complexAbs = function (t) {
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < t.size;
                ++r
              ) {
                var o = n[2 * r],
                  a = n[2 * r + 1];
                e[r] = Math.hypot(o, a);
              }
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.int = function (t) {
              jp(t, "int");
              for (
                var e = new Int32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = n[r];
              return this.makeOutput(e, t.shape, "int32");
            }),
            (e.prototype.sigmoid = function (t) {
              jp(t, "sigmoid");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = 1 / (1 + Math.exp(-n[r]));
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.softplus = function (t) {
              jp(t, "softplus");
              for (
                var e = Math.log(1.1920928955078125e-7) + 2,
                  n = new Float32Array(t.size),
                  r = this.readSync(t.dataId),
                  o = 0;
                o < r.length;
                ++o
              ) {
                var a,
                  i = r[o] > -e,
                  s = r[o] < e,
                  u = Math.exp(r[o]);
                (a = s ? u : i ? r[o] : Math.log(1 + u)), (n[o] = a);
              }
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.sin = function (t) {
              jp(t, "sin");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.sin(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.cos = function (t) {
              jp(t, "cos");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.cos(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.tan = function (t) {
              jp(t, "tan");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.tan(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.asin = function (t) {
              jp(t, "asin");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.asin(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.acos = function (t) {
              jp(t, "acos");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.acos(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.atan = function (t) {
              jp(t, "atan");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.atan(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.atan2 = function (t, e) {
              return (
                jp([t, e], "atan2"),
                this.broadcastedBinaryOp(t, e, t.dtype, function (t, e) {
                  return Math.atan2(t, e);
                })
              );
            }),
            (e.prototype.sinh = function (t) {
              jp(t, "sinh");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.sinh(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.cosh = function (t) {
              jp(t, "cosh");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.cosh(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.tanh = function (t) {
              jp(t, "tanh");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = F(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.asinh = function (t) {
              jp(t, "asinh");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.asinh(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.acosh = function (t) {
              jp(t, "acosh");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.acosh(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.atanh = function (t) {
              jp(t, "atanh");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              )
                e[r] = Math.atanh(n[r]);
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.erf = function (t) {
              jp(t, "erf");
              for (
                var e = new Float32Array(t.size),
                  n = this.readSync(t.dataId),
                  r = 0;
                r < n.length;
                ++r
              ) {
                var o = Math.sign(n[r]),
                  a = Math.abs(n[r]),
                  i = 1 / (1 + 0.3275911 * a);
                e[r] =
                  o *
                  (1 -
                    ((((1.061405429 * i - 1.453152027) * i + 1.421413741) * i -
                      0.284496736) *
                      i +
                      0.254829592) *
                      i *
                      Math.exp(-a * a));
              }
              return this.makeOutput(e, t.shape, "float32");
            }),
            (e.prototype.step = function (t, e) {
              void 0 === e && (e = 0), jp(t, "step");
              for (
                var n = new Float32Array(t.size),
                  r = this.readSync(t.dataId),
                  o = 0;
                o < r.length;
                ++o
              ) {
                var a = r[o];
                isNaN(a) ? (n[o] = NaN) : (n[o] = a > 0 ? 1 : e);
              }
              return this.makeOutput(n, t.shape, "float32");
            }),
            (e.prototype.fusedConv2d = function (t) {
              var e = t.input,
                n = t.filter,
                r = t.convInfo,
                o = t.bias,
                a = t.activation,
                i = t.preluActivationWeights,
                s = this.conv2d(e, n, r);
              return o && (s = this.add(s, o)), a && (s = Xp(this, s, a, i)), s;
            }),
            (e.prototype.conv2d = function (t, e, n) {
              jp([t, e], "conv2d");
              for (
                var r = n.filterHeight,
                  o = n.filterWidth,
                  a = n.dilationHeight,
                  i = n.dilationWidth,
                  s = n.padInfo.left,
                  u = n.padInfo.top,
                  c = "channelsLast" === n.dataFormat,
                  l = mr(n.outShape, t.dtype),
                  p = t.strides[0],
                  h = c ? t.strides[1] : t.strides[2],
                  d = c ? t.strides[2] : 1,
                  f = c ? 1 : t.strides[1],
                  v = l.strides[0],
                  m = c ? l.strides[1] : l.strides[2],
                  g = c ? l.strides[2] : 1,
                  x = c ? 1 : l.strides[1],
                  y = this.readSync(t.dataId),
                  b = this.readSync(e.dataId),
                  w = l.values,
                  C = 0;
                C < n.batchSize;
                ++C
              )
                for (var E = C * p, R = C * v, I = 0; I < n.outHeight; ++I)
                  for (
                    var k = R + I * m, S = I * n.strideHeight - u, A = 0;
                    A < r;
                    A++
                  ) {
                    var D = S + A * a;
                    if (!(D < 0 || D >= n.inHeight))
                      for (
                        var N = A * e.strides[0], T = E + D * h, F = 0;
                        F < n.outWidth;
                        ++F
                      )
                        for (
                          var _ = k + F * g, O = F * n.strideWidth - s, M = 0;
                          M < o;
                          M++
                        ) {
                          var B = O + M * i;
                          if (!(B < 0 || B >= n.inWidth))
                            for (
                              var P = T + B * d,
                                L = N + M * e.strides[1],
                                W = 0;
                              W < n.inChannels;
                              ++W
                            ) {
                              for (
                                var z = y[P + W * f], U = 0;
                                U < n.outChannels;
                                ++U
                              )
                                w[_ + U * x] += z * b[L + U];
                              L += n.outChannels;
                            }
                        }
                  }
              return l.toTensor();
            }),
            (e.prototype.conv3d = function (t, e, n) {
              for (
                var r = n.filterDepth,
                  o = n.filterHeight,
                  a = n.filterWidth,
                  i = n.dilationDepth,
                  s = n.dilationHeight,
                  u = n.dilationWidth,
                  c = n.padInfo.front,
                  l = n.padInfo.left,
                  p = n.padInfo.top,
                  h = mr(n.outShape, t.dtype),
                  d = this.readSync(t.dataId),
                  f = this.readSync(e.dataId),
                  v = h.values,
                  m = 0;
                m < n.batchSize;
                ++m
              )
                for (
                  var g = m * t.strides[0], x = m * h.strides[0], y = 0;
                  y < n.outDepth;
                  ++y
                )
                  for (
                    var b = x + y * h.strides[1],
                      w = y * n.strideDepth - c,
                      C = 0;
                    C < r;
                    C++
                  ) {
                    var E = w + C * i;
                    if (!(E < 0 || E >= n.inDepth))
                      for (
                        var R = C * e.strides[0],
                          I = g + E * t.strides[1],
                          k = 0;
                        k < n.outHeight;
                        ++k
                      )
                        for (
                          var S = b + k * h.strides[2],
                            A = k * n.strideHeight - p,
                            D = 0;
                          D < o;
                          D++
                        ) {
                          var N = A + D * s;
                          if (!(N < 0 || N >= n.inHeight))
                            for (
                              var T = R + D * e.strides[1],
                                F = I + N * t.strides[2],
                                _ = 0;
                              _ < n.outWidth;
                              ++_
                            )
                              for (
                                var O = S + _ * n.outChannels,
                                  M = _ * n.strideWidth - l,
                                  B = 0;
                                B < a;
                                B++
                              ) {
                                var P = M + B * u;
                                if (!(P < 0 || P >= n.inWidth))
                                  for (
                                    var L = T + B * e.strides[2],
                                      W = F + P * n.inChannels,
                                      z = L,
                                      U = 0;
                                    U < n.inChannels;
                                    ++U
                                  ) {
                                    for (
                                      var V = d[W + U], G = 0;
                                      G < n.outChannels;
                                      ++G
                                    )
                                      v[O + G] += V * f[z + G];
                                    z += n.outChannels;
                                  }
                              }
                        }
                  }
              return h.toTensor();
            }),
            (e.prototype.conv2dDerInput = function (t, e, n) {
              jp([t, e], "conv2dDerInput");
              for (
                var r = mr(n.inShape, "float32"),
                  o = r.values,
                  a = this.readSync(t.dataId),
                  i = this.readSync(e.dataId),
                  s = e.strides,
                  u = s[0],
                  c = s[1],
                  l = s[2],
                  p = n.batchSize,
                  h = n.filterHeight,
                  d = n.filterWidth,
                  f = n.inChannels,
                  v = n.inHeight,
                  m = n.inWidth,
                  g = n.outChannels,
                  x = n.outHeight,
                  y = n.outWidth,
                  b = n.strideHeight,
                  w = n.strideWidth,
                  C = n.dataFormat,
                  E = h - 1 - n.padInfo.top,
                  R = d - 1 - n.padInfo.left,
                  I = "channelsLast" === C,
                  k = r.strides[0],
                  S = I ? r.strides[1] : r.strides[2],
                  A = I ? r.strides[2] : 1,
                  D = I ? 1 : r.strides[1],
                  N = t.strides[0],
                  T = I ? t.strides[1] : t.strides[2],
                  F = I ? t.strides[2] : 1,
                  _ = I ? 1 : t.strides[1],
                  O = 0;
                O < p;
                ++O
              )
                for (var M = 0; M < f; ++M)
                  for (var B = 0; B < v; ++B)
                    for (
                      var P = B - E,
                        L = Math.max(0, Math.ceil(P / b)),
                        W = Math.min(x, (h + P) / b),
                        z = 0;
                      z < m;
                      ++z
                    ) {
                      for (
                        var U = z - R,
                          V = Math.max(0, Math.ceil(U / w)),
                          G = Math.min(y, (d + U) / w),
                          q = 0,
                          H = L;
                        H < W;
                        ++H
                      )
                        for (var K = H * b - P, j = V; j < G; ++j)
                          for (
                            var X = N * O + T * H + F * j,
                              Y =
                                u * (h - 1 - K) +
                                c * (d - 1 - (j * w - U)) +
                                l * M,
                              $ = 0;
                            $ < g;
                            ++$
                          )
                            q += a[X + _ * $] * i[Y + $];
                      o[k * O + S * B + A * z + D * M] = q;
                    }
              return r.toTensor();
            }),
            (e.prototype.conv3dDerInput = function (t, e, n) {
              for (
                var r = mr(n.inShape, "float32"),
                  o = r.values,
                  a = r.strides,
                  i = a[0],
                  s = a[1],
                  u = a[2],
                  c = a[3],
                  l = this.readSync(t.dataId),
                  p = t.strides,
                  h = p[0],
                  d = p[1],
                  f = p[2],
                  v = p[3],
                  m = this.readSync(e.dataId),
                  g = e.strides,
                  x = g[0],
                  y = g[1],
                  b = g[2],
                  w = g[3],
                  C = n.batchSize,
                  E = n.filterDepth,
                  R = n.filterHeight,
                  I = n.filterWidth,
                  k = n.inChannels,
                  S = n.inDepth,
                  A = n.inHeight,
                  D = n.inWidth,
                  N = n.outChannels,
                  T = n.outDepth,
                  F = n.outHeight,
                  _ = n.outWidth,
                  O = n.strideDepth,
                  M = n.strideHeight,
                  B = n.strideWidth,
                  P = E - 1 - n.padInfo.front,
                  L = R - 1 - n.padInfo.top,
                  W = I - 1 - n.padInfo.left,
                  z = 0;
                z < C;
                ++z
              )
                for (var U = 0; U < k; ++U)
                  for (var V = 0; V < S; ++V)
                    for (
                      var G = V - P,
                        q = Math.max(0, Math.ceil(G / O)),
                        H = Math.min(T, (E + G) / O),
                        K = 0;
                      K < A;
                      ++K
                    )
                      for (
                        var j = K - L,
                          X = Math.max(0, Math.ceil(j / M)),
                          Y = Math.min(F, (R + j) / M),
                          $ = 0;
                        $ < D;
                        ++$
                      ) {
                        for (
                          var Q = $ - W,
                            J = Math.max(0, Math.ceil(Q / B)),
                            Z = Math.min(_, (I + Q) / B),
                            tt = 0,
                            et = q;
                          et < H;
                          ++et
                        )
                          for (var nt = et * O - G, rt = X; rt < Y; ++rt)
                            for (var ot = rt * M - j, at = J; at < Z; ++at)
                              for (
                                var it = h * z + d * et + f * rt + v * at,
                                  st =
                                    x * (E - 1 - nt) +
                                    y * (R - 1 - ot) +
                                    b * (I - 1 - (at * B - Q)) +
                                    w * U,
                                  ut = 0;
                                ut < N;
                                ++ut
                              )
                                tt += l[it + ut] * m[st + ut];
                        o[i * z + s * V + u * K + c * $ + U] = tt;
                      }
              return r.toTensor();
            }),
            (e.prototype.conv2dDerFilter = function (t, e, n) {
              jp([t, e], "conv2dDerFilter");
              for (
                var r = n.strideHeight,
                  o = n.strideWidth,
                  a = n.filterHeight,
                  i = n.filterWidth,
                  s = "channelsLast" === n.dataFormat,
                  u = mr(n.filterShape, "float32"),
                  c = n.padInfo.left,
                  l = n.padInfo.top,
                  p = this.bufferSync(t),
                  h = this.bufferSync(e),
                  d = 0;
                d < a;
                ++d
              )
                for (
                  var f = Math.max(0, Math.ceil((l - d) / r)),
                    v = Math.min(n.outHeight, (n.inHeight + l - d) / r),
                    m = 0;
                  m < i;
                  ++m
                )
                  for (
                    var g = Math.max(0, Math.ceil((c - m) / o)),
                      x = Math.min(n.outWidth, (n.inWidth + c - m) / o),
                      y = 0;
                    y < n.inChannels;
                    ++y
                  )
                    for (var b = 0; b < n.outChannels; ++b) {
                      for (var w = 0, C = 0; C < n.batchSize; ++C)
                        for (var E = f; E < v; ++E)
                          for (var R = d + E * r - l, I = g; I < x; ++I) {
                            var k = m + I * o - c;
                            w += s
                              ? p.get(C, R, k, y) * h.get(C, E, I, b)
                              : p.get(C, y, R, k) * h.get(C, b, E, I);
                          }
                      u.set(w, d, m, y, b);
                    }
              return u.toTensor();
            }),
            (e.prototype.conv3dDerFilter = function (t, e, n) {
              for (
                var r = n.strideDepth,
                  o = n.strideHeight,
                  a = n.strideWidth,
                  i = n.filterDepth,
                  s = n.filterHeight,
                  u = n.filterWidth,
                  c = mr(n.filterShape, "float32"),
                  l = c.values,
                  p = c.strides,
                  h = p[0],
                  d = p[1],
                  f = p[2],
                  v = p[3],
                  m = this.readSync(e.dataId),
                  g = e.strides,
                  x = g[0],
                  y = g[1],
                  b = g[2],
                  w = g[3],
                  C = this.readSync(t.dataId),
                  E = t.strides,
                  R = E[0],
                  I = E[1],
                  k = E[2],
                  S = E[3],
                  A = n.padInfo.front,
                  D = n.padInfo.left,
                  N = n.padInfo.top,
                  T = 0;
                T < i;
                ++T
              )
                for (
                  var F = Math.max(0, Math.ceil((A - T) / r)),
                    _ = Math.min(n.outDepth, (n.inDepth + A - T) / r),
                    O = T * h,
                    M = 0;
                  M < s;
                  ++M
                )
                  for (
                    var B = Math.max(0, Math.ceil((N - M) / o)),
                      P = Math.min(n.outHeight, (n.inHeight + N - M) / o),
                      L = M * d + O,
                      W = 0;
                    W < u;
                    ++W
                  )
                    for (
                      var z = Math.max(0, Math.ceil((D - W) / a)),
                        U = Math.min(n.outWidth, (n.inWidth + D - W) / a),
                        V = W * f + L,
                        G = 0;
                      G < n.inChannels;
                      ++G
                    )
                      for (var q = G * v + V, H = 0; H < n.outChannels; ++H) {
                        for (var K = 0, j = 0; j < n.batchSize; ++j)
                          for (var X = j * R, Y = j * x, $ = F; $ < _; ++$)
                            for (
                              var Q = (T + $ * r - A) * I + X,
                                J = $ * y + Y,
                                Z = B;
                              Z < P;
                              ++Z
                            )
                              for (
                                var tt = (M + Z * o - N) * k + Q,
                                  et = Z * b + J,
                                  nt = z;
                                nt < U;
                                ++nt
                              ) {
                                var rt = nt * w + et;
                                K +=
                                  C[(W + nt * a - D) * S + tt + G] * m[rt + H];
                              }
                        l[q + H] = K;
                      }
              return c.toTensor();
            }),
            (e.prototype.fusedDepthwiseConv2D = function (t) {
              var e = t.input,
                n = t.filter,
                r = t.convInfo,
                o = t.bias,
                a = t.activation,
                i = t.preluActivationWeights,
                s = this.depthwiseConv2D(e, n, r);
              return o && (s = this.add(s, o)), a && (s = Xp(this, s, a, i)), s;
            }),
            (e.prototype.depthwiseConv2D = function (t, e, n) {
              jp([t, e], "depthwiseConv2D");
              for (
                var r = n.filterHeight,
                  o = n.filterWidth,
                  a = n.dilationHeight,
                  i = n.dilationWidth,
                  s = n.padInfo.left,
                  u = n.padInfo.top,
                  c = n.outChannels / n.inChannels,
                  l = mr(n.outShape, t.dtype),
                  p = this.readSync(t.dataId),
                  h = this.readSync(e.dataId),
                  d = l.values,
                  f = 0;
                f < n.batchSize;
                ++f
              )
                for (
                  var v = f * t.strides[0], m = f * l.strides[0], g = 0;
                  g < n.outHeight;
                  ++g
                )
                  for (
                    var x = m + g * l.strides[1],
                      y = g * n.strideHeight - s,
                      b = 0;
                    b < r;
                    ++b
                  ) {
                    var w = y + b * a;
                    if (!(w < 0 || w >= n.inHeight))
                      for (
                        var C = b * e.strides[0],
                          E = v + w * t.strides[1],
                          R = 0;
                        R < n.outWidth;
                        ++R
                      )
                        for (
                          var I = x + R * l.strides[2],
                            k = R * n.strideWidth - u,
                            S = 0;
                          S < o;
                          ++S
                        ) {
                          var A = k + S * i;
                          if (!(A < 0 || A >= n.inWidth))
                            for (
                              var D = C + S * e.strides[1],
                                N = E + A * n.inChannels,
                                T = I,
                                F = D,
                                _ = 0;
                              _ < n.inChannels;
                              ++_
                            ) {
                              for (var O = p[N + _], M = 0; M < c; ++M)
                                d[T + M] += O * h[F + M];
                              (T += c), (F += c);
                            }
                        }
                  }
              return l.toTensor();
            }),
            (e.prototype.depthwiseConv2DDerInput = function (t, e, n) {
              jp([t, e], "depthwiseConv2DDerInput");
              for (
                var r = mr(n.inShape, "float32"),
                  o = r.values,
                  a = r.strides,
                  i = a[0],
                  s = a[1],
                  u = a[2],
                  c = this.readSync(t.dataId),
                  l = t.strides,
                  p = l[0],
                  h = l[1],
                  d = l[2],
                  f = this.readSync(e.dataId),
                  v = e.strides,
                  m = v[0],
                  g = v[1],
                  x = v[2],
                  y = n.batchSize,
                  b = n.filterHeight,
                  w = n.filterWidth,
                  C = n.inChannels,
                  E = n.inHeight,
                  R = n.inWidth,
                  I = n.outChannels,
                  k = n.outHeight,
                  S = n.outWidth,
                  A = n.strideHeight,
                  D = n.strideWidth,
                  N = b - 1 - n.padInfo.top,
                  T = w - 1 - n.padInfo.left,
                  F = I / C,
                  _ = 0;
                _ < y;
                ++_
              )
                for (var O = 0; O < C; ++O)
                  for (var M = 0; M < E; ++M)
                    for (
                      var B = M - N,
                        P = Math.max(0, Math.ceil(B / A)),
                        L = Math.min(k, (b + B) / A),
                        W = 0;
                      W < R;
                      ++W
                    ) {
                      for (
                        var z = W - T,
                          U = Math.max(0, Math.ceil(z / D)),
                          V = Math.min(S, (w + z) / D),
                          G = 0,
                          q = P;
                        q < L;
                        ++q
                      )
                        for (var H = q * A - B, K = U; K < V; ++K)
                          for (
                            var j = p * _ + h * q + d * K,
                              X =
                                m * (b - 1 - H) +
                                g * (w - 1 - (K * D - z)) +
                                x * O,
                              Y = 0;
                            Y < F;
                            ++Y
                          )
                            G += c[j + (O * F + Y)] * f[X + Y];
                      o[i * _ + s * M + u * W + O] = G;
                    }
              return r.toTensor();
            }),
            (e.prototype.depthwiseConv2DDerFilter = function (t, e, n) {
              jp([t, e], "depthwiseConv2DDerFilter");
              for (
                var r = n.strideHeight,
                  o = n.strideWidth,
                  a = n.filterHeight,
                  i = n.filterWidth,
                  s = mr(n.filterShape, "float32"),
                  u = n.padInfo.left,
                  c = n.padInfo.top,
                  l = n.outChannels / n.inChannels,
                  p = this.bufferSync(t),
                  h = this.bufferSync(e),
                  d = 0;
                d < a;
                ++d
              )
                for (
                  var f = Math.max(0, Math.ceil((c - d) / r)),
                    v = Math.min(n.outHeight, (n.inHeight + c - d) / r),
                    m = 0;
                  m < i;
                  ++m
                )
                  for (
                    var g = Math.max(0, Math.ceil((u - m) / o)),
                      x = Math.min(n.outWidth, (n.inWidth + u - m) / o),
                      y = 0;
                    y < n.outChannels;
                    ++y
                  ) {
                    for (
                      var b = Math.trunc(y / l), w = y % l, C = 0, E = 0;
                      E < n.batchSize;
                      ++E
                    )
                      for (var R = f; R < v; ++R)
                        for (var I = d + R * r - c, k = g; k < x; ++k) {
                          var S = m + k * o - u;
                          C += p.get(E, I, S, b) * h.get(E, R, k, y);
                        }
                    s.set(C, d, m, b, w);
                  }
              return s.toTensor();
            }),
            (e.prototype.tile = function (t, e) {
              return jp(t, "tile"), ra(this.bufferSync(t), e);
            }),
            (e.prototype.pad = function (t, e, n) {
              jp(t, "pad");
              var r = e.map(function (e, n) {
                  return e[0] + t.shape[n] + e[1];
                }),
                o = e.map(function (t) {
                  return t[0];
                }),
                a = this.bufferSync(t),
                i = mr(r, t.dtype);
              0 !== n && i.values.fill(n);
              for (var s = 0; s < t.size; s++) {
                var u = a.indexToLoc(s),
                  c = u.map(function (t, e) {
                    return t + o[e];
                  });
                i.set.apply(i, [a.get.apply(a, u)].concat(c));
              }
              return i.toTensor();
            }),
            (e.prototype.transpose = function (t, e) {
              jp(t, "transpose");
              for (var n = new Array(t.rank), r = 0; r < n.length; r++)
                n[r] = t.shape[e[r]];
              var o = this.readSync(t.dataId),
                a = mr(n, t.dtype),
                i = this.bufferSync(t);
              for (r = 0; r < t.size; ++r) {
                for (
                  var s = i.indexToLoc(r), u = new Array(s.length), c = 0;
                  c < u.length;
                  c++
                )
                  u[c] = s[e[c]];
                var l = a.locToIndex(u);
                a.values[l] = o[r];
              }
              return a.toTensor();
            }),
            (e.prototype.gather = function (t, e, n) {
              jp([t, e], "gather");
              var r = t.shape.slice(),
                o = this.readSync(e.dataId);
              r[n] = o.length;
              for (
                var a = mr(r, t.dtype), i = this.bufferSync(t), s = 0;
                s < a.size;
                ++s
              ) {
                var u = a.indexToLoc(s),
                  c = u.slice();
                c[n] = o[u[n]];
                var l = i.locToIndex(c);
                a.values[s] = i.values[l];
              }
              return a.toTensor();
            }),
            (e.prototype.batchToSpaceND = function (t, e, n) {
              jp([t], "batchToSpaceND");
              var r = e.reduce(function (t, e) {
                  return t * e;
                }),
                o = Hr(t.shape, e, r),
                a = Kr(o.length, e.length),
                i = jr(t.shape, e, r),
                s = Xr(n, e.length),
                u = Yr(i, n, e.length);
              return t.reshape(o).transpose(a).reshape(i).slice(s, u);
            }),
            (e.prototype.spaceToBatchND = function (t, e, n) {
              jp([t], "spaceToBatchND");
              var r = e.reduce(function (t, e) {
                  return t * e;
                }),
                o = [[0, 0]];
              o.push.apply(o, n);
              for (var a = 1 + e.length; a < t.shape.length; ++a)
                o.push([0, 0]);
              var i = t.pad(o),
                s = Hr(i.shape, e, r, !1),
                u = Kr(s.length, e.length, !1),
                c = jr(i.shape, e, r, !1);
              return i.reshape(s).transpose(u).reshape(c);
            }),
            (e.prototype.pool = function (t, e, n) {
              jp(t, "pool");
              for (
                var r = e.strideHeight,
                  o = e.strideWidth,
                  a = e.dilationHeight,
                  i = e.dilationWidth,
                  s = e.effectiveFilterHeight,
                  u = e.effectiveFilterWidth,
                  c = e.padInfo.top,
                  l = e.padInfo.left,
                  p =
                    "max" === n
                      ? Number.NEGATIVE_INFINITY
                      : Number.POSITIVE_INFINITY,
                  h = this.readSync(t.dataId),
                  d = mr(e.outShape, t.dtype),
                  f = d.values,
                  v = e.outShape[1] * e.outShape[2] * e.outShape[3],
                  m = e.outShape[2] * e.outShape[3],
                  g = e.outShape[3],
                  x = 0;
                x < e.batchSize;
                ++x
              )
                for (
                  var y = x * v, b = x * t.strides[0], w = 0;
                  w < e.inChannels;
                  ++w
                )
                  for (var C = 0; C < e.outHeight; ++C)
                    for (
                      var E = C * r - c,
                        R = Math.max(0, E),
                        I = Math.min(e.inHeight, s + E),
                        k = y + C * m,
                        S = 0;
                      S < e.outWidth;
                      ++S
                    ) {
                      for (
                        var A = S * o - l,
                          D = Math.max(0, A),
                          N = Math.min(e.inWidth, u + A),
                          T = p,
                          F = 0,
                          _ = 0,
                          O = R;
                        O < I;
                        O += a
                      ) {
                        for (
                          var M = b + O * t.strides[1], B = D;
                          B < N;
                          B += i
                        ) {
                          var P = h[M + B * t.strides[2] + w];
                          "max" === n && P > T
                            ? (T = P)
                            : "avg" === n && ((F += P), _++);
                        }
                        if (isNaN(T)) break;
                      }
                      f[k + S * g + w] = "avg" === n ? F / _ : T;
                    }
              return d.toTensor();
            }),
            (e.prototype.maxPool = function (t, e) {
              return this.pool(t, e, "max");
            }),
            (e.prototype.maxPoolPositions = function (t, e) {
              for (
                var n = mr(e.outShape, "int32"),
                  r = e.strideHeight,
                  o = e.strideWidth,
                  a = e.dilationHeight,
                  i = e.dilationWidth,
                  s = e.effectiveFilterHeight,
                  u = e.effectiveFilterWidth,
                  c = e.padInfo.top,
                  l = e.padInfo.left,
                  p = this.bufferSync(t),
                  h = 0;
                h < e.batchSize;
                ++h
              )
                for (var d = 0; d < e.inChannels; ++d)
                  for (var f = 0; f < e.outHeight; ++f) {
                    for (var v = f * r - c, m = v; m < 0; ) m += a;
                    for (
                      var g = Math.min(e.inHeight, s + v), x = 0;
                      x < e.outWidth;
                      ++x
                    ) {
                      for (var y = x * o - l, b = y; b < 0; ) b += i;
                      for (
                        var w = Math.min(e.inWidth, u + y),
                          C = Number.NEGATIVE_INFINITY,
                          E = -1,
                          R = m;
                        R < g;
                        R += a
                      )
                        for (var I = R - v, k = b; k < w; k += i) {
                          var S = k - y,
                            A = p.get(h, R, k, d);
                          A > C && ((C = A), (E = I * u + S));
                        }
                      n.set(E, h, f, x, d);
                    }
                  }
              return n.toTensor();
            }),
            (e.prototype.maxPoolBackprop = function (t, e, n, r) {
              jp([e, n], "maxPoolBackprop");
              for (
                var o = this.maxPoolPositions(e, r),
                  a = r.strideHeight,
                  i = r.strideWidth,
                  s = r.dilationHeight,
                  u = r.dilationWidth,
                  c = r.effectiveFilterHeight,
                  l = r.effectiveFilterWidth,
                  p = l - 1 - r.padInfo.left,
                  h = c - 1 - r.padInfo.top,
                  d = mr(e.shape, "float32"),
                  f = this.bufferSync(o),
                  v = this.bufferSync(t),
                  m = 0;
                m < r.batchSize;
                ++m
              )
                for (var g = 0; g < r.inChannels; ++g)
                  for (var x = 0; x < r.inHeight; ++x)
                    for (var y = 0; y < r.inWidth; ++y) {
                      for (
                        var b = x - h, w = y - p, C = 0, E = 0;
                        E < c;
                        E += s
                      ) {
                        var R = (b + E) / a;
                        if (!(R < 0 || R >= r.outHeight || Math.floor(R) !== R))
                          for (var I = 0; I < l; I += u) {
                            var k = (w + I) / i;
                            if (
                              !(k < 0 || k >= r.outWidth || Math.floor(k) !== k)
                            ) {
                              var S =
                                c * l - 1 - f.get(m, R, k, g) === E * l + I
                                  ? 1
                                  : 0;
                              0 !== S && (C += v.get(m, R, k, g) * S);
                            }
                          }
                      }
                      d.set(C, m, x, y, g);
                    }
              return d.toTensor();
            }),
            (e.prototype.avgPoolBackprop = function (t, e, n) {
              jp([t, e], "avgPoolBackprop");
              for (
                var r = n.strideHeight,
                  o = n.strideWidth,
                  a = n.filterHeight,
                  i = n.filterWidth,
                  s = n.dilationHeight,
                  u = n.dilationWidth,
                  c = n.effectiveFilterHeight,
                  l = n.effectiveFilterWidth,
                  p = l - 1 - n.padInfo.left,
                  h = c - 1 - n.padInfo.top,
                  d = mr(e.shape, "float32"),
                  f = 1 / (a * i),
                  v = this.bufferSync(t),
                  m = 0;
                m < n.batchSize;
                ++m
              )
                for (var g = 0; g < n.inChannels; ++g)
                  for (var x = 0; x < n.inHeight; ++x)
                    for (var y = 0; y < n.inWidth; ++y) {
                      for (
                        var b = x - h, w = y - p, C = 0, E = 0;
                        E < c;
                        E += s
                      ) {
                        var R = (b + E) / r;
                        if (!(R < 0 || R >= n.outHeight || Math.floor(R) !== R))
                          for (var I = 0; I < l; I += u) {
                            var k = (w + I) / o;
                            k < 0 ||
                              k >= n.outWidth ||
                              Math.floor(k) !== k ||
                              (C += v.get(m, R, k, g));
                          }
                      }
                      d.set(C * f, m, x, y, g);
                    }
              return d.toTensor();
            }),
            (e.prototype.pool3d = function (t, e, n) {
              jp(t, "pool3d");
              for (
                var r = e.strideDepth,
                  o = e.strideHeight,
                  a = e.strideWidth,
                  i = e.dilationDepth,
                  s = e.dilationHeight,
                  u = e.dilationWidth,
                  c = e.effectiveFilterDepth,
                  l = e.effectiveFilterHeight,
                  p = e.effectiveFilterWidth,
                  h = e.padInfo.front,
                  d = e.padInfo.top,
                  f = e.padInfo.left,
                  v =
                    "max" === n
                      ? Number.NEGATIVE_INFINITY
                      : Number.POSITIVE_INFINITY,
                  m = this.readSync(t.dataId),
                  g = mr(e.outShape, t.dtype),
                  x = g.values,
                  y =
                    e.outShape[1] *
                    e.outShape[2] *
                    e.outShape[3] *
                    e.outShape[4],
                  b = e.outShape[2] * e.outShape[3] * e.outShape[4],
                  w = e.outShape[3] * e.outShape[4],
                  C = e.outShape[4],
                  E = 0;
                E < e.batchSize;
                ++E
              )
                for (
                  var R = E * y, I = E * t.strides[0], k = 0;
                  k < e.inChannels;
                  ++k
                )
                  for (var S = 0; S < e.outDepth; ++S) {
                    for (var A = S * r - h, D = A; D < 0; ) D += i;
                    for (
                      var N = Math.min(e.inDepth, c + A), T = R + S * b, F = 0;
                      F < e.outHeight;
                      ++F
                    ) {
                      for (var _ = F * o - d, O = _; O < 0; ) O += s;
                      for (
                        var M = Math.min(e.inHeight, l + _),
                          B = T + F * w,
                          P = 0;
                        P < e.outWidth;
                        ++P
                      ) {
                        for (var L = P * a - f, W = L; W < 0; ) W += u;
                        for (
                          var z = Math.min(e.inWidth, p + L),
                            U = B + P * C,
                            V = v,
                            G = 0,
                            q = 0,
                            H = D;
                          H < N;
                          H += i
                        ) {
                          for (
                            var K = I + H * t.strides[1], j = O;
                            j < M;
                            j += s
                          ) {
                            for (
                              var X = K + j * t.strides[2], Y = W;
                              Y < z;
                              Y += u
                            ) {
                              var $ = m[X + Y * t.strides[3] + k];
                              if (
                                ("max" === n && $ > V
                                  ? (V = $)
                                  : "avg" === n && ((G += $), q++),
                                isNaN(V))
                              )
                                break;
                            }
                            if (isNaN(V)) break;
                          }
                          if (isNaN(V)) break;
                        }
                        x[U + k] = "avg" === n ? G / q : V;
                      }
                    }
                  }
              return g.toTensor();
            }),
            (e.prototype.avgPool3d = function (t, e) {
              return jp(t, "avgPool3d"), this.pool3d(t, e, "avg").toFloat();
            }),
            (e.prototype.avgPool3dBackprop = function (t, e, n) {
              jp([t, e], "avgPool3dBackprop");
              for (
                var r = n.strideDepth,
                  o = n.strideHeight,
                  a = n.strideWidth,
                  i = n.filterDepth,
                  s = n.filterHeight,
                  u = n.filterWidth,
                  c = n.dilationDepth,
                  l = n.dilationHeight,
                  p = n.dilationWidth,
                  h = n.effectiveFilterDepth,
                  d = n.effectiveFilterHeight,
                  f = n.effectiveFilterWidth,
                  v = h - 1 - n.padInfo.front,
                  m = f - 1 - n.padInfo.left,
                  g = d - 1 - n.padInfo.top,
                  x = mr(e.shape, "float32"),
                  y = 1 / (i * s * u),
                  b = this.bufferSync(t),
                  w = 0;
                w < n.batchSize;
                ++w
              )
                for (var C = 0; C < n.inChannels; ++C)
                  for (var E = 0; E < n.inDepth; ++E)
                    for (var R = 0; R < n.inHeight; ++R)
                      for (var I = 0; I < n.inWidth; ++I) {
                        for (
                          var k = E - v, S = R - g, A = I - m, D = 0, N = 0;
                          N < h;
                          N += c
                        ) {
                          var T = (k + N) / r;
                          if (
                            !(T < 0 || T >= n.outDepth || Math.floor(T) !== T)
                          )
                            for (var F = 0; F < d; F += l) {
                              var _ = (S + F) / o;
                              if (
                                !(
                                  _ < 0 ||
                                  _ >= n.outHeight ||
                                  Math.floor(_) !== _
                                )
                              )
                                for (var O = 0; O < f; O += p) {
                                  var M = (A + O) / a;
                                  M < 0 ||
                                    M >= n.outWidth ||
                                    Math.floor(M) !== M ||
                                    (D += b.get(w, T, _, M, C));
                                }
                            }
                        }
                        x.set(D * y, w, E, R, I, C);
                      }
              return x.toTensor();
            }),
            (e.prototype.maxPool3d = function (t, e) {
              return jp(t, "maxPool3d"), this.pool3d(t, e, "max").toFloat();
            }),
            (e.prototype.maxPool3dPositions = function (t, e) {
              for (
                var n = mr(e.outShape, "int32"),
                  r = e.strideDepth,
                  o = e.strideHeight,
                  a = e.strideWidth,
                  i = e.dilationDepth,
                  s = e.dilationHeight,
                  u = e.dilationWidth,
                  c = e.effectiveFilterDepth,
                  l = e.effectiveFilterHeight,
                  p = e.effectiveFilterWidth,
                  h = e.padInfo.front,
                  d = e.padInfo.top,
                  f = e.padInfo.left,
                  v = this.bufferSync(t),
                  m = 0;
                m < e.batchSize;
                ++m
              )
                for (var g = 0; g < e.inChannels; ++g)
                  for (var x = 0; x < e.outDepth; ++x) {
                    for (var y = x * r - h, b = y; b < 0; ) b += i;
                    for (
                      var w = Math.min(e.inDepth, c + y), C = 0;
                      C < e.outHeight;
                      ++C
                    ) {
                      for (var E = C * o - d, R = E; R < 0; ) R += s;
                      for (
                        var I = Math.min(e.inHeight, l + E), k = 0;
                        k < e.outWidth;
                        ++k
                      ) {
                        for (var S = k * a - f, A = S; A < 0; ) A += u;
                        for (
                          var D = Math.min(e.inWidth, p + S),
                            N = Number.NEGATIVE_INFINITY,
                            T = -1,
                            F = b;
                          F < w;
                          F += i
                        )
                          for (var _ = F - y, O = R; O < I; O += s)
                            for (var M = O - E, B = A; B < D; B += u) {
                              var P = B - S,
                                L = v.get(m, F, O, B, g);
                              L >= N && ((N = L), (T = _ * l * p + M * l + P));
                            }
                        n.set(T, m, x, C, k, g);
                      }
                    }
                  }
              return n.toTensor();
            }),
            (e.prototype.maxPool3dBackprop = function (t, e, n, r) {
              jp([e, n], "maxPool3dBackprop");
              for (
                var o = this.maxPool3dPositions(e, r),
                  a = r.strideDepth,
                  i = r.strideHeight,
                  s = r.strideWidth,
                  u = r.dilationDepth,
                  c = r.dilationHeight,
                  l = r.dilationWidth,
                  p = r.effectiveFilterDepth,
                  h = r.effectiveFilterHeight,
                  d = r.effectiveFilterWidth,
                  f = p - 1 - r.padInfo.front,
                  v = d - 1 - r.padInfo.left,
                  m = h - 1 - r.padInfo.top,
                  g = mr(e.shape, "float32"),
                  x = this.bufferSync(o),
                  y = this.bufferSync(t),
                  b = 0;
                b < r.batchSize;
                ++b
              )
                for (var w = 0; w < r.inChannels; ++w)
                  for (var C = 0; C < r.inDepth; ++C)
                    for (var E = 0; E < r.inHeight; ++E)
                      for (var R = 0; R < r.inWidth; ++R) {
                        for (
                          var I = C - f, k = E - m, S = R - v, A = 0, D = 0;
                          D < p;
                          D += u
                        ) {
                          var N = (I + D) / a;
                          if (
                            !(N < 0 || N >= r.outDepth || Math.floor(N) !== N)
                          )
                            for (var T = 0; T < h; T += c) {
                              var F = (k + T) / i;
                              if (
                                !(
                                  F < 0 ||
                                  F >= r.outHeight ||
                                  Math.floor(F) !== F
                                )
                              )
                                for (var _ = 0; _ < d; _ += l) {
                                  var O = (S + _) / s;
                                  if (
                                    !(
                                      O < 0 ||
                                      O >= r.outWidth ||
                                      Math.floor(O) !== O
                                    )
                                  ) {
                                    var M =
                                      p * h * d - 1 - x.get(b, N, F, O, w) ===
                                      D * h * d + T * d + _
                                        ? 1
                                        : 0;
                                    0 !== M && (A += y.get(b, N, F, O, w) * M);
                                  }
                                }
                            }
                        }
                        g.set(A, b, C, E, R, w);
                      }
              return g.toTensor();
            }),
            (e.prototype.cast = function (t, e) {
              return zo(t, e, this);
            }),
            (e.prototype.reshape = function (t, e) {
              return Uo(t, e);
            }),
            (e.prototype.avgPool = function (t, e) {
              return jp(t, "avgPool"), this.pool(t, e, "avg").toFloat();
            }),
            (e.prototype.resizeBilinear = function (t, e, n, r) {
              jp(t, "resizeBilinear");
              for (
                var o = t.shape,
                  a = o[0],
                  i = o[1],
                  s = o[2],
                  u = o[3],
                  c = this.readSync(t.dataId),
                  l = new Float32Array(D([a, e, n, u])),
                  p = [r && e > 1 ? i - 1 : i, r && n > 1 ? s - 1 : s],
                  h = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n],
                  d = 0,
                  f = p[0] / h[0],
                  v = p[1] / h[1],
                  m = 0;
                m < a;
                m++
              )
                for (var g = 0; g < e; g++)
                  for (
                    var x = f * g,
                      y = Math.floor(x),
                      b = x - y,
                      w = Math.min(i - 1, Math.ceil(x)),
                      C = m * t.strides[0] + y * t.strides[1],
                      E = m * t.strides[0] + w * t.strides[1],
                      R = 0;
                    R < n;
                    R++
                  )
                    for (
                      var I = v * R,
                        k = Math.floor(I),
                        S = I - k,
                        A = Math.min(s - 1, Math.ceil(I)),
                        N = C + k * t.strides[2],
                        T = E + k * t.strides[2],
                        F = C + A * t.strides[2],
                        _ = E + A * t.strides[2],
                        O = 0;
                      O < u;
                      O++
                    ) {
                      var M = c[N + O],
                        B = c[T + O],
                        P = M + (c[F + O] - M) * S,
                        L = P + (B + (c[_ + O] - B) * S - P) * b;
                      l[d++] = L;
                    }
              return Mn(l, [a, e, n, u]);
            }),
            (e.prototype.resizeBilinearBackprop = function (t, e, n) {
              jp([t, e], "resizeBilinearBackprop");
              for (
                var r = e.shape,
                  o = r[0],
                  a = r[1],
                  i = r[2],
                  s = r[3],
                  u = t.shape,
                  c = u[1],
                  l = u[2],
                  p = new Float32Array(o * a * i * s),
                  h = [n && c > 1 ? a - 1 : a, n && l > 1 ? i - 1 : i],
                  d = [n && c > 1 ? c - 1 : c, n && l > 1 ? l - 1 : l],
                  f = h[0] / d[0],
                  v = h[1] / d[1],
                  m = this.readSync(t.dataId),
                  g = 0,
                  x = 0;
                x < o;
                x++
              )
                for (var y = x * e.strides[0], b = 0; b < c; b++)
                  for (
                    var w = b * f,
                      C = Math.floor(w),
                      E = Math.min(Math.ceil(w), a - 1),
                      R = y + C * e.strides[1],
                      I = y + E * e.strides[1],
                      k = w - C,
                      S = 1 - k,
                      A = 0;
                    A < l;
                    A++
                  )
                    for (
                      var D = A * v,
                        N = Math.floor(D),
                        T = Math.min(Math.ceil(D), i - 1),
                        F = D - N,
                        _ = 1 - F,
                        O = R + N * e.strides[2],
                        M = R + T * e.strides[2],
                        B = I + N * e.strides[2],
                        P = I + T * e.strides[2],
                        L = S * _,
                        W = S * F,
                        z = k * _,
                        U = k * F,
                        V = 0;
                      V < s;
                      V++
                    ) {
                      var G = m[g++];
                      (p[O + V] += G * L),
                        (p[M + V] += G * W),
                        (p[B + V] += G * z),
                        (p[P + V] += G * U);
                    }
              return Un(p, [o, i, a, s], e.dtype);
            }),
            (e.prototype.resizeNearestNeighbor = function (t, e, n, r) {
              jp(t, "resizeNearestNeighbor");
              for (
                var o = t.shape,
                  a = o[0],
                  i = o[1],
                  s = o[2],
                  u = o[3],
                  c = this.readSync(t.dataId),
                  l = new Float32Array(a * e * n * u),
                  p = [r && e > 1 ? i - 1 : i, r && n > 1 ? s - 1 : s],
                  h = [r && e > 1 ? e - 1 : e, r && n > 1 ? n - 1 : n],
                  d = p[0] / h[0],
                  f = p[1] / h[1],
                  v = 0,
                  m = 0;
                m < a;
                m++
              )
                for (var g = m * t.strides[0], x = 0; x < e; x++)
                  for (
                    var y = d * x,
                      b =
                        g +
                        Math.min(i - 1, r ? Math.round(y) : Math.floor(y)) *
                          t.strides[1],
                      w = 0;
                    w < n;
                    w++
                  )
                    for (
                      var C = f * w,
                        E =
                          b +
                          Math.min(s - 1, r ? Math.round(C) : Math.floor(C)) *
                            t.strides[2],
                        R = 0;
                      R < u;
                      R++
                    ) {
                      var I = c[E + R];
                      l[v++] = I;
                    }
              return Mn(l, [a, e, n, u], t.dtype);
            }),
            (e.prototype.resizeNearestNeighborBackprop = function (t, e, n) {
              jp([t, e], "resizeNearestNeighborBackprop");
              for (
                var r = e.shape,
                  o = r[0],
                  a = r[1],
                  i = r[2],
                  s = r[3],
                  u = t.shape,
                  c = u[1],
                  l = u[2],
                  p = new Float32Array(o * a * i * s),
                  h = this.readSync(t.dataId),
                  d = [n && c > 1 ? a - 1 : a, n && l > 1 ? i - 1 : i],
                  f = [n && c > 1 ? c - 1 : c, n && l > 1 ? l - 1 : l],
                  v = d[0] / f[0],
                  m = d[1] / f[1],
                  g = 1 / v,
                  x = 1 / m,
                  y = 2 * Math.ceil(g) + 2,
                  b = 2 * Math.ceil(x) + 2,
                  w = 0;
                w < o;
                w++
              )
                for (var C = w * e.strides[0], E = 0; E < a; E++)
                  for (
                    var R = C + E * e.strides[1],
                      I = Math.floor(E * g),
                      k = Math.floor(I - y / 2),
                      S = 0;
                    S < i;
                    S++
                  )
                    for (
                      var A = R + S * e.strides[2],
                        D = Math.floor(S * x),
                        N = Math.floor(D - b / 2),
                        T = 0;
                      T < s;
                      T++
                    ) {
                      for (var F = 0, _ = 0; _ < y; _++) {
                        var O = _ + k;
                        if (!(O < 0 || O >= c)) {
                          var M = C + O * t.strides[1],
                            B = O * v;
                          if (
                            E ===
                            Math.min(a - 1, n ? Math.round(B) : Math.floor(B))
                          )
                            for (var P = 0; P < b; P++) {
                              var L = P + N;
                              if (!(L < 0 || L >= l)) {
                                var W = M + L * t.strides[2],
                                  z = L * m;
                                S ===
                                  Math.min(
                                    i - 1,
                                    n ? Math.round(z) : Math.floor(z)
                                  ) && (F += h[W + T]);
                              }
                            }
                        }
                      }
                      p[A + T] = F;
                    }
              return Un(p, e.shape, e.dtype);
            }),
            (e.prototype.batchNormalization = function (t, e, n, r, o, a) {
              jp([t, e, n, o, a], "batchNorm");
              for (
                var i = this.readSync(t.dataId),
                  s = this.readSync(e.dataId),
                  u = this.readSync(n.dataId),
                  c = o ? this.readSync(o.dataId) : new Float32Array([1]),
                  l = a ? this.readSync(a.dataId) : new Float32Array([0]),
                  p = new Float32Array(i.length),
                  h = l.length,
                  d = c.length,
                  f = u.length,
                  v = s.length,
                  m = 0,
                  g = 0,
                  x = 0,
                  y = 0,
                  b = 0;
                b < i.length;
                ++b
              )
                (p[b] =
                  l[m++] + ((i[b] - s[g++]) * c[x++]) / Math.sqrt(u[y++] + r)),
                  m >= h && (m = 0),
                  g >= v && (g = 0),
                  x >= d && (x = 0),
                  y >= f && (y = 0);
              return Un(p, t.shape);
            }),
            (e.prototype.localResponseNormalization4D = function (
              t,
              e,
              n,
              r,
              o
            ) {
              jp(t, "localResponseNormalization4D");
              var a = t.shape[3],
                i = a - 1,
                s = this.readSync(t.dataId),
                u = t.size,
                c = new Float32Array(u);
              function l(t) {
                for (
                  var n = t % a,
                    r = t - n + Math.max(0, n - e),
                    o = t - n + Math.min(n + e, i),
                    u = 0;
                  r <= o;
                  r++
                ) {
                  var c = s[r];
                  u += c * c;
                }
                return u;
              }
              for (var p = 0; p < u; p++) {
                var h = l(p),
                  d = s[p] * Math.pow(n + r * h, -o);
                c[p] = d;
              }
              return Un(c, t.shape);
            }),
            (e.prototype.LRNGrad = function (t, e, n, r, o, a, i) {
              jp(t, "LRNGrad");
              for (
                var s = t.shape[3],
                  u = this.readSync(t.dataId),
                  c = this.readSync(e.dataId),
                  l = this.readSync(n.dataId),
                  p = new Float32Array(t.size),
                  h = t.size,
                  d = 0;
                d < h;
                d++
              ) {
                for (
                  var f = d % s,
                    v = d - f + Math.max(0, f - r),
                    m = d - f + Math.min(s, f + r + 1),
                    g = 0,
                    x = v;
                  x < m;
                  x++
                )
                  g += Math.pow(c[x], 2);
                for (g = a * g + o, x = v; x < m; x++) {
                  var y = (-2 * a * i * c[x] * l[d]) / g;
                  d === x && (y += Math.pow(g, -i)), (y *= u[d]), (p[x] += y);
                }
              }
              return Un(p, t.shape);
            }),
            (e.prototype.multinomial = function (t, e, n, r) {
              jp(t, "multinomial");
              for (
                var o = e ? t : bo(t),
                  a = o.shape[0],
                  i = o.shape[1],
                  s = Kn([a, n], "int32"),
                  u = this.readSync(s.dataId),
                  c = this.readSync(o.dataId),
                  l = 0;
                l < a;
                ++l
              ) {
                var p = l * i,
                  h = new Float32Array(i - 1);
                h[0] = c[p];
                for (var d = 1; d < h.length; ++d) h[d] = h[d - 1] + c[p + d];
                for (var f = hr(r.toString()), v = l * n, m = 0; m < n; ++m) {
                  var g = f();
                  u[v + m] = h.length;
                  for (var x = 0; x < h.length; x++)
                    if (g < h[x]) {
                      u[v + m] = x;
                      break;
                    }
                }
              }
              return s;
            }),
            (e.prototype.oneHot = function (t, e, n, r) {
              jp(t, "oneHot");
              var o = new Float32Array(t.size * e);
              o.fill(r);
              for (var a = this.readSync(t.dataId), i = 0; i < t.size; ++i)
                a[i] >= 0 && a[i] < e && (o[i * e + a[i]] = n);
              return Wn(o, [t.size, e], "int32");
            }),
            (e.prototype.nonMaxSuppression = function (t, e, n, r, o) {
              return (
                jp(t, "nonMaxSuppression"),
                $o(this.readSync(t.dataId), this.readSync(e.dataId), n, r, o)
              );
            }),
            (e.prototype.fft = function (t) {
              return this.fftBatch(t, !1);
            }),
            (e.prototype.ifft = function (t) {
              return this.fftBatch(t, !0);
            }),
            (e.prototype.fftBatch = function (t, e) {
              for (
                var n = t.shape[0],
                  r = t.shape[1],
                  o = mr(t.shape, "float32"),
                  a = mr(t.shape, "float32"),
                  i = _n(t).as2D(n, r),
                  s = On(t).as2D(n, r),
                  u = 0;
                u < n;
                u++
              )
                for (
                  var c = i.slice([u, 0], [1, r]),
                    l = s.slice([u, 0], [1, r]),
                    p = Fn(c, l),
                    h = this.readSync(this.fftImpl(p, e).dataId),
                    d = 0;
                  d < r;
                  d++
                ) {
                  var f = Ho(h, d);
                  (o.values[u * r + d] = f.real),
                    (a.values[u * r + d] = f.imag);
                }
              return Fn(o.toTensor(), a.toTensor()).as2D(n, r);
            }),
            (e.prototype.fftImpl = function (t, e) {
              var n = t.as1D(),
                r = n.size;
              if (this.isExponentOf2(r)) {
                var o = this.fftRadix2(n, r, e).as2D(t.shape[0], t.shape[1]);
                return e && (o = Fn(_n(o).div(Pn(r)), On(o).div(Pn(r)))), o;
              }
              var a = this.readSync(t.dataId),
                i = (function (t) {
                  for (
                    var e = new Float32Array(t.length / 2),
                      n = new Float32Array(t.length / 2),
                      r = 0;
                    r < t.length;
                    r += 2
                  )
                    (e[r / 2] = t[r]), (n[r / 2] = t[r + 1]);
                  return { real: e, imag: n };
                })(this.fourierTransformByMatmul(a, r, e));
              return Fn(i.real, i.imag).as2D(t.shape[0], t.shape[1]);
            }),
            (e.prototype.isExponentOf2 = function (t) {
              return 0 == (t & (t - 1));
            }),
            (e.prototype.fftRadix2 = function (t, e, n) {
              if (1 === e) return t;
              var r = this.readSync(t.dataId),
                o = e / 2,
                a = (function (t) {
                  for (
                    var e = Math.ceil(t.length / 4),
                      n = new Float32Array(e),
                      r = new Float32Array(e),
                      o = 0;
                    o < t.length;
                    o += 4
                  )
                    (n[Math.floor(o / 4)] = t[o]),
                      (r[Math.floor(o / 4)] = t[o + 1]);
                  return { real: n, imag: r };
                })(r),
                i = Fn(a.real, a.imag).as1D(),
                s = (function (t) {
                  for (
                    var e = Math.floor(t.length / 4),
                      n = new Float32Array(e),
                      r = new Float32Array(e),
                      o = 2;
                    o < t.length;
                    o += 4
                  )
                    (n[Math.floor(o / 4)] = t[o]),
                      (r[Math.floor(o / 4)] = t[o + 1]);
                  return { real: n, imag: r };
                })(r),
                u = Fn(s.real, s.imag).as1D();
              (i = this.fftRadix2(i, o, n)), (u = this.fftRadix2(u, o, n));
              var c = (function (t, e) {
                  for (
                    var n = new Float32Array(t / 2),
                      r = new Float32Array(t / 2),
                      o = 0;
                    o < Math.ceil(t / 2);
                    o++
                  ) {
                    var a = (e ? 2 : -2) * Math.PI * (o / t);
                    (n[o] = Math.cos(a)), (r[o] = Math.sin(a));
                  }
                  return { real: n, imag: r };
                })(e, n),
                l = Fn(c.real, c.imag).mul(u),
                p = i.add(l),
                h = i.sub(l),
                d = _n(p).concat(_n(h)),
                f = On(p).concat(On(h));
              return Fn(d, f).as1D();
            }),
            (e.prototype.fourierTransformByMatmul = function (t, e, n) {
              for (var r = new Float32Array(2 * e), o = 0; o < e; o++) {
                for (var a = 0, i = 0, s = 0; s < e; s++) {
                  var u = jo(o * s, e, n),
                    c = Ho(t, s);
                  (a += c.real * u.real - c.imag * u.imag),
                    (i += c.real * u.imag + c.imag * u.real);
                }
                n && ((a /= e), (i /= e)), Ko(r, a, i, o);
              }
              return r;
            }),
            (e.prototype.depthToSpace = function (t, e, n) {
              I("NHWC" === n, function () {
                return (
                  "Only NHWC dataFormat supported on CPU for depthToSpace. Got " +
                  n
                );
              }),
                I(e > 1, function () {
                  return (
                    "blockSize should be > 1 for depthToSpace, but was: " + e
                  );
                });
              for (
                var r = t.shape[0],
                  o = t.shape[1],
                  a = t.shape[2],
                  i = t.shape[3],
                  s = o * e,
                  u = a * e,
                  c = i / (e * e),
                  l = this.readSync(t.dataId),
                  p = new Float32Array(r * s * u * c),
                  h = 0,
                  d = 0;
                d < r;
                ++d
              )
                for (var f = 0; f < s; ++f)
                  for (var v = Math.floor(f / e), m = f % e, g = 0; g < u; ++g)
                    for (
                      var x = Math.floor(g / e),
                        y = (m * e + (g % e)) * c,
                        b = 0;
                      b < c;
                      ++b
                    ) {
                      var w = b + y + i * (x + a * (v + o * d));
                      p[h++] = l[w];
                    }
              return Un(p, [r, s, u, c]);
            }),
            (e.prototype.broadcastedBinaryOp = function (t, e, n, r) {
              var o = So(t.shape, e.shape),
                a = mr(o, n),
                i = this.readSync(t.dataId),
                s = this.readSync(e.dataId),
                u = Io(t.shape, o),
                c = Io(e.shape, o),
                l = a.values;
              if (u.length + c.length === 0)
                for (var p = 0; p < l.length; ++p)
                  l[p] = r(i[p % i.length], s[p % s.length]);
              else {
                var h = this.bufferSync(t),
                  d = this.bufferSync(e),
                  f = function (n) {
                    var o = a.indexToLoc(n),
                      p = o.slice(-t.rank);
                    u.forEach(function (t) {
                      return (p[t] = 0);
                    });
                    var f = h.locToIndex(p),
                      v = o.slice(-e.rank);
                    c.forEach(function (t) {
                      return (v[t] = 0);
                    });
                    var m = d.locToIndex(v);
                    l[n] = r(i[f], s[m]);
                  };
                for (p = 0; p < l.length; ++p) f(p);
              }
              return a.toTensor();
            }),
            (e.prototype.broadcastedBinaryComplexOp = function (t, e, n) {
              var r = So(t.shape, e.shape),
                o = mr(r, "float32"),
                a = mr(r, "float32"),
                i = this.readSync(t.dataId),
                s = this.readSync(e.dataId),
                u = Io(t.shape, r),
                c = Io(e.shape, r),
                l = o.values,
                p = a.values;
              if (u.length + c.length === 0)
                for (var h = 0; h < l.length; h++) {
                  var d = h % i.length,
                    f = h % s.length,
                    v = n(i[2 * d], i[2 * d + 1], s[2 * f], s[2 * f + 1]);
                  (l[h] = v.real), (p[h] = v.imag);
                }
              else {
                var m = this.bufferSync(
                    this.data.get(t.dataId).complexTensors.real
                  ),
                  g = this.bufferSync(
                    this.data.get(e.dataId).complexTensors.real
                  ),
                  x = function (r) {
                    var a = o.indexToLoc(r),
                      h = a.slice(-t.rank);
                    u.forEach(function (t) {
                      return (h[t] = 0);
                    });
                    var d = m.locToIndex(h),
                      f = a.slice(-e.rank);
                    c.forEach(function (t) {
                      return (f[t] = 0);
                    });
                    var v = g.locToIndex(f),
                      x = n(i[2 * d], i[2 * d + 1], s[2 * v], s[2 * v + 1]);
                    (l[r] = x.real), (p[r] = x.imag);
                  };
                for (h = 0; h < l.length; h++) x(h);
              }
              return this.complex(o.toTensor(), a.toTensor());
            }),
            (e.prototype.split = function (t, e, n) {
              return na(t, e, n);
            }),
            (e.prototype.dispose = function () {}),
            (e.prototype.floatPrecision = function () {
              return 32;
            }),
            (e.prototype.epsilon = function () {
              return 1e-7;
            }),
            (e.prototype.cropAndResize = function (t, e, n, r, o, a) {
              for (
                var i = t.shape,
                  s = i[0],
                  u = i[1],
                  c = i[2],
                  l = i[3],
                  p = e.shape[0],
                  h = r[0],
                  d = r[1],
                  f = mr([p, h, d, l], "float32"),
                  v = this.readSync(e.dataId),
                  m = this.readSync(n.dataId),
                  g = this.readSync(t.dataId),
                  x = t.strides,
                  y = f.strides,
                  b = 0;
                b < p;
                b++
              ) {
                var w = 4 * b,
                  C = v[w],
                  E = v[w + 1],
                  R = v[w + 2],
                  I = v[w + 3],
                  k = m[b];
                if (!(k >= s))
                  for (
                    var S = h > 1 ? ((R - C) * (u - 1)) / (h - 1) : 0,
                      A = d > 1 ? ((I - E) * (c - 1)) / (d - 1) : 0,
                      D = 0;
                    D < h;
                    D++
                  ) {
                    var N =
                      h > 1 ? C * (u - 1) + D * S : 0.5 * (C + R) * (u - 1);
                    if (N < 0 || N > u - 1)
                      for (var T = 0; T < d; T++)
                        for (var F = 0; F < l; F++) {
                          var _ = F + T * y[2] + D * y[1] + b * y[0];
                          f.values[_] = a;
                        }
                    else if ("bilinear" === o) {
                      var O = Math.floor(N),
                        M = Math.ceil(N),
                        B = N - O;
                      for (T = 0; T < d; T++)
                        if (
                          (H =
                            d > 1
                              ? E * (c - 1) + T * A
                              : 0.5 * (E + I) * (c - 1)) < 0 ||
                          H > c - 1
                        )
                          for (F = 0; F < l; F++)
                            (_ = F + T * y[2] + D * y[1] + b * y[0]),
                              (f.values[_] = a);
                        else {
                          var P = Math.floor(H),
                            L = Math.ceil(H),
                            W = H - P;
                          for (F = 0; F < l; F++) {
                            var z = g[(_ = F + P * x[2] + O * x[1] + k * x[0])],
                              U = g[(_ = F + L * x[2] + O * x[1] + k * x[0])],
                              V = g[(_ = F + P * x[2] + M * x[1] + k * x[0])],
                              G = z + (U - z) * W,
                              q =
                                V +
                                (g[(_ = F + L * x[2] + M * x[1] + k * x[0])] -
                                  V) *
                                  W;
                            (_ = F + T * y[2] + D * y[1] + b * y[0]),
                              (f.values[_] = G + (q - G) * B);
                          }
                        }
                    } else
                      for (T = 0; T < d; ++T) {
                        var H;
                        if (
                          (H =
                            d > 1
                              ? E * (c - 1) + T * A
                              : 0.5 * (E + I) * (c - 1)) < 0 ||
                          H > c - 1
                        )
                          for (F = 0; F < l; F++)
                            (_ = F + T * y[2] + D * y[1] + b * y[0]),
                              (f.values[_] = a);
                        else {
                          var K = Math.round(H),
                            j = Math.round(N);
                          for (F = 0; F < l; F++) {
                            var X = F + K * x[2] + j * x[1] + k * x[0],
                              Y = F + T * y[2] + D * y[1] + b * y[0];
                            f.values[Y] = g[X];
                          }
                        }
                      }
                  }
              }
              return f.toTensor();
            }),
            (e.prototype.sparseToDense = function (t, e, n, r) {
              var o = no(0, t, n),
                a = o.sliceRank,
                i = o.numUpdates,
                s = o.sliceSize,
                u = o.strides,
                c = o.outputSize;
              return this.scatter(t, e, n, c, s, i, a, u, r, !1);
            }),
            (e.prototype.gatherND = function (t, e) {
              var n = e.shape,
                r = n[n.length - 1],
                o = $r(t, e),
                a = o[0],
                i = o[1],
                s = o[2],
                u = o[3];
              if (0 === i) return Mn([], a, t.dtype);
              for (
                var c = new bt([i, s], t.dtype),
                  l = this.readSync(e.dataId),
                  p = this.readSync(t.dataId),
                  h = 0;
                h < i;
                h++
              ) {
                for (var d = [], f = 0, v = 0; v < r; v++) {
                  var m = l[h * r + v];
                  (f += m * u[v]), d.push(m);
                }
                if (f < 0 || f >= t.size / s)
                  throw new Error(
                    "Invalid indices: " + d + " does not index into " + t.shape
                  );
                for (var g = 0; g < s; g++) c.values[h * s + g] = p[f * s + g];
              }
              return c.toTensor().reshape(a);
            }),
            (e.prototype.scatterND = function (t, e, n) {
              var r = no(0, t, n),
                o = r.sliceRank,
                a = r.numUpdates,
                i = r.sliceSize,
                s = r.strides,
                u = r.outputSize,
                c = Pn(0);
              return this.scatter(t, e, n, u, i, a, o, s, c, !0);
            }),
            (e.prototype.fill = function (t, e, n) {
              var r = z((n = n || $(e)), D(t));
              return r.fill(e), Ut.makeTensor(r, t, n, this);
            }),
            (e.prototype.onesLike = function (t) {
              if ("string" === t.dtype)
                throw new Error("onesLike is not supported for string tensors");
              return this.fill(t.shape, 1, t.dtype);
            }),
            (e.prototype.zerosLike = function (t) {
              var e = z(t.dtype, D(t.shape));
              return this.makeOutput(e, t.shape, t.dtype);
            }),
            (e.prototype.linspace = function (t, e, n) {
              return Vo(t, e, n);
            }),
            (e.prototype.scatter = function (t, e, n, r, o, a, i, s, u, c) {
              var l = [r / o, o],
                p = this.readSync(t.dataId),
                h = this.readSync(e.dataId);
              if (0 === r) return Mn([], n, e.dtype);
              var d = new bt(l, e.dtype);
              d.values.fill(this.readSync(u.dataId)[0]);
              for (var f = 0; f < a; f++) {
                for (var v = [], m = 0, g = 0; g < i; g++) {
                  var x = p[f * i + g];
                  v.push(x), (m += x * s[g]);
                }
                if (m < 0 || m >= r / o)
                  throw new Error(
                    "Invalid indices: " + v + " does not index into " + n
                  );
                for (var y = 0; y < o; y++)
                  c
                    ? (d.values[m * o + y] += h[f * o + y])
                    : (d.values[m * o + y] =
                        0 === e.rank ? h[0] : h[f * o + y]);
              }
              return d.toTensor().reshape(n);
            }),
            e
          );
        })(Eo);
        Ut.registerBackend(
          "cpu",
          function () {
            return new Yp();
          },
          1
        );
        for (
          var $p = 0,
            Qp = [
              {
                kernelName: "NonMaxSuppressionV5",
                backendName: "cpu",
                kernelFunc: function (t) {
                  var e = t.inputs,
                    n = t.backend,
                    r = t.attrs,
                    o = e,
                    a = o.boxes,
                    i = o.scores,
                    s = r,
                    u = s.maxOutputSize,
                    c = s.iouThreshold,
                    l = s.scoreThreshold,
                    p = s.softNmsSigma,
                    h = n;
                  jp(a, "NonMaxSuppressionWithScore");
                  var d = Qo(
                    h.data.get(a.dataId).values,
                    h.data.get(i.dataId).values,
                    u,
                    c,
                    l,
                    p
                  );
                  return [d.selectedIndices, d.selectedScores];
                },
              },
              {
                kernelName: "Square",
                backendName: "cpu",
                kernelFunc: function (t) {
                  var e = t.inputs,
                    n = t.backend,
                    r = e.x,
                    o = n;
                  jp(r, "square");
                  for (
                    var a = o.data.get(r.dataId).values,
                      i = new Float32Array(a.length),
                      s = 0;
                    s < a.length;
                    ++s
                  ) {
                    var u = a[s];
                    i[s] = u * u;
                  }
                  return {
                    dataId: o.write(i, r.shape, r.dtype),
                    shape: r.shape,
                    dtype: r.dtype,
                  };
                },
              },
              {
                kernelName: ou,
                backendName: "cpu",
                kernelFunc: function (t) {
                  var e = t.inputs,
                    n = t.backend,
                    r = e,
                    o = r.a,
                    a = r.b,
                    i = n;
                  jp([o, a], ou);
                  var s = i.data.get(o.dataId).values,
                    u = i.data.get(a.dataId).values,
                    c = (function (t, e, n, r, o, a) {
                      var i = So(t, e),
                        s = i.length,
                        u = Z(i),
                        c = W(o, D(i)),
                        l = t.length,
                        p = e.length,
                        h = Z(t),
                        d = Z(e),
                        f = Io(t, i),
                        v = Io(e, i);
                      if (f.length + v.length === 0)
                        for (var m = 0; m < c.length; ++m)
                          c[m] = a(n[m % n.length], r[m % r.length]);
                      else {
                        var g = function (t) {
                          var e = ct(t, s, u),
                            o = e.slice(-l);
                          f.forEach(function (t) {
                            return (o[t] = 0);
                          });
                          var i = ut(o, l, h),
                            m = e.slice(-p);
                          v.forEach(function (t) {
                            return (m[t] = 0);
                          });
                          var g = ut(m, p, d);
                          c[t] = a(n[i], r[g]);
                        };
                        for (m = 0; m < c.length; ++m) g(m);
                      }
                      return [c, i];
                    })(o.shape, a.shape, s, u, o.dtype, function (t, e) {
                      var n = t - e;
                      return n * n;
                    }),
                    l = c[0],
                    p = c[1];
                  return {
                    dataId: i.write(l, p, o.dtype),
                    shape: p,
                    dtype: o.dtype,
                  };
                },
              },
            ];
          $p < Qp.length;
          $p++
        )
          m(Qp[$p]);
        for (
          var Jp,
            Zp = function (t) {
              this.variableNames = ["A"];
              var e = pa(),
                n = t[0],
                r = t[1];
              (this.outputShape = t),
                (this.userCode =
                  "\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(" +
                  r +
                  ".0, " +
                  n +
                  ".0);\n\n        vec4 values = " +
                  e.texture2D +
                  "(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ");
            },
            th = function (t) {
              (this.variableNames = ["A"]),
                (this.packedInputs = !1),
                (this.packedOutput = !0);
              var e = pa(),
                n = t[0],
                r = t[1];
              (this.outputShape = t),
                (this.userCode =
                  "\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(" +
                  r +
                  ".0, " +
                  n +
                  ".0);\n            vec4 values = " +
                  e.texture2D +
                  "(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        " +
                  e.output +
                  " = result;\n      }\n    ");
            },
            eh = 0,
            nh = [
              {
                kernelName: "FromPixels",
                backendName: "webgl",
                kernelFunc: function (t) {
                  var e = t.inputs,
                    n = t.backend,
                    r = t.attrs,
                    o = e.pixels,
                    a = r.numChannels,
                    i =
                      "undefined" != typeof HTMLVideoElement &&
                      o instanceof HTMLVideoElement,
                    s =
                      "undefined" != typeof HTMLImageElement &&
                      o instanceof HTMLImageElement,
                    u = i ? [o.videoWidth, o.videoHeight] : [o.width, o.height],
                    l = u[0],
                    p = u[1],
                    h = [p, l],
                    d = [p, l, a];
                  (s || i) &&
                    (null == Jp &&
                      (Jp = document.createElement("canvas").getContext("2d")),
                    (Jp.canvas.width = l),
                    (Jp.canvas.height = p),
                    Jp.drawImage(o, 0, 0, l, p),
                    (o = Jp.canvas));
                  var f = n.makeTensorInfo(h, "int32");
                  (n.texData.get(f.dataId).usage = Ht.PIXELS),
                    n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId), o);
                  var v = c().getBool("WEBGL_PACK") ? new th(d) : new Zp(d),
                    m = n.runWebGLProgram(v, [f], "int32");
                  return n.disposeData(f.dataId), m;
                },
              },
              {
                kernelName: "NonMaxSuppressionV5",
                backendName: "webgl",
                kernelFunc: function (t) {
                  var e = t.inputs,
                    n = t.backend,
                    r = t.attrs;
                  mn(
                    "tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"
                  );
                  var o = e,
                    a = o.boxes,
                    i = o.scores,
                    s = r,
                    u = s.maxOutputSize,
                    c = s.iouThreshold,
                    l = s.scoreThreshold,
                    p = s.softNmsSigma,
                    h = n,
                    d = Qo(
                      h.readSync(a.dataId),
                      h.readSync(i.dataId),
                      u,
                      c,
                      l,
                      p
                    );
                  return [d.selectedIndices, d.selectedScores];
                },
              },
              {
                kernelName: "Square",
                backendName: "webgl",
                kernelFunc: function (t) {
                  var e = t.inputs,
                    n = t.backend,
                    r = e.x,
                    o = n,
                    a = new Is(r.shape, "return x * x;");
                  return o.runWebGLProgram(a, [r], r.dtype);
                },
              },
              {
                kernelName: ou,
                backendName: "webgl",
                kernelFunc: function (t) {
                  var e = t.inputs,
                    n = t.backend,
                    r = e,
                    o = r.a,
                    a = r.b,
                    i = n,
                    s = c().getBool("WEBGL_PACK_BINARY_OPERATIONS")
                      ? new Ua("return (a - b) * (a - b);", o.shape, a.shape)
                      : new Wa("return (a - b) * (a - b);", o.shape, a.shape);
                  return i.compileAndRun(s, [o, a]);
                },
              },
            ];
          eh < nh.length;
          eh++
        )
          m(nh[eh]);
        for (
          var rh = 0,
            oh = [
              {
                kernelName: "Square",
                gradFunc: function (t, e) {
                  var n = e[0];
                  return {
                    x: function () {
                      return t.mul(n.toFloat().mul(2));
                    },
                  };
                },
              },
              {
                kernelName: ou,
                gradFunc: function (t, e) {
                  var n = e[0],
                    r = e[1],
                    o = Pn(2);
                  return {
                    a: function () {
                      return bc(t, bc(o, Ic(n, r)));
                    },
                    b: function () {
                      return bc(t, bc(o, Ic(r, n)));
                    },
                  };
                },
              },
            ];
          rh < oh.length;
          rh++
        )
          g(oh[rh]);
        var ah = (function () {
          function t() {}
          return (
            (t.prototype.fetch = function (t, e) {
              return fetch(t, e);
            }),
            (t.prototype.now = function () {
              return performance.now();
            }),
            (t.prototype.encode = function (t, e) {
              if ("utf-8" !== e && "utf8" !== e)
                throw new Error(
                  "Browser's encoder only supports utf-8, but got " + e
                );
              return (
                null == this.textEncoder &&
                  (this.textEncoder = new TextEncoder()),
                this.textEncoder.encode(t)
              );
            }),
            (t.prototype.decode = function (t, e) {
              return new TextDecoder(e).decode(t);
            }),
            t
          );
        })();
        c().get("IS_BROWSER") && c().setPlatform("browser", new ah());
        var ih,
          sh = function () {
            return require("node-fetch");
          },
          uh = (function () {
            function t() {
              (this.util = require("util")),
                (this.textEncoder = new this.util.TextEncoder());
            }
            return (
              (t.prototype.fetch = function (t, e) {
                return null != c().global.fetch
                  ? c().global.fetch(t, e)
                  : (null == ih && (ih = sh()), ih(t, e));
              }),
              (t.prototype.now = function () {
                var t = e.hrtime();
                return 1e3 * t[0] + t[1] / 1e6;
              }),
              (t.prototype.encode = function (t, e) {
                if ("utf-8" !== e && "utf8" !== e)
                  throw new Error(
                    "Node built-in encoder only supports utf-8, but got " + e
                  );
                return this.textEncoder.encode(t);
              }),
              (t.prototype.decode = function (t, e) {
                return 0 === t.length
                  ? ""
                  : new this.util.TextDecoder(e).decode(t);
              }),
              t
            );
          })();
        c().get("IS_NODE") && c().setPlatform("node", new uh());
        var ch = { float32: 4, int32: 4, uint16: 2, uint8: 1, bool: 1 },
          lh = 4;
        function ph(t, e) {
          for (
            var n = {},
              r = 0,
              o = function (e) {
                var o = e.name,
                  a = e.dtype,
                  i = e.shape,
                  s = D(i),
                  u = void 0;
                if (("quantization" in e)) {
                  var c = e.quantization;
                  if ("uint8" !== c.dtype && "uint16" !== c.dtype)
                    throw new Error(
                      "Weight " +
                        e.name +
                        " has unknown quantization dtype " +
                        c.dtype +
                        ". Supported quantization dtypes are: 'uint8' and 'uint16'."
                    );
                  var l = ch[c.dtype],
                    p = t.slice(r, r + s * l),
                    h =
                      "uint8" === c.dtype
                        ? new Uint8Array(p)
                        : new Uint16Array(p);
                  if ("float32" === a)
                    u = Float32Array.from(h, function (t) {
                      return t * c.scale + c.min;
                    });
                  else {
                    if ("int32" !== a)
                      throw new Error(
                        "Unsupported dtype in weight '" + o + "': " + a
                      );
                    u = Int32Array.from(h, function (t) {
                      return Math.round(t * c.scale + c.min);
                    });
                  }
                  r += s * l;
                } else if ("string" === a) {
                  var d = D(e.shape);
                  u = [];
                  for (var f = 0; f < d; f++) {
                    var v = new Uint32Array(t.slice(r, r + lh))[0];
                    r += lh;
                    var m = new Uint8Array(t.slice(r, r + v));
                    u.push(m), (r += v);
                  }
                } else {
                  var g = ch[a];
                  if (((p = t.slice(r, r + s * g)), "float32" === a))
                    u = new Float32Array(p);
                  else if ("int32" === a) u = new Int32Array(p);
                  else {
                    if ("bool" !== a)
                      throw new Error(
                        "Unsupported dtype in weight '" + o + "': " + a
                      );
                    u = new Uint8Array(p);
                  }
                  r += s * g;
                }
                n[o] = Mn(u, i, a);
              },
              a = 0,
              i = e;
            a < i.length;
            a++
          )
            o(i[a]);
          return n;
        }
        function hh(t) {
          if (null === t)
            throw new Error("Invalid input value: " + JSON.stringify(t));
          var e = 0,
            n = [];
          t.forEach(function (t) {
            if (
              ((e += t.byteLength),
              n.push(
                t.byteLength === t.buffer.byteLength ? t : new t.constructor(t)
              ),
              !(
                t instanceof Float32Array ||
                t instanceof Int32Array ||
                t instanceof Uint8Array
              ))
            )
              throw new Error(
                "Unsupported TypedArray subtype: " + t.constructor.name
              );
          });
          var r = new Uint8Array(e),
            o = 0;
          return (
            n.forEach(function (t) {
              r.set(new Uint8Array(t.buffer), o), (o += t.byteLength);
            }),
            r.buffer
          );
        }
        var dh =
          void 0 !== n &&
          ("undefined" == typeof Blob ||
            "undefined" == typeof atob ||
            "undefined" == typeof btoa);
        function fh(t) {
          return dh ? n.byteLength(t) : new Blob([t]).size;
        }
        function vh(t) {
          var e = 0;
          t.forEach(function (t) {
            e += t.byteLength;
          });
          var n = new Uint8Array(e),
            r = 0;
          return (
            t.forEach(function (t) {
              n.set(new Uint8Array(t), r), (r += t.byteLength);
            }),
            n.buffer
          );
        }
        function mh(t) {
          for (t = t.trim(); t.endsWith("/"); ) t = t.slice(0, t.length - 1);
          var e = t.split("/");
          return e[e.length - 1];
        }
        function gh(t) {
          if (t.modelTopology instanceof ArrayBuffer)
            throw new Error(
              "Expected JSON model topology, received ArrayBuffer."
            );
          return {
            dateSaved: new Date(),
            modelTopologyType: "JSON",
            modelTopologyBytes:
              null == t.modelTopology ? 0 : fh(JSON.stringify(t.modelTopology)),
            weightSpecsBytes:
              null == t.weightSpecs ? 0 : fh(JSON.stringify(t.weightSpecs)),
            weightDataBytes: null == t.weightData ? 0 : t.weightData.byteLength,
          };
        }
        var xh = (function () {
            function t() {
              (this.saveRouters = []), (this.loadRouters = []);
            }
            return (
              (t.getInstance = function () {
                return null == t.instance && (t.instance = new t()), t.instance;
              }),
              (t.registerSaveRouter = function (e) {
                t.getInstance().saveRouters.push(e);
              }),
              (t.registerLoadRouter = function (e) {
                t.getInstance().loadRouters.push(e);
              }),
              (t.getSaveHandlers = function (e) {
                return t.getHandlers(e, "save");
              }),
              (t.getLoadHandlers = function (e, n) {
                return t.getHandlers(e, "load", n);
              }),
              (t.getHandlers = function (e, n, r) {
                var o = [];
                return (
                  ("load" === n
                    ? t.getInstance().loadRouters
                    : t.getInstance().saveRouters
                  ).forEach(function (t) {
                    var n = t(e, r);
                    null !== n && o.push(n);
                  }),
                  o
                );
              }),
              t
            );
          })(),
          yh = "://",
          bh = (function () {
            function t() {
              this.managers = {};
            }
            return (
              (t.getInstance = function () {
                return null == t.instance && (t.instance = new t()), t.instance;
              }),
              (t.registerManager = function (e, n) {
                I(null != e, function () {
                  return "scheme must not be undefined or null.";
                }),
                  e.endsWith(yh) && (e = e.slice(0, e.indexOf(yh))),
                  I(e.length > 0, function () {
                    return "scheme must not be an empty string.";
                  });
                var r = t.getInstance();
                I(null == r.managers[e], function () {
                  return (
                    "A model store manager is already registered for scheme '" +
                    e +
                    "'."
                  );
                }),
                  (r.managers[e] = n);
              }),
              (t.getManager = function (t) {
                var e = this.getInstance().managers[t];
                if (null == e)
                  throw new Error(
                    "Cannot find model manager for scheme '" + t + "'"
                  );
                return e;
              }),
              (t.getSchemes = function () {
                return Object.keys(this.getInstance().managers);
              }),
              t
            );
          })();
        function wh(t) {
          if (-1 === t.indexOf(yh))
            throw new Error(
              "The url string provided does not contain a scheme. Supported schemes are: " +
                bh.getSchemes().join(",")
            );
          return { scheme: t.split(yh)[0], path: t.split(yh)[1] };
        }
        function Ch(t, e, n) {
          return (
            void 0 === n && (n = !1),
            a(this, void 0, void 0, function () {
              var r, o, a, s, u, c, l, p, h;
              return i(this, function (i) {
                switch (i.label) {
                  case 0:
                    return (
                      I(t !== e, function () {
                        return (
                          "Old path and new path are the same: '" + t + "'"
                        );
                      }),
                      I((r = xh.getLoadHandlers(t)).length > 0, function () {
                        return (
                          "Copying failed because no load handler is found for source URL " +
                          t +
                          "."
                        );
                      }),
                      I(r.length < 2, function () {
                        return (
                          "Copying failed because more than one (" +
                          r.length +
                          ") load handlers for source URL " +
                          t +
                          "."
                        );
                      }),
                      (o = r[0]),
                      I((a = xh.getSaveHandlers(e)).length > 0, function () {
                        return (
                          "Copying failed because no save handler is found for destination URL " +
                          e +
                          "."
                        );
                      }),
                      I(a.length < 2, function () {
                        return (
                          "Copying failed because more than one (" +
                          r.length +
                          ") save handlers for destination URL " +
                          e +
                          "."
                        );
                      }),
                      (s = a[0]),
                      (u = wh(t).scheme),
                      (c = wh(t).path),
                      (l = u === wh(t).scheme),
                      [4, o.load()]
                    );
                  case 1:
                    return (
                      (p = i.sent()),
                      n && l ? [4, bh.getManager(u).removeModel(c)] : [3, 3]
                    );
                  case 2:
                    i.sent(), (i.label = 3);
                  case 3:
                    return [4, s.save(p)];
                  case 4:
                    return (
                      (h = i.sent()),
                      !n || l ? [3, 6] : [4, bh.getManager(u).removeModel(c)]
                    );
                  case 5:
                    i.sent(), (i.label = 6);
                  case 6:
                    return [2, h.modelArtifactsInfo];
                }
              });
            })
          );
        }
        var Eh = "models_store",
          Rh = "model_info_store";
        function Ih() {
          if (!c().getBool("IS_BROWSER"))
            throw new Error(
              "Failed to obtain IndexedDB factory because the current environmentis not a web browser."
            );
          var t = window || self,
            e =
              t.indexedDB ||
              t.mozIndexedDB ||
              t.webkitIndexedDB ||
              t.msIndexedDB ||
              t.shimIndexedDB;
          if (null == e)
            throw new Error(
              "The current browser does not appear to support IndexedDB."
            );
          return e;
        }
        function kh(t) {
          var e = t.result;
          e.createObjectStore(Eh, { keyPath: "modelPath" }),
            e.createObjectStore(Rh, { keyPath: "modelPath" });
        }
        var Sh = (function () {
            function t(t) {
              if (((this.indexedDB = Ih()), null == t || !t))
                throw new Error(
                  "For IndexedDB, modelPath must not be null, undefined or empty."
                );
              this.modelPath = t;
            }
            return (
              (t.prototype.save = function (t) {
                return a(this, void 0, void 0, function () {
                  return i(this, function (e) {
                    if (t.modelTopology instanceof ArrayBuffer)
                      throw new Error(
                        "BrowserLocalStorage.save() does not support saving model topology in binary formats yet."
                      );
                    return [2, this.databaseAction(this.modelPath, t)];
                  });
                });
              }),
              (t.prototype.load = function () {
                return a(this, void 0, void 0, function () {
                  return i(this, function (t) {
                    return [2, this.databaseAction(this.modelPath)];
                  });
                });
              }),
              (t.prototype.databaseAction = function (t, e) {
                var n = this;
                return new Promise(function (t, r) {
                  var o = n.indexedDB.open("tensorflowjs", 1);
                  (o.onupgradeneeded = function () {
                    return kh(o);
                  }),
                    (o.onsuccess = function () {
                      var a = o.result;
                      if (null == e) {
                        var i = a.transaction(Eh, "readonly"),
                          s = i.objectStore(Eh).get(n.modelPath);
                        (s.onsuccess = function () {
                          if (null == s.result)
                            return (
                              a.close(),
                              r(
                                new Error(
                                  "Cannot find model with path '" +
                                    n.modelPath +
                                    "' in IndexedDB."
                                )
                              )
                            );
                          t(s.result.modelArtifacts);
                        }),
                          (s.onerror = function (t) {
                            return a.close(), r(s.error);
                          }),
                          (i.oncomplete = function () {
                            return a.close();
                          });
                      } else {
                        var u,
                          c = gh(e),
                          l = a.transaction(Rh, "readwrite"),
                          p = l.objectStore(Rh),
                          h = p.put({
                            modelPath: n.modelPath,
                            modelArtifactsInfo: c,
                          });
                        (h.onsuccess = function () {
                          var o = (u = a.transaction(Eh, "readwrite"))
                            .objectStore(Eh)
                            .put({
                              modelPath: n.modelPath,
                              modelArtifacts: e,
                              modelArtifactsInfo: c,
                            });
                          (o.onsuccess = function () {
                            return t({ modelArtifactsInfo: c });
                          }),
                            (o.onerror = function (t) {
                              var e = (p = l.objectStore(Rh)).delete(
                                n.modelPath
                              );
                              (e.onsuccess = function () {
                                return a.close(), r(o.error);
                              }),
                                (e.onerror = function (t) {
                                  return a.close(), r(o.error);
                                });
                            });
                        }),
                          (h.onerror = function (t) {
                            return a.close(), r(h.error);
                          }),
                          (l.oncomplete = function () {
                            null == u
                              ? a.close()
                              : (u.oncomplete = function () {
                                  return a.close();
                                });
                          });
                      }
                    }),
                    (o.onerror = function (t) {
                      return r(o.error);
                    });
                });
              }),
              (t.URL_SCHEME = "indexeddb://"),
              t
            );
          })(),
          Ah = function (t) {
            return c().getBool("IS_BROWSER") &&
              !Array.isArray(t) &&
              t.startsWith(Sh.URL_SCHEME)
              ? ((e = t.slice(Sh.URL_SCHEME.length)), new Sh(e))
              : null;
            var e;
          };
        xh.registerSaveRouter(Ah), xh.registerLoadRouter(Ah);
        var Dh = (function () {
          function t() {
            this.indexedDB = Ih();
          }
          return (
            (t.prototype.listModels = function () {
              return a(this, void 0, void 0, function () {
                var t = this;
                return i(this, function (e) {
                  return [
                    2,
                    new Promise(function (e, n) {
                      var r = t.indexedDB.open("tensorflowjs", 1);
                      (r.onupgradeneeded = function () {
                        return kh(r);
                      }),
                        (r.onsuccess = function () {
                          var t = r.result,
                            o = t.transaction(Rh, "readonly"),
                            a = o.objectStore(Rh).getAll();
                          (a.onsuccess = function () {
                            for (
                              var t = {}, n = 0, r = a.result;
                              n < r.length;
                              n++
                            ) {
                              var o = r[n];
                              t[o.modelPath] = o.modelArtifactsInfo;
                            }
                            e(t);
                          }),
                            (a.onerror = function (e) {
                              return t.close(), n(a.error);
                            }),
                            (o.oncomplete = function () {
                              return t.close();
                            });
                        }),
                        (r.onerror = function (t) {
                          return n(r.error);
                        });
                    }),
                  ];
                });
              });
            }),
            (t.prototype.removeModel = function (t) {
              return a(this, void 0, void 0, function () {
                var e = this;
                return i(this, function (n) {
                  var r;
                  return (
                    (t = (r = t).startsWith(Sh.URL_SCHEME)
                      ? r.slice(Sh.URL_SCHEME.length)
                      : r),
                    [
                      2,
                      new Promise(function (n, r) {
                        var o = e.indexedDB.open("tensorflowjs", 1);
                        (o.onupgradeneeded = function () {
                          return kh(o);
                        }),
                          (o.onsuccess = function () {
                            var e,
                              a = o.result,
                              i = a.transaction(Rh, "readwrite"),
                              s = i.objectStore(Rh),
                              u = s.get(t);
                            (u.onsuccess = function () {
                              if (null == u.result)
                                return (
                                  a.close(),
                                  r(
                                    new Error(
                                      "Cannot find model with path '" +
                                        t +
                                        "' in IndexedDB."
                                    )
                                  )
                                );
                              var o = s.delete(t),
                                i = function () {
                                  var o = (e = a.transaction(Eh, "readwrite"))
                                    .objectStore(Eh)
                                    .delete(t);
                                  (o.onsuccess = function () {
                                    return n(u.result.modelArtifactsInfo);
                                  }),
                                    (o.onerror = function (t) {
                                      return r(u.error);
                                    });
                                };
                              (o.onsuccess = i),
                                (o.onerror = function (t) {
                                  return i(), a.close(), r(u.error);
                                });
                            }),
                              (u.onerror = function (t) {
                                return a.close(), r(u.error);
                              }),
                              (i.oncomplete = function () {
                                null == e
                                  ? a.close()
                                  : (e.oncomplete = function () {
                                      return a.close();
                                    });
                              });
                          }),
                          (o.onerror = function (t) {
                            return r(o.error);
                          });
                      }),
                    ]
                  );
                });
              });
            }),
            t
          );
        })();
        if (c().getBool("IS_BROWSER"))
          try {
            bh.registerManager(Sh.URL_SCHEME, new Dh());
          } catch (r) {}
        var Nh = "/",
          Th = "tensorflowjs_models",
          Fh = "info",
          _h = "model_topology",
          Oh = "weight_specs",
          Mh = "weight_data",
          Bh = "model_metadata";
        function Ph(t) {
          return {
            info: [Th, t, Fh].join(Nh),
            topology: [Th, t, _h].join(Nh),
            weightSpecs: [Th, t, Oh].join(Nh),
            weightData: [Th, t, Mh].join(Nh),
            modelMetadata: [Th, t, Bh].join(Nh),
          };
        }
        function Lh(t) {
          var e = t.split(Nh);
          if (e.length < 3) throw new Error("Invalid key format: " + t);
          return e.slice(1, e.length - 1).join(Nh);
        }
        var Wh = (function () {
            function t(t) {
              if (
                !c().getBool("IS_BROWSER") ||
                "undefined" == typeof window ||
                void 0 === window.localStorage
              )
                throw new Error(
                  "The current environment does not support local storage."
                );
              if (((this.LS = window.localStorage), null == t || !t))
                throw new Error(
                  "For local storage, modelPath must not be null, undefined or empty."
                );
              (this.modelPath = t), (this.keys = Ph(this.modelPath));
            }
            return (
              (t.prototype.save = function (t) {
                return a(this, void 0, void 0, function () {
                  var e, r, o;
                  return i(this, function (a) {
                    if (t.modelTopology instanceof ArrayBuffer)
                      throw new Error(
                        "BrowserLocalStorage.save() does not support saving model topology in binary formats yet."
                      );
                    (e = JSON.stringify(t.modelTopology)),
                      (r = JSON.stringify(t.weightSpecs)),
                      (o = gh(t));
                    try {
                      return (
                        this.LS.setItem(this.keys.info, JSON.stringify(o)),
                        this.LS.setItem(this.keys.topology, e),
                        this.LS.setItem(this.keys.weightSpecs, r),
                        this.LS.setItem(
                          this.keys.weightData,
                          (function (t) {
                            if (dh) return n.from(t).toString("base64");
                            for (
                              var e = new Uint8Array(t),
                                r = "",
                                o = 0,
                                a = e.length;
                              o < a;
                              o++
                            )
                              r += String.fromCharCode(e[o]);
                            return btoa(r);
                          })(t.weightData)
                        ),
                        this.LS.setItem(
                          this.keys.modelMetadata,
                          JSON.stringify({
                            format: t.format,
                            generatedBy: t.generatedBy,
                            convertedBy: t.convertedBy,
                            userDefinedMetadata: t.userDefinedMetadata,
                          })
                        ),
                        [2, { modelArtifactsInfo: o }]
                      );
                    } catch (t) {
                      throw (
                        (this.LS.removeItem(this.keys.info),
                        this.LS.removeItem(this.keys.topology),
                        this.LS.removeItem(this.keys.weightSpecs),
                        this.LS.removeItem(this.keys.weightData),
                        this.LS.removeItem(this.keys.modelMetadata),
                        new Error(
                          "Failed to save model '" +
                            this.modelPath +
                            "' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=" +
                            o.modelTopologyBytes +
                            ", weightSpecsBytes=" +
                            o.weightSpecsBytes +
                            ", weightDataBytes=" +
                            o.weightDataBytes +
                            "."
                        ))
                      );
                    }
                    return [2];
                  });
                });
              }),
              (t.prototype.load = function () {
                return a(this, void 0, void 0, function () {
                  var t, e, r, o, a, s, u;
                  return i(this, function (i) {
                    if (
                      null == (t = JSON.parse(this.LS.getItem(this.keys.info)))
                    )
                      throw new Error(
                        "In local storage, there is no model with name '" +
                          this.modelPath +
                          "'"
                      );
                    if ("JSON" !== t.modelTopologyType)
                      throw new Error(
                        "BrowserLocalStorage does not support loading non-JSON model topology yet."
                      );
                    if (
                      ((e = {}),
                      null ==
                        (r = JSON.parse(this.LS.getItem(this.keys.topology))))
                    )
                      throw new Error(
                        "In local storage, the topology of model '" +
                          this.modelPath +
                          "' is missing."
                      );
                    if (
                      ((e.modelTopology = r),
                      null ==
                        (o = JSON.parse(
                          this.LS.getItem(this.keys.weightSpecs)
                        )))
                    )
                      throw new Error(
                        "In local storage, the weight specs of model '" +
                          this.modelPath +
                          "' are missing."
                      );
                    if (
                      ((e.weightSpecs = o),
                      null != (a = this.LS.getItem(this.keys.modelMetadata)) &&
                        ((s = JSON.parse(a)),
                        (e.format = s.format),
                        (e.generatedBy = s.generatedBy),
                        (e.convertedBy = s.convertedBy),
                        (e.userDefinedMetadata = s.userDefinedMetadata)),
                      null == (u = this.LS.getItem(this.keys.weightData)))
                    )
                      throw new Error(
                        "In local storage, the binary weight values of model '" +
                          this.modelPath +
                          "' are missing."
                      );
                    return (
                      (e.weightData = (function (t) {
                        if (dh) {
                          var e = n.from(t, "base64");
                          return e.buffer.slice(
                            e.byteOffset,
                            e.byteOffset + e.byteLength
                          );
                        }
                        for (
                          var r = atob(t), o = new Uint8Array(r.length), a = 0;
                          a < r.length;
                          ++a
                        )
                          o.set([r.charCodeAt(a)], a);
                        return o.buffer;
                      })(u)),
                      [2, e]
                    );
                  });
                });
              }),
              (t.URL_SCHEME = "localstorage://"),
              t
            );
          })(),
          zh = function (t) {
            return c().getBool("IS_BROWSER") &&
              !Array.isArray(t) &&
              t.startsWith(Wh.URL_SCHEME)
              ? ((e = t.slice(Wh.URL_SCHEME.length)), new Wh(e))
              : null;
            var e;
          };
        xh.registerSaveRouter(zh), xh.registerLoadRouter(zh);
        var Uh = (function () {
          function t() {
            I(c().getBool("IS_BROWSER"), function () {
              return "Current environment is not a web browser";
            }),
              I(
                "undefined" == typeof window || void 0 !== window.localStorage,
                function () {
                  return "Current browser does not appear to support localStorage";
                }
              ),
              (this.LS = window.localStorage);
          }
          return (
            (t.prototype.listModels = function () {
              return a(this, void 0, void 0, function () {
                var t, e, n, r, o, a;
                return i(this, function (i) {
                  for (
                    t = {}, e = Th + Nh, n = Nh + Fh, r = 0;
                    r < this.LS.length;
                    ++r
                  )
                    (o = this.LS.key(r)).startsWith(e) &&
                      o.endsWith(n) &&
                      ((a = Lh(o)), (t[a] = JSON.parse(this.LS.getItem(o))));
                  return [2, t];
                });
              });
            }),
            (t.prototype.removeModel = function (t) {
              return a(this, void 0, void 0, function () {
                var e, n;
                return i(this, function (r) {
                  var o;
                  if (
                    ((t = (o = t).startsWith(Wh.URL_SCHEME)
                      ? o.slice(Wh.URL_SCHEME.length)
                      : o),
                    (e = Ph(t)),
                    null == this.LS.getItem(e.info))
                  )
                    throw new Error("Cannot find model at path '" + t + "'");
                  return (
                    (n = JSON.parse(this.LS.getItem(e.info))),
                    this.LS.removeItem(e.info),
                    this.LS.removeItem(e.topology),
                    this.LS.removeItem(e.weightSpecs),
                    this.LS.removeItem(e.weightData),
                    [2, n]
                  );
                });
              });
            }),
            t
          );
        })();
        if (c().getBool("IS_BROWSER"))
          try {
            bh.registerManager(Wh.URL_SCHEME, new Uh());
          } catch (r) {}
        var Vh = "model",
          Gh = ".json",
          qh = ".weights.bin";
        function Hh(t) {
          return new Promise(function (t) {
            return setTimeout(t);
          }).then(t);
        }
        var Kh = (function () {
            function t(e) {
              if (!c().getBool("IS_BROWSER"))
                throw new Error(
                  "browserDownloads() cannot proceed because the current environment is not a browser."
                );
              e.startsWith(t.URL_SCHEME) && (e = e.slice(t.URL_SCHEME.length)),
                (null != e && 0 !== e.length) || (e = Vh),
                (this.modelTopologyFileName = e + Gh),
                (this.weightDataFileName = e + qh);
            }
            return (
              (t.prototype.save = function (t) {
                return a(this, void 0, void 0, function () {
                  var e, n, r, o, a, s;
                  return i(this, function (i) {
                    switch (i.label) {
                      case 0:
                        if ("undefined" == typeof document)
                          throw new Error(
                            "Browser downloads are not supported in this environment since `document` is not present"
                          );
                        if (
                          ((e = window.URL.createObjectURL(
                            new Blob([t.weightData], {
                              type: "application/octet-stream",
                            })
                          )),
                          !(t.modelTopology instanceof ArrayBuffer))
                        )
                          return [3, 1];
                        throw new Error(
                          "BrowserDownloads.save() does not support saving model topology in binary formats yet."
                        );
                      case 1:
                        return (
                          (n = [
                            {
                              paths: ["./" + this.weightDataFileName],
                              weights: t.weightSpecs,
                            },
                          ]),
                          (r = {
                            modelTopology: t.modelTopology,
                            format: t.format,
                            generatedBy: t.generatedBy,
                            convertedBy: t.convertedBy,
                            weightsManifest: n,
                          }),
                          (o = window.URL.createObjectURL(
                            new Blob([JSON.stringify(r)], {
                              type: "application/json",
                            })
                          )),
                          ((a =
                            null == this.jsonAnchor
                              ? document.createElement("a")
                              : this.jsonAnchor).download =
                            this.modelTopologyFileName),
                          (a.href = o),
                          [
                            4,
                            Hh(function () {
                              return a.dispatchEvent(new MouseEvent("click"));
                            }),
                          ]
                        );
                      case 2:
                        return (
                          i.sent(),
                          null == t.weightData
                            ? [3, 4]
                            : (((s =
                                null == this.weightDataAnchor
                                  ? document.createElement("a")
                                  : this.weightDataAnchor).download =
                                this.weightDataFileName),
                              (s.href = e),
                              [
                                4,
                                Hh(function () {
                                  return s.dispatchEvent(
                                    new MouseEvent("click")
                                  );
                                }),
                              ])
                        );
                      case 3:
                        i.sent(), (i.label = 4);
                      case 4:
                        return [2, { modelArtifactsInfo: gh(t) }];
                    }
                  });
                });
              }),
              (t.URL_SCHEME = "downloads://"),
              t
            );
          })(),
          jh = (function () {
            function t(t) {
              if (null == t || t.length < 1)
                throw new Error(
                  "When calling browserFiles, at least 1 file is required, but received " +
                    t
                );
              this.files = t;
            }
            return (
              (t.prototype.load = function () {
                return a(this, void 0, void 0, function () {
                  var t,
                    e,
                    n = this;
                  return i(this, function (r) {
                    return (
                      (t = this.files[0]),
                      (e = this.files.slice(1)),
                      [
                        2,
                        new Promise(function (r, o) {
                          var a = new FileReader();
                          (a.onload = function (a) {
                            var i = JSON.parse(a.target.result),
                              s = i.modelTopology;
                            if (null != s) {
                              0 === e.length && r({ modelTopology: s });
                              var u = i.weightsManifest;
                              if (null != u) {
                                var c;
                                try {
                                  c = n.checkManifestAndWeightFiles(u, e);
                                } catch (t) {
                                  return void o(t);
                                }
                                var l = [],
                                  p = [],
                                  h = [];
                                u.forEach(function (t) {
                                  t.paths.forEach(function (t) {
                                    p.push(t), h.push(null);
                                  }),
                                    l.push.apply(l, t.weights);
                                }),
                                  u.forEach(function (t) {
                                    t.paths.forEach(function (t) {
                                      var e = new FileReader();
                                      (e.onload = function (e) {
                                        var n = e.target.result,
                                          o = p.indexOf(t);
                                        (h[o] = n),
                                          -1 === h.indexOf(null) &&
                                            r({
                                              modelTopology: s,
                                              weightSpecs: l,
                                              weightData: vh(h),
                                              format: i.format,
                                              generatedBy: i.generatedBy,
                                              convertedBy: i.convertedBy,
                                              userDefinedMetadata:
                                                i.userDefinedMetadata,
                                            });
                                      }),
                                        (e.onerror = function (e) {
                                          return o(
                                            "Failed to weights data from file of path '" +
                                              t +
                                              "'."
                                          );
                                        }),
                                        e.readAsArrayBuffer(c[t]);
                                    });
                                  });
                              } else
                                o(
                                  new Error(
                                    "weightManifest field is missing from file " +
                                      t.name
                                  )
                                );
                            } else
                              o(
                                new Error(
                                  "modelTopology field is missing from file " +
                                    t.name
                                )
                              );
                          }),
                            (a.onerror = function (e) {
                              return o(
                                "Failed to read model topology and weights manifest JSON from file '" +
                                  t.name +
                                  "'. BrowserFiles supports loading Keras-style tf.Model artifacts only."
                              );
                            }),
                            a.readAsText(t);
                        }),
                      ]
                    );
                  });
                });
              }),
              (t.prototype.checkManifestAndWeightFiles = function (t, e) {
                for (
                  var n = [],
                    r = e.map(function (t) {
                      return mh(t.name);
                    }),
                    o = {},
                    a = 0,
                    i = t;
                  a < i.length;
                  a++
                )
                  i[a].paths.forEach(function (t) {
                    var a = mh(t);
                    if (-1 !== n.indexOf(a))
                      throw new Error(
                        "Duplicate file basename found in weights manifest: '" +
                          a +
                          "'"
                      );
                    if ((n.push(a), -1 === r.indexOf(a)))
                      throw new Error(
                        "Weight file with basename '" + a + "' is not provided."
                      );
                    o[t] = e[r.indexOf(a)];
                  });
                if (n.length !== e.length)
                  throw new Error(
                    "Mismatch in the number of files in weights manifest (" +
                      n.length +
                      ") and the number of weight files provided (" +
                      e.length +
                      ")."
                  );
                return o;
              }),
              t
            );
          })();
        function Xh(t, e, n, r) {
          !(function (t) {
            I(null != t && Array.isArray(t) && t.length > 0, function () {
              return "promises must be a none empty array";
            });
          })(t),
            (function (t, e) {
              I(t >= 0 && t <= 1, function () {
                return (
                  "Progress fraction must be in range [0, 1], but got startFraction " +
                  t
                );
              }),
                I(e >= 0 && e <= 1, function () {
                  return (
                    "Progress fraction must be in range [0, 1], but got endFraction " +
                    e
                  );
                }),
                I(e >= t, function () {
                  return (
                    "startFraction must be no more than endFraction, but got startFraction " +
                    t +
                    " and endFraction " +
                    e
                  );
                });
            })((n = null == n ? 0 : n), (r = null == r ? 1 : r));
          var o = 0;
          return Promise.all(
            t.map(function (a) {
              return (
                a.then(function (a) {
                  var i = n + (++o / t.length) * (r - n);
                  return e(i), a;
                }),
                a
              );
            })
          );
        }
        function Yh(t, e) {
          return a(this, void 0, void 0, function () {
            var n, r, o, a, s, u, l, p, h;
            return i(this, function (i) {
              switch (i.label) {
                case 0:
                  return (
                    null == e && (e = {}),
                    (n =
                      null == e.fetchFunc ? c().platform.fetch : e.fetchFunc),
                    (r = t.map(function (t) {
                      return n(t, e.requestInit, { isBinary: !0 });
                    })),
                    (o = 0),
                    (a = 0.5),
                    null != e.onProgress ? [3, 2] : [4, Promise.all(r)]
                  );
                case 1:
                  return (s = i.sent()), [3, 4];
                case 2:
                  return [4, Xh(r, e.onProgress, o, a)];
                case 3:
                  (s = i.sent()), (i.label = 4);
                case 4:
                  return (
                    (u = s.map(function (t) {
                      return t.arrayBuffer();
                    })),
                    (l = 0.5),
                    (p = 1),
                    null != e.onProgress ? [3, 6] : [4, Promise.all(u)]
                  );
                case 5:
                  return (h = i.sent()), [3, 8];
                case 6:
                  return [4, Xh(u, e.onProgress, l, p)];
                case 7:
                  (h = i.sent()), (i.label = 8);
                case 8:
                  return [2, h];
              }
            });
          });
        }
        function $h(t) {
          var e = this;
          return function (n, r, o) {
            return (
              void 0 === r && (r = ""),
              a(e, void 0, void 0, function () {
                var e, a, s, u, c, l, p, h, d, f;
                return i(this, function (i) {
                  switch (i.label) {
                    case 0:
                      if (
                        ((e = n.map(function () {
                          return !1;
                        })),
                        (a = {}),
                        (s =
                          null != o
                            ? o.map(function () {
                                return !1;
                              })
                            : []),
                        (u = []),
                        n.forEach(function (t, n) {
                          var r = 0;
                          t.weights.forEach(function (t) {
                            var i =
                                "quantization" in t
                                  ? t.quantization.dtype
                                  : t.dtype,
                              c = ch[i] * D(t.shape),
                              l = function () {
                                (e[n] = !0),
                                  null == a[n] && (a[n] = []),
                                  a[n].push({
                                    manifestEntry: t,
                                    groupOffset: r,
                                    sizeBytes: c,
                                  });
                              };
                            null != o
                              ? o.forEach(function (e, n) {
                                  e === t.name && (l(), (s[n] = !0));
                                })
                              : l(),
                              u.push(t.name),
                              (r += c);
                          });
                        }),
                        !s.every(function (t) {
                          return t;
                        }))
                      )
                        throw (
                          ((c = o.filter(function (t, e) {
                            return !s[e];
                          })),
                          new Error(
                            "Could not find weights in manifest with names: " +
                              c.join(", ") +
                              ". \nManifest JSON has weights with names: " +
                              u.join(", ") +
                              "."
                          ))
                        );
                      return (
                        (l = e.reduce(function (t, e, n) {
                          return e && t.push(n), t;
                        }, [])),
                        (p = []),
                        l.forEach(function (t) {
                          n[t].paths.forEach(function (t) {
                            var e = r + (r.endsWith("/") ? "" : "/") + t;
                            p.push(e);
                          });
                        }),
                        [4, t(p)]
                      );
                    case 1:
                      return (
                        (h = i.sent()),
                        (d = {}),
                        (f = 0),
                        l.forEach(function (t) {
                          for (
                            var e = n[t].paths.length, r = 0, o = 0;
                            o < e;
                            o++
                          )
                            r += h[f + o].byteLength;
                          for (
                            var i = new ArrayBuffer(r),
                              s = new Uint8Array(i),
                              u = 0,
                              c = 0;
                            c < e;
                            c++
                          ) {
                            var l = new Uint8Array(h[f + c]);
                            s.set(l, u), (u += l.byteLength);
                          }
                          a[t].forEach(function (t) {
                            var e = ph(
                              i.slice(
                                t.groupOffset,
                                t.groupOffset + t.sizeBytes
                              ),
                              [t.manifestEntry]
                            );
                            for (var n in e) d[n] = e[n];
                          }),
                            (f += e);
                        }),
                        [2, d]
                      );
                  }
                });
              })
            );
          };
        }
        xh.registerSaveRouter(function (t) {
          return c().getBool("IS_BROWSER") &&
            !Array.isArray(t) &&
            t.startsWith(Kh.URL_SCHEME)
            ? (function (t) {
                return void 0 === t && (t = "model"), new Kh(t);
              })(t.slice(Kh.URL_SCHEME.length))
            : null;
        });
        var Qh = (function () {
          function t(t, e) {
            if (
              ((this.DEFAULT_METHOD = "POST"),
              null == e && (e = {}),
              (this.weightPathPrefix = e.weightPathPrefix),
              (this.onProgress = e.onProgress),
              null != e.fetchFunc
                ? (I("function" == typeof e.fetchFunc, function () {
                    return "Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)";
                  }),
                  (this.fetch = e.fetchFunc))
                : (this.fetch = c().platform.fetch),
              I(null != t && t.length > 0, function () {
                return "URL path for http must not be null, undefined or empty.";
              }),
              Array.isArray(t) &&
                I(2 === t.length, function () {
                  return (
                    "URL paths for http must have a length of 2, (actual length is " +
                    t.length +
                    ")."
                  );
                }),
              (this.path = t),
              null != e.requestInit && null != e.requestInit.body)
            )
              throw new Error(
                "requestInit is expected to have no pre-existing body, but has one."
              );
            this.requestInit = e.requestInit || {};
          }
          return (
            (t.prototype.save = function (t) {
              return a(this, void 0, void 0, function () {
                var e, n, r, o;
                return i(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (t.modelTopology instanceof ArrayBuffer)
                        throw new Error(
                          "BrowserHTTPRequest.save() does not support saving model topology in binary formats yet."
                        );
                      return (
                        ((e = Object.assign(
                          { method: this.DEFAULT_METHOD },
                          this.requestInit
                        )).body = new FormData()),
                        (n = [
                          {
                            paths: ["./model.weights.bin"],
                            weights: t.weightSpecs,
                          },
                        ]),
                        (r = {
                          modelTopology: t.modelTopology,
                          format: t.format,
                          generatedBy: t.generatedBy,
                          convertedBy: t.convertedBy,
                          userDefinedMetadata: t.userDefinedMetadata,
                          weightsManifest: n,
                        }),
                        e.body.append(
                          "model.json",
                          new Blob([JSON.stringify(r)], {
                            type: "application/json",
                          }),
                          "model.json"
                        ),
                        null != t.weightData &&
                          e.body.append(
                            "model.weights.bin",
                            new Blob([t.weightData], {
                              type: "application/octet-stream",
                            }),
                            "model.weights.bin"
                          ),
                        [4, this.fetch(this.path, e)]
                      );
                    case 1:
                      if ((o = a.sent()).ok)
                        return [
                          2,
                          { modelArtifactsInfo: gh(t), responses: [o] },
                        ];
                      throw new Error(
                        "BrowserHTTPRequest.save() failed due to HTTP response status " +
                          o.status +
                          "."
                      );
                  }
                });
              });
            }),
            (t.prototype.load = function () {
              return a(this, void 0, void 0, function () {
                var t, e, n, r, o, a, s, u, c, l, p, h;
                return i(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return [4, this.fetch(this.path, this.requestInit)];
                    case 1:
                      if (!(t = i.sent()).ok)
                        throw new Error(
                          "Request to " +
                            this.path +
                            " failed with status code " +
                            t.status +
                            ". Please verify this URL points to the model JSON of the model to load."
                        );
                      i.label = 2;
                    case 2:
                      return i.trys.push([2, 4, , 5]), [4, t.json()];
                    case 3:
                      return (e = i.sent()), [3, 5];
                    case 4:
                      throw (
                        (i.sent(),
                        (n =
                          "Failed to parse model JSON of response from " +
                          this.path +
                          "."),
                        this.path.endsWith(".pb")
                          ? (n +=
                              " Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.")
                          : (n +=
                              " Please make sure the server is serving valid JSON for this request."),
                        new Error(n))
                      );
                    case 5:
                      if (
                        ((r = e.modelTopology),
                        (o = e.weightsManifest),
                        (a = e.generatedBy),
                        (s = e.convertedBy),
                        (u = e.format),
                        (c = e.userDefinedMetadata),
                        null == r && null == o)
                      )
                        throw new Error(
                          "The JSON from HTTP path " +
                            this.path +
                            " contains neither model topology or manifest for weights."
                        );
                      return null == o ? [3, 7] : [4, this.loadWeights(o)];
                    case 6:
                      (h = i.sent()), (l = h[0]), (p = h[1]), (i.label = 7);
                    case 7:
                      return [
                        2,
                        {
                          modelTopology: r,
                          weightSpecs: l,
                          weightData: p,
                          userDefinedMetadata: c,
                          generatedBy: a,
                          convertedBy: s,
                          format: u,
                        },
                      ];
                  }
                });
              });
            }),
            (t.prototype.loadWeights = function (t) {
              return a(this, void 0, void 0, function () {
                var e, n, r, o, a, s, u, c, l, p, h;
                return i(this, function (i) {
                  switch (i.label) {
                    case 0:
                      for (
                        e = Array.isArray(this.path) ? this.path[1] : this.path,
                          n = (function (t) {
                            var e = t.lastIndexOf("/"),
                              n = t.lastIndexOf("?");
                            return [
                              t.substring(0, e) + "/",
                              n > e ? t.substring(n) : "",
                            ];
                          })(e),
                          r = n[0],
                          o = n[1],
                          a = this.weightPathPrefix || r,
                          s = [],
                          u = 0,
                          c = t;
                        u < c.length;
                        u++
                      )
                        (l = c[u]), s.push.apply(s, l.weights);
                      return (
                        (p = []),
                        t.forEach(function (t) {
                          t.paths.forEach(function (t) {
                            p.push(a + t + o);
                          });
                        }),
                        [
                          4,
                          Yh(p, {
                            requestInit: this.requestInit,
                            fetchFunc: this.fetch,
                            onProgress: this.onProgress,
                          }),
                        ]
                      );
                    case 1:
                      return (h = i.sent()), [2, [s, vh(h)]];
                  }
                });
              });
            }),
            (t.URL_SCHEME_REGEX = /^https?:\/\//),
            t
          );
        })();
        function Jh(t) {
          return null != t.match(Qh.URL_SCHEME_REGEX);
        }
        var Zh = function (t, e) {
          return "undefined" == typeof fetch
            ? null
            : (
                Array.isArray(t)
                  ? t.every(function (t) {
                      return Jh(t);
                    })
                  : Jh(t)
              )
            ? td(t, { onProgress: e })
            : null;
        };
        function td(t, e) {
          return new Qh(t, e);
        }
        xh.registerSaveRouter(Zh), xh.registerLoadRouter(Zh);
        var ed = (function () {
            function t(t) {
              this.modelArtifacts = t;
            }
            return (
              (t.prototype.load = function () {
                return a(this, void 0, void 0, function () {
                  return i(this, function (t) {
                    return [2, this.modelArtifacts];
                  });
                });
              }),
              t
            );
          })(),
          nd = (function () {
            function t(t) {
              this.saveHandler = t;
            }
            return (
              (t.prototype.save = function (t) {
                return a(this, void 0, void 0, function () {
                  return i(this, function (e) {
                    return [2, this.saveHandler(t)];
                  });
                });
              }),
              t
            );
          })(),
          rd = Object.freeze({
            browserFiles: function (t) {
              return new jh(t);
            },
            browserHTTPRequest: function (t, e) {
              return td(t, e);
            },
            concatenateArrayBuffers: vh,
            decodeWeights: ph,
            encodeWeights: function (t, e) {
              return a(this, void 0, void 0, function () {
                var n,
                  r,
                  o,
                  s,
                  u,
                  c = this;
                return i(this, function (l) {
                  switch (l.label) {
                    case 0:
                      for (
                        n = [],
                          r = [],
                          o = Array.isArray(t)
                            ? t.map(function (t) {
                                return t.name;
                              })
                            : Object.keys(t),
                          s = function (s) {
                            var u = o[s],
                              l = Array.isArray(t) ? t[s].tensor : t[u];
                            if (
                              "float32" !== l.dtype &&
                              "int32" !== l.dtype &&
                              "bool" !== l.dtype &&
                              "string" !== l.dtype
                            )
                              throw new Error(
                                "Unsupported dtype in weight '" +
                                  u +
                                  "': " +
                                  l.dtype
                              );
                            var p = { name: u, shape: l.shape, dtype: l.dtype };
                            if ("string" === l.dtype) {
                              var h = new Promise(function (t) {
                                return a(c, void 0, void 0, function () {
                                  var e, n, r, o, a, s, u;
                                  return i(this, function (i) {
                                    switch (i.label) {
                                      case 0:
                                        return [4, l.bytes()];
                                      case 1:
                                        for (
                                          e = i.sent(),
                                            n =
                                              e.reduce(function (t, e) {
                                                return t + e.length;
                                              }, 0) +
                                              lh * e.length,
                                            r = new Uint8Array(n),
                                            o = 0,
                                            a = 0;
                                          a < e.length;
                                          a++
                                        )
                                          (s = e[a]),
                                            (u = new Uint8Array(
                                              new Uint32Array([s.length]).buffer
                                            )),
                                            r.set(u, o),
                                            (o += lh),
                                            r.set(s, o),
                                            (o += s.length);
                                        return t(r), [2];
                                    }
                                  });
                                });
                              });
                              r.push(h);
                            } else r.push(l.data());
                            null != e && (p.group = e), n.push(p);
                          },
                          u = 0;
                        u < o.length;
                        ++u
                      )
                        s(u);
                      return [4, Promise.all(r)];
                    case 1:
                      return [2, { data: hh(l.sent()), specs: n }];
                  }
                });
              });
            },
            fromMemory: function (t, e, n, r) {
              return 1 === arguments.length
                ? null != t.modelTopology || null != t.weightSpecs
                  ? new ed(t)
                  : (console.warn(
                      "Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."
                    ),
                    new ed({ modelTopology: t }))
                : (console.warn(
                    "Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."
                  ),
                  new ed({
                    modelTopology: t,
                    weightSpecs: e,
                    weightData: n,
                    trainingConfig: r,
                  }));
            },
            getLoadHandlers: function (t, e) {
              return xh.getLoadHandlers(t, e);
            },
            getModelArtifactsInfoForJSON: gh,
            getSaveHandlers: function (t) {
              return xh.getSaveHandlers(t);
            },
            http: td,
            isHTTPScheme: Jh,
            loadWeights: function (t, e, n, r) {
              return (
                void 0 === e && (e = ""),
                a(this, void 0, void 0, function () {
                  return i(this, function (o) {
                    return [
                      2,
                      $h(function (t) {
                        return Yh(t, { requestInit: r });
                      })(t, e, n),
                    ];
                  });
                })
              );
            },
            registerLoadRouter: function (t) {
              return xh.registerLoadRouter(t);
            },
            registerSaveRouter: function (t) {
              return xh.registerSaveRouter(t);
            },
            weightsLoaderFactory: $h,
            withSaveHandler: function (t) {
              return new nd(t);
            },
            copyModel: function (t, e) {
              return a(this, void 0, void 0, function () {
                return i(this, function (n) {
                  return [2, Ch(t, e, !1)];
                });
              });
            },
            listModels: function () {
              return a(this, void 0, void 0, function () {
                var t, e, n, r, o, a, s;
                return i(this, function (i) {
                  switch (i.label) {
                    case 0:
                      (t = bh.getSchemes()),
                        (e = {}),
                        (n = 0),
                        (r = t),
                        (i.label = 1);
                    case 1:
                      return n < r.length
                        ? ((o = r[n]), [4, bh.getManager(o).listModels()])
                        : [3, 4];
                    case 2:
                      for (s in (a = i.sent())) e[o + yh + s] = a[s];
                      i.label = 3;
                    case 3:
                      return n++, [3, 1];
                    case 4:
                      return [2, e];
                  }
                });
              });
            },
            moveModel: function (t, e) {
              return a(this, void 0, void 0, function () {
                return i(this, function (n) {
                  return [2, Ch(t, e, !0)];
                });
              });
            },
            removeModel: function (t) {
              return a(this, void 0, void 0, function () {
                var e;
                return i(this, function (n) {
                  return (
                    (e = wh(t)),
                    [2, bh.getManager(e.scheme).removeModel(e.path)]
                  );
                });
              });
            },
          });
        exports.io = rd;
        var od,
          ad = Tn({
            confusionMatrix_: function (t, e, n) {
              var r = yn(t, "labels", "confusionMatrix"),
                o = yn(e, "predictions", "confusionMatrix");
              I(null == n || (n > 0 && Number.isInteger(n)), function () {
                return (
                  "If provided, numClasses must be a positive integer, but got " +
                  n
                );
              }),
                I(1 === r.rank, function () {
                  return (
                    "Expected the rank of labels to be 1, but got " + r.rank
                  );
                }),
                I(1 === o.rank, function () {
                  return (
                    "Expected the rank of predictions to be 1, but got " +
                    o.rank
                  );
                }),
                I(r.shape[0] === o.shape[0], function () {
                  return (
                    "Mismatch in the number of examples: " +
                    r.shape[0] +
                    " vs. " +
                    o.shape[0] +
                    ". Labels and predictions should have the same number of elements."
                  );
                }),
                I(n > 0 && Number.isInteger(n), function () {
                  return (
                    "numClasses is required to be a positive integer, but got " +
                    n
                  );
                });
              var a = Sr(r.asType("int32"), n),
                i = Sr(o.asType("int32"), n);
              return a.transpose().matMul(i).asType("int32");
            },
          }),
          id = Object.freeze({ confusionMatrix: ad });
        exports.math = id;
        var sd = Tn({
            fromPixels_: function (t, e) {
              if ((void 0 === e && (e = 3), e > 4))
                throw new Error(
                  "Cannot construct Tensor with more than 4 channels from pixels."
                );
              if (null == t)
                throw new Error(
                  "pixels passed to tf.browser.fromPixels() can not be null"
                );
              var n = !1,
                r = !1,
                o = !1,
                a = !1,
                i = !1;
              if (t.data instanceof Uint8Array) n = !0;
              else if (
                "undefined" != typeof ImageData &&
                t instanceof ImageData
              )
                r = !0;
              else if (
                "undefined" != typeof HTMLVideoElement &&
                t instanceof HTMLVideoElement
              )
                o = !0;
              else if (
                "undefined" != typeof HTMLImageElement &&
                t instanceof HTMLImageElement
              )
                a = !0;
              else {
                if (null == t.getContext)
                  throw new Error(
                    "pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was " +
                      t.constructor.name
                  );
                i = !0;
              }
              if (o && o && t.readyState < 2)
                throw new Error(
                  "The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element."
                );
              if (null != d("FromPixels", Ut.backendName))
                return Ut.runKernel(
                  "FromPixels",
                  { pixels: t },
                  { numChannels: e }
                );
              var s,
                u,
                c = o ? [t.videoWidth, t.videoHeight] : [t.width, t.height],
                l = c[0],
                p = c[1];
              if (
                (i
                  ? (s = t.getContext("2d").getImageData(0, 0, l, p).data)
                  : r || n
                  ? (s = t.data)
                  : (a || o) &&
                    (null == od &&
                      (od = document.createElement("canvas").getContext("2d")),
                    (od.canvas.width = l),
                    (od.canvas.height = p),
                    od.drawImage(t, 0, 0, l, p),
                    (s = od.getImageData(0, 0, l, p).data)),
                4 === e)
              )
                u = new Int32Array(s);
              else {
                var h = l * p;
                u = new Int32Array(h * e);
                for (var f = 0; f < h; f++)
                  for (var v = 0; v < e; ++v) u[f * e + v] = s[4 * f + v];
              }
              return zn(u, [p, l, e], "int32");
            },
          }),
          ud = Object.freeze({
            toPixels: function (t, e) {
              return a(this, void 0, void 0, function () {
                var n,
                  r,
                  o,
                  a,
                  s,
                  u,
                  c,
                  l,
                  p,
                  h,
                  d,
                  f,
                  v,
                  m,
                  g,
                  x,
                  y,
                  b,
                  w,
                  C,
                  E,
                  R,
                  I;
                return i(this, function (i) {
                  switch (i.label) {
                    case 0:
                      if (
                        ((n = yn(t, "img", "toPixels")),
                        t instanceof Rt || (n = n.toInt()),
                        2 !== n.rank && 3 !== n.rank)
                      )
                        throw new Error(
                          "toPixels only supports rank 2 or 3 tensors, got rank " +
                            n.rank +
                            "."
                        );
                      if (
                        ((r = n.shape.slice(0, 2)),
                        (o = r[0]),
                        (a = r[1]),
                        (s = 2 === n.rank ? 1 : n.shape[2]) > 4 || 2 === s)
                      )
                        throw new Error(
                          "toPixels only supports depth of size 1, 3 or 4 but got " +
                            s
                        );
                      return [4, n.data()];
                    case 1:
                      return (
                        (u = i.sent()),
                        (c = n.min()),
                        (l = n.max()),
                        [4, Promise.all([c.data(), l.data()])]
                      );
                    case 2:
                      if (
                        ((p = i.sent()),
                        (h = p[0]),
                        (d = p[1]),
                        (f = h[0]),
                        (v = d[0]),
                        c.dispose(),
                        l.dispose(),
                        "float32" === n.dtype)
                      ) {
                        if (f < 0 || v > 1)
                          throw new Error(
                            "Tensor values for a float32 Tensor must be in the range [0 - 1] but got range [" +
                              f +
                              " - " +
                              v +
                              "]."
                          );
                      } else {
                        if ("int32" !== n.dtype)
                          throw new Error(
                            "Unsupported type for toPixels: " +
                              n.dtype +
                              ". Please use float32 or int32 tensors."
                          );
                        if (f < 0 || v > 255)
                          throw new Error(
                            "Tensor values for a int32 Tensor must be in the range [0 - 255] but got range [" +
                              f +
                              " - " +
                              v +
                              "]."
                          );
                      }
                      for (
                        m = "float32" === n.dtype ? 255 : 1,
                          g = new Uint8ClampedArray(a * o * 4),
                          x = 0;
                        x < o * a;
                        ++x
                      )
                        (y = void 0),
                          (b = void 0),
                          (w = void 0),
                          (C = void 0),
                          1 === s
                            ? ((y = u[x] * m),
                              (b = u[x] * m),
                              (w = u[x] * m),
                              (C = 255))
                            : 3 === s
                            ? ((y = u[3 * x] * m),
                              (b = u[3 * x + 1] * m),
                              (w = u[3 * x + 2] * m),
                              (C = 255))
                            : 4 === s &&
                              ((y = u[4 * x] * m),
                              (b = u[4 * x + 1] * m),
                              (w = u[4 * x + 2] * m),
                              (C = u[4 * x + 3] * m)),
                          (g[0 + (E = 4 * x)] = Math.round(y)),
                          (g[E + 1] = Math.round(b)),
                          (g[E + 2] = Math.round(w)),
                          (g[E + 3] = Math.round(C));
                      return (
                        null != e &&
                          ((e.width = a),
                          (e.height = o),
                          (R = e.getContext("2d")),
                          (I = new ImageData(g, a, o)),
                          R.putImageData(I, 0, 0)),
                        n !== t && n.dispose(),
                        [2, g]
                      );
                  }
                });
              });
            },
            fromPixels: sd,
          }),
          cd = (function () {
            function t() {}
            return (
              (t.prototype.getClassName = function () {
                return this.constructor.className;
              }),
              (t.fromConfig = function (t, e) {
                return new t(e);
              }),
              t
            );
          })(),
          ld = (function () {
            function t() {
              this.classNameMap = {};
            }
            return (
              (t.getMap = function () {
                return null == t.instance && (t.instance = new t()), t.instance;
              }),
              (t.register = function (e) {
                t.getMap().classNameMap[e.className] = [e, e.fromConfig];
              }),
              t
            );
          })();
        function pd(t) {
          I(null != t.className, function () {
            return "Class being registered does not have the static className property defined.";
          }),
            I("string" == typeof t.className, function () {
              return (
                "className is required to be a string, but got type " +
                typeof t.className
              );
            }),
            I(t.className.length > 0, function () {
              return "Class being registered has an empty-string as its className, which is disallowed.";
            }),
            ld.register(t);
        }
        exports.browser = ud;
        var hd = Object.freeze({
            Serializable: cd,
            SerializationMap: ld,
            registerClass: pd,
          }),
          dd = 0.001,
          fd = 0.1;
        function vd() {
          return 32 === Ut.backend.floatPrecision() ? dd : fd;
        }
        function md(t, e, n) {
          var r = !0;
          if (((q(t) || q(e)) && (r = !1), q(t) && q(e) && (r = !0), r)) {
            var o = t.constructor.name,
              a = e.constructor.name;
            if (o !== a)
              throw new Error(
                "Arrays are of different type. Actual: " +
                  o +
                  ". Expected: " +
                  a
              );
          }
          if (Array.isArray(t) && Array.isArray(e)) {
            var i = gn(t),
              s = gn(e);
            if (!N(i, s))
              throw new Error(
                "Arrays have different shapes. Actual: [" +
                  i +
                  "]. Expected: [" +
                  s +
                  "]"
              );
          }
          var u = q(t) ? t : A(t),
            c = q(e) ? e : A(e);
          if (u.length !== c.length)
            throw new Error(
              "Arrays have different lengths actual: " +
                u.length +
                " vs expected: " +
                c.length +
                ".\nActual:   " +
                u +
                ".\nExpected: " +
                c +
                "."
            );
          for (var l = 0; l < c.length; ++l) {
            var p = u[l],
              h = c[l];
            if (!n(p, h))
              throw new Error(
                "Arrays differ: actual[" +
                  l +
                  "] = " +
                  p +
                  ", expected[" +
                  l +
                  "] = " +
                  h +
                  ".\nActual:   " +
                  u +
                  ".\nExpected: " +
                  c +
                  "."
              );
          }
        }
        function gd(t, e, n) {
          return (
            (!isFinite(t) && !isFinite(e)) ||
            !(isNaN(t) || isNaN(e) || Math.abs(t - e) > n)
          );
        }
        exports.serialization = hd;
        var xd = Object.freeze({
            TEST_EPSILON_FLOAT16: fd,
            expectArraysClose: function (t, e, n) {
              return (
                null == n && (n = vd()),
                md(t, e, function (t, e) {
                  return gd(t, e, n);
                })
              );
            },
            testEpsilon: vd,
            expectPromiseToFail: function (t, e) {
              t().then(
                function () {
                  return e.fail();
                },
                function () {
                  return e();
                }
              );
            },
            expectArraysEqual: function (t, e) {
              var n =
                "string" == typeof e ||
                "number" == typeof e ||
                "boolean" == typeof e
                  ? [e]
                  : e;
              return j(t) || j(t[0]) || j(e) || j(e[0])
                ? md(t, n, function (t, e) {
                    return t == e;
                  })
                : md(t, e, function (t, e) {
                    return gd(t, e, 0);
                  });
            },
            expectNumbersClose: function (t, e, n) {
              if ((null == n && (n = vd()), !gd(t, e, n)))
                throw new Error(
                  "Numbers differ: actual === " + t + ", expected === " + e
                );
            },
            expectValuesInRange: function (t, e, n) {
              for (var r = 0; r < t.length; r++)
                if (t[r] < e || t[r] > n)
                  throw new Error(
                    "Value out of range:" + t[r] + " low: " + e + ", high: " + n
                  );
            },
            expectArrayBuffersEqual: function (t, e) {
              expect(new Float32Array(t)).toEqual(new Float32Array(e));
            },
          }),
          yd = "1.7.0";
        (exports.version_core = yd), (exports.test_util = xd);
        var bd = Object.freeze({
            gpgpu_util: Li,
            webgl_util: Ke,
            forceHalfFloat: function () {
              c().set("WEBGL_FORCE_F16_TEXTURES", !0);
            },
            MathBackendWebGL: nu,
            setWebGLContext: Yt,
            GPGPUContext: Wi,
          }),
          wd = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              o(e, t),
              (e.prototype.minimize = function (t, e, n) {
                void 0 === e && (e = !1);
                var r = this.computeGradients(t, n),
                  o = r.value,
                  a = r.grads;
                if (null != n) {
                  var i = n.map(function (t) {
                    return { name: t.name, tensor: a[t.name] };
                  });
                  this.applyGradients(i);
                } else this.applyGradients(a);
                return rn(a), e ? o : (o.dispose(), null);
              }),
              Object.defineProperty(e.prototype, "iterations", {
                get: function () {
                  return (
                    null == this.iterations_ && (this.iterations_ = 0),
                    this.iterations_
                  );
                },
                enumerable: !0,
                configurable: !0,
              }),
              (e.prototype.incrementIterations = function () {
                this.iterations_ = this.iterations + 1;
              }),
              (e.prototype.computeGradients = function (t, e) {
                return go(t, e);
              }),
              (e.prototype.dispose = function () {
                null != this.iterations_ && rn(this.iterations_);
              }),
              (e.prototype.saveIterations = function () {
                return a(this, void 0, void 0, function () {
                  return i(this, function (t) {
                    return (
                      null == this.iterations_ && (this.iterations_ = 0),
                      [
                        2,
                        { name: "iter", tensor: Pn(this.iterations_, "int32") },
                      ]
                    );
                  });
                });
              }),
              (e.prototype.getWeights = function () {
                return a(this, void 0, void 0, function () {
                  return i(this, function (t) {
                    throw new Error(
                      "getWeights() is not implemented for this optimizer yet."
                    );
                  });
                });
              }),
              (e.prototype.setWeights = function (t) {
                return a(this, void 0, void 0, function () {
                  return i(this, function (t) {
                    throw new Error(
                      "setWeights() is not implemented for this optimizer class " +
                        this.getClassName()
                    );
                  });
                });
              }),
              (e.prototype.extractIterations = function (t) {
                return a(this, void 0, void 0, function () {
                  var e;
                  return i(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (e = this), [4, t[0].tensor.data()];
                      case 1:
                        return (e.iterations_ = n.sent()[0]), [2, t.slice(1)];
                    }
                  });
                });
              }),
              e
            );
          })(cd);
        (exports.Optimizer = wd),
          (exports.webgl = bd),
          Object.defineProperty(wd, Symbol.hasInstance, {
            value: function (t) {
              return (
                null != t.minimize &&
                null != t.computeGradients &&
                null != t.applyGradients
              );
            },
          });
        var Cd = (function (t) {
          function e(e, n, r) {
            void 0 === r && (r = null);
            var o = t.call(this) || this;
            return (
              (o.learningRate = e),
              (o.rho = n),
              (o.epsilon = r),
              (o.accumulatedGrads = []),
              (o.accumulatedUpdates = []),
              null == r && (o.epsilon = Ut.backend.epsilon()),
              o
            );
          }
          return (
            o(e, t),
            (e.prototype.applyGradients = function (t) {
              var e = this;
              (Array.isArray(t)
                ? t.map(function (t) {
                    return t.name;
                  })
                : Object.keys(t)
              ).forEach(function (n, r) {
                var o = Ut.registeredVariables[n];
                null == e.accumulatedGrads[r] &&
                  (e.accumulatedGrads[r] = {
                    originalName: n + "/accum_grad",
                    variable: nn(function () {
                      return Qn(o).variable(!1);
                    }),
                  }),
                  null == e.accumulatedUpdates[r] &&
                    (e.accumulatedUpdates[r] = {
                      originalName: n + "/accum_var",
                      variable: nn(function () {
                        return Qn(o).variable(!1);
                      }),
                    });
                var a = Array.isArray(t) ? t[r].tensor : t[n];
                if (null != a) {
                  var i = e.accumulatedGrads[r].variable,
                    s = e.accumulatedUpdates[r].variable;
                  nn(function () {
                    var t = i.mul(e.rho).add(a.square().mul(1 - e.rho)),
                      n = s
                        .add(e.epsilon)
                        .sqrt()
                        .div(i.add(e.epsilon).sqrt())
                        .mul(a),
                      r = s.mul(e.rho).add(n.square().mul(1 - e.rho));
                    i.assign(t), s.assign(r);
                    var u = n.mul(-e.learningRate).add(o);
                    o.assign(u);
                  });
                }
              }),
                this.incrementIterations();
            }),
            (e.prototype.dispose = function () {
              null != this.accumulatedUpdates &&
                (rn(
                  this.accumulatedGrads.map(function (t) {
                    return t.variable;
                  })
                ),
                rn(
                  this.accumulatedUpdates.map(function (t) {
                    return t.variable;
                  })
                ));
            }),
            (e.prototype.getWeights = function () {
              return a(this, void 0, void 0, function () {
                var t;
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        (t = this.accumulatedGrads.concat(
                          this.accumulatedUpdates
                        )),
                        [4, this.saveIterations()]
                      );
                    case 1:
                      return [
                        2,
                        [e.sent()].concat(
                          t.map(function (t) {
                            return { name: t.originalName, tensor: t.variable };
                          })
                        ),
                      ];
                  }
                });
              });
            }),
            (e.prototype.setWeights = function (t) {
              return a(this, void 0, void 0, function () {
                var e;
                return i(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.extractIterations(t)];
                    case 1:
                      return (
                        (t = n.sent()),
                        (e = t.length / 2),
                        (this.accumulatedGrads = t
                          .slice(0, e)
                          .map(function (t) {
                            return {
                              originalName: t.name,
                              variable: t.tensor.variable(!1),
                            };
                          })),
                        (this.accumulatedUpdates = t
                          .slice(e, 2 * e)
                          .map(function (t) {
                            return {
                              originalName: t.name,
                              variable: t.tensor.variable(!1),
                            };
                          })),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.getConfig = function () {
              return {
                learningRate: this.learningRate,
                rho: this.rho,
                epsilon: this.epsilon,
              };
            }),
            (e.fromConfig = function (t, e) {
              return new t(e.learningRate, e.rho, e.epsilon);
            }),
            (e.className = "Adadelta"),
            e
          );
        })(wd);
        (exports.AdadeltaOptimizer = Cd), pd(Cd);
        var Ed = (function (t) {
          function e(e, n) {
            void 0 === n && (n = 0.1);
            var r = t.call(this) || this;
            return (
              (r.learningRate = e),
              (r.initialAccumulatorValue = n),
              (r.accumulatedGrads = []),
              r
            );
          }
          return (
            o(e, t),
            (e.prototype.applyGradients = function (t) {
              var e = this;
              (Array.isArray(t)
                ? t.map(function (t) {
                    return t.name;
                  })
                : Object.keys(t)
              ).forEach(function (n, r) {
                var o = Ut.registeredVariables[n];
                null == e.accumulatedGrads[r] &&
                  (e.accumulatedGrads[r] = {
                    originalName: n + "/accumulator",
                    variable: nn(function () {
                      return jn(o.shape, e.initialAccumulatorValue).variable(
                        !1
                      );
                    }),
                  });
                var a = Array.isArray(t) ? t[r].tensor : t[n];
                if (null != a) {
                  var i = e.accumulatedGrads[r].variable;
                  nn(function () {
                    var t = i.add(a.square());
                    i.assign(t);
                    var n = a
                      .div(t.add(Ut.backend.epsilon()).sqrt())
                      .mul(-e.learningRate)
                      .add(o);
                    o.assign(n);
                  });
                }
              }),
                this.incrementIterations();
            }),
            (e.prototype.dispose = function () {
              null != this.accumulatedGrads &&
                rn(
                  this.accumulatedGrads.map(function (t) {
                    return t.variable;
                  })
                );
            }),
            (e.prototype.getWeights = function () {
              return a(this, void 0, void 0, function () {
                return i(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.saveIterations()];
                    case 1:
                      return [
                        2,
                        [t.sent()].concat(
                          this.accumulatedGrads.map(function (t) {
                            return { name: t.originalName, tensor: t.variable };
                          })
                        ),
                      ];
                  }
                });
              });
            }),
            (e.prototype.setWeights = function (t) {
              return a(this, void 0, void 0, function () {
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.extractIterations(t)];
                    case 1:
                      return (
                        (t = e.sent()),
                        (this.accumulatedGrads = t.map(function (t) {
                          return {
                            originalName: t.name,
                            variable: t.tensor.variable(!1),
                          };
                        })),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.getConfig = function () {
              return {
                learningRate: this.learningRate,
                initialAccumulatorValue: this.initialAccumulatorValue,
              };
            }),
            (e.fromConfig = function (t, e) {
              return new t(e.learningRate, e.initialAccumulatorValue);
            }),
            (e.className = "Adagrad"),
            e
          );
        })(wd);
        (exports.AdagradOptimizer = Ed), pd(Ed);
        var Rd = (function (t) {
          function e(e, n, r, o) {
            void 0 === o && (o = null);
            var a = t.call(this) || this;
            return (
              (a.learningRate = e),
              (a.beta1 = n),
              (a.beta2 = r),
              (a.epsilon = o),
              (a.accumulatedFirstMoment = []),
              (a.accumulatedSecondMoment = []),
              nn(function () {
                (a.accBeta1 = Pn(n).variable()),
                  (a.accBeta2 = Pn(r).variable());
              }),
              null == o && (a.epsilon = Ut.backend.epsilon()),
              a
            );
          }
          return (
            o(e, t),
            (e.prototype.applyGradients = function (t) {
              var e = this,
                n = Array.isArray(t)
                  ? t.map(function (t) {
                      return t.name;
                    })
                  : Object.keys(t);
              nn(function () {
                var r = Ic(1, e.accBeta1),
                  o = Ic(1, e.accBeta2);
                n.forEach(function (n, a) {
                  var i = Ut.registeredVariables[n];
                  null == e.accumulatedFirstMoment[a] &&
                    (e.accumulatedFirstMoment[a] = {
                      originalName: n + "/m",
                      variable: nn(function () {
                        return Qn(i).variable(!1);
                      }),
                    }),
                    null == e.accumulatedSecondMoment[a] &&
                      (e.accumulatedSecondMoment[a] = {
                        originalName: n + "/v",
                        variable: nn(function () {
                          return Qn(i).variable(!1);
                        }),
                      });
                  var s = Array.isArray(t) ? t[a].tensor : t[n];
                  if (null != s) {
                    var u = e.accumulatedFirstMoment[a].variable,
                      c = e.accumulatedSecondMoment[a].variable,
                      l = u.mul(e.beta1).add(s.mul(1 - e.beta1)),
                      p = c.mul(e.beta2).add(s.square().mul(1 - e.beta2)),
                      h = l.div(r),
                      d = p.div(o);
                    u.assign(l), c.assign(p);
                    var f = h
                      .div(d.sqrt().add(e.epsilon))
                      .mul(-e.learningRate)
                      .add(i);
                    i.assign(f);
                  }
                }),
                  e.accBeta1.assign(e.accBeta1.mul(e.beta1)),
                  e.accBeta2.assign(e.accBeta2.mul(e.beta2));
              }),
                this.incrementIterations();
            }),
            (e.prototype.dispose = function () {
              this.accBeta1.dispose(),
                this.accBeta2.dispose(),
                null != this.accumulatedFirstMoment &&
                  rn(
                    this.accumulatedFirstMoment.map(function (t) {
                      return t.variable;
                    })
                  ),
                null != this.accumulatedSecondMoment &&
                  rn(
                    this.accumulatedSecondMoment.map(function (t) {
                      return t.variable;
                    })
                  );
            }),
            (e.prototype.getWeights = function () {
              return a(this, void 0, void 0, function () {
                var t;
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        (t = this.accumulatedFirstMoment.concat(
                          this.accumulatedSecondMoment
                        )),
                        [4, this.saveIterations()]
                      );
                    case 1:
                      return [
                        2,
                        [e.sent()].concat(
                          t.map(function (t) {
                            return { name: t.originalName, tensor: t.variable };
                          })
                        ),
                      ];
                  }
                });
              });
            }),
            (e.prototype.setWeights = function (t) {
              return a(this, void 0, void 0, function () {
                var e,
                  n = this;
                return i(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return [4, this.extractIterations(t)];
                    case 1:
                      return (
                        (t = r.sent()),
                        nn(function () {
                          n.accBeta1.assign(Cc(n.beta1, n.iterations_ + 1)),
                            n.accBeta2.assign(Cc(n.beta2, n.iterations_ + 1));
                        }),
                        (e = t.length / 2),
                        (this.accumulatedFirstMoment = t
                          .slice(0, e)
                          .map(function (t) {
                            return {
                              originalName: t.name,
                              variable: t.tensor.variable(!1),
                            };
                          })),
                        (this.accumulatedSecondMoment = t
                          .slice(e, 2 * e)
                          .map(function (t) {
                            return {
                              originalName: t.name,
                              variable: t.tensor.variable(!1),
                            };
                          })),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.getConfig = function () {
              return {
                learningRate: this.learningRate,
                beta1: this.beta1,
                beta2: this.beta2,
                epsilon: this.epsilon,
              };
            }),
            (e.fromConfig = function (t, e) {
              return new t(e.learningRate, e.beta1, e.beta2, e.epsilon);
            }),
            (e.className = "Adam"),
            e
          );
        })(wd);
        (exports.AdamOptimizer = Rd), pd(Rd);
        var Id = (function (t) {
          function e(e, n, r, o, a) {
            void 0 === o && (o = null), void 0 === a && (a = 0);
            var i = t.call(this) || this;
            return (
              (i.learningRate = e),
              (i.beta1 = n),
              (i.beta2 = r),
              (i.epsilon = o),
              (i.decay = a),
              (i.accumulatedFirstMoment = []),
              (i.accumulatedWeightedInfNorm = []),
              nn(function () {
                (i.iteration = Pn(0).variable()),
                  (i.accBeta1 = Pn(n).variable());
              }),
              null == o && (i.epsilon = Ut.backend.epsilon()),
              i
            );
          }
          return (
            o(e, t),
            (e.prototype.applyGradients = function (t) {
              var e = this,
                n = Array.isArray(t)
                  ? t.map(function (t) {
                      return t.name;
                    })
                  : Object.keys(t);
              nn(function () {
                var r = Ic(1, e.accBeta1),
                  o = lc(-e.learningRate, e.iteration.mul(e.decay).add(1));
                n.forEach(function (n, a) {
                  var i = Ut.registeredVariables[n];
                  null == e.accumulatedFirstMoment[a] &&
                    (e.accumulatedFirstMoment[a] = {
                      originalName: n + "/m",
                      variable: Qn(i).variable(!1),
                    }),
                    null == e.accumulatedWeightedInfNorm[a] &&
                      (e.accumulatedWeightedInfNorm[a] = {
                        originalName: n + "/v",
                        variable: Qn(i).variable(!1),
                      });
                  var s = Array.isArray(t) ? t[a].tensor : t[n];
                  if (null != s) {
                    var u = e.accumulatedFirstMoment[a].variable,
                      c = e.accumulatedWeightedInfNorm[a].variable,
                      l = u.mul(e.beta1).add(s.mul(1 - e.beta1)),
                      p = c.mul(e.beta2),
                      h = s.abs(),
                      d = p.maximum(h);
                    u.assign(l), c.assign(d);
                    var f = o
                      .div(r)
                      .mul(l.div(d.add(e.epsilon)))
                      .add(i);
                    i.assign(f);
                  }
                }),
                  e.iteration.assign(e.iteration.add(1)),
                  e.accBeta1.assign(e.accBeta1.mul(e.beta1));
              }),
                this.incrementIterations();
            }),
            (e.prototype.dispose = function () {
              this.accBeta1.dispose(),
                this.iteration.dispose(),
                null != this.accumulatedFirstMoment &&
                  rn(
                    this.accumulatedFirstMoment.map(function (t) {
                      return t.variable;
                    })
                  ),
                null != this.accumulatedWeightedInfNorm &&
                  rn(
                    this.accumulatedWeightedInfNorm.map(function (t) {
                      return t.variable;
                    })
                  );
            }),
            (e.prototype.getWeights = function () {
              return a(this, void 0, void 0, function () {
                return i(this, function (t) {
                  throw new Error(
                    "getWeights() is not implemented for Adamax yet."
                  );
                });
              });
            }),
            (e.prototype.setWeights = function (t) {
              return a(this, void 0, void 0, function () {
                return i(this, function (t) {
                  throw new Error(
                    "setWeights() is not implemented for Adamax yet."
                  );
                });
              });
            }),
            (e.prototype.getConfig = function () {
              return {
                learningRate: this.learningRate,
                beta1: this.beta1,
                beta2: this.beta2,
                epsilon: this.epsilon,
                decay: this.decay,
              };
            }),
            (e.fromConfig = function (t, e) {
              return new t(
                e.learningRate,
                e.beta1,
                e.beta2,
                e.epsilon,
                e.decay
              );
            }),
            (e.className = "Adamax"),
            e
          );
        })(wd);
        (exports.AdamaxOptimizer = Id), pd(Id);
        var kd = (function (t) {
          function e(e) {
            var n = t.call(this) || this;
            return (n.learningRate = e), n.setLearningRate(e), n;
          }
          return (
            o(e, t),
            (e.prototype.applyGradients = function (t) {
              var e = this;
              (Array.isArray(t)
                ? t.map(function (t) {
                    return t.name;
                  })
                : Object.keys(t)
              ).forEach(function (n, r) {
                var o = Array.isArray(t) ? t[r].tensor : t[n];
                if (null != o) {
                  var a = Ut.registeredVariables[n];
                  nn(function () {
                    var t = e.c.mul(o).add(a);
                    a.assign(t);
                  });
                }
              }),
                this.incrementIterations();
            }),
            (e.prototype.setLearningRate = function (t) {
              (this.learningRate = t),
                null != this.c && this.c.dispose(),
                (this.c = on(Pn(-t)));
            }),
            (e.prototype.dispose = function () {
              this.c.dispose();
            }),
            (e.prototype.getWeights = function () {
              return a(this, void 0, void 0, function () {
                return i(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.saveIterations()];
                    case 1:
                      return [2, [t.sent()]];
                  }
                });
              });
            }),
            (e.prototype.setWeights = function (t) {
              return a(this, void 0, void 0, function () {
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.extractIterations(t)];
                    case 1:
                      if (0 !== (t = e.sent()).length)
                        throw new Error(
                          "SGD optimizer does not have settable weights."
                        );
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.getConfig = function () {
              return { learningRate: this.learningRate };
            }),
            (e.fromConfig = function (t, e) {
              return new t(e.learningRate);
            }),
            (e.className = "SGD"),
            e
          );
        })(wd);
        (exports.SGDOptimizer = kd), pd(kd);
        var Sd = (function (t) {
          function e(e, n, r) {
            void 0 === r && (r = !1);
            var o = t.call(this, e) || this;
            return (
              (o.learningRate = e),
              (o.momentum = n),
              (o.useNesterov = r),
              (o.accumulations = []),
              (o.m = Pn(o.momentum)),
              o
            );
          }
          return (
            o(e, t),
            (e.prototype.applyGradients = function (t) {
              var e = this;
              (Array.isArray(t)
                ? t.map(function (t) {
                    return t.name;
                  })
                : Object.keys(t)
              ).forEach(function (n, r) {
                var o = Ut.registeredVariables[n];
                null == e.accumulations[r] &&
                  (e.accumulations[r] = {
                    originalName: n + "/momentum",
                    variable: nn(function () {
                      return Qn(o).variable(!1);
                    }),
                  });
                var a = e.accumulations[r].variable,
                  i = Array.isArray(t) ? t[r].tensor : t[n];
                null != i &&
                  nn(function () {
                    var t,
                      n = e.m.mul(a).add(i);
                    (t = e.useNesterov
                      ? e.c.mul(i.add(n.mul(e.m))).add(o)
                      : e.c.mul(n).add(o)),
                      a.assign(n),
                      o.assign(t);
                  });
              }),
                this.incrementIterations();
            }),
            (e.prototype.dispose = function () {
              this.m.dispose(),
                null != this.accumulations &&
                  rn(
                    this.accumulations.map(function (t) {
                      return t.variable;
                    })
                  );
            }),
            (e.prototype.setMomentum = function (t) {
              this.momentum = t;
            }),
            (e.prototype.getWeights = function () {
              return a(this, void 0, void 0, function () {
                return i(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [4, this.saveIterations()];
                    case 1:
                      return [
                        2,
                        [t.sent()].concat(
                          this.accumulations.map(function (t) {
                            return { name: t.originalName, tensor: t.variable };
                          })
                        ),
                      ];
                  }
                });
              });
            }),
            (e.prototype.setWeights = function (t) {
              return a(this, void 0, void 0, function () {
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.extractIterations(t)];
                    case 1:
                      return (
                        (t = e.sent()),
                        (this.accumulations = t.map(function (t) {
                          return {
                            originalName: t.name,
                            variable: t.tensor.variable(!1),
                          };
                        })),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.getConfig = function () {
              return {
                learningRate: this.learningRate,
                momentum: this.momentum,
                useNesterov: this.useNesterov,
              };
            }),
            (e.fromConfig = function (t, e) {
              return new t(e.learningRate, e.momentum, e.useNesterov);
            }),
            (e.className = "Momentum"),
            e
          );
        })(kd);
        (exports.MomentumOptimizer = Sd), pd(Sd);
        var Ad = (function (t) {
          function e(e, n, r, o, a) {
            void 0 === n && (n = 0.9),
              void 0 === r && (r = 0),
              void 0 === o && (o = null),
              void 0 === a && (a = !1);
            var i = t.call(this) || this;
            if (
              ((i.learningRate = e),
              (i.decay = n),
              (i.momentum = r),
              (i.epsilon = o),
              (i.accumulatedMeanSquares = []),
              (i.accumulatedMoments = []),
              (i.accumulatedMeanGrads = []),
              (i.centered = a),
              null == o && (i.epsilon = Ut.backend.epsilon()),
              null == e)
            )
              throw new Error(
                "learningRate for RMSPropOptimizer must be defined."
              );
            return i;
          }
          return (
            o(e, t),
            (e.prototype.applyGradients = function (t) {
              var e = this;
              (Array.isArray(t)
                ? t.map(function (t) {
                    return t.name;
                  })
                : Object.keys(t)
              ).forEach(function (n, r) {
                var o = Ut.registeredVariables[n];
                null == e.accumulatedMeanSquares[r] &&
                  (e.accumulatedMeanSquares[r] = {
                    originalName: n + "/rms",
                    variable: nn(function () {
                      return Qn(o).variable(!1);
                    }),
                  }),
                  null == e.accumulatedMoments[r] &&
                    (e.accumulatedMoments[r] = {
                      originalName: n + "/momentum",
                      variable: nn(function () {
                        return Qn(o).variable(!1);
                      }),
                    }),
                  null == e.accumulatedMeanGrads[r] &&
                    e.centered &&
                    (e.accumulatedMeanGrads[r] = {
                      originalName: n + "/mg",
                      variable: nn(function () {
                        return Qn(o).variable(!1);
                      }),
                    });
                var a = Array.isArray(t) ? t[r].tensor : t[n];
                if (null != a) {
                  var i = e.accumulatedMeanSquares[r].variable,
                    s = e.accumulatedMoments[r].variable;
                  nn(function () {
                    var t = i.mul(e.decay).add(a.square().mul(1 - e.decay));
                    if (e.centered) {
                      var n = e.accumulatedMeanGrads[r].variable,
                        u = n.mul(e.decay).add(a.mul(1 - e.decay)),
                        c = s
                          .mul(e.momentum)
                          .add(
                            a
                              .mul(e.learningRate)
                              .div(t.sub(u.square().add(e.epsilon)).sqrt())
                          );
                      i.assign(t), n.assign(u), s.assign(c);
                      var l = o.sub(c);
                      o.assign(l);
                    } else {
                      var p = i.mul(e.decay).add(a.square().mul(1 - e.decay));
                      (c = s
                        .mul(e.momentum)
                        .add(
                          a.mul(e.learningRate).div(p.add(e.epsilon).sqrt())
                        )),
                        i.assign(p),
                        s.assign(c),
                        (l = o.sub(c)),
                        o.assign(l);
                    }
                  });
                }
              }),
                this.incrementIterations();
            }),
            (e.prototype.dispose = function () {
              null != this.accumulatedMeanSquares &&
                rn(
                  this.accumulatedMeanSquares.map(function (t) {
                    return t.variable;
                  })
                ),
                null != this.accumulatedMeanGrads &&
                  this.centered &&
                  rn(
                    this.accumulatedMeanGrads.map(function (t) {
                      return t.variable;
                    })
                  ),
                null != this.accumulatedMoments &&
                  rn(
                    this.accumulatedMoments.map(function (t) {
                      return t.variable;
                    })
                  );
            }),
            (e.prototype.getWeights = function () {
              return a(this, void 0, void 0, function () {
                var t;
                return i(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        (t = this.accumulatedMeanSquares.concat(
                          this.accumulatedMoments
                        )),
                        this.centered &&
                          t.push.apply(t, this.accumulatedMeanGrads),
                        [4, this.saveIterations()]
                      );
                    case 1:
                      return [
                        2,
                        [e.sent()].concat(
                          t.map(function (t) {
                            return { name: t.originalName, tensor: t.variable };
                          })
                        ),
                      ];
                  }
                });
              });
            }),
            (e.prototype.setWeights = function (t) {
              return a(this, void 0, void 0, function () {
                var e;
                return i(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.extractIterations(t)];
                    case 1:
                      return (
                        (t = n.sent()),
                        (e = this.centered ? t.length / 3 : t.length / 2),
                        (this.accumulatedMeanSquares = t
                          .slice(0, e)
                          .map(function (t) {
                            return {
                              originalName: t.name,
                              variable: t.tensor.variable(!1),
                            };
                          })),
                        (this.accumulatedMoments = t
                          .slice(e, 2 * e)
                          .map(function (t) {
                            return {
                              originalName: t.name,
                              variable: t.tensor.variable(!1),
                            };
                          })),
                        this.centered &&
                          (this.accumulatedMeanGrads = t
                            .slice(2 * e, 3 * e)
                            .map(function (t) {
                              return {
                                originalName: t.name,
                                variable: t.tensor.variable(!1),
                              };
                            })),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.prototype.getConfig = function () {
              return {
                learningRate: this.learningRate,
                decay: this.decay,
                momentum: this.momentum,
                epsilon: this.epsilon,
                centered: this.centered,
              };
            }),
            (e.fromConfig = function (t, e) {
              return new t(
                e.learningRate,
                e.decay,
                e.momentum,
                e.epsilon,
                e.centered
              );
            }),
            (e.className = "RMSProp"),
            e
          );
        })(wd);
        (exports.RMSPropOptimizer = Ad), pd(Ad);
        var Dd = (function () {
            function t() {}
            return (
              (t.sgd = function (t) {
                return new kd(t);
              }),
              (t.momentum = function (t, e, n) {
                return void 0 === n && (n = !1), new Sd(t, e, n);
              }),
              (t.rmsprop = function (t, e, n, r, o) {
                return (
                  void 0 === e && (e = 0.9),
                  void 0 === n && (n = 0),
                  void 0 === r && (r = null),
                  void 0 === o && (o = !1),
                  new Ad(t, e, n, r, o)
                );
              }),
              (t.adam = function (t, e, n, r) {
                return (
                  void 0 === t && (t = 0.001),
                  void 0 === e && (e = 0.9),
                  void 0 === n && (n = 0.999),
                  void 0 === r && (r = null),
                  new Rd(t, e, n, r)
                );
              }),
              (t.adadelta = function (t, e, n) {
                return (
                  void 0 === t && (t = 0.001),
                  void 0 === e && (e = 0.95),
                  void 0 === n && (n = null),
                  new Cd(t, e, n)
                );
              }),
              (t.adamax = function (t, e, n, r, o) {
                return (
                  void 0 === t && (t = 0.002),
                  void 0 === e && (e = 0.9),
                  void 0 === n && (n = 0.999),
                  void 0 === r && (r = null),
                  void 0 === o && (o = 0),
                  new Id(t, e, n, r, o)
                );
              }),
              (t.adagrad = function (t, e) {
                return void 0 === e && (e = 0.1), new Ed(t, e);
              }),
              t
            );
          })(),
          Nd = {
            sgd: Dd.sgd,
            momentum: Dd.momentum,
            adadelta: Dd.adadelta,
            adagrad: Dd.adagrad,
            rmsprop: Dd.rmsprop,
            adamax: Dd.adamax,
            adam: Dd.adam,
          },
          Td =
            "undefined" != typeof requestAnimationFrame
              ? requestAnimationFrame
              : "undefined" != typeof setImmediate
              ? setImmediate
              : function (t) {
                  return t();
                };
        function Fd() {
          return new Promise(function (t) {
            return Td(function () {
              return t();
            });
          });
        }
        (exports.train = Nd),
          (Rt.prototype.squaredDifference = function (t) {
            return au(this, t);
          }),
          (Ct = Kp);
      },
      {
        crypto: "rDCW",
        "node-fetch": "rDCW",
        util: "rDCW",
        process: "pBGv",
        buffer: "dskh",
      },
    ],
    PUZ0: [
      function (require, module, exports) {
        "use strict";
        function e(e, o, r) {
          if (
            (void 0 === r && (r = !1),
            e.beginPath(),
            o.slice(1).forEach(function (r, t) {
              var i = r.x,
                n = r.y,
                s = o[t];
              e.moveTo(s.x, s.y), e.lineTo(i, n);
            }),
            r)
          ) {
            var t = o[o.length - 1],
              i = o[0];
            if (!t || !i) return;
            e.moveTo(t.x, t.y), e.lineTo(i.x, i.y);
          }
          e.stroke();
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.drawContour = e);
      },
      {},
    ],
    vCxL: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.__assign = void 0),
          (exports.__asyncDelegator = d),
          (exports.__asyncGenerator = v),
          (exports.__asyncValues = b),
          (exports.__await = h),
          (exports.__awaiter = u),
          (exports.__classPrivateFieldGet = O),
          (exports.__classPrivateFieldSet = g),
          (exports.__createBinding = f),
          (exports.__decorate = o),
          (exports.__exportStar = l),
          (exports.__extends = e),
          (exports.__generator = c),
          (exports.__importDefault = m),
          (exports.__importStar = x),
          (exports.__makeTemplateObject = w),
          (exports.__metadata = i),
          (exports.__param = a),
          (exports.__read = p),
          (exports.__rest = n),
          (exports.__spread = y),
          (exports.__spreadArrays = _),
          (exports.__values = s);
        var t = function (e, r) {
          return (t =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (t, e) {
                t.__proto__ = e;
              }) ||
            function (t, e) {
              for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(e, r);
        };
        function e(e, r) {
          function n() {
            this.constructor = e;
          }
          t(e, r),
            (e.prototype =
              null === r
                ? Object.create(r)
                : ((n.prototype = r.prototype), new n()));
        }
        var r = function () {
          return (
            (exports.__assign = r =
              Object.assign ||
              function (t) {
                for (var e, r = 1, n = arguments.length; r < n; r++)
                  for (var o in (e = arguments[r]))
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                return t;
              }),
            r.apply(this, arguments)
          );
        };
        function n(t, e) {
          var r = {};
          for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) &&
              e.indexOf(n) < 0 &&
              (r[n] = t[n]);
          if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
            var o = 0;
            for (n = Object.getOwnPropertySymbols(t); o < n.length; o++)
              e.indexOf(n[o]) < 0 &&
                Object.prototype.propertyIsEnumerable.call(t, n[o]) &&
                (r[n[o]] = t[n[o]]);
          }
          return r;
        }
        function o(t, e, r, n) {
          var o,
            a = arguments.length,
            i =
              a < 3
                ? e
                : null === n
                ? (n = Object.getOwnPropertyDescriptor(e, r))
                : n;
          if (
            "object" == typeof Reflect &&
            "function" == typeof Reflect.decorate
          )
            i = Reflect.decorate(t, e, r, n);
          else
            for (var u = t.length - 1; u >= 0; u--)
              (o = t[u]) &&
                (i = (a < 3 ? o(i) : a > 3 ? o(e, r, i) : o(e, r)) || i);
          return a > 3 && i && Object.defineProperty(e, r, i), i;
        }
        function a(t, e) {
          return function (r, n) {
            e(r, n, t);
          };
        }
        function i(t, e) {
          if (
            "object" == typeof Reflect &&
            "function" == typeof Reflect.metadata
          )
            return Reflect.metadata(t, e);
        }
        function u(t, e, r, n) {
          return new (r || (r = Promise))(function (o, a) {
            function i(t) {
              try {
                c(n.next(t));
              } catch (e) {
                a(e);
              }
            }
            function u(t) {
              try {
                c(n.throw(t));
              } catch (e) {
                a(e);
              }
            }
            function c(t) {
              var e;
              t.done
                ? o(t.value)
                : ((e = t.value),
                  e instanceof r
                    ? e
                    : new r(function (t) {
                        t(e);
                      })).then(i, u);
            }
            c((n = n.apply(t, e || [])).next());
          });
        }
        function c(t, e) {
          var r,
            n,
            o,
            a,
            i = {
              label: 0,
              sent: function () {
                if (1 & o[0]) throw o[1];
                return o[1];
              },
              trys: [],
              ops: [],
            };
          return (
            (a = { next: u(0), throw: u(1), return: u(2) }),
            "function" == typeof Symbol &&
              (a[Symbol.iterator] = function () {
                return this;
              }),
            a
          );
          function u(a) {
            return function (u) {
              return (function (a) {
                if (r) throw new TypeError("Generator is already executing.");
                for (; i; )
                  try {
                    if (
                      ((r = 1),
                      n &&
                        (o =
                          2 & a[0]
                            ? n.return
                            : a[0]
                            ? n.throw || ((o = n.return) && o.call(n), 0)
                            : n.next) &&
                        !(o = o.call(n, a[1])).done)
                    )
                      return o;
                    switch (((n = 0), o && (a = [2 & a[0], o.value]), a[0])) {
                      case 0:
                      case 1:
                        o = a;
                        break;
                      case 4:
                        return i.label++, { value: a[1], done: !1 };
                      case 5:
                        i.label++, (n = a[1]), (a = [0]);
                        continue;
                      case 7:
                        (a = i.ops.pop()), i.trys.pop();
                        continue;
                      default:
                        if (
                          !(o = (o = i.trys).length > 0 && o[o.length - 1]) &&
                          (6 === a[0] || 2 === a[0])
                        ) {
                          i = 0;
                          continue;
                        }
                        if (
                          3 === a[0] &&
                          (!o || (a[1] > o[0] && a[1] < o[3]))
                        ) {
                          i.label = a[1];
                          break;
                        }
                        if (6 === a[0] && i.label < o[1]) {
                          (i.label = o[1]), (o = a);
                          break;
                        }
                        if (o && i.label < o[2]) {
                          (i.label = o[2]), i.ops.push(a);
                          break;
                        }
                        o[2] && i.ops.pop(), i.trys.pop();
                        continue;
                    }
                    a = e.call(t, i);
                  } catch (u) {
                    (a = [6, u]), (n = 0);
                  } finally {
                    r = o = 0;
                  }
                if (5 & a[0]) throw a[1];
                return { value: a[0] ? a[1] : void 0, done: !0 };
              })([a, u]);
            };
          }
        }
        function f(t, e, r, n) {
          void 0 === n && (n = r), (t[n] = e[r]);
        }
        function l(t, e) {
          for (var r in t)
            "default" === r || e.hasOwnProperty(r) || (e[r] = t[r]);
        }
        function s(t) {
          var e = "function" == typeof Symbol && Symbol.iterator,
            r = e && t[e],
            n = 0;
          if (r) return r.call(t);
          if (t && "number" == typeof t.length)
            return {
              next: function () {
                return (
                  t && n >= t.length && (t = void 0),
                  { value: t && t[n++], done: !t }
                );
              },
            };
          throw new TypeError(
            e ? "Object is not iterable." : "Symbol.iterator is not defined."
          );
        }
        function p(t, e) {
          var r = "function" == typeof Symbol && t[Symbol.iterator];
          if (!r) return t;
          var n,
            o,
            a = r.call(t),
            i = [];
          try {
            for (; (void 0 === e || e-- > 0) && !(n = a.next()).done; )
              i.push(n.value);
          } catch (u) {
            o = { error: u };
          } finally {
            try {
              n && !n.done && (r = a.return) && r.call(a);
            } finally {
              if (o) throw o.error;
            }
          }
          return i;
        }
        function y() {
          for (var t = [], e = 0; e < arguments.length; e++)
            t = t.concat(p(arguments[e]));
          return t;
        }
        function _() {
          for (var t = 0, e = 0, r = arguments.length; e < r; e++)
            t += arguments[e].length;
          var n = Array(t),
            o = 0;
          for (e = 0; e < r; e++)
            for (var a = arguments[e], i = 0, u = a.length; i < u; i++, o++)
              n[o] = a[i];
          return n;
        }
        function h(t) {
          return this instanceof h ? ((this.v = t), this) : new h(t);
        }
        function v(t, e, r) {
          if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
          var n,
            o = r.apply(t, e || []),
            a = [];
          return (
            (n = {}),
            i("next"),
            i("throw"),
            i("return"),
            (n[Symbol.asyncIterator] = function () {
              return this;
            }),
            n
          );
          function i(t) {
            o[t] &&
              (n[t] = function (e) {
                return new Promise(function (r, n) {
                  a.push([t, e, r, n]) > 1 || u(t, e);
                });
              });
          }
          function u(t, e) {
            try {
              (r = o[t](e)).value instanceof h
                ? Promise.resolve(r.value.v).then(c, f)
                : l(a[0][2], r);
            } catch (n) {
              l(a[0][3], n);
            }
            var r;
          }
          function c(t) {
            u("next", t);
          }
          function f(t) {
            u("throw", t);
          }
          function l(t, e) {
            t(e), a.shift(), a.length && u(a[0][0], a[0][1]);
          }
        }
        function d(t) {
          var e, r;
          return (
            (e = {}),
            n("next"),
            n("throw", function (t) {
              throw t;
            }),
            n("return"),
            (e[Symbol.iterator] = function () {
              return this;
            }),
            e
          );
          function n(n, o) {
            e[n] = t[n]
              ? function (e) {
                  return (r = !r)
                    ? { value: h(t[n](e)), done: "return" === n }
                    : o
                    ? o(e)
                    : e;
                }
              : o;
          }
        }
        function b(t) {
          if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
          var e,
            r = t[Symbol.asyncIterator];
          return r
            ? r.call(t)
            : ((t = "function" == typeof s ? s(t) : t[Symbol.iterator]()),
              (e = {}),
              n("next"),
              n("throw"),
              n("return"),
              (e[Symbol.asyncIterator] = function () {
                return this;
              }),
              e);
          function n(r) {
            e[r] =
              t[r] &&
              function (e) {
                return new Promise(function (n, o) {
                  (function (t, e, r, n) {
                    Promise.resolve(n).then(function (e) {
                      t({ value: e, done: r });
                    }, e);
                  })(n, o, (e = t[r](e)).done, e.value);
                });
              };
          }
        }
        function w(t, e) {
          return (
            Object.defineProperty
              ? Object.defineProperty(t, "raw", { value: e })
              : (t.raw = e),
            t
          );
        }
        function x(t) {
          if (t && t.__esModule) return t;
          var e = {};
          if (null != t)
            for (var r in t) Object.hasOwnProperty.call(t, r) && (e[r] = t[r]);
          return (e.default = t), e;
        }
        function m(t) {
          return t && t.__esModule ? t : { default: t };
        }
        function O(t, e) {
          if (!e.has(t))
            throw new TypeError(
              "attempted to get private field on non-instance"
            );
          return e.get(t);
        }
        function g(t, e, r) {
          if (!e.has(t))
            throw new TypeError(
              "attempted to set private field on non-instance"
            );
          return e.set(t, r), r;
        }
        exports.__assign = r;
      },
      {},
    ],
    Fa4F: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.Dimensions = void 0);
        var e = require("../utils"),
          t = (function () {
            function t(t, i) {
              if (!(0, e.isValidNumber)(t) || !(0, e.isValidNumber)(i))
                throw new Error(
                  "Dimensions.constructor - expected width and height to be valid numbers, instead have " +
                    JSON.stringify({ width: t, height: i })
                );
              (this._width = t), (this._height = i);
            }
            return (
              Object.defineProperty(t.prototype, "width", {
                get: function () {
                  return this._width;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(t.prototype, "height", {
                get: function () {
                  return this._height;
                },
                enumerable: !0,
                configurable: !0,
              }),
              (t.prototype.reverse = function () {
                return new t(1 / this.width, 1 / this.height);
              }),
              t
            );
          })();
        exports.Dimensions = t;
      },
      { "../utils": "acHD" },
    ],
    acHD: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.computeReshapedDimensions = h),
          (exports.getCenterPoint = x),
          (exports.isDimensions = d),
          (exports.isEven = p),
          (exports.isFloat = c),
          (exports.isTensor = i),
          (exports.isTensor1D = u),
          (exports.isTensor2D = s),
          (exports.isTensor3D = a),
          (exports.isTensor4D = f),
          (exports.isValidNumber = w),
          (exports.isValidProbablitiy = y),
          (exports.range = v),
          (exports.round = l);
        var e = o(require("@tensorflow/tfjs-core")),
          r = require("../classes"),
          t = require("../classes/Dimensions");
        function n(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (n = function (e) {
            return e ? t : r;
          })(e);
        }
        function o(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = n(r);
          if (t && t.has(e)) return t.get(e);
          var o = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var s = i ? Object.getOwnPropertyDescriptor(e, u) : null;
              s && (s.get || s.set)
                ? Object.defineProperty(o, u, s)
                : (o[u] = e[u]);
            }
          return (o.default = e), t && t.set(e, o), o;
        }
        function i(r, t) {
          return r instanceof e.Tensor && r.shape.length === t;
        }
        function u(e) {
          return i(e, 1);
        }
        function s(e) {
          return i(e, 2);
        }
        function a(e) {
          return i(e, 3);
        }
        function f(e) {
          return i(e, 4);
        }
        function c(e) {
          return e % 1 != 0;
        }
        function p(e) {
          return e % 2 == 0;
        }
        function l(e, r) {
          void 0 === r && (r = 2);
          var t = Math.pow(10, r);
          return Math.floor(e * t) / t;
        }
        function d(e) {
          return e && e.width && e.height;
        }
        function h(e, r) {
          var n = e.width,
            o = e.height,
            i = r / Math.max(o, n);
          return new t.Dimensions(Math.round(n * i), Math.round(o * i));
        }
        function x(e) {
          return e
            .reduce(function (e, r) {
              return e.add(r);
            }, new r.Point(0, 0))
            .div(new r.Point(e.length, e.length));
        }
        function v(e, r, t) {
          return Array(e)
            .fill(0)
            .map(function (e, n) {
              return r + n * t;
            });
        }
        function w(e) {
          return (!!e && e !== 1 / 0 && e !== -1 / 0 && !isNaN(e)) || 0 === e;
        }
        function y(e) {
          return w(e) && 0 <= e && e <= 1;
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../classes": "ywa2",
        "../classes/Dimensions": "Fa4F",
      },
    ],
    l0Xp: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.Point = void 0);
        var t = (function () {
          function t(t, e) {
            (this._x = t), (this._y = e);
          }
          return (
            Object.defineProperty(t.prototype, "x", {
              get: function () {
                return this._x;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(t.prototype, "y", {
              get: function () {
                return this._y;
              },
              enumerable: !0,
              configurable: !0,
            }),
            (t.prototype.add = function (e) {
              return new t(this.x + e.x, this.y + e.y);
            }),
            (t.prototype.sub = function (e) {
              return new t(this.x - e.x, this.y - e.y);
            }),
            (t.prototype.mul = function (e) {
              return new t(this.x * e.x, this.y * e.y);
            }),
            (t.prototype.div = function (e) {
              return new t(this.x / e.x, this.y / e.y);
            }),
            (t.prototype.abs = function () {
              return new t(Math.abs(this.x), Math.abs(this.y));
            }),
            (t.prototype.magnitude = function () {
              return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));
            }),
            (t.prototype.floor = function () {
              return new t(Math.floor(this.x), Math.floor(this.y));
            }),
            t
          );
        })();
        exports.Point = t;
      },
      {},
    ],
    NweN: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.Box = void 0);
        var t = require("../utils"),
          e = require("./Point"),
          i = (function () {
            function i(e, r) {
              void 0 === r && (r = !0);
              var o = e || {},
                h = [o.left, o.top, o.right, o.bottom].every(t.isValidNumber),
                n = [o.x, o.y, o.width, o.height].every(t.isValidNumber);
              if (!n && !h)
                throw new Error(
                  "Box.constructor - expected box to be IBoundingBox | IRect, instead have " +
                    JSON.stringify(o)
                );
              var s = n
                  ? [o.x, o.y, o.width, o.height]
                  : [o.left, o.top, o.right - o.left, o.bottom - o.top],
                u = s[0],
                p = s[1],
                f = s[2],
                g = s[3];
              i.assertIsValidBox(
                { x: u, y: p, width: f, height: g },
                "Box.constructor",
                r
              ),
                (this._x = u),
                (this._y = p),
                (this._width = f),
                (this._height = g);
            }
            return (
              (i.isRect = function (e) {
                return (
                  !!e && [e.x, e.y, e.width, e.height].every(t.isValidNumber)
                );
              }),
              (i.assertIsValidBox = function (t, e, r) {
                if ((void 0 === r && (r = !1), !i.isRect(t)))
                  throw new Error(
                    e +
                      " - invalid box: " +
                      JSON.stringify(t) +
                      ", expected object with properties x, y, width, height"
                  );
                if (!r && (t.width < 0 || t.height < 0))
                  throw new Error(
                    e +
                      " - width (" +
                      t.width +
                      ") and height (" +
                      t.height +
                      ") must be positive numbers"
                  );
              }),
              Object.defineProperty(i.prototype, "x", {
                get: function () {
                  return this._x;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "y", {
                get: function () {
                  return this._y;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "width", {
                get: function () {
                  return this._width;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "height", {
                get: function () {
                  return this._height;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "left", {
                get: function () {
                  return this.x;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "top", {
                get: function () {
                  return this.y;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "right", {
                get: function () {
                  return this.x + this.width;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "bottom", {
                get: function () {
                  return this.y + this.height;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "area", {
                get: function () {
                  return this.width * this.height;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "topLeft", {
                get: function () {
                  return new e.Point(this.left, this.top);
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "topRight", {
                get: function () {
                  return new e.Point(this.right, this.top);
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "bottomLeft", {
                get: function () {
                  return new e.Point(this.left, this.bottom);
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(i.prototype, "bottomRight", {
                get: function () {
                  return new e.Point(this.right, this.bottom);
                },
                enumerable: !0,
                configurable: !0,
              }),
              (i.prototype.round = function () {
                var t = [this.x, this.y, this.width, this.height].map(function (
                  t
                ) {
                  return Math.round(t);
                });
                return new i({ x: t[0], y: t[1], width: t[2], height: t[3] });
              }),
              (i.prototype.floor = function () {
                var t = [this.x, this.y, this.width, this.height].map(function (
                  t
                ) {
                  return Math.floor(t);
                });
                return new i({ x: t[0], y: t[1], width: t[2], height: t[3] });
              }),
              (i.prototype.toSquare = function () {
                var t = this.x,
                  e = this.y,
                  r = this.width,
                  o = this.height,
                  h = Math.abs(r - o);
                return (
                  r < o && ((t -= h / 2), (r += h)),
                  o < r && ((e -= h / 2), (o += h)),
                  new i({ x: t, y: e, width: r, height: o })
                );
              }),
              (i.prototype.rescale = function (e) {
                var r = (0, t.isDimensions)(e) ? e.width : e,
                  o = (0, t.isDimensions)(e) ? e.height : e;
                return new i({
                  x: this.x * r,
                  y: this.y * o,
                  width: this.width * r,
                  height: this.height * o,
                });
              }),
              (i.prototype.pad = function (t, e) {
                var r = [
                  this.x - t / 2,
                  this.y - e / 2,
                  this.width + t,
                  this.height + e,
                ];
                return new i({ x: r[0], y: r[1], width: r[2], height: r[3] });
              }),
              (i.prototype.clipAtImageBorders = function (t, e) {
                var r = this.x,
                  o = this.y,
                  h = this.right,
                  n = this.bottom,
                  s = Math.max(r, 0),
                  u = Math.max(o, 0),
                  p = h - s,
                  f = n - u;
                return new i({
                  x: s,
                  y: u,
                  width: Math.min(p, t - s),
                  height: Math.min(f, e - u),
                }).floor();
              }),
              (i.prototype.shift = function (t, e) {
                var r = this.width,
                  o = this.height;
                return new i({
                  x: this.x + t,
                  y: this.y + e,
                  width: r,
                  height: o,
                });
              }),
              (i.prototype.padAtBorders = function (t, e) {
                var i = this.width + 1,
                  r = this.height + 1,
                  o = i,
                  h = r,
                  n = this.left,
                  s = this.top,
                  u = this.right,
                  p = this.bottom;
                return (
                  u > e && ((o = -u + e + i), (u = e)),
                  p > t && ((h = -p + t + r), (p = t)),
                  n < 1 && ((h = 2 - n), (n = 1)),
                  s < 1 && ((h = 2 - s), (s = 1)),
                  {
                    dy: 1,
                    edy: h,
                    dx: 1,
                    edx: o,
                    y: s,
                    ey: p,
                    x: n,
                    ex: u,
                    w: i,
                    h: r,
                  }
                );
              }),
              (i.prototype.calibrate = function (t) {
                return new i({
                  left: this.left + t.left * this.width,
                  top: this.top + t.top * this.height,
                  right: this.right + t.right * this.width,
                  bottom: this.bottom + t.bottom * this.height,
                })
                  .toSquare()
                  .round();
              }),
              i
            );
          })();
        exports.Box = i;
      },
      { "../utils": "acHD", "./Point": "l0Xp" },
    ],
    FLHV: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.BoundingBox = void 0);
        var e = require("tslib"),
          t = require("./Box"),
          o = (function (t) {
            function o(e, o, r, i, n) {
              return (
                void 0 === n && (n = !1),
                t.call(this, { left: e, top: o, right: r, bottom: i }, n) ||
                  this
              );
            }
            return (0, e.__extends)(o, t), o;
          })(t.Box);
        exports.BoundingBox = o;
      },
      { tslib: "vCxL", "./Box": "NweN" },
    ],
    pkol: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.ObjectDetection = void 0);
        var e = require("./Box"),
          t = require("./Dimensions"),
          r = (function () {
            function r(r, i, o, n, s) {
              (this._imageDims = new t.Dimensions(s.width, s.height)),
                (this._score = r),
                (this._classScore = i),
                (this._className = o),
                (this._box = new e.Box(n).rescale(this._imageDims));
            }
            return (
              Object.defineProperty(r.prototype, "score", {
                get: function () {
                  return this._score;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(r.prototype, "classScore", {
                get: function () {
                  return this._classScore;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(r.prototype, "className", {
                get: function () {
                  return this._className;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(r.prototype, "box", {
                get: function () {
                  return this._box;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(r.prototype, "imageDims", {
                get: function () {
                  return this._imageDims;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(r.prototype, "imageWidth", {
                get: function () {
                  return this.imageDims.width;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(r.prototype, "imageHeight", {
                get: function () {
                  return this.imageDims.height;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(r.prototype, "relativeBox", {
                get: function () {
                  return new e.Box(this._box).rescale(this.imageDims.reverse());
                },
                enumerable: !0,
                configurable: !0,
              }),
              (r.prototype.forSize = function (e, t) {
                return new r(
                  this.score,
                  this.classScore,
                  this.className,
                  this.relativeBox,
                  { width: e, height: t }
                );
              }),
              r
            );
          })();
        exports.ObjectDetection = r;
      },
      { "./Box": "NweN", "./Dimensions": "Fa4F" },
    ],
    EHzx: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceDetection = void 0);
        var e = require("tslib"),
          t = require("./ObjectDetection"),
          r = (function (t) {
            function r(e, r, i) {
              return t.call(this, e, e, "", r, i) || this;
            }
            return (
              (0, e.__extends)(r, t),
              (r.prototype.forSize = function (e, i) {
                var o = t.prototype.forSize.call(this, e, i);
                return new r(o.score, o.relativeBox, o.imageDims);
              }),
              r
            );
          })(t.ObjectDetection);
        exports.FaceDetection = r;
      },
      { tslib: "vCxL", "./ObjectDetection": "pkol" },
    ],
    zUgG: [
      function (require, module, exports) {
        "use strict";
        function t(t, a, e) {
          void 0 === e && (e = !0);
          var r =
            Math.max(0, Math.min(t.right, a.right) - Math.max(t.left, a.left)) *
            Math.max(0, Math.min(t.bottom, a.bottom) - Math.max(t.top, a.top));
          return e ? r / (t.area + a.area - r) : r / Math.min(t.area, a.area);
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.iou = t);
      },
      {},
    ],
    iys9: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.minBbox = r);
        var e = require("../classes");
        function r(r) {
          var n = r.map(function (e) {
              return e.x;
            }),
            u = r.map(function (e) {
              return e.y;
            }),
            t = n.reduce(function (e, r) {
              return r < e ? r : e;
            }, 1 / 0),
            c = u.reduce(function (e, r) {
              return r < e ? r : e;
            }, 1 / 0),
            o = n.reduce(function (e, r) {
              return e < r ? r : e;
            }, 0),
            i = u.reduce(function (e, r) {
              return e < r ? r : e;
            }, 0);
          return new e.BoundingBox(t, c, o, i);
        }
      },
      { "../classes": "ywa2" },
    ],
    RBqA: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.nonMaxSuppression = e);
        var r = require("./iou");
        function e(e, n, o, t) {
          void 0 === t && (t = !0);
          for (
            var u = n
                .map(function (r, e) {
                  return { score: r, boxIndex: e };
                })
                .sort(function (r, e) {
                  return r.score - e.score;
                })
                .map(function (r) {
                  return r.boxIndex;
                }),
              i = [],
              s = function () {
                var n = u.pop();
                i.push(n);
                for (var s = u, c = [], p = 0; p < s.length; p++) {
                  var f = s[p],
                    a = e[n],
                    v = e[f];
                  c.push((0, r.iou)(a, v, t));
                }
                u = u.filter(function (r, e) {
                  return c[e] <= o;
                });
              };
            u.length > 0;

          )
            s();
          return i;
        }
      },
      { "./iou": "zUgG" },
    ],
    WE0o: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.normalize = a);
        var e = require("tslib"),
          r = n(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function n(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var a = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in e)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
              var u = o ? Object.getOwnPropertyDescriptor(e, i) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(a, i, u)
                : (a[i] = e[i]);
            }
          return (a.default = e), n && n.set(e, a), a;
        }
        function a(t, n) {
          return r.tidy(function () {
            var a = n[0],
              o = n[1],
              i = n[2],
              u = r.fill((0, e.__spreadArrays)(t.shape.slice(0, 3), [1]), a),
              s = r.fill((0, e.__spreadArrays)(t.shape.slice(0, 3), [1]), o),
              f = r.fill((0, e.__spreadArrays)(t.shape.slice(0, 3), [1]), i),
              l = r.concat([u, s, f], 3);
            return r.sub(t, l);
          });
        }
      },
      { tslib: "vCxL", "@tensorflow/tfjs-core": "FZBM" },
    ],
    OCAY: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.padToSquare = n);
        var e = r(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function r(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var f = u ? Object.getOwnPropertyDescriptor(e, a) : null;
              f && (f.get || f.set)
                ? Object.defineProperty(o, a, f)
                : (o[a] = e[a]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(t, r) {
          return (
            void 0 === r && (r = !1),
            e.tidy(function () {
              var n = t.shape.slice(1),
                o = n[0],
                u = n[1];
              if (o === u) return t;
              var a = Math.abs(o - u),
                f = Math.round(a * (r ? 0.5 : 1)),
                i = o > u ? 2 : 1,
                c = function (r) {
                  var n = t.shape.slice();
                  return (n[i] = r), e.fill(n, 0);
                },
                l = c(f),
                p = a - l.shape[i],
                s = [r && p ? c(p) : null, t, l]
                  .filter(function (e) {
                    return !!e;
                  })
                  .map(function (e) {
                    return e.toFloat();
                  });
              return e.concat(s, i);
            })
          );
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    mqKK: [
      function (require, module, exports) {
        "use strict";
        function e(e) {
          for (var r = e.slice(), t = r.length - 1; t > 0; t--) {
            var o = Math.floor(Math.random() * (t + 1)),
              a = r[t];
            (r[t] = r[o]), (r[o] = a);
          }
          return r;
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.shuffleArray = e);
      },
      {},
    ],
    CGLe: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = { sigmoid: !0, inverseSigmoid: !0 };
        (exports.inverseSigmoid = i), (exports.sigmoid = s);
        var r = require("./iou");
        Object.keys(r).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === r[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return r[t];
                },
              }));
        });
        var t = require("./minBbox");
        Object.keys(t).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === t[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return t[r];
                },
              }));
        });
        var o = require("./nonMaxSuppression");
        Object.keys(o).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === o[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return o[r];
                },
              }));
        });
        var n = require("./normalize");
        Object.keys(n).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === n[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return n[r];
                },
              }));
        });
        var u = require("./padToSquare");
        Object.keys(u).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === u[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return u[r];
                },
              }));
        });
        var p = require("./shuffleArray");
        function s(e) {
          return 1 / (1 + Math.exp(-e));
        }
        function i(e) {
          return Math.log(e / (1 - e));
        }
        Object.keys(p).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === p[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return p[r];
                },
              }));
        });
      },
      {
        "./iou": "zUgG",
        "./minBbox": "iys9",
        "./nonMaxSuppression": "RBqA",
        "./normalize": "WE0o",
        "./padToSquare": "OCAY",
        "./shuffleArray": "mqKK",
      },
    ],
    UgxX: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.Rect = void 0);
        var e = require("tslib"),
          t = require("./Box"),
          r = (function (t) {
            function r(e, r, i, o, s) {
              return (
                void 0 === s && (s = !1),
                t.call(this, { x: e, y: r, width: i, height: o }, s) || this
              );
            }
            return (0, e.__extends)(r, t), r;
          })(t.Box);
        exports.Rect = r;
      },
      { tslib: "vCxL", "./Box": "NweN" },
    ],
    Cc3m: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceLandmarks = void 0);
        var t = require("../ops"),
          i = require("../utils"),
          e = require("./Box"),
          n = require("./Dimensions"),
          o = require("./FaceDetection"),
          r = require("./Point"),
          s = require("./Rect"),
          u = 0.5,
          a = 0.43,
          h = 0.45,
          f = (function () {
            function f(t, i, e) {
              void 0 === e && (e = new r.Point(0, 0));
              var o = i.width,
                s = i.height;
              (this._imgDims = new n.Dimensions(o, s)),
                (this._shift = e),
                (this._positions = t.map(function (t) {
                  return t.mul(new r.Point(o, s)).add(e);
                }));
            }
            return (
              Object.defineProperty(f.prototype, "shift", {
                get: function () {
                  return new r.Point(this._shift.x, this._shift.y);
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(f.prototype, "imageWidth", {
                get: function () {
                  return this._imgDims.width;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(f.prototype, "imageHeight", {
                get: function () {
                  return this._imgDims.height;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(f.prototype, "positions", {
                get: function () {
                  return this._positions;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(f.prototype, "relativePositions", {
                get: function () {
                  var t = this;
                  return this._positions.map(function (i) {
                    return i
                      .sub(t._shift)
                      .div(new r.Point(t.imageWidth, t.imageHeight));
                  });
                },
                enumerable: !0,
                configurable: !0,
              }),
              (f.prototype.forSize = function (t, i) {
                return new this.constructor(this.relativePositions, {
                  width: t,
                  height: i,
                });
              }),
              (f.prototype.shiftBy = function (t, i) {
                return new this.constructor(
                  this.relativePositions,
                  this._imgDims,
                  new r.Point(t, i)
                );
              }),
              (f.prototype.shiftByPoint = function (t) {
                return this.shiftBy(t.x, t.y);
              }),
              (f.prototype.align = function (t, i) {
                if ((void 0 === i && (i = {}), t)) {
                  var n =
                    t instanceof o.FaceDetection ? t.box.floor() : new e.Box(t);
                  return this.shiftBy(n.x, n.y).align(null, i);
                }
                var r = Object.assign(
                    {},
                    { useDlibAlignment: !1, minBoxPadding: 0.2 },
                    i
                  ),
                  s = r.useDlibAlignment,
                  u = r.minBoxPadding;
                return s ? this.alignDlib() : this.alignMinBbox(u);
              }),
              (f.prototype.alignDlib = function () {
                var t = this.getRefPointsForAlignment(),
                  e = t[0],
                  n = t[1],
                  o = t[2],
                  r = function (t) {
                    return o.sub(t).magnitude();
                  },
                  f = (r(e) + r(n)) / 2,
                  g = Math.floor(f / h),
                  c = (0, i.getCenterPoint)(t),
                  p = Math.floor(Math.max(0, c.x - u * g)),
                  m = Math.floor(Math.max(0, c.y - a * g));
                return new s.Rect(
                  p,
                  m,
                  Math.min(g, this.imageWidth + p),
                  Math.min(g, this.imageHeight + m)
                );
              }),
              (f.prototype.alignMinBbox = function (i) {
                var e = (0, t.minBbox)(this.positions);
                return e.pad(e.width * i, e.height * i);
              }),
              (f.prototype.getRefPointsForAlignment = function () {
                throw new Error(
                  "getRefPointsForAlignment not implemented by base class"
                );
              }),
              f
            );
          })();
        exports.FaceLandmarks = f;
      },
      {
        "../ops": "CGLe",
        "../utils": "acHD",
        "./Box": "NweN",
        "./Dimensions": "Fa4F",
        "./FaceDetection": "EHzx",
        "./Point": "l0Xp",
        "./Rect": "UgxX",
      },
    ],
    dtUY: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceLandmarks5 = void 0);
        var e = require("tslib"),
          t = require("../utils"),
          r = require("./FaceLandmarks"),
          n = (function (r) {
            function n() {
              return (null !== r && r.apply(this, arguments)) || this;
            }
            return (
              (0, e.__extends)(n, r),
              (n.prototype.getRefPointsForAlignment = function () {
                var e = this.positions;
                return [e[0], e[1], (0, t.getCenterPoint)([e[3], e[4]])];
              }),
              n
            );
          })(r.FaceLandmarks);
        exports.FaceLandmarks5 = n;
      },
      { tslib: "vCxL", "../utils": "acHD", "./FaceLandmarks": "Cc3m" },
    ],
    ShfV: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceLandmarks68 = void 0);
        var t = require("tslib"),
          e = require("../utils"),
          i = require("./FaceLandmarks"),
          o = (function (i) {
            function o() {
              return (null !== i && i.apply(this, arguments)) || this;
            }
            return (
              (0, t.__extends)(o, i),
              (o.prototype.getJawOutline = function () {
                return this.positions.slice(0, 17);
              }),
              (o.prototype.getLeftEyeBrow = function () {
                return this.positions.slice(17, 22);
              }),
              (o.prototype.getRightEyeBrow = function () {
                return this.positions.slice(22, 27);
              }),
              (o.prototype.getNose = function () {
                return this.positions.slice(27, 36);
              }),
              (o.prototype.getLeftEye = function () {
                return this.positions.slice(36, 42);
              }),
              (o.prototype.getRightEye = function () {
                return this.positions.slice(42, 48);
              }),
              (o.prototype.getMouth = function () {
                return this.positions.slice(48, 68);
              }),
              (o.prototype.getRefPointsForAlignment = function () {
                return [
                  this.getLeftEye(),
                  this.getRightEye(),
                  this.getMouth(),
                ].map(e.getCenterPoint);
              }),
              o
            );
          })(i.FaceLandmarks);
        exports.FaceLandmarks68 = o;
      },
      { tslib: "vCxL", "../utils": "acHD", "./FaceLandmarks": "Cc3m" },
    ],
    oI1C: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceMatch = void 0);
        var e = require("../utils"),
          t = (function () {
            function t(e, t) {
              (this._label = e), (this._distance = t);
            }
            return (
              Object.defineProperty(t.prototype, "label", {
                get: function () {
                  return this._label;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(t.prototype, "distance", {
                get: function () {
                  return this._distance;
                },
                enumerable: !0,
                configurable: !0,
              }),
              (t.prototype.toString = function (t) {
                return (
                  void 0 === t && (t = !0),
                  this.label +
                    (t ? " (" + (0, e.round)(this.distance) + ")" : "")
                );
              }),
              t
            );
          })();
        exports.FaceMatch = t;
      },
      { "../utils": "acHD" },
    ],
    rVqy: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.LabeledBox = void 0);
        var e = require("tslib"),
          r = require("../utils"),
          t = require("./Box"),
          l = (function (l) {
            function o(e, r) {
              var t = l.call(this, e) || this;
              return (t._label = r), t;
            }
            return (
              (0, e.__extends)(o, l),
              (o.assertIsValidLabeledBox = function (e, l) {
                if (
                  (t.Box.assertIsValidBox(e, l), !(0, r.isValidNumber)(e.label))
                )
                  throw new Error(
                    l +
                      " - expected property label (" +
                      e.label +
                      ") to be a number"
                  );
              }),
              Object.defineProperty(o.prototype, "label", {
                get: function () {
                  return this._label;
                },
                enumerable: !0,
                configurable: !0,
              }),
              o
            );
          })(t.Box);
        exports.LabeledBox = l;
      },
      { tslib: "vCxL", "../utils": "acHD", "./Box": "NweN" },
    ],
    MbIs: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.LabeledFaceDescriptors = void 0);
        var r = (function () {
          function r(r, e) {
            if ("string" != typeof r)
              throw new Error(
                "LabeledFaceDescriptors - constructor expected label to be a string"
              );
            if (
              !Array.isArray(e) ||
              e.some(function (r) {
                return !(r instanceof Float32Array);
              })
            )
              throw new Error(
                "LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array"
              );
            (this._label = r), (this._descriptors = e);
          }
          return (
            Object.defineProperty(r.prototype, "label", {
              get: function () {
                return this._label;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(r.prototype, "descriptors", {
              get: function () {
                return this._descriptors;
              },
              enumerable: !0,
              configurable: !0,
            }),
            (r.prototype.toJSON = function () {
              return {
                label: this.label,
                descriptors: this.descriptors.map(function (r) {
                  return Array.from(r);
                }),
              };
            }),
            (r.fromJSON = function (e) {
              var t = e.descriptors.map(function (r) {
                return new Float32Array(r);
              });
              return new r(e.label, t);
            }),
            r
          );
        })();
        exports.LabeledFaceDescriptors = r;
      },
      {},
    ],
    lrrt: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.PredictedBox = void 0);
        var e = require("tslib"),
          r = require("../utils"),
          t = require("./LabeledBox"),
          o = (function (o) {
            function s(e, r, t, s) {
              var i = o.call(this, e, r) || this;
              return (i._score = t), (i._classScore = s), i;
            }
            return (
              (0, e.__extends)(s, o),
              (s.assertIsValidPredictedBox = function (e, o) {
                if (
                  (t.LabeledBox.assertIsValidLabeledBox(e, o),
                  !(0, r.isValidProbablitiy)(e.score) ||
                    !(0, r.isValidProbablitiy)(e.classScore))
                )
                  throw new Error(
                    o +
                      " - expected properties score (" +
                      e.score +
                      ") and (" +
                      e.classScore +
                      ") to be a number between [0, 1]"
                  );
              }),
              Object.defineProperty(s.prototype, "score", {
                get: function () {
                  return this._score;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(s.prototype, "classScore", {
                get: function () {
                  return this._classScore;
                },
                enumerable: !0,
                configurable: !0,
              }),
              s
            );
          })(t.LabeledBox);
        exports.PredictedBox = o;
      },
      { tslib: "vCxL", "../utils": "acHD", "./LabeledBox": "rVqy" },
    ],
    ywa2: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = require("./BoundingBox");
        Object.keys(e).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            ((r in exports && exports[r] === e[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return e[r];
                },
              }));
        });
        var r = require("./Box");
        Object.keys(r).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === r[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }));
        });
        var t = require("./Dimensions");
        Object.keys(t).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === t[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return t[e];
                },
              }));
        });
        var o = require("./FaceDetection");
        Object.keys(o).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === o[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return o[e];
                },
              }));
        });
        var n = require("./FaceLandmarks");
        Object.keys(n).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === n[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return n[e];
                },
              }));
        });
        var u = require("./FaceLandmarks5");
        Object.keys(u).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === u[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return u[e];
                },
              }));
        });
        var c = require("./FaceLandmarks68");
        Object.keys(c).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === c[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return c[e];
                },
              }));
        });
        var s = require("./FaceMatch");
        Object.keys(s).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === s[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return s[e];
                },
              }));
        });
        var i = require("./LabeledBox");
        Object.keys(i).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === i[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return i[e];
                },
              }));
        });
        var a = require("./LabeledFaceDescriptors");
        Object.keys(a).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === a[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return a[e];
                },
              }));
        });
        var f = require("./ObjectDetection");
        Object.keys(f).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === f[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return f[e];
                },
              }));
        });
        var p = require("./Point");
        Object.keys(p).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === p[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return p[e];
                },
              }));
        });
        var d = require("./PredictedBox");
        Object.keys(d).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === d[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return d[e];
                },
              }));
        });
        var x = require("./Rect");
        Object.keys(x).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === x[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return x[e];
                },
              }));
        });
      },
      {
        "./BoundingBox": "FLHV",
        "./Box": "NweN",
        "./Dimensions": "Fa4F",
        "./FaceDetection": "EHzx",
        "./FaceLandmarks": "Cc3m",
        "./FaceLandmarks5": "dtUY",
        "./FaceLandmarks68": "ShfV",
        "./FaceMatch": "oI1C",
        "./LabeledBox": "rVqy",
        "./LabeledFaceDescriptors": "MbIs",
        "./ObjectDetection": "pkol",
        "./Point": "l0Xp",
        "./PredictedBox": "lrrt",
        "./Rect": "UgxX",
      },
    ],
    ufye: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extendWithFaceDetection = c),
          (exports.isWithFaceDetection = t);
        var e = require("../classes/FaceDetection");
        function t(t) {
          return t.detection instanceof e.FaceDetection;
        }
        function c(e, t) {
          var c = { detection: t };
          return Object.assign({}, e, c);
        }
      },
      { "../classes/FaceDetection": "EHzx" },
    ],
    SZ6F: [
      function (require, module, exports) {
        "use strict";
        function e() {
          var e =
            window.fetch ||
            function () {
              throw new Error(
                "fetch - missing fetch implementation for browser environment"
              );
            };
          return {
            Canvas: HTMLCanvasElement,
            CanvasRenderingContext2D: CanvasRenderingContext2D,
            Image: HTMLImageElement,
            ImageData: ImageData,
            Video: HTMLVideoElement,
            createCanvasElement: function () {
              return document.createElement("canvas");
            },
            createImageElement: function () {
              return document.createElement("img");
            },
            fetch: e,
            readFile: function () {
              throw new Error(
                "readFile - filesystem not available for browser environment"
              );
            },
          };
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.createBrowserEnv = e);
      },
      {},
    ],
    P3VC: [
      function (require, module, exports) {
        "use strict";
        function e(e) {
          var r = "";
          if (!e)
            try {
              e = require("fs");
            } catch (t) {
              r = t.toString();
            }
          return {
            readFile: e
              ? function (r) {
                  return new Promise(function (t, n) {
                    e.readFile(r, function (e, r) {
                      return e ? n(e) : t(r);
                    });
                  });
                }
              : function () {
                  throw new Error(
                    "readFile - failed to require fs in nodejs environment with error: " +
                      r
                  );
                },
          };
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.createFileSystem = e);
      },
      { fs: "rDCW" },
    ],
    GI9X: [
      function (require, module, exports) {
        var global = arguments[3];
        var e = arguments[3];
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.createNodejsEnv = r);
        var n = require("tslib"),
          t = require("./createFileSystem");
        function r() {
          var r = e.Canvas || e.HTMLCanvasElement,
            a = e.Image || e.HTMLImageElement,
            i =
              e.fetch ||
              function () {
                throw new Error(
                  "fetch - missing fetch implementation for nodejs environment"
                );
              },
            o = (0, t.createFileSystem)();
          return (0, n.__assign)(
            {
              Canvas:
                r ||
                (function () {
                  return function () {};
                })(),
              CanvasRenderingContext2D:
                e.CanvasRenderingContext2D ||
                (function () {
                  return function () {};
                })(),
              Image:
                a ||
                (function () {
                  return function () {};
                })(),
              ImageData:
                e.ImageData ||
                (function () {
                  return function () {};
                })(),
              Video:
                e.HTMLVideoElement ||
                (function () {
                  return function () {};
                })(),
              createCanvasElement: function () {
                if (r) return new r();
                throw new Error(
                  "createCanvasElement - missing Canvas implementation for nodejs environment"
                );
              },
              createImageElement: function () {
                if (a) return new a();
                throw new Error(
                  "createImageElement - missing Image implementation for nodejs environment"
                );
              },
              fetch: i,
            },
            o
          );
        }
      },
      { tslib: "vCxL", "./createFileSystem": "P3VC" },
    ],
    J5Ez: [
      function (require, module, exports) {
        "use strict";
        function e() {
          return (
            "object" == typeof window &&
            "undefined" != typeof document &&
            "undefined" != typeof HTMLImageElement &&
            "undefined" != typeof HTMLCanvasElement &&
            "undefined" != typeof HTMLVideoElement &&
            "undefined" != typeof ImageData &&
            "undefined" != typeof CanvasRenderingContext2D
          );
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.isBrowser = e);
      },
      {},
    ],
    zLxp: [
      function (require, module, exports) {
        var global = arguments[3];
        var process = require("process");
        var e = arguments[3],
          o = require("process");
        function r() {
          return (
            "object" == typeof e &&
            "function" == typeof require &&
            "undefined" != typeof module &&
            void 0 !== o &&
            !!o.version
          );
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.isNodejs = r);
      },
      { process: "pBGv" },
    ],
    iBDr: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.env = void 0);
        var e,
          r = require("./createBrowserEnv"),
          n = require("./createFileSystem"),
          t = require("./createNodejsEnv"),
          a = require("./isBrowser"),
          i = require("./isNodejs");
        function s() {
          if (!e)
            throw new Error(
              "getEnv - environment is not defined, check isNodejs() and isBrowser()"
            );
          return e;
        }
        function o(r) {
          e = r;
        }
        function c() {
          (0, a.isBrowser)() && o((0, r.createBrowserEnv)()),
            (0, i.isNodejs)() && o((0, t.createNodejsEnv)());
        }
        function d(r) {
          if ((e || c(), !e))
            throw new Error(
              "monkeyPatch - environment is not defined, check isNodejs() and isBrowser()"
            );
          var n = r.Canvas,
            t = void 0 === n ? e.Canvas : n,
            a = r.Image,
            i = void 0 === a ? e.Image : a;
          (e.Canvas = t),
            (e.Image = i),
            (e.createCanvasElement =
              r.createCanvasElement ||
              function () {
                return new t();
              }),
            (e.createImageElement =
              r.createImageElement ||
              function () {
                return new i();
              }),
            (e.ImageData = r.ImageData || e.ImageData),
            (e.Video = r.Video || e.Video),
            (e.fetch = r.fetch || e.fetch),
            (e.readFile = r.readFile || e.readFile);
        }
        var v = {
          getEnv: s,
          setEnv: o,
          initialize: c,
          createBrowserEnv: r.createBrowserEnv,
          createFileSystem: n.createFileSystem,
          createNodejsEnv: t.createNodejsEnv,
          monkeyPatch: d,
          isBrowser: a.isBrowser,
          isNodejs: i.isNodejs,
        };
        (exports.env = v), c();
      },
      {
        "./createBrowserEnv": "SZ6F",
        "./createFileSystem": "P3VC",
        "./createNodejsEnv": "GI9X",
        "./isBrowser": "J5Ez",
        "./isNodejs": "zLxp",
      },
    ],
    z7mX: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.resolveInput = t);
        var e = require("../env");
        function t(t) {
          return e.env.isNodejs() || "string" != typeof t
            ? t
            : document.getElementById(t);
        }
      },
      { "../env": "iBDr" },
    ],
    cUrv: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.getContext2dOrThrow = n);
        var e = require("../env"),
          t = require("./resolveInput");
        function n(n) {
          var r = e.env.getEnv(),
            o = r.Canvas;
          if (n instanceof r.CanvasRenderingContext2D) return n;
          var a = (0, t.resolveInput)(n);
          if (!(a instanceof o))
            throw new Error(
              "resolveContext2d - expected canvas to be of instance of Canvas"
            );
          var s = a.getContext("2d");
          if (!s)
            throw new Error("resolveContext2d - canvas 2d context is null");
          return s;
        }
      },
      { "../env": "iBDr", "./resolveInput": "z7mX" },
    ],
    WoOq: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.DrawTextFieldOptions =
            exports.DrawTextField =
            exports.AnchorPosition =
              void 0);
        var t,
          o = require("../dom/getContext2dOrThrow"),
          e = require("../dom/resolveInput");
        (exports.AnchorPosition = t),
          (function (t) {
            (t.TOP_LEFT = "TOP_LEFT"),
              (t.TOP_RIGHT = "TOP_RIGHT"),
              (t.BOTTOM_LEFT = "BOTTOM_LEFT"),
              (t.BOTTOM_RIGHT = "BOTTOM_RIGHT");
          })(t || (exports.AnchorPosition = t = {}));
        var i = (function () {
          return function (o) {
            void 0 === o && (o = {});
            var e = o.anchorPosition,
              i = o.backgroundColor,
              r = o.fontColor,
              n = o.fontSize,
              s = o.fontStyle,
              h = o.padding;
            (this.anchorPosition = e || t.TOP_LEFT),
              (this.backgroundColor = i || "rgba(0, 0, 0, 0.5)"),
              (this.fontColor = r || "rgba(255, 255, 255, 1)"),
              (this.fontSize = n || 14),
              (this.fontStyle = s || "Georgia"),
              (this.padding = h || 4);
          };
        })();
        exports.DrawTextFieldOptions = i;
        var r = (function () {
          function r(t, o, e) {
            void 0 === e && (e = {}),
              (this.text =
                "string" == typeof t ? [t] : t instanceof r ? t.text : t),
              (this.anchor = o),
              (this.options = new i(e));
          }
          return (
            (r.prototype.measureWidth = function (t) {
              var o = this.options.padding;
              return (
                this.text
                  .map(function (o) {
                    return t.measureText(o).width;
                  })
                  .reduce(function (t, o) {
                    return t < o ? o : t;
                  }, 0) +
                2 * o
              );
            }),
            (r.prototype.measureHeight = function () {
              var t = this.options,
                o = t.fontSize,
                e = t.padding;
              return this.text.length * o + 2 * e;
            }),
            (r.prototype.getUpperLeft = function (o, e) {
              var i = this.options.anchorPosition,
                r = i === t.BOTTOM_RIGHT || i === t.TOP_RIGHT,
                n = i === t.BOTTOM_LEFT || i === t.BOTTOM_RIGHT,
                s = this.measureWidth(o),
                h = this.measureHeight(),
                a = r ? this.anchor.x - s : this.anchor.x,
                T = n ? this.anchor.y - h : this.anchor.y;
              if (e) {
                var p = e.width,
                  u = e.height;
                return {
                  x: Math.max(Math.min(a, p - s), 0),
                  y: Math.max(Math.min(T, u - h), 0),
                };
              }
              return { x: a, y: T };
            }),
            (r.prototype.draw = function (t) {
              var i = (0, e.resolveInput)(t),
                r = (0, o.getContext2dOrThrow)(i),
                n = this.options,
                s = n.backgroundColor,
                h = n.fontColor,
                a = n.fontSize,
                T = n.fontStyle,
                p = n.padding;
              r.font = a + "px " + T;
              var u = this.measureWidth(r),
                f = this.measureHeight();
              r.fillStyle = s;
              var d = this.getUpperLeft(r, i);
              r.fillRect(d.x, d.y, u, f),
                (r.fillStyle = h),
                this.text.forEach(function (t, o) {
                  var e = p + d.x,
                    i = p + d.y + (o + 1) * a;
                  r.fillText(t, e, i);
                });
            }),
            r
          );
        })();
        exports.DrawTextField = r;
      },
      { "../dom/getContext2dOrThrow": "cUrv", "../dom/resolveInput": "z7mX" },
    ],
    bcbQ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.DrawBoxOptions = exports.DrawBox = void 0);
        var o = require("../classes"),
          t = require("../dom/getContext2dOrThrow"),
          e = require("./DrawTextField"),
          i = (function () {
            return function (o) {
              void 0 === o && (o = {});
              var t = o.boxColor,
                i = o.lineWidth,
                r = o.label,
                n = o.drawLabelOptions;
              (this.boxColor = t || "rgba(0, 0, 255, 1)"),
                (this.lineWidth = i || 2),
                (this.label = r);
              var s = {
                anchorPosition: e.AnchorPosition.BOTTOM_LEFT,
                backgroundColor: this.boxColor,
              };
              this.drawLabelOptions = new e.DrawTextFieldOptions(
                Object.assign({}, s, n)
              );
            };
          })();
        exports.DrawBoxOptions = i;
        var r = (function () {
          function r(t, e) {
            void 0 === e && (e = {}),
              (this.box = new o.Box(t)),
              (this.options = new i(e));
          }
          return (
            (r.prototype.draw = function (o) {
              var i = (0, t.getContext2dOrThrow)(o),
                r = this.options,
                n = r.boxColor,
                s = r.lineWidth,
                a = this.box,
                l = a.x,
                x = a.y,
                d = a.width,
                h = a.height;
              (i.strokeStyle = n), (i.lineWidth = s), i.strokeRect(l, x, d, h);
              var w = this.options.label;
              w &&
                new e.DrawTextField(
                  [w],
                  { x: l - s / 2, y: x },
                  this.options.drawLabelOptions
                ).draw(o);
            }),
            r
          );
        })();
        exports.DrawBox = r;
      },
      {
        "../classes": "ywa2",
        "../dom/getContext2dOrThrow": "cUrv",
        "./DrawTextField": "WoOq",
      },
    ],
    XmOr: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.drawDetections = c);
        var e = require("../classes"),
          t = require("../classes/FaceDetection"),
          i = require("../factories/WithFaceDetection"),
          r = require("../utils"),
          o = require("./DrawBox");
        function c(c, a) {
          (Array.isArray(a) ? a : [a]).forEach(function (a) {
            var n =
                a instanceof t.FaceDetection
                  ? a.score
                  : (0, i.isWithFaceDetection)(a)
                  ? a.detection.score
                  : void 0,
              s =
                a instanceof t.FaceDetection
                  ? a.box
                  : (0, i.isWithFaceDetection)(a)
                  ? a.detection.box
                  : new e.Box(a),
              u = n ? "" + (0, r.round)(n) : void 0;
            new o.DrawBox(s, { label: u }).draw(c);
          });
        }
      },
      {
        "../classes": "ywa2",
        "../classes/FaceDetection": "EHzx",
        "../factories/WithFaceDetection": "ufye",
        "../utils": "acHD",
        "./DrawBox": "bcbQ",
      },
    ],
    Tkxx: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.isMediaLoaded = t);
        var e = require("../env");
        function t(t) {
          var r = e.env.getEnv(),
            n = r.Image,
            a = r.Video;
          return (
            (t instanceof n && t.complete) ||
            (t instanceof a && t.readyState >= 3)
          );
        }
      },
      { "../env": "iBDr" },
    ],
    lo4I: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.awaitMediaLoaded = t);
        var e = require("../env"),
          r = require("./isMediaLoaded");
        function t(t) {
          return new Promise(function (n, a) {
            if (t instanceof e.env.getEnv().Canvas || (0, r.isMediaLoaded)(t))
              return n();
            function i(e) {
              e.currentTarget &&
                (e.currentTarget.removeEventListener("load", i),
                e.currentTarget.removeEventListener("error", o),
                n(e));
            }
            function o(e) {
              e.currentTarget &&
                (e.currentTarget.removeEventListener("load", i),
                e.currentTarget.removeEventListener("error", o),
                a(e));
            }
            t.addEventListener("load", i), t.addEventListener("error", o);
          });
        }
      },
      { "../env": "iBDr", "./isMediaLoaded": "Tkxx" },
    ],
    jjMC: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.bufferToImage = r);
        var e = require("../env");
        function r(r) {
          return new Promise(function (t, n) {
            if (!(r instanceof Blob))
              return n("bufferToImage - expected buf to be of type: Blob");
            var o = new FileReader();
            (o.onload = function () {
              if ("string" != typeof o.result)
                return n(
                  "bufferToImage - expected reader.result to be a string, in onload"
                );
              var r = e.env.getEnv().createImageElement();
              (r.onload = function () {
                return t(r);
              }),
                (r.onerror = n),
                (r.src = o.result);
            }),
              (o.onerror = n),
              o.readAsDataURL(r);
          });
        }
      },
      { "../env": "iBDr" },
    ],
    Jy41: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.getMediaDimensions = n);
        var e = require("../classes/Dimensions"),
          i = require("../env");
        function n(n) {
          var s = i.env.getEnv(),
            t = s.Image,
            o = s.Video;
          return n instanceof t
            ? new e.Dimensions(n.naturalWidth, n.naturalHeight)
            : n instanceof o
            ? new e.Dimensions(n.videoWidth, n.videoHeight)
            : new e.Dimensions(n.width, n.height);
        }
      },
      { "../classes/Dimensions": "Fa4F", "../env": "iBDr" },
    ],
    y5DT: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.createCanvas = i),
          (exports.createCanvasFromMedia = n);
        var e = require("../env"),
          t = require("./getContext2dOrThrow"),
          r = require("./getMediaDimensions"),
          a = require("./isMediaLoaded");
        function i(t) {
          var r = t.width,
            a = t.height,
            i = (0, e.env.getEnv().createCanvasElement)();
          return (i.width = r), (i.height = a), i;
        }
        function n(n, o) {
          var d = e.env.getEnv().ImageData;
          if (!(n instanceof d || (0, a.isMediaLoaded)(n)))
            throw new Error(
              "createCanvasFromMedia - media has not finished loading yet"
            );
          var s = o || (0, r.getMediaDimensions)(n),
            h = s.width,
            g = s.height,
            v = i({ width: h, height: g });
          return (
            n instanceof d
              ? (0, t.getContext2dOrThrow)(v).putImageData(n, 0, 0)
              : (0, t.getContext2dOrThrow)(v).drawImage(n, 0, 0, h, g),
            v
          );
        }
      },
      {
        "../env": "iBDr",
        "./getContext2dOrThrow": "cUrv",
        "./getMediaDimensions": "Jy41",
        "./isMediaLoaded": "Tkxx",
      },
    ],
    E2G5: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.imageTensorToCanvas = u);
        var e = require("tslib"),
          t = i(require("@tensorflow/tfjs-core")),
          r = require("../env"),
          n = require("../utils");
        function o(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (o = function (e) {
            return e ? r : t;
          })(e);
        }
        function i(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = o(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var a = i ? Object.getOwnPropertyDescriptor(e, u) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(n, u, a)
                : (n[u] = e[u]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        function u(o, i) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var u, a, s, c, f, l;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return (
                    (u = i || r.env.getEnv().createCanvasElement()),
                    (a = o.shape.slice((0, n.isTensor4D)(o) ? 1 : 0)),
                    (s = a[0]),
                    (c = a[1]),
                    (f = a[2]),
                    (l = t.tidy(function () {
                      return o.as3D(s, c, f).toInt();
                    })),
                    [4, t.browser.toPixels(l, u)]
                  );
                case 1:
                  return e.sent(), l.dispose(), [2, u];
              }
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../env": "iBDr",
        "../utils": "acHD",
      },
    ],
    ePX2: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.isMediaElement = n);
        var e = require("../env");
        function n(n) {
          var t = e.env.getEnv(),
            r = t.Image,
            a = t.Canvas,
            i = t.Video;
          return n instanceof r || n instanceof a || n instanceof i;
        }
      },
      { "../env": "iBDr" },
    ],
    YFFn: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.imageToSquare = i);
        var e = require("../env"),
          a = require("./createCanvas"),
          t = require("./getContext2dOrThrow"),
          r = require("./getMediaDimensions");
        function i(i, n, o) {
          void 0 === o && (o = !1);
          var s = e.env.getEnv(),
            g = s.Image,
            h = s.Canvas;
          if (!(i instanceof g || i instanceof h))
            throw new Error(
              "imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement"
            );
          var d = (0, r.getMediaDimensions)(i),
            v = n / Math.max(d.height, d.width),
            m = v * d.width,
            u = v * d.height,
            c = (0, a.createCanvas)({ width: n, height: n }),
            w = i instanceof h ? i : (0, a.createCanvasFromMedia)(i),
            M = Math.abs(m - u) / 2,
            C = o && m < u ? M : 0,
            f = o && u < m ? M : 0;
          return (0, t.getContext2dOrThrow)(c).drawImage(w, C, f, m, u), c;
        }
      },
      {
        "../env": "iBDr",
        "./createCanvas": "y5DT",
        "./getContext2dOrThrow": "cUrv",
        "./getMediaDimensions": "Jy41",
      },
    ],
    YiTB: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.NetInput = void 0);
        var e = a(require("@tensorflow/tfjs-core")),
          t = require("../env"),
          n = require("../ops/padToSquare"),
          r = require("../utils"),
          i = require("./createCanvas"),
          o = require("./imageToSquare");
        function s(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            n = new WeakMap();
          return (s = function (e) {
            return e ? n : t;
          })(e);
        }
        function a(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = s(t);
          if (n && n.has(e)) return n.get(e);
          var r = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var o in e)
            if ("default" !== o && Object.prototype.hasOwnProperty.call(e, o)) {
              var a = i ? Object.getOwnPropertyDescriptor(e, o) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(r, o, a)
                : (r[o] = e[o]);
            }
          return (r.default = e), n && n.set(e, r), r;
        }
        var u = (function () {
          function s(e, n) {
            var o = this;
            if (
              (void 0 === n && (n = !1),
              (this._imageTensors = []),
              (this._canvases = []),
              (this._treatAsBatchInput = !1),
              (this._inputDimensions = []),
              !Array.isArray(e))
            )
              throw new Error(
                "NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have " +
                  e
              );
            (this._treatAsBatchInput = n),
              (this._batchSize = e.length),
              e.forEach(function (e, n) {
                if ((0, r.isTensor3D)(e))
                  return (
                    (o._imageTensors[n] = e),
                    void (o._inputDimensions[n] = e.shape)
                  );
                if ((0, r.isTensor4D)(e)) {
                  var s = e.shape[0];
                  if (1 !== s)
                    throw new Error(
                      "NetInput - tf.Tensor4D with batchSize " +
                        s +
                        " passed, but not supported in input array"
                    );
                  return (
                    (o._imageTensors[n] = e),
                    void (o._inputDimensions[n] = e.shape.slice(1))
                  );
                }
                var a =
                  e instanceof t.env.getEnv().Canvas
                    ? e
                    : (0, i.createCanvasFromMedia)(e);
                (o._canvases[n] = a),
                  (o._inputDimensions[n] = [a.height, a.width, 3]);
              });
          }
          return (
            Object.defineProperty(s.prototype, "imageTensors", {
              get: function () {
                return this._imageTensors;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(s.prototype, "canvases", {
              get: function () {
                return this._canvases;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(s.prototype, "isBatchInput", {
              get: function () {
                return this.batchSize > 1 || this._treatAsBatchInput;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(s.prototype, "batchSize", {
              get: function () {
                return this._batchSize;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(s.prototype, "inputDimensions", {
              get: function () {
                return this._inputDimensions;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(s.prototype, "inputSize", {
              get: function () {
                return this._inputSize;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(s.prototype, "reshapedInputDimensions", {
              get: function () {
                var e = this;
                return (0, r.range)(this.batchSize, 0, 1).map(function (t, n) {
                  return e.getReshapedInputDimensions(n);
                });
              },
              enumerable: !0,
              configurable: !0,
            }),
            (s.prototype.getInput = function (e) {
              return this.canvases[e] || this.imageTensors[e];
            }),
            (s.prototype.getInputDimensions = function (e) {
              return this._inputDimensions[e];
            }),
            (s.prototype.getInputHeight = function (e) {
              return this._inputDimensions[e][0];
            }),
            (s.prototype.getInputWidth = function (e) {
              return this._inputDimensions[e][1];
            }),
            (s.prototype.getReshapedInputDimensions = function (e) {
              if ("number" != typeof this.inputSize)
                throw new Error(
                  "getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet"
                );
              var t = this.getInputWidth(e),
                n = this.getInputHeight(e);
              return (0, r.computeReshapedDimensions)(
                { width: t, height: n },
                this.inputSize
              );
            }),
            (s.prototype.toBatchTensor = function (i, s) {
              var a = this;
              return (
                void 0 === s && (s = !0),
                (this._inputSize = i),
                e.tidy(function () {
                  var u = (0, r.range)(a.batchSize, 0, 1).map(function (u) {
                    var p = a.getInput(u);
                    if (p instanceof e.Tensor) {
                      var c = (0, r.isTensor4D)(p) ? p : p.expandDims();
                      return (
                        ((c = (0, n.padToSquare)(c, s)).shape[1] === i &&
                          c.shape[2] === i) ||
                          (c = e.image.resizeBilinear(c, [i, i])),
                        c.as3D(i, i, 3)
                      );
                    }
                    if (p instanceof t.env.getEnv().Canvas)
                      return e.browser.fromPixels(
                        (0, o.imageToSquare)(p, i, s)
                      );
                    throw new Error(
                      "toBatchTensor - at batchIdx " +
                        u +
                        ", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have " +
                        p
                    );
                  });
                  return e
                    .stack(
                      u.map(function (e) {
                        return e.toFloat();
                      })
                    )
                    .as4D(a.batchSize, i, i, 3);
                })
              );
            }),
            s
          );
        })();
        exports.NetInput = u;
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../env": "iBDr",
        "../ops/padToSquare": "OCAY",
        "../utils": "acHD",
        "./createCanvas": "y5DT",
        "./imageToSquare": "YFFn",
      },
    ],
    jkoa: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.toNetInput = a);
        var e = require("tslib"),
          t = require("../utils"),
          r = require("./awaitMediaLoaded"),
          n = require("./isMediaElement"),
          i = require("./NetInput"),
          o = require("./resolveInput");
        function a(a) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var s, u, p;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  if (a instanceof i.NetInput) return [2, a];
                  if (!(s = Array.isArray(a) ? a : [a]).length)
                    throw new Error("toNetInput - empty array passed as input");
                  return (
                    (u = function (e) {
                      return Array.isArray(a)
                        ? " at input index " + e + ":"
                        : "";
                    }),
                    (p = s.map(o.resolveInput)).forEach(function (e, r) {
                      if (
                        !(0, n.isMediaElement)(e) &&
                        !(0, t.isTensor3D)(e) &&
                        !(0, t.isTensor4D)(e)
                      ) {
                        if ("string" == typeof s[r])
                          throw new Error(
                            "toNetInput -" +
                              u(r) +
                              " string passed, but could not resolve HTMLElement for element id " +
                              s[r]
                          );
                        throw new Error(
                          "toNetInput -" +
                            u(r) +
                            " expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id"
                        );
                      }
                      if ((0, t.isTensor4D)(e)) {
                        var i = e.shape[0];
                        if (1 !== i)
                          throw new Error(
                            "toNetInput -" +
                              u(r) +
                              " tf.Tensor4D with batchSize " +
                              i +
                              " passed, but not supported in input array"
                          );
                      }
                    }),
                    [
                      4,
                      Promise.all(
                        p.map(function (e) {
                          return (
                            (0, n.isMediaElement)(e) &&
                            (0, r.awaitMediaLoaded)(e)
                          );
                        })
                      ),
                    ]
                  );
                case 1:
                  return e.sent(), [2, new i.NetInput(p, Array.isArray(a))];
              }
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "../utils": "acHD",
        "./awaitMediaLoaded": "lo4I",
        "./isMediaElement": "ePX2",
        "./NetInput": "YiTB",
        "./resolveInput": "z7mX",
      },
    ],
    uu07: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractFaces = s);
        var e = require("tslib"),
          t = require("../classes/FaceDetection"),
          r = require("../env"),
          a = require("./createCanvas"),
          n = require("./getContext2dOrThrow"),
          i = require("./imageTensorToCanvas"),
          o = require("./toNetInput");
        function s(s, c) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var u, h, g, v, d, f;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return (
                    (u = r.env.getEnv().Canvas),
                    (h = s),
                    s instanceof u ? [3, 5] : [4, (0, o.toNetInput)(s)]
                  );
                case 1:
                  if ((g = e.sent()).batchSize > 1)
                    throw new Error(
                      "extractFaces - batchSize > 1 not supported"
                    );
                  return (v = g.getInput(0)) instanceof u
                    ? ((d = v), [3, 4])
                    : [3, 2];
                case 2:
                  return [4, (0, i.imageTensorToCanvas)(v)];
                case 3:
                  (d = e.sent()), (e.label = 4);
                case 4:
                  (h = d), (e.label = 5);
                case 5:
                  return (
                    (f = (0, n.getContext2dOrThrow)(h)),
                    [
                      2,
                      c
                        .map(function (e) {
                          return e instanceof t.FaceDetection
                            ? e.forSize(h.width, h.height).box.floor()
                            : e;
                        })
                        .map(function (e) {
                          return e.clipAtImageBorders(h.width, h.height);
                        })
                        .map(function (e) {
                          var t = e.x,
                            r = e.y,
                            i = e.width,
                            o = e.height,
                            s = (0, a.createCanvas)({ width: i, height: o });
                          return (
                            (0, n.getContext2dOrThrow)(s).putImageData(
                              f.getImageData(t, r, i, o),
                              0,
                              0
                            ),
                            s
                          );
                        }),
                    ]
                  );
              }
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "../classes/FaceDetection": "EHzx",
        "../env": "iBDr",
        "./createCanvas": "y5DT",
        "./getContext2dOrThrow": "cUrv",
        "./imageTensorToCanvas": "E2G5",
        "./toNetInput": "jkoa",
      },
    ],
    AX99: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractFaceTensors = s);
        var e = require("tslib"),
          r = i(require("@tensorflow/tfjs-core")),
          t = require("../classes/FaceDetection"),
          n = require("../utils");
        function o(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (o = function (e) {
            return e ? t : r;
          })(e);
        }
        function i(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = o(r);
          if (t && t.has(e)) return t.get(e);
          var n = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var s in e)
            if ("default" !== s && Object.prototype.hasOwnProperty.call(e, s)) {
              var a = i ? Object.getOwnPropertyDescriptor(e, s) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(n, s, a)
                : (n[s] = e[s]);
            }
          return (n.default = e), t && t.set(e, n), n;
        }
        function s(o, i) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            return (0, e.__generator)(this, function (e) {
              if (!(0, n.isTensor3D)(o) && !(0, n.isTensor4D)(o))
                throw new Error(
                  "extractFaceTensors - expected image tensor to be 3D or 4D"
                );
              if ((0, n.isTensor4D)(o) && o.shape[0] > 1)
                throw new Error(
                  "extractFaceTensors - batchSize > 1 not supported"
                );
              return [
                2,
                r.tidy(function () {
                  var e = o.shape.slice((0, n.isTensor4D)(o) ? 1 : 0),
                    s = e[0],
                    a = e[1],
                    u = e[2];
                  return i
                    .map(function (e) {
                      return e instanceof t.FaceDetection
                        ? e.forSize(a, s).box
                        : e;
                    })
                    .map(function (e) {
                      return e.clipAtImageBorders(a, s);
                    })
                    .map(function (e) {
                      var t = e.x,
                        n = e.y,
                        i = e.width,
                        c = e.height;
                      return r.slice3d(o.as3D(s, a, u), [n, t, 0], [c, i, u]);
                    });
                }),
              ];
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../classes/FaceDetection": "EHzx",
        "../utils": "acHD",
      },
    ],
    PvqE: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.fetchOrThrow = r);
        var e = require("tslib"),
          t = require("../env");
        function r(r, s) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var n;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return [4, (0, t.env.getEnv().fetch)(r, s)];
                case 1:
                  if (!((n = e.sent()).status < 400))
                    throw new Error(
                      "failed to fetch: (" +
                        n.status +
                        ") " +
                        n.statusText +
                        ", from url: " +
                        n.url
                    );
                  return [2, n];
              }
            });
          });
        }
      },
      { tslib: "vCxL", "../env": "iBDr" },
    ],
    J7cO: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.fetchImage = o);
        var e = require("tslib"),
          r = require("./bufferToImage"),
          t = require("./fetchOrThrow");
        function o(o) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var i, a;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return [4, (0, t.fetchOrThrow)(o)];
                case 1:
                  return [4, (i = e.sent()).blob()];
                case 2:
                  if (!(a = e.sent()).type.startsWith("image/"))
                    throw new Error(
                      "fetchImage - expected blob type to be of type image/*, instead have: " +
                        a.type +
                        ", for url: " +
                        i.url
                    );
                  return [2, (0, r.bufferToImage)(a)];
              }
            });
          });
        }
      },
      { tslib: "vCxL", "./bufferToImage": "jjMC", "./fetchOrThrow": "PvqE" },
    ],
    FZoX: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.fetchJson = t);
        var e = require("tslib"),
          r = require("./fetchOrThrow");
        function t(t) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return [4, (0, r.fetchOrThrow)(t)];
                case 1:
                  return [2, e.sent().json()];
              }
            });
          });
        }
      },
      { tslib: "vCxL", "./fetchOrThrow": "PvqE" },
    ],
    QENY: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.fetchNetWeights = t);
        var e = require("tslib"),
          r = require("./fetchOrThrow");
        function t(t) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var a;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return (a = Float32Array.bind), [4, (0, r.fetchOrThrow)(t)];
                case 1:
                  return [4, e.sent().arrayBuffer()];
                case 2:
                  return [2, new (a.apply(Float32Array, [void 0, e.sent()]))()];
              }
            });
          });
        }
      },
      { tslib: "vCxL", "./fetchOrThrow": "PvqE" },
    ],
    JaqQ: [
      function (require, module, exports) {
        "use strict";
        function t(t, e) {
          var s = e + "-weights_manifest.json";
          if (!t) return { modelBaseUri: "", manifestUri: s };
          if ("/" === t) return { modelBaseUri: "/", manifestUri: "/" + s };
          var i = t.startsWith("http://")
              ? "http://"
              : t.startsWith("https://")
              ? "https://"
              : "",
            r = (t = t.replace(i, "")).split("/").filter(function (t) {
              return t;
            }),
            n = t.endsWith(".json") ? r[r.length - 1] : s,
            a =
              i +
              (t.endsWith(".json") ? r.slice(0, r.length - 1) : r).join("/");
          return {
            modelBaseUri: (a = t.startsWith("/") ? "/" + a : a),
            manifestUri: "/" === a ? "/" + n : a + "/" + n,
          };
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.getModelUris = t);
      },
      {},
    ],
    vsZQ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.loadWeightMap = u);
        var e = require("tslib"),
          t = i(require("@tensorflow/tfjs-core")),
          r = require("../common/getModelUris"),
          n = require("./fetchJson");
        function o(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (o = function (e) {
            return e ? r : t;
          })(e);
        }
        function i(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = o(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var a = i ? Object.getOwnPropertyDescriptor(e, u) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(n, u, a)
                : (n[u] = e[u]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        function u(o, i) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var u, a, f, s;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return (
                    (u = (0, r.getModelUris)(o, i)),
                    (a = u.manifestUri),
                    (f = u.modelBaseUri),
                    [4, (0, n.fetchJson)(a)]
                  );
                case 1:
                  return (s = e.sent()), [2, t.io.loadWeights(s, f)];
              }
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../common/getModelUris": "JaqQ",
        "./fetchJson": "FZoX",
      },
    ],
    DIRJ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.matchDimensions = i);
        var e = require("./getMediaDimensions");
        function i(i, t, r) {
          void 0 === r && (r = !1);
          var s = r ? (0, e.getMediaDimensions)(t) : t,
            h = s.width,
            n = s.height;
          return (i.width = h), (i.height = n), { width: h, height: n };
        }
      },
      { "./getMediaDimensions": "Jy41" },
    ],
    F9LC: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = require("./awaitMediaLoaded");
        Object.keys(e).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            ((r in exports && exports[r] === e[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return e[r];
                },
              }));
        });
        var r = require("./bufferToImage");
        Object.keys(r).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === r[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }));
        });
        var t = require("./createCanvas");
        Object.keys(t).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === t[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return t[e];
                },
              }));
        });
        var o = require("./extractFaces");
        Object.keys(o).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === o[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return o[e];
                },
              }));
        });
        var n = require("./extractFaceTensors");
        Object.keys(n).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === n[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return n[e];
                },
              }));
        });
        var u = require("./fetchImage");
        Object.keys(u).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === u[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return u[e];
                },
              }));
        });
        var s = require("./fetchJson");
        Object.keys(s).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === s[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return s[e];
                },
              }));
        });
        var i = require("./fetchNetWeights");
        Object.keys(i).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === i[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return i[e];
                },
              }));
        });
        var c = require("./fetchOrThrow");
        Object.keys(c).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === c[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return c[e];
                },
              }));
        });
        var f = require("./getContext2dOrThrow");
        Object.keys(f).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === f[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return f[e];
                },
              }));
        });
        var a = require("./getMediaDimensions");
        Object.keys(a).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === a[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return a[e];
                },
              }));
        });
        var p = require("./imageTensorToCanvas");
        Object.keys(p).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === p[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return p[e];
                },
              }));
        });
        var d = require("./imageToSquare");
        Object.keys(d).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === d[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return d[e];
                },
              }));
        });
        var l = require("./isMediaElement");
        Object.keys(l).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === l[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return l[e];
                },
              }));
        });
        var x = require("./isMediaLoaded");
        Object.keys(x).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === x[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return x[e];
                },
              }));
        });
        var b = require("./loadWeightMap");
        Object.keys(b).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === b[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return b[e];
                },
              }));
        });
        var O = require("./matchDimensions");
        Object.keys(O).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === O[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return O[e];
                },
              }));
        });
        var _ = require("./NetInput");
        Object.keys(_).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === _[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return _[e];
                },
              }));
        });
        var j = require("./resolveInput");
        Object.keys(j).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === j[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return j[e];
                },
              }));
        });
        var y = require("./toNetInput");
        Object.keys(y).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === y[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return y[e];
                },
              }));
        });
      },
      {
        "./awaitMediaLoaded": "lo4I",
        "./bufferToImage": "jjMC",
        "./createCanvas": "y5DT",
        "./extractFaces": "uu07",
        "./extractFaceTensors": "AX99",
        "./fetchImage": "J7cO",
        "./fetchJson": "FZoX",
        "./fetchNetWeights": "QENY",
        "./fetchOrThrow": "PvqE",
        "./getContext2dOrThrow": "cUrv",
        "./getMediaDimensions": "Jy41",
        "./imageTensorToCanvas": "E2G5",
        "./imageToSquare": "YFFn",
        "./isMediaElement": "ePX2",
        "./isMediaLoaded": "Tkxx",
        "./loadWeightMap": "vsZQ",
        "./matchDimensions": "DIRJ",
        "./NetInput": "YiTB",
        "./resolveInput": "z7mX",
        "./toNetInput": "jkoa",
      },
    ],
    bTJB: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.NeuralNetwork = void 0);
        var r = require("tslib"),
          t = i(require("@tensorflow/tfjs-core")),
          e = require("./common/getModelUris"),
          a = require("./dom"),
          o = require("./env");
        function n(r) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            e = new WeakMap();
          return (n = function (r) {
            return r ? e : t;
          })(r);
        }
        function i(r, t) {
          if (!t && r && r.__esModule) return r;
          if (null === r || ("object" != typeof r && "function" != typeof r))
            return { default: r };
          var e = n(t);
          if (e && e.has(r)) return e.get(r);
          var a = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in r)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(r, i)) {
              var s = o ? Object.getOwnPropertyDescriptor(r, i) : null;
              s && (s.get || s.set)
                ? Object.defineProperty(a, i, s)
                : (a[i] = r[i]);
            }
          return (a.default = r), e && e.set(r, a), a;
        }
        var s = (function () {
          function n(r) {
            (this._name = r),
              (this._params = void 0),
              (this._paramMappings = []);
          }
          return (
            Object.defineProperty(n.prototype, "params", {
              get: function () {
                return this._params;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(n.prototype, "paramMappings", {
              get: function () {
                return this._paramMappings;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(n.prototype, "isLoaded", {
              get: function () {
                return !!this.params;
              },
              enumerable: !0,
              configurable: !0,
            }),
            (n.prototype.getParamFromPath = function (r) {
              var t = this.traversePropertyPath(r);
              return t.obj[t.objProp];
            }),
            (n.prototype.reassignParamFromPath = function (r, t) {
              var e = this.traversePropertyPath(r),
                a = e.obj,
                o = e.objProp;
              a[o].dispose(), (a[o] = t);
            }),
            (n.prototype.getParamList = function () {
              var r = this;
              return this._paramMappings.map(function (t) {
                var e = t.paramPath;
                return { path: e, tensor: r.getParamFromPath(e) };
              });
            }),
            (n.prototype.getTrainableParams = function () {
              return this.getParamList().filter(function (r) {
                return r.tensor instanceof t.Variable;
              });
            }),
            (n.prototype.getFrozenParams = function () {
              return this.getParamList().filter(function (r) {
                return !(r.tensor instanceof t.Variable);
              });
            }),
            (n.prototype.variable = function () {
              var r = this;
              this.getFrozenParams().forEach(function (t) {
                var e = t.path,
                  a = t.tensor;
                r.reassignParamFromPath(e, a.variable());
              });
            }),
            (n.prototype.freeze = function () {
              var r = this;
              this.getTrainableParams().forEach(function (e) {
                var a = e.path,
                  o = e.tensor,
                  n = t.tensor(o.dataSync());
                o.dispose(), r.reassignParamFromPath(a, n);
              });
            }),
            (n.prototype.dispose = function (r) {
              void 0 === r && (r = !0),
                this.getParamList().forEach(function (t) {
                  if (r && t.tensor.isDisposed)
                    throw new Error(
                      "param tensor has already been disposed for path " +
                        t.path
                    );
                  t.tensor.dispose();
                }),
                (this._params = void 0);
            }),
            (n.prototype.serializeParams = function () {
              return new Float32Array(
                this.getParamList()
                  .map(function (r) {
                    var t = r.tensor;
                    return Array.from(t.dataSync());
                  })
                  .reduce(function (r, t) {
                    return r.concat(t);
                  })
              );
            }),
            (n.prototype.load = function (t) {
              return (0, r.__awaiter)(this, void 0, void 0, function () {
                return (0, r.__generator)(this, function (r) {
                  switch (r.label) {
                    case 0:
                      return t instanceof Float32Array
                        ? (this.extractWeights(t), [2])
                        : [4, this.loadFromUri(t)];
                    case 1:
                      return r.sent(), [2];
                  }
                });
              });
            }),
            (n.prototype.loadFromUri = function (t) {
              return (0, r.__awaiter)(this, void 0, void 0, function () {
                var e;
                return (0, r.__generator)(this, function (r) {
                  switch (r.label) {
                    case 0:
                      if (t && "string" != typeof t)
                        throw new Error(
                          this._name + ".loadFromUri - expected model uri"
                        );
                      return [
                        4,
                        (0, a.loadWeightMap)(t, this.getDefaultModelName()),
                      ];
                    case 1:
                      return (e = r.sent()), this.loadFromWeightMap(e), [2];
                  }
                });
              });
            }),
            (n.prototype.loadFromDisk = function (a) {
              return (0, r.__awaiter)(this, void 0, void 0, function () {
                var n, i, s, p, u, f, c, h, m, l;
                return (0, r.__generator)(this, function (r) {
                  switch (r.label) {
                    case 0:
                      if (a && "string" != typeof a)
                        throw new Error(
                          this._name +
                            ".loadFromDisk - expected model file path"
                        );
                      return (
                        (n = o.env.getEnv().readFile),
                        (i = (0, e.getModelUris)(
                          a,
                          this.getDefaultModelName()
                        )),
                        (s = i.manifestUri),
                        (p = i.modelBaseUri),
                        (u = function (r) {
                          return Promise.all(
                            r.map(function (r) {
                              return n(r).then(function (r) {
                                return r.buffer;
                              });
                            })
                          );
                        }),
                        (f = t.io.weightsLoaderFactory(u)),
                        (m = (h = JSON).parse),
                        [4, n(s)]
                      );
                    case 1:
                      return (
                        (c = m.apply(h, [r.sent().toString()])), [4, f(c, p)]
                      );
                    case 2:
                      return (l = r.sent()), this.loadFromWeightMap(l), [2];
                  }
                });
              });
            }),
            (n.prototype.loadFromWeightMap = function (r) {
              var t = this.extractParamsFromWeigthMap(r),
                e = t.paramMappings,
                a = t.params;
              (this._paramMappings = e), (this._params = a);
            }),
            (n.prototype.extractWeights = function (r) {
              var t = this.extractParams(r),
                e = t.paramMappings,
                a = t.params;
              (this._paramMappings = e), (this._params = a);
            }),
            (n.prototype.traversePropertyPath = function (r) {
              if (!this.params)
                throw new Error(
                  "traversePropertyPath - model has no loaded params"
                );
              var e = r.split("/").reduce(
                  function (t, e) {
                    if (!t.nextObj.hasOwnProperty(e))
                      throw new Error(
                        "traversePropertyPath - object does not have property " +
                          e +
                          ", for path " +
                          r
                      );
                    return {
                      obj: t.nextObj,
                      objProp: e,
                      nextObj: t.nextObj[e],
                    };
                  },
                  { nextObj: this.params }
                ),
                a = e.obj,
                o = e.objProp;
              if (!(a && o && a[o] instanceof t.Tensor))
                throw new Error(
                  "traversePropertyPath - parameter is not a tensor, for path " +
                    r
                );
              return { obj: a, objProp: o };
            }),
            n
          );
        })();
        exports.NeuralNetwork = s;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "./common/getModelUris": "JaqQ",
        "./dom": "F9LC",
        "./env": "iBDr",
      },
    ],
    YaLJ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.depthwiseSeparableConv = n);
        var e = r(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function r(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var u = i ? Object.getOwnPropertyDescriptor(e, a) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(o, a, u)
                : (o[a] = e[a]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(t, r, n) {
          return e.tidy(function () {
            var o = e.separableConv2d(
              t,
              r.depthwise_filter,
              r.pointwise_filter,
              n,
              "same"
            );
            return (o = e.add(o, r.bias));
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    RQeH: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.denseBlock3 = o),
          (exports.denseBlock4 = a);
        var e = n(require("@tensorflow/tfjs-core")),
          r = require("../common/depthwiseSeparableConv");
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function n(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var d in e)
            if ("default" !== d && Object.prototype.hasOwnProperty.call(e, d)) {
              var i = a ? Object.getOwnPropertyDescriptor(e, d) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(o, d, i)
                : (o[d] = e[d]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function o(t, n, o) {
          return (
            void 0 === o && (o = !1),
            e.tidy(function () {
              var a = e.relu(
                  o
                    ? e.add(
                        e.conv2d(t, n.conv0.filters, [2, 2], "same"),
                        n.conv0.bias
                      )
                    : (0, r.depthwiseSeparableConv)(t, n.conv0, [2, 2])
                ),
                d = (0, r.depthwiseSeparableConv)(a, n.conv1, [1, 1]),
                i = e.relu(e.add(a, d)),
                u = (0, r.depthwiseSeparableConv)(i, n.conv2, [1, 1]);
              return e.relu(e.add(a, e.add(d, u)));
            })
          );
        }
        function a(t, n, o, a) {
          return (
            void 0 === o && (o = !1),
            void 0 === a && (a = !0),
            e.tidy(function () {
              var d = e.relu(
                  o
                    ? e.add(
                        e.conv2d(
                          t,
                          n.conv0.filters,
                          a ? [2, 2] : [1, 1],
                          "same"
                        ),
                        n.conv0.bias
                      )
                    : (0, r.depthwiseSeparableConv)(
                        t,
                        n.conv0,
                        a ? [2, 2] : [1, 1]
                      )
                ),
                i = (0, r.depthwiseSeparableConv)(d, n.conv1, [1, 1]),
                u = e.relu(e.add(d, i)),
                c = (0, r.depthwiseSeparableConv)(u, n.conv2, [1, 1]),
                p = e.relu(e.add(d, e.add(i, c))),
                l = (0, r.depthwiseSeparableConv)(p, n.conv3, [1, 1]);
              return e.relu(e.add(d, e.add(i, e.add(c, l))));
            })
          );
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../common/depthwiseSeparableConv": "YaLJ",
      },
    ],
    ItGw: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.convLayer = n);
        var e = t(require("@tensorflow/tfjs-core"));
        function r(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            n = new WeakMap();
          return (r = function (e) {
            return e ? n : t;
          })(e);
        }
        function t(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = r(t);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var f in e)
            if ("default" !== f && Object.prototype.hasOwnProperty.call(e, f)) {
              var i = u ? Object.getOwnPropertyDescriptor(e, f) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(o, f, i)
                : (o[f] = e[f]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(r, t, n, o) {
          return (
            void 0 === n && (n = "same"),
            void 0 === o && (o = !1),
            e.tidy(function () {
              var u = e.add(e.conv2d(r, t.filters, [1, 1], n), t.bias);
              return o ? e.relu(u) : u;
            })
          );
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    cQ29: [
      function (require, module, exports) {
        "use strict";
        function e(e, s) {
          Object.keys(e).forEach(function (o) {
            s.some(function (e) {
              return e.originalPath === o;
            }) || e[o].dispose();
          });
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.disposeUnusedWeightTensors = e);
      },
      {},
    ],
    yKob: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractConvParamsFactory = n);
        var e = r(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function r(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var f = a ? Object.getOwnPropertyDescriptor(e, u) : null;
              f && (f.get || f.set)
                ? Object.defineProperty(o, u, f)
                : (o[u] = e[u]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(t, r) {
          return function (n, o, a, u) {
            var f = e.tensor4d(t(n * o * a * a), [a, a, n, o]),
              i = e.tensor1d(t(o));
            return (
              r.push({ paramPath: u + "/filters" }, { paramPath: u + "/bias" }),
              { filters: f, bias: i }
            );
          };
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    mhyA: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractFCParamsFactory = n);
        var e = r(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function r(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var a = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var f = o ? Object.getOwnPropertyDescriptor(e, u) : null;
              f && (f.get || f.set)
                ? Object.defineProperty(a, u, f)
                : (a[u] = e[u]);
            }
          return (a.default = e), n && n.set(e, a), a;
        }
        function n(t, r) {
          return function (n, a, o) {
            var u = e.tensor2d(t(n * a), [n, a]),
              f = e.tensor1d(t(a));
            return (
              r.push({ paramPath: o + "/weights" }, { paramPath: o + "/bias" }),
              { weights: u, bias: f }
            );
          };
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    n7b2: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.SeparableConvParams = void 0);
        var e = (function () {
          return function (e, t, r) {
            (this.depthwise_filter = e),
              (this.pointwise_filter = t),
              (this.bias = r);
          };
        })();
        exports.SeparableConvParams = e;
      },
      {},
    ],
    J4Yx: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractSeparableConvParamsFactory = a),
          (exports.loadSeparableConvParamsFactory = o);
        var e = n(require("@tensorflow/tfjs-core")),
          r = require("./types");
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function n(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var a = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in e)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
              var u = o ? Object.getOwnPropertyDescriptor(e, i) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(a, i, u)
                : (a[i] = e[i]);
            }
          return (a.default = e), n && n.set(e, a), a;
        }
        function a(t, n) {
          return function (a, o, i) {
            var u = e.tensor4d(t(9 * a), [3, 3, a, 1]),
              p = e.tensor4d(t(a * o), [1, 1, a, o]),
              f = e.tensor1d(t(o));
            return (
              n.push(
                { paramPath: i + "/depthwise_filter" },
                { paramPath: i + "/pointwise_filter" },
                { paramPath: i + "/bias" }
              ),
              new r.SeparableConvParams(u, p, f)
            );
          };
        }
        function o(e) {
          return function (t) {
            var n = e(t + "/depthwise_filter", 4),
              a = e(t + "/pointwise_filter", 4),
              o = e(t + "/bias", 1);
            return new r.SeparableConvParams(n, a, o);
          };
        }
      },
      { "@tensorflow/tfjs-core": "FZBM", "./types": "n7b2" },
    ],
    jLb1: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractWeightEntryFactory = r);
        var e = require("../utils");
        function r(r, t) {
          return function (a, i, n) {
            var o = r[a];
            if (!(0, e.isTensor)(o, i))
              throw new Error(
                "expected weightMap[" +
                  a +
                  "] to be a Tensor" +
                  i +
                  "D, instead have " +
                  o
              );
            return t.push({ originalPath: a, paramPath: n || a }), o;
          };
        }
      },
      { "../utils": "acHD" },
    ],
    fHbF: [
      function (require, module, exports) {
        "use strict";
        function e(e) {
          var t = e;
          return {
            extractWeights: function (e) {
              var r = t.slice(0, e);
              return (t = t.slice(e)), r;
            },
            getRemainingWeights: function () {
              return t;
            },
          };
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractWeightsFactory = e);
      },
      {},
    ],
    gZ1E: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = require("./convLayer");
        Object.keys(e).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            ((r in exports && exports[r] === e[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return e[r];
                },
              }));
        });
        var r = require("./depthwiseSeparableConv");
        Object.keys(r).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === r[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }));
        });
        var t = require("./disposeUnusedWeightTensors");
        Object.keys(t).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === t[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return t[e];
                },
              }));
        });
        var o = require("./extractConvParamsFactory");
        Object.keys(o).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === o[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return o[e];
                },
              }));
        });
        var n = require("./extractFCParamsFactory");
        Object.keys(n).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === n[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return n[e];
                },
              }));
        });
        var u = require("./extractSeparableConvParamsFactory");
        Object.keys(u).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === u[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return u[e];
                },
              }));
        });
        var s = require("./extractWeightEntryFactory");
        Object.keys(s).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === s[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return s[e];
                },
              }));
        });
        var c = require("./extractWeightsFactory");
        Object.keys(c).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === c[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return c[e];
                },
              }));
        });
        var a = require("./getModelUris");
        Object.keys(a).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === a[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return a[e];
                },
              }));
        });
        var i = require("./types");
        Object.keys(i).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === i[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return i[e];
                },
              }));
        });
      },
      {
        "./convLayer": "ItGw",
        "./depthwiseSeparableConv": "YaLJ",
        "./disposeUnusedWeightTensors": "cQ29",
        "./extractConvParamsFactory": "yKob",
        "./extractFCParamsFactory": "mhyA",
        "./extractSeparableConvParamsFactory": "J4Yx",
        "./extractWeightEntryFactory": "jLb1",
        "./extractWeightsFactory": "fHbF",
        "./getModelUris": "JaqQ",
        "./types": "n7b2",
      },
    ],
    gRcI: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractorsFactory = c);
        var o = require("../common");
        function c(c, n) {
          var r = (0, o.extractConvParamsFactory)(c, n),
            e = (0, o.extractSeparableConvParamsFactory)(c, n);
          function t(o, c, n, t) {
            return (
              void 0 === t && (t = !1),
              {
                conv0: t ? r(o, c, 3, n + "/conv0") : e(o, c, n + "/conv0"),
                conv1: e(c, c, n + "/conv1"),
                conv2: e(c, c, n + "/conv2"),
              }
            );
          }
          return {
            extractDenseBlock3Params: t,
            extractDenseBlock4Params: function (o, c, n, r) {
              void 0 === r && (r = !1);
              var v = t(o, c, n, r);
              return {
                conv0: v.conv0,
                conv1: v.conv1,
                conv2: v.conv2,
                conv3: e(c, c, n + "/conv3"),
              };
            },
          };
        }
      },
      { "../common": "gZ1E" },
    ],
    yx1j: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParams = t);
        var e = require("../common"),
          r = require("./extractorsFactory");
        function t(t) {
          var a = [],
            s = (0, e.extractWeightsFactory)(t),
            n = s.extractWeights,
            c = s.getRemainingWeights,
            o = (0, r.extractorsFactory)(n, a).extractDenseBlock4Params,
            i = o(3, 32, "dense0", !0),
            d = o(32, 64, "dense1"),
            g = o(64, 128, "dense2"),
            x = o(128, 256, "dense3");
          if (0 !== c().length)
            throw new Error("weights remaing after extract: " + c().length);
          return {
            paramMappings: a,
            params: { dense0: i, dense1: d, dense2: g, dense3: x },
          };
        }
      },
      { "../common": "gZ1E", "./extractorsFactory": "gRcI" },
    ],
    raPJ: [
      function (require, module, exports) {
        "use strict";
        function e(e) {
          return function (r) {
            return { filters: e(r + "/filters", 4), bias: e(r + "/bias", 1) };
          };
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.loadConvParamsFactory = e);
      },
      {},
    ],
    OQsn: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.loadParamsFactory = c);
        var o = require("../common"),
          n = require("../common/loadConvParamsFactory");
        function c(c, r) {
          var a = (0, o.extractWeightEntryFactory)(c, r),
            e = (0, n.loadConvParamsFactory)(a),
            t = (0, o.loadSeparableConvParamsFactory)(a);
          return {
            extractDenseBlock3Params: function (o, n) {
              return (
                void 0 === n && (n = !1),
                {
                  conv0: n ? e(o + "/conv0") : t(o + "/conv0"),
                  conv1: t(o + "/conv1"),
                  conv2: t(o + "/conv2"),
                }
              );
            },
            extractDenseBlock4Params: function (o, n) {
              return (
                void 0 === n && (n = !1),
                {
                  conv0: n ? e(o + "/conv0") : t(o + "/conv0"),
                  conv1: t(o + "/conv1"),
                  conv2: t(o + "/conv2"),
                  conv3: t(o + "/conv3"),
                }
              );
            },
          };
        }
      },
      { "../common": "gZ1E", "../common/loadConvParamsFactory": "raPJ" },
    ],
    ojms: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMap = s);
        var e = require("../common"),
          r = require("./loadParamsFactory");
        function s(s) {
          var a = [],
            n = (0, r.loadParamsFactory)(s, a).extractDenseBlock4Params,
            t = {
              dense0: n("dense0", !0),
              dense1: n("dense1"),
              dense2: n("dense2"),
              dense3: n("dense3"),
            };
          return (
            (0, e.disposeUnusedWeightTensors)(s, a),
            { params: t, paramMappings: a }
          );
        }
      },
      { "../common": "gZ1E", "./loadParamsFactory": "OQsn" },
    ],
    aP46: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceFeatureExtractor = void 0);
        var e = require("tslib"),
          r = s(require("@tensorflow/tfjs-core")),
          t = require("../dom"),
          o = require("../NeuralNetwork"),
          a = require("../ops"),
          n = require("./denseBlock"),
          u = require("./extractParams"),
          i = require("./extractParamsFromWeigthMap");
        function c(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (c = function (e) {
            return e ? t : r;
          })(e);
        }
        function s(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = c(r);
          if (t && t.has(e)) return t.get(e);
          var o = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var n in e)
            if ("default" !== n && Object.prototype.hasOwnProperty.call(e, n)) {
              var u = a ? Object.getOwnPropertyDescriptor(e, n) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(o, n, u)
                : (o[n] = e[n]);
            }
          return (o.default = e), t && t.set(e, o), o;
        }
        var f = (function (o) {
          function c() {
            return o.call(this, "FaceFeatureExtractor") || this;
          }
          return (
            (0, e.__extends)(c, o),
            (c.prototype.forwardInput = function (e) {
              var t = this.params;
              if (!t)
                throw new Error(
                  "FaceFeatureExtractor - load model before inference"
                );
              return r.tidy(function () {
                var o = e.toBatchTensor(112, !0),
                  u = (0, a.normalize)(o, [122.782, 117.001, 104.298]).div(
                    r.scalar(255)
                  ),
                  i = (0, n.denseBlock4)(u, t.dense0, !0);
                return (
                  (i = (0, n.denseBlock4)(i, t.dense1)),
                  (i = (0, n.denseBlock4)(i, t.dense2)),
                  (i = (0, n.denseBlock4)(i, t.dense3)),
                  (i = r.avgPool(i, [7, 7], [2, 2], "valid"))
                );
              });
            }),
            (c.prototype.forward = function (r) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var o;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (o = this.forwardInput), [4, (0, t.toNetInput)(r)];
                    case 1:
                      return [2, o.apply(this, [e.sent()])];
                  }
                });
              });
            }),
            (c.prototype.getDefaultModelName = function () {
              return "face_feature_extractor_model";
            }),
            (c.prototype.extractParamsFromWeigthMap = function (e) {
              return (0, i.extractParamsFromWeigthMap)(e);
            }),
            (c.prototype.extractParams = function (e) {
              return (0, u.extractParams)(e);
            }),
            c
          );
        })(o.NeuralNetwork);
        exports.FaceFeatureExtractor = f;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../dom": "F9LC",
        "../NeuralNetwork": "bTJB",
        "../ops": "CGLe",
        "./denseBlock": "RQeH",
        "./extractParams": "yx1j",
        "./extractParamsFromWeigthMap": "ojms",
      },
    ],
    E0V1: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.fullyConnectedLayer = n);
        var e = r(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function r(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var f in e)
            if ("default" !== f && Object.prototype.hasOwnProperty.call(e, f)) {
              var a = u ? Object.getOwnPropertyDescriptor(e, f) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(o, f, a)
                : (o[f] = e[f]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(t, r) {
          return e.tidy(function () {
            return e.add(e.matMul(t, r.weights), r.bias);
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    APII: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParams = t);
        var e = require("../common");
        function t(t, r, a) {
          var c = [],
            i = (0, e.extractWeightsFactory)(t),
            s = i.extractWeights,
            n = i.getRemainingWeights,
            o = (0, e.extractFCParamsFactory)(s, c)(r, a, "fc");
          if (0 !== n().length)
            throw new Error("weights remaing after extract: " + n().length);
          return { paramMappings: c, params: { fc: o } };
        }
      },
      { "../common": "gZ1E" },
    ],
    NSX9: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMap = r);
        var e = require("../common");
        function r(r) {
          var t = [],
            a = (0, e.extractWeightEntryFactory)(r, t);
          var s,
            i = {
              fc:
                ((s = "fc"),
                { weights: a(s + "/weights", 2), bias: a(s + "/bias", 1) }),
            };
          return (
            (0, e.disposeUnusedWeightTensors)(r, t),
            { params: i, paramMappings: t }
          );
        }
      },
      { "../common": "gZ1E" },
    ],
    cSOR: [
      function (require, module, exports) {
        "use strict";
        function e(e) {
          var t = {},
            r = {};
          return (
            Object.keys(e).forEach(function (s) {
              (s.startsWith("fc") ? r : t)[s] = e[s];
            }),
            { featureExtractorMap: t, classifierMap: r }
          );
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.seperateWeightMaps = e);
      },
      {},
    ],
    xqdl: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceProcessor = void 0);
        var e = require("tslib"),
          r = u(require("@tensorflow/tfjs-core")),
          t = require("../common/fullyConnectedLayer"),
          a = require("../dom"),
          i = require("../NeuralNetwork"),
          o = require("./extractParams"),
          n = require("./extractParamsFromWeigthMap"),
          s = require("./util");
        function c(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (c = function (e) {
            return e ? t : r;
          })(e);
        }
        function u(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = c(r);
          if (t && t.has(e)) return t.get(e);
          var a = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var o in e)
            if ("default" !== o && Object.prototype.hasOwnProperty.call(e, o)) {
              var n = i ? Object.getOwnPropertyDescriptor(e, o) : null;
              n && (n.get || n.set)
                ? Object.defineProperty(a, o, n)
                : (a[o] = e[o]);
            }
          return (a.default = e), t && t.set(e, a), a;
        }
        var f = (function (i) {
          function c(e, r) {
            var t = i.call(this, e) || this;
            return (t._faceFeatureExtractor = r), t;
          }
          return (
            (0, e.__extends)(c, i),
            Object.defineProperty(c.prototype, "faceFeatureExtractor", {
              get: function () {
                return this._faceFeatureExtractor;
              },
              enumerable: !0,
              configurable: !0,
            }),
            (c.prototype.runNet = function (e) {
              var i = this,
                o = this.params;
              if (!o)
                throw new Error(this._name + " - load model before inference");
              return r.tidy(function () {
                var r =
                  e instanceof a.NetInput
                    ? i.faceFeatureExtractor.forwardInput(e)
                    : e;
                return (0, t.fullyConnectedLayer)(r.as2D(r.shape[0], -1), o.fc);
              });
            }),
            (c.prototype.dispose = function (e) {
              void 0 === e && (e = !0),
                this.faceFeatureExtractor.dispose(e),
                i.prototype.dispose.call(this, e);
            }),
            (c.prototype.loadClassifierParams = function (e) {
              var r = this.extractClassifierParams(e),
                t = r.params,
                a = r.paramMappings;
              (this._params = t), (this._paramMappings = a);
            }),
            (c.prototype.extractClassifierParams = function (e) {
              return (0, o.extractParams)(
                e,
                this.getClassifierChannelsIn(),
                this.getClassifierChannelsOut()
              );
            }),
            (c.prototype.extractParamsFromWeigthMap = function (e) {
              var r = (0, s.seperateWeightMaps)(e),
                t = r.featureExtractorMap,
                a = r.classifierMap;
              return (
                this.faceFeatureExtractor.loadFromWeightMap(t),
                (0, n.extractParamsFromWeigthMap)(a)
              );
            }),
            (c.prototype.extractParams = function (e) {
              var r = this.getClassifierChannelsIn(),
                t = this.getClassifierChannelsOut(),
                a = t * r + t,
                i = e.slice(0, e.length - a),
                o = e.slice(e.length - a);
              return (
                this.faceFeatureExtractor.extractWeights(i),
                this.extractClassifierParams(o)
              );
            }),
            c
          );
        })(i.NeuralNetwork);
        exports.FaceProcessor = f;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../common/fullyConnectedLayer": "E0V1",
        "../dom": "F9LC",
        "../NeuralNetwork": "bTJB",
        "./extractParams": "APII",
        "./extractParamsFromWeigthMap": "NSX9",
        "./util": "cSOR",
      },
    ],
    I5bo: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceExpressions = exports.FACE_EXPRESSION_LABELS = void 0);
        var r = [
          "neutral",
          "happy",
          "sad",
          "angry",
          "fearful",
          "disgusted",
          "surprised",
        ];
        exports.FACE_EXPRESSION_LABELS = r;
        var e = (function () {
          function e(e) {
            var t = this;
            if (7 !== e.length)
              throw new Error(
                "FaceExpressions.constructor - expected probabilities.length to be 7, have: " +
                  e.length
              );
            r.forEach(function (r, o) {
              t[r] = e[o];
            });
          }
          return (
            (e.prototype.asSortedArray = function () {
              var e = this;
              return r
                .map(function (r) {
                  return { expression: r, probability: e[r] };
                })
                .sort(function (r, e) {
                  return e.probability - r.probability;
                });
            }),
            e
          );
        })();
        exports.FaceExpressions = e;
      },
      {},
    ],
    uqll: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceExpressionNet = void 0);
        var e = require("tslib"),
          t = s(require("@tensorflow/tfjs-core")),
          r = require("../dom"),
          n = require("../faceFeatureExtractor/FaceFeatureExtractor"),
          o = require("../faceProcessor/FaceProcessor"),
          i = require("./FaceExpressions");
        function a(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (a = function (e) {
            return e ? r : t;
          })(e);
        }
        function s(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = a(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in e)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
              var s = o ? Object.getOwnPropertyDescriptor(e, i) : null;
              s && (s.get || s.set)
                ? Object.defineProperty(n, i, s)
                : (n[i] = e[i]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        var u = (function (o) {
          function a(e) {
            return (
              void 0 === e && (e = new n.FaceFeatureExtractor()),
              o.call(this, "FaceExpressionNet", e) || this
            );
          }
          return (
            (0, e.__extends)(a, o),
            (a.prototype.forwardInput = function (e) {
              var r = this;
              return t.tidy(function () {
                return t.softmax(r.runNet(e));
              });
            }),
            (a.prototype.forward = function (t) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var n;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (n = this.forwardInput), [4, (0, r.toNetInput)(t)];
                    case 1:
                      return [2, n.apply(this, [e.sent()])];
                  }
                });
              });
            }),
            (a.prototype.predictExpressions = function (n) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var o,
                  a,
                  s,
                  u,
                  c = this;
                return (0, e.__generator)(this, function (p) {
                  switch (p.label) {
                    case 0:
                      return [4, (0, r.toNetInput)(n)];
                    case 1:
                      return (o = p.sent()), [4, this.forwardInput(o)];
                    case 2:
                      return (
                        (a = p.sent()),
                        [
                          4,
                          Promise.all(
                            t.unstack(a).map(function (t) {
                              return (0,
                              e.__awaiter)(c, void 0, void 0, function () {
                                var r;
                                return (0, e.__generator)(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [4, t.data()];
                                    case 1:
                                      return (
                                        (r = e.sent()), t.dispose(), [2, r]
                                      );
                                  }
                                });
                              });
                            })
                          ),
                        ]
                      );
                    case 3:
                      return (
                        (s = p.sent()),
                        a.dispose(),
                        (u = s.map(function (e) {
                          return new i.FaceExpressions(e);
                        })),
                        [2, o.isBatchInput ? u : u[0]]
                      );
                  }
                });
              });
            }),
            (a.prototype.getDefaultModelName = function () {
              return "face_expression_model";
            }),
            (a.prototype.getClassifierChannelsIn = function () {
              return 256;
            }),
            (a.prototype.getClassifierChannelsOut = function () {
              return 7;
            }),
            a
          );
        })(o.FaceProcessor);
        exports.FaceExpressionNet = u;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../dom": "F9LC",
        "../faceFeatureExtractor/FaceFeatureExtractor": "aP46",
        "../faceProcessor/FaceProcessor": "xqdl",
        "./FaceExpressions": "I5bo",
      },
    ],
    YaCQ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = require("./FaceExpressionNet");
        Object.keys(e).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            ((r in exports && exports[r] === e[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return e[r];
                },
              }));
        });
        var r = require("./FaceExpressions");
        Object.keys(r).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === r[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }));
        });
      },
      { "./FaceExpressionNet": "uqll", "./FaceExpressions": "I5bo" },
    ],
    KSS7: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extendWithFaceExpressions = r),
          (exports.isWithFaceExpressions = s);
        var e = require("../faceExpressionNet/FaceExpressions");
        function s(s) {
          return s.expressions instanceof e.FaceExpressions;
        }
        function r(e, s) {
          var r = { expressions: s };
          return Object.assign({}, e, r);
        }
      },
      { "../faceExpressionNet/FaceExpressions": "I5bo" },
    ],
    BdXI: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.drawFaceExpressions = a);
        var e = require("../classes"),
          r = require("../faceExpressionNet"),
          i = require("../factories/WithFaceDetection"),
          s = require("../factories/WithFaceExpressions"),
          t = require("../utils"),
          o = require("./DrawTextField");
        function a(a, n, c, p) {
          void 0 === c && (c = 0.1),
            (Array.isArray(n) ? n : [n]).forEach(function (n) {
              var u =
                n instanceof r.FaceExpressions
                  ? n
                  : (0, s.isWithFaceExpressions)(n)
                  ? n.expressions
                  : void 0;
              if (!u)
                throw new Error(
                  "drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof"
                );
              var x = u.asSortedArray().filter(function (e) {
                  return e.probability > c;
                }),
                f = (0, i.isWithFaceDetection)(n)
                  ? n.detection.box.bottomLeft
                  : p || new e.Point(0, 0);
              new o.DrawTextField(
                x.map(function (e) {
                  return (
                    e.expression + " (" + (0, t.round)(e.probability) + ")"
                  );
                }),
                f
              ).draw(a);
            });
        }
      },
      {
        "../classes": "ywa2",
        "../faceExpressionNet": "YaCQ",
        "../factories/WithFaceDetection": "ufye",
        "../factories/WithFaceExpressions": "KSS7",
        "../utils": "acHD",
        "./DrawTextField": "WoOq",
      },
    ],
    bw0I: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extendWithFaceLandmarks = s),
          (exports.isWithFaceLandmarks = n);
        var e = require("../classes/FaceDetection"),
          a = require("../classes/FaceLandmarks"),
          t = require("./WithFaceDetection");
        function n(n) {
          return (
            (0, t.isWithFaceDetection)(n) &&
            n.landmarks instanceof a.FaceLandmarks &&
            n.unshiftedLandmarks instanceof a.FaceLandmarks &&
            n.alignedRect instanceof e.FaceDetection
          );
        }
        function s(a, t) {
          var n = a.detection.box,
            s = t.shiftBy(n.x, n.y),
            i = s.align(),
            c = a.detection.imageDims,
            r = {
              landmarks: s,
              unshiftedLandmarks: t,
              alignedRect: new e.FaceDetection(
                a.detection.score,
                i.rescale(c.reverse()),
                c
              ),
            };
          return Object.assign({}, a, r);
        }
      },
      {
        "../classes/FaceDetection": "EHzx",
        "../classes/FaceLandmarks": "Cc3m",
        "./WithFaceDetection": "ufye",
      },
    ],
    wpyA: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.DrawFaceLandmarksOptions = exports.DrawFaceLandmarks =
            void 0),
          (exports.drawFaceLandmarks = s);
        var a = require("../classes/FaceLandmarks"),
          r = require("../classes/FaceLandmarks68"),
          e = require("../dom/getContext2dOrThrow"),
          t = require("../factories/WithFaceLandmarks"),
          o = require("./drawContour"),
          i = (function () {
            return function (a) {
              void 0 === a && (a = {});
              var r = a.drawLines,
                e = void 0 === r || r,
                t = a.drawPoints,
                o = void 0 === t || t,
                i = a.lineWidth,
                n = a.lineColor,
                s = a.pointSize,
                d = a.pointColor;
              (this.drawLines = e),
                (this.drawPoints = o),
                (this.lineWidth = i || 1),
                (this.pointSize = s || 2),
                (this.lineColor = n || "rgba(0, 255, 255, 1)"),
                (this.pointColor = d || "rgba(255, 0, 255, 1)");
            };
          })();
        exports.DrawFaceLandmarksOptions = i;
        var n = (function () {
          function a(a, r) {
            void 0 === r && (r = {}),
              (this.faceLandmarks = a),
              (this.options = new i(r));
          }
          return (
            (a.prototype.draw = function (a) {
              var t = (0, e.getContext2dOrThrow)(a),
                i = this.options,
                n = i.drawLines,
                s = i.drawPoints,
                d = i.lineWidth,
                c = i.lineColor,
                h = i.pointSize,
                f = i.pointColor;
              if (
                (n &&
                  this.faceLandmarks instanceof r.FaceLandmarks68 &&
                  ((t.strokeStyle = c),
                  (t.lineWidth = d),
                  (0, o.drawContour)(t, this.faceLandmarks.getJawOutline()),
                  (0, o.drawContour)(t, this.faceLandmarks.getLeftEyeBrow()),
                  (0, o.drawContour)(t, this.faceLandmarks.getRightEyeBrow()),
                  (0, o.drawContour)(t, this.faceLandmarks.getNose()),
                  (0, o.drawContour)(t, this.faceLandmarks.getLeftEye(), !0),
                  (0, o.drawContour)(t, this.faceLandmarks.getRightEye(), !0),
                  (0, o.drawContour)(t, this.faceLandmarks.getMouth(), !0)),
                s)
              ) {
                (t.strokeStyle = f), (t.fillStyle = f);
                this.faceLandmarks.positions.forEach(function (a) {
                  t.beginPath(), t.arc(a.x, a.y, h, 0, 2 * Math.PI), t.fill();
                });
              }
            }),
            a
          );
        })();
        function s(r, e) {
          (Array.isArray(e) ? e : [e]).forEach(function (e) {
            var o =
              e instanceof a.FaceLandmarks
                ? e
                : (0, t.isWithFaceLandmarks)(e)
                ? e.landmarks
                : void 0;
            if (!o)
              throw new Error(
                "drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof"
              );
            new n(o).draw(r);
          });
        }
        exports.DrawFaceLandmarks = n;
      },
      {
        "../classes/FaceLandmarks": "Cc3m",
        "../classes/FaceLandmarks68": "ShfV",
        "../dom/getContext2dOrThrow": "cUrv",
        "../factories/WithFaceLandmarks": "bw0I",
        "./drawContour": "PUZ0",
      },
    ],
    sID2: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = require("./drawContour");
        Object.keys(e).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            ((r in exports && exports[r] === e[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return e[r];
                },
              }));
        });
        var r = require("./drawDetections");
        Object.keys(r).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === r[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }));
        });
        var t = require("./drawFaceExpressions");
        Object.keys(t).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === t[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return t[e];
                },
              }));
        });
        var o = require("./DrawBox");
        Object.keys(o).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === o[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return o[e];
                },
              }));
        });
        var n = require("./DrawFaceLandmarks");
        Object.keys(n).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === n[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return n[e];
                },
              }));
        });
        var u = require("./DrawTextField");
        Object.keys(u).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === u[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return u[e];
                },
              }));
        });
      },
      {
        "./drawContour": "PUZ0",
        "./drawDetections": "XmOr",
        "./drawFaceExpressions": "BdXI",
        "./DrawBox": "bcbQ",
        "./DrawFaceLandmarks": "wpyA",
        "./DrawTextField": "WoOq",
      },
    ],
    HkMk: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParams = t);
        var e = require("../common"),
          a = require("../utils");
        function r(a, r) {
          var t = (0, e.extractConvParamsFactory)(a, r),
            o = (0, e.extractSeparableConvParamsFactory)(a, r);
          return {
            extractConvParams: t,
            extractSeparableConvParams: o,
            extractReductionBlockParams: function (e, a, r) {
              return {
                separable_conv0: o(e, a, r + "/separable_conv0"),
                separable_conv1: o(a, a, r + "/separable_conv1"),
                expansion_conv: t(e, a, 1, r + "/expansion_conv"),
              };
            },
            extractMainBlockParams: function (e, a) {
              return {
                separable_conv0: o(e, e, a + "/separable_conv0"),
                separable_conv1: o(e, e, a + "/separable_conv1"),
                separable_conv2: o(e, e, a + "/separable_conv2"),
              };
            },
          };
        }
        function t(t, o) {
          var n = [],
            c = (0, e.extractWeightsFactory)(t),
            l = c.extractWeights,
            _ = c.getRemainingWeights,
            i = r(l, n),
            s = i.extractConvParams,
            v = i.extractSeparableConvParams,
            b = i.extractReductionBlockParams,
            p = i.extractMainBlockParams,
            u = {
              conv_in: s(3, 32, 3, "entry_flow/conv_in"),
              reduction_block_0: b(32, 64, "entry_flow/reduction_block_0"),
              reduction_block_1: b(64, 128, "entry_flow/reduction_block_1"),
            },
            m = {};
          (0, a.range)(o, 0, 1).forEach(function (e) {
            m["main_block_" + e] = p(128, "middle_flow/main_block_" + e);
          });
          var x = {
            reduction_block: b(128, 256, "exit_flow/reduction_block"),
            separable_conv: v(256, 512, "exit_flow/separable_conv"),
          };
          if (0 !== _().length)
            throw new Error("weights remaing after extract: " + _().length);
          return {
            paramMappings: n,
            params: { entry_flow: u, middle_flow: m, exit_flow: x },
          };
        }
      },
      { "../common": "gZ1E", "../utils": "acHD" },
    ],
    DQqn: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMap = n);
        var a = require("../common"),
          e = require("../common/loadConvParamsFactory"),
          r = require("../utils");
        function o(r, o) {
          var n = (0, a.extractWeightEntryFactory)(r, o),
            c = (0, e.loadConvParamsFactory)(n),
            t = (0, a.loadSeparableConvParamsFactory)(n);
          return {
            extractConvParams: c,
            extractSeparableConvParams: t,
            extractReductionBlockParams: function (a) {
              return {
                separable_conv0: t(a + "/separable_conv0"),
                separable_conv1: t(a + "/separable_conv1"),
                expansion_conv: c(a + "/expansion_conv"),
              };
            },
            extractMainBlockParams: function (a) {
              return {
                separable_conv0: t(a + "/separable_conv0"),
                separable_conv1: t(a + "/separable_conv1"),
                separable_conv2: t(a + "/separable_conv2"),
              };
            },
          };
        }
        function n(e, n) {
          var c = [],
            t = o(e, c),
            l = t.extractConvParams,
            _ = t.extractSeparableConvParams,
            s = t.extractReductionBlockParams,
            i = t.extractMainBlockParams,
            v = {
              conv_in: l("entry_flow/conv_in"),
              reduction_block_0: s("entry_flow/reduction_block_0"),
              reduction_block_1: s("entry_flow/reduction_block_1"),
            },
            p = {};
          (0, r.range)(n, 0, 1).forEach(function (a) {
            p["main_block_" + a] = i("middle_flow/main_block_" + a);
          });
          var u = {
            reduction_block: s("exit_flow/reduction_block"),
            separable_conv: _("exit_flow/separable_conv"),
          };
          return (
            (0, a.disposeUnusedWeightTensors)(e, c),
            {
              params: { entry_flow: v, middle_flow: p, exit_flow: u },
              paramMappings: c,
            }
          );
        }
      },
      {
        "../common": "gZ1E",
        "../common/loadConvParamsFactory": "raPJ",
        "../utils": "acHD",
      },
    ],
    eiR5: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.TinyXception = void 0);
        var e = require("tslib"),
          r = p(require("@tensorflow/tfjs-core")),
          t = require("../common"),
          n = require("../dom"),
          o = require("../NeuralNetwork"),
          a = require("../ops"),
          i = require("../utils"),
          u = require("./extractParams"),
          c = require("./extractParamsFromWeigthMap");
        function l(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (l = function (e) {
            return e ? t : r;
          })(e);
        }
        function p(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = l(r);
          if (t && t.has(e)) return t.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var i = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(n, a, i)
                : (n[a] = e[a]);
            }
          return (n.default = e), t && t.set(e, n), n;
        }
        function s(e, t, n) {
          return r.add(r.conv2d(e, t.filters, n, "same"), t.bias);
        }
        function f(e, n, o) {
          void 0 === o && (o = !0);
          var a = o ? r.relu(e) : e;
          return (
            (a = (0, t.depthwiseSeparableConv)(a, n.separable_conv0, [1, 1])),
            (a = (0, t.depthwiseSeparableConv)(
              r.relu(a),
              n.separable_conv1,
              [1, 1]
            )),
            (a = r.maxPool(a, [3, 3], [2, 2], "same")),
            (a = r.add(a, s(e, n.expansion_conv, [2, 2])))
          );
        }
        function d(e, n) {
          var o = (0, t.depthwiseSeparableConv)(
            r.relu(e),
            n.separable_conv0,
            [1, 1]
          );
          return (
            (o = (0, t.depthwiseSeparableConv)(
              r.relu(o),
              n.separable_conv1,
              [1, 1]
            )),
            (o = (0, t.depthwiseSeparableConv)(
              r.relu(o),
              n.separable_conv2,
              [1, 1]
            )),
            (o = r.add(o, e))
          );
        }
        var _ = (function (o) {
          function l(e) {
            var r = o.call(this, "TinyXception") || this;
            return (r._numMainBlocks = e), r;
          }
          return (
            (0, e.__extends)(l, o),
            (l.prototype.forwardInput = function (e) {
              var n = this,
                o = this.params;
              if (!o)
                throw new Error("TinyXception - load model before inference");
              return r.tidy(function () {
                var u = e.toBatchTensor(112, !0),
                  c = (0, a.normalize)(u, [122.782, 117.001, 104.298]).div(
                    r.scalar(256)
                  ),
                  l = r.relu(s(c, o.entry_flow.conv_in, [2, 2]));
                return (
                  (l = f(l, o.entry_flow.reduction_block_0, !1)),
                  (l = f(l, o.entry_flow.reduction_block_1)),
                  (0, i.range)(n._numMainBlocks, 0, 1).forEach(function (e) {
                    l = d(l, o.middle_flow["main_block_" + e]);
                  }),
                  (l = f(l, o.exit_flow.reduction_block)),
                  (l = r.relu(
                    (0, t.depthwiseSeparableConv)(
                      l,
                      o.exit_flow.separable_conv,
                      [1, 1]
                    )
                  ))
                );
              });
            }),
            (l.prototype.forward = function (r) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var t;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (t = this.forwardInput), [4, (0, n.toNetInput)(r)];
                    case 1:
                      return [2, t.apply(this, [e.sent()])];
                  }
                });
              });
            }),
            (l.prototype.getDefaultModelName = function () {
              return "tiny_xception_model";
            }),
            (l.prototype.extractParamsFromWeigthMap = function (e) {
              return (0, c.extractParamsFromWeigthMap)(e, this._numMainBlocks);
            }),
            (l.prototype.extractParams = function (e) {
              return (0, u.extractParams)(e, this._numMainBlocks);
            }),
            l
          );
        })(o.NeuralNetwork);
        exports.TinyXception = _;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../common": "gZ1E",
        "../dom": "F9LC",
        "../NeuralNetwork": "bTJB",
        "../ops": "CGLe",
        "../utils": "acHD",
        "./extractParams": "HkMk",
        "./extractParamsFromWeigthMap": "DQqn",
      },
    ],
    SdwC: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParams = r);
        var e = require("../common");
        function r(r) {
          var t = [],
            a = (0, e.extractWeightsFactory)(r),
            c = a.extractWeights,
            g = a.getRemainingWeights,
            n = (0, e.extractFCParamsFactory)(c, t),
            i = n(512, 1, "fc/age"),
            s = n(512, 2, "fc/gender");
          if (0 !== g().length)
            throw new Error("weights remaing after extract: " + g().length);
          return { paramMappings: t, params: { fc: { age: i, gender: s } } };
        }
      },
      { "../common": "gZ1E" },
    ],
    OVXL: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMap = r);
        var e = require("../common");
        function r(r) {
          var t = [],
            a = (0, e.extractWeightEntryFactory)(r, t);
          function s(e) {
            return { weights: a(e + "/weights", 2), bias: a(e + "/bias", 1) };
          }
          var i = { fc: { age: s("fc/age"), gender: s("fc/gender") } };
          return (
            (0, e.disposeUnusedWeightTensors)(r, t),
            { params: i, paramMappings: t }
          );
        }
      },
      { "../common": "gZ1E" },
    ],
    Ifw1: [
      function (require, module, exports) {
        "use strict";
        var e;
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.Gender = void 0),
          (exports.Gender = e),
          (function (e) {
            (e.FEMALE = "female"), (e.MALE = "male");
          })(e || (exports.Gender = e = {}));
      },
      {},
    ],
    o2hs: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.AgeGenderNet = void 0);
        var e = require("tslib"),
          r = f(require("@tensorflow/tfjs-core")),
          t = require("../common/fullyConnectedLayer"),
          a = require("../faceProcessor/util"),
          n = require("../xception/TinyXception"),
          o = require("./extractParams"),
          i = require("./extractParamsFromWeigthMap"),
          s = require("./types"),
          u = require("../NeuralNetwork"),
          c = require("../dom");
        function p(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (p = function (e) {
            return e ? t : r;
          })(e);
        }
        function f(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = p(r);
          if (t && t.has(e)) return t.get(e);
          var a = {},
            n = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var o in e)
            if ("default" !== o && Object.prototype.hasOwnProperty.call(e, o)) {
              var i = n ? Object.getOwnPropertyDescriptor(e, o) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(a, o, i)
                : (a[o] = e[o]);
            }
          return (a.default = e), t && t.set(e, a), a;
        }
        var d = (function (u) {
          function p(e) {
            void 0 === e && (e = new n.TinyXception(2));
            var r = u.call(this, "AgeGenderNet") || this;
            return (r._faceFeatureExtractor = e), r;
          }
          return (
            (0, e.__extends)(p, u),
            Object.defineProperty(p.prototype, "faceFeatureExtractor", {
              get: function () {
                return this._faceFeatureExtractor;
              },
              enumerable: !0,
              configurable: !0,
            }),
            (p.prototype.runNet = function (e) {
              var a = this,
                n = this.params;
              if (!n)
                throw new Error(this._name + " - load model before inference");
              return r.tidy(function () {
                var o =
                    e instanceof c.NetInput
                      ? a.faceFeatureExtractor.forwardInput(e)
                      : e,
                  i = r
                    .avgPool(o, [7, 7], [2, 2], "valid")
                    .as2D(o.shape[0], -1);
                return {
                  age: (0, t.fullyConnectedLayer)(i, n.fc.age).as1D(),
                  gender: (0, t.fullyConnectedLayer)(i, n.fc.gender),
                };
              });
            }),
            (p.prototype.forwardInput = function (e) {
              var t = this;
              return r.tidy(function () {
                var a = t.runNet(e),
                  n = a.age,
                  o = a.gender;
                return { age: n, gender: r.softmax(o) };
              });
            }),
            (p.prototype.forward = function (r) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var t;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (t = this.forwardInput), [4, (0, c.toNetInput)(r)];
                    case 1:
                      return [2, t.apply(this, [e.sent()])];
                  }
                });
              });
            }),
            (p.prototype.predictAgeAndGender = function (t) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var a,
                  n,
                  o,
                  i,
                  u,
                  p,
                  f = this;
                return (0, e.__generator)(this, function (d) {
                  switch (d.label) {
                    case 0:
                      return [4, (0, c.toNetInput)(t)];
                    case 1:
                      return (a = d.sent()), [4, this.forwardInput(a)];
                    case 2:
                      return (
                        (n = d.sent()),
                        (o = r.unstack(n.age)),
                        (i = r.unstack(n.gender)),
                        (u = o.map(function (e, r) {
                          return { ageTensor: e, genderTensor: i[r] };
                        })),
                        [
                          4,
                          Promise.all(
                            u.map(function (r) {
                              var t = r.ageTensor,
                                a = r.genderTensor;
                              return (0,
                              e.__awaiter)(f, void 0, void 0, function () {
                                var r, n, o, i, u;
                                return (0, e.__generator)(this, function (e) {
                                  switch (e.label) {
                                    case 0:
                                      return [4, t.data()];
                                    case 1:
                                      return (r = e.sent()[0]), [4, a.data()];
                                    case 2:
                                      return (
                                        (n = e.sent()[0]),
                                        (i = (o = n > 0.5)
                                          ? s.Gender.MALE
                                          : s.Gender.FEMALE),
                                        (u = o ? n : 1 - n),
                                        t.dispose(),
                                        a.dispose(),
                                        [
                                          2,
                                          {
                                            age: r,
                                            gender: i,
                                            genderProbability: u,
                                          },
                                        ]
                                      );
                                  }
                                });
                              });
                            })
                          ),
                        ]
                      );
                    case 3:
                      return (
                        (p = d.sent()),
                        n.age.dispose(),
                        n.gender.dispose(),
                        [2, a.isBatchInput ? p : p[0]]
                      );
                  }
                });
              });
            }),
            (p.prototype.getDefaultModelName = function () {
              return "age_gender_model";
            }),
            (p.prototype.dispose = function (e) {
              void 0 === e && (e = !0),
                this.faceFeatureExtractor.dispose(e),
                u.prototype.dispose.call(this, e);
            }),
            (p.prototype.loadClassifierParams = function (e) {
              var r = this.extractClassifierParams(e),
                t = r.params,
                a = r.paramMappings;
              (this._params = t), (this._paramMappings = a);
            }),
            (p.prototype.extractClassifierParams = function (e) {
              return (0, o.extractParams)(e);
            }),
            (p.prototype.extractParamsFromWeigthMap = function (e) {
              var r = (0, a.seperateWeightMaps)(e),
                t = r.featureExtractorMap,
                n = r.classifierMap;
              return (
                this.faceFeatureExtractor.loadFromWeightMap(t),
                (0, i.extractParamsFromWeigthMap)(n)
              );
            }),
            (p.prototype.extractParams = function (e) {
              var r = e.slice(0, e.length - 1539),
                t = e.slice(e.length - 1539);
              return (
                this.faceFeatureExtractor.extractWeights(r),
                this.extractClassifierParams(t)
              );
            }),
            p
          );
        })(u.NeuralNetwork);
        exports.AgeGenderNet = d;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../common/fullyConnectedLayer": "E0V1",
        "../faceProcessor/util": "cSOR",
        "../xception/TinyXception": "eiR5",
        "./extractParams": "SdwC",
        "./extractParamsFromWeigthMap": "OVXL",
        "./types": "Ifw1",
        "../NeuralNetwork": "bTJB",
        "../dom": "F9LC",
      },
    ],
    EEkx: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = require("./AgeGenderNet");
        Object.keys(e).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            ((r in exports && exports[r] === e[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return e[r];
                },
              }));
        });
        var r = require("./types");
        Object.keys(r).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === r[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }));
        });
      },
      { "./AgeGenderNet": "o2hs", "./types": "Ifw1" },
    ],
    Zr6v: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceLandmark68NetBase = void 0);
        var t = require("tslib"),
          r = s(require("@tensorflow/tfjs-core")),
          e = require("../classes"),
          n = require("../classes/FaceLandmarks68"),
          i = require("../dom"),
          u = require("../faceProcessor/FaceProcessor"),
          o = require("../utils");
        function a(t) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            e = new WeakMap();
          return (a = function (t) {
            return t ? e : r;
          })(t);
        }
        function s(t, r) {
          if (!r && t && t.__esModule) return t;
          if (null === t || ("object" != typeof t && "function" != typeof t))
            return { default: t };
          var e = a(r);
          if (e && e.has(t)) return e.get(t);
          var n = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in t)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(t, u)) {
              var o = i ? Object.getOwnPropertyDescriptor(t, u) : null;
              o && (o.get || o.set)
                ? Object.defineProperty(n, u, o)
                : (n[u] = t[u]);
            }
          return (n.default = t), e && e.set(t, n), n;
        }
        var c = (function (u) {
          function a() {
            return (null !== u && u.apply(this, arguments)) || this;
          }
          return (
            (0, t.__extends)(a, u),
            (a.prototype.postProcess = function (t, e, n) {
              var i = n.map(function (t) {
                  var r = t.width,
                    n = t.height,
                    i = e / Math.max(n, r);
                  return { width: r * i, height: n * i };
                }),
                u = i.length;
              return r.tidy(function () {
                var n = function (t, e) {
                    return r
                      .stack([r.fill([68], t), r.fill([68], e)], 1)
                      .as2D(1, 136)
                      .as1D();
                  },
                  o = function (t, r) {
                    var e = i[t],
                      n = e.width,
                      u = e.height;
                    return r(n, u) ? Math.abs(n - u) / 2 : 0;
                  };
                return t
                  .mul(r.fill([u, 136], e))
                  .sub(
                    r.stack(
                      Array.from(Array(u), function (t, r) {
                        return n(
                          (function (t) {
                            return o(t, function (t, r) {
                              return t < r;
                            });
                          })(r),
                          (function (t) {
                            return o(t, function (t, r) {
                              return r < t;
                            });
                          })(r)
                        );
                      })
                    )
                  )
                  .div(
                    r.stack(
                      Array.from(Array(u), function (t, r) {
                        return n(i[r].width, i[r].height);
                      })
                    )
                  );
              });
            }),
            (a.prototype.forwardInput = function (t) {
              var e = this;
              return r.tidy(function () {
                var r = e.runNet(t);
                return e.postProcess(
                  r,
                  t.inputSize,
                  t.inputDimensions.map(function (t) {
                    return { height: t[0], width: t[1] };
                  })
                );
              });
            }),
            (a.prototype.forward = function (r) {
              return (0, t.__awaiter)(this, void 0, void 0, function () {
                var e;
                return (0, t.__generator)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (e = this.forwardInput), [4, (0, i.toNetInput)(r)];
                    case 1:
                      return [2, e.apply(this, [t.sent()])];
                  }
                });
              });
            }),
            (a.prototype.detectLandmarks = function (u) {
              return (0, t.__awaiter)(this, void 0, void 0, function () {
                var a,
                  s,
                  c,
                  f = this;
                return (0, t.__generator)(this, function (p) {
                  switch (p.label) {
                    case 0:
                      return [4, (0, i.toNetInput)(u)];
                    case 1:
                      return (
                        (a = p.sent()),
                        (s = r.tidy(function () {
                          return r.unstack(f.forwardInput(a));
                        })),
                        [
                          4,
                          Promise.all(
                            s.map(function (r, i) {
                              return (0,
                              t.__awaiter)(f, void 0, void 0, function () {
                                var u, s, c, f, p;
                                return (0, t.__generator)(this, function (t) {
                                  switch (t.label) {
                                    case 0:
                                      return (
                                        (c = (s = Array).from), [4, r.data()]
                                      );
                                    case 1:
                                      return (
                                        (u = c.apply(s, [t.sent()])),
                                        (f = u.filter(function (t, r) {
                                          return (0, o.isEven)(r);
                                        })),
                                        (p = u.filter(function (t, r) {
                                          return !(0, o.isEven)(r);
                                        })),
                                        [
                                          2,
                                          new n.FaceLandmarks68(
                                            Array(68)
                                              .fill(0)
                                              .map(function (t, r) {
                                                return new e.Point(f[r], p[r]);
                                              }),
                                            {
                                              height: a.getInputHeight(i),
                                              width: a.getInputWidth(i),
                                            }
                                          ),
                                        ]
                                      );
                                  }
                                });
                              });
                            })
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (c = p.sent()),
                        s.forEach(function (t) {
                          return t.dispose();
                        }),
                        [2, a.isBatchInput ? c : c[0]]
                      );
                  }
                });
              });
            }),
            (a.prototype.getClassifierChannelsOut = function () {
              return 136;
            }),
            a
          );
        })(u.FaceProcessor);
        exports.FaceLandmark68NetBase = c;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../classes": "ywa2",
        "../classes/FaceLandmarks68": "ShfV",
        "../dom": "F9LC",
        "../faceProcessor/FaceProcessor": "xqdl",
        "../utils": "acHD",
      },
    ],
    bacu: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceLandmark68Net = void 0);
        var e = require("tslib"),
          t = require("../faceFeatureExtractor/FaceFeatureExtractor"),
          r = require("./FaceLandmark68NetBase"),
          a = (function (r) {
            function a(e) {
              return (
                void 0 === e && (e = new t.FaceFeatureExtractor()),
                r.call(this, "FaceLandmark68Net", e) || this
              );
            }
            return (
              (0, e.__extends)(a, r),
              (a.prototype.getDefaultModelName = function () {
                return "face_landmark_68_model";
              }),
              (a.prototype.getClassifierChannelsIn = function () {
                return 256;
              }),
              a
            );
          })(r.FaceLandmark68NetBase);
        exports.FaceLandmark68Net = a;
      },
      {
        tslib: "vCxL",
        "../faceFeatureExtractor/FaceFeatureExtractor": "aP46",
        "./FaceLandmark68NetBase": "Zr6v",
      },
    ],
    g0eO: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMapTiny = a);
        var e = require("../common"),
          r = require("./loadParamsFactory");
        function a(a) {
          var s = [],
            n = (0, r.loadParamsFactory)(a, s).extractDenseBlock3Params,
            t = {
              dense0: n("dense0", !0),
              dense1: n("dense1"),
              dense2: n("dense2"),
            };
          return (
            (0, e.disposeUnusedWeightTensors)(a, s),
            { params: t, paramMappings: s }
          );
        }
      },
      { "../common": "gZ1E", "./loadParamsFactory": "OQsn" },
    ],
    SHTC: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsTiny = t);
        var e = require("../common"),
          r = require("./extractorsFactory");
        function t(t) {
          var a = [],
            s = (0, e.extractWeightsFactory)(t),
            n = s.extractWeights,
            c = s.getRemainingWeights,
            i = (0, r.extractorsFactory)(n, a).extractDenseBlock3Params,
            o = i(3, 32, "dense0", !0),
            g = i(32, 64, "dense1"),
            x = i(64, 128, "dense2");
          if (0 !== c().length)
            throw new Error("weights remaing after extract: " + c().length);
          return {
            paramMappings: a,
            params: { dense0: o, dense1: g, dense2: x },
          };
        }
      },
      { "../common": "gZ1E", "./extractorsFactory": "gRcI" },
    ],
    aZ30: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.TinyFaceFeatureExtractor = void 0);
        var e = require("tslib"),
          r = s(require("@tensorflow/tfjs-core")),
          t = require("../dom"),
          n = require("../NeuralNetwork"),
          o = require("../ops"),
          a = require("./denseBlock"),
          i = require("./extractParamsFromWeigthMapTiny"),
          u = require("./extractParamsTiny");
        function c(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (c = function (e) {
            return e ? t : r;
          })(e);
        }
        function s(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = c(r);
          if (t && t.has(e)) return t.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var i = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(n, a, i)
                : (n[a] = e[a]);
            }
          return (n.default = e), t && t.set(e, n), n;
        }
        var f = (function (n) {
          function c() {
            return n.call(this, "TinyFaceFeatureExtractor") || this;
          }
          return (
            (0, e.__extends)(c, n),
            (c.prototype.forwardInput = function (e) {
              var t = this.params;
              if (!t)
                throw new Error(
                  "TinyFaceFeatureExtractor - load model before inference"
                );
              return r.tidy(function () {
                var n = e.toBatchTensor(112, !0),
                  i = (0, o.normalize)(n, [122.782, 117.001, 104.298]).div(
                    r.scalar(255)
                  ),
                  u = (0, a.denseBlock3)(i, t.dense0, !0);
                return (
                  (u = (0, a.denseBlock3)(u, t.dense1)),
                  (u = (0, a.denseBlock3)(u, t.dense2)),
                  (u = r.avgPool(u, [14, 14], [2, 2], "valid"))
                );
              });
            }),
            (c.prototype.forward = function (r) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var n;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (n = this.forwardInput), [4, (0, t.toNetInput)(r)];
                    case 1:
                      return [2, n.apply(this, [e.sent()])];
                  }
                });
              });
            }),
            (c.prototype.getDefaultModelName = function () {
              return "face_feature_extractor_tiny_model";
            }),
            (c.prototype.extractParamsFromWeigthMap = function (e) {
              return (0, i.extractParamsFromWeigthMapTiny)(e);
            }),
            (c.prototype.extractParams = function (e) {
              return (0, u.extractParamsTiny)(e);
            }),
            c
          );
        })(n.NeuralNetwork);
        exports.TinyFaceFeatureExtractor = f;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../dom": "F9LC",
        "../NeuralNetwork": "bTJB",
        "../ops": "CGLe",
        "./denseBlock": "RQeH",
        "./extractParamsFromWeigthMapTiny": "g0eO",
        "./extractParamsTiny": "SHTC",
      },
    ],
    TU0Q: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceLandmark68TinyNet = void 0);
        var e = require("tslib"),
          t = require("../faceFeatureExtractor/TinyFaceFeatureExtractor"),
          r = require("./FaceLandmark68NetBase"),
          a = (function (r) {
            function a(e) {
              return (
                void 0 === e && (e = new t.TinyFaceFeatureExtractor()),
                r.call(this, "FaceLandmark68TinyNet", e) || this
              );
            }
            return (
              (0, e.__extends)(a, r),
              (a.prototype.getDefaultModelName = function () {
                return "face_landmark_68_tiny_model";
              }),
              (a.prototype.getClassifierChannelsIn = function () {
                return 128;
              }),
              a
            );
          })(r.FaceLandmark68NetBase);
        exports.FaceLandmark68TinyNet = a;
      },
      {
        tslib: "vCxL",
        "../faceFeatureExtractor/TinyFaceFeatureExtractor": "aZ30",
        "./FaceLandmark68NetBase": "Zr6v",
      },
    ],
    DBMC: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = { FaceLandmarkNet: !0 };
        exports.FaceLandmarkNet = void 0;
        var t = require("tslib"),
          r = require("./FaceLandmark68Net");
        Object.keys(r).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === r[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return r[t];
                },
              }));
        });
        var a = require("./FaceLandmark68TinyNet");
        Object.keys(a).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === a[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return a[t];
                },
              }));
        });
        var n = (function (e) {
          function r() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (0, t.__extends)(r, e), r;
        })(r.FaceLandmark68Net);
        exports.FaceLandmarkNet = n;
      },
      {
        tslib: "vCxL",
        "./FaceLandmark68Net": "bacu",
        "./FaceLandmark68TinyNet": "TU0Q",
      },
    ],
    O86J: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.scale = n);
        var e = r(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function r(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var f in e)
            if ("default" !== f && Object.prototype.hasOwnProperty.call(e, f)) {
              var a = u ? Object.getOwnPropertyDescriptor(e, f) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(o, f, a)
                : (o[f] = e[f]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(t, r) {
          return e.add(e.mul(t, r.weights), r.biases);
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    lff0: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.conv = u),
          (exports.convDown = a),
          (exports.convNoRelu = c);
        var e = n(require("@tensorflow/tfjs-core")),
          r = require("./scaleLayer");
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function n(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var c in e)
            if ("default" !== c && Object.prototype.hasOwnProperty.call(e, c)) {
              var a = u ? Object.getOwnPropertyDescriptor(e, c) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(o, c, a)
                : (o[c] = e[c]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function o(t, n, o, u, c) {
          void 0 === c && (c = "same");
          var a = n.conv,
            f = a.filters,
            i = a.bias,
            l = e.conv2d(t, f, o, c);
          return (
            (l = e.add(l, i)), (l = (0, r.scale)(l, n.scale)), u ? e.relu(l) : l
          );
        }
        function u(e, r) {
          return o(e, r, [1, 1], !0);
        }
        function c(e, r) {
          return o(e, r, [1, 1], !1);
        }
        function a(e, r) {
          return o(e, r, [2, 2], !0, "valid");
        }
      },
      { "@tensorflow/tfjs-core": "FZBM", "./scaleLayer": "O86J" },
    ],
    xFQc: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParams = c);
        var n = o(require("@tensorflow/tfjs-core")),
          e = require("../common"),
          t = require("../utils");
        function r(n) {
          if ("function" != typeof WeakMap) return null;
          var e = new WeakMap(),
            t = new WeakMap();
          return (r = function (n) {
            return n ? t : e;
          })(n);
        }
        function o(n, e) {
          if (!e && n && n.__esModule) return n;
          if (null === n || ("object" != typeof n && "function" != typeof n))
            return { default: n };
          var t = r(e);
          if (t && t.has(n)) return t.get(n);
          var o = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var c in n)
            if ("default" !== c && Object.prototype.hasOwnProperty.call(n, c)) {
              var i = a ? Object.getOwnPropertyDescriptor(n, c) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(o, c, i)
                : (o[c] = n[c]);
            }
          return (o.default = n), t && t.set(n, o), o;
        }
        function a(e, r) {
          function o(o, a, c, i) {
            var s = (function (r, o, a) {
                var c = e(r),
                  i = c.length / (o * a * a);
                if ((0, t.isFloat)(i))
                  throw new Error(
                    "depth has to be an integer: " +
                      i +
                      ", weights.length: " +
                      c.length +
                      ", numFilters: " +
                      o +
                      ", filterSize: " +
                      a
                  );
                return n.tidy(function () {
                  return n.transpose(n.tensor4d(c, [o, i, a, a]), [2, 3, 1, 0]);
                });
              })(o, a, c),
              u = n.tensor1d(e(a));
            return (
              r.push({ paramPath: i + "/filters" }, { paramPath: i + "/bias" }),
              { filters: s, bias: u }
            );
          }
          function a(t, a, c, i) {
            return {
              conv: o(t, a, c, i + "/conv"),
              scale: (function (t, o) {
                var a = n.tensor1d(e(t)),
                  c = n.tensor1d(e(t));
                return (
                  r.push(
                    { paramPath: o + "/weights" },
                    { paramPath: o + "/biases" }
                  ),
                  { weights: a, biases: c }
                );
              })(a, i + "/scale"),
            };
          }
          return {
            extractConvLayerParams: a,
            extractResidualLayerParams: function (n, e, t, r, o) {
              return (
                void 0 === o && (o = !1),
                {
                  conv1: a((o ? 0.5 : 1) * n, e, t, r + "/conv1"),
                  conv2: a(n, e, t, r + "/conv2"),
                }
              );
            },
          };
        }
        function c(t) {
          var r = (0, e.extractWeightsFactory)(t),
            o = r.extractWeights,
            c = r.getRemainingWeights,
            i = [],
            s = a(o, i),
            u = s.extractConvLayerParams,
            v = s.extractResidualLayerParams,
            f = u(4704, 32, 7, "conv32_down"),
            _ = v(9216, 32, 3, "conv32_1"),
            p = v(9216, 32, 3, "conv32_2"),
            l = v(9216, 32, 3, "conv32_3"),
            d = v(36864, 64, 3, "conv64_down", !0),
            h = v(36864, 64, 3, "conv64_1"),
            w = v(36864, 64, 3, "conv64_2"),
            g = v(36864, 64, 3, "conv64_3"),
            m = v(147456, 128, 3, "conv128_down", !0),
            y = v(147456, 128, 3, "conv128_1"),
            P = v(147456, 128, 3, "conv128_2"),
            b = v(589824, 256, 3, "conv256_down", !0),
            x = v(589824, 256, 3, "conv256_1"),
            O = v(589824, 256, 3, "conv256_2"),
            j = v(589824, 256, 3, "conv256_down_out"),
            M = n.tidy(function () {
              return n.transpose(n.tensor2d(o(32768), [128, 256]), [1, 0]);
            });
          if ((i.push({ paramPath: "fc" }), 0 !== c().length))
            throw new Error("weights remaing after extract: " + c().length);
          return {
            params: {
              conv32_down: f,
              conv32_1: _,
              conv32_2: p,
              conv32_3: l,
              conv64_down: d,
              conv64_1: h,
              conv64_2: w,
              conv64_3: g,
              conv128_down: m,
              conv128_1: y,
              conv128_2: P,
              conv256_down: b,
              conv256_1: x,
              conv256_2: O,
              conv256_down_out: j,
              fc: M,
            },
            paramMappings: i,
          };
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../common": "gZ1E",
        "../utils": "acHD",
      },
    ],
    aTVl: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMap = e);
        var n = require("../common"),
          o = require("../utils");
        function c(o, c) {
          var e = (0, n.extractWeightEntryFactory)(o, c);
          function r(n) {
            return {
              conv: {
                filters: e(n + "/conv/filters", 4),
                bias: e(n + "/conv/bias", 1),
              },
              scale: (function (n) {
                return {
                  weights: e(n + "/scale/weights", 1),
                  biases: e(n + "/scale/biases", 1),
                };
              })(n),
            };
          }
          return {
            extractConvLayerParams: r,
            extractResidualLayerParams: function (n) {
              return { conv1: r(n + "/conv1"), conv2: r(n + "/conv2") };
            },
          };
        }
        function e(e) {
          var r = [],
            a = c(e, r),
            t = a.extractConvLayerParams,
            v = a.extractResidualLayerParams,
            s = t("conv32_down"),
            _ = v("conv32_1"),
            i = v("conv32_2"),
            u = v("conv32_3"),
            d = v("conv64_down"),
            w = v("conv64_1"),
            f = v("conv64_2"),
            p = v("conv64_3"),
            h = v("conv128_down"),
            l = v("conv128_1"),
            m = v("conv128_2"),
            x = v("conv256_down"),
            g = v("conv256_1"),
            P = v("conv256_2"),
            y = v("conv256_down_out"),
            b = e.fc;
          if (
            (r.push({ originalPath: "fc", paramPath: "fc" }),
            !(0, o.isTensor2D)(b))
          )
            throw new Error(
              "expected weightMap[fc] to be a Tensor2D, instead have " + b
            );
          var L = {
            conv32_down: s,
            conv32_1: _,
            conv32_2: i,
            conv32_3: u,
            conv64_down: d,
            conv64_1: w,
            conv64_2: f,
            conv64_3: p,
            conv128_down: h,
            conv128_1: l,
            conv128_2: m,
            conv256_down: x,
            conv256_1: g,
            conv256_2: P,
            conv256_down_out: y,
            fc: b,
          };
          return (
            (0, n.disposeUnusedWeightTensors)(e, r),
            { params: L, paramMappings: r }
          );
        }
      },
      { "../common": "gZ1E", "../utils": "acHD" },
    ],
    o0DO: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.residual = a),
          (exports.residualDown = u);
        var e = require("tslib"),
          r = n(require("@tensorflow/tfjs-core")),
          t = require("./convLayer");
        function o(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (o = function (e) {
            return e ? t : r;
          })(e);
        }
        function n(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = o(r);
          if (t && t.has(e)) return t.get(e);
          var n = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var c = a ? Object.getOwnPropertyDescriptor(e, u) : null;
              c && (c.get || c.set)
                ? Object.defineProperty(n, u, c)
                : (n[u] = e[u]);
            }
          return (n.default = e), t && t.set(e, n), n;
        }
        function a(e, o) {
          var n = (0, t.conv)(e, o.conv1);
          return (
            (n = (0, t.convNoRelu)(n, o.conv2)),
            (n = r.add(n, e)),
            (n = r.relu(n))
          );
        }
        function u(o, n) {
          var a = (0, t.convDown)(o, n.conv1);
          a = (0, t.convNoRelu)(a, n.conv2);
          var u = r.avgPool(o, 2, 2, "valid"),
            c = r.zeros(u.shape),
            s = u.shape[3] !== a.shape[3];
          if (u.shape[1] !== a.shape[1] || u.shape[2] !== a.shape[2]) {
            var p = (0, e.__spreadArrays)(a.shape);
            p[1] = 1;
            var i = r.zeros(p);
            a = r.concat([a, i], 1);
            var f = (0, e.__spreadArrays)(a.shape);
            f[2] = 1;
            var v = r.zeros(f);
            a = r.concat([a, v], 2);
          }
          return (
            (u = s ? r.concat([u, c], 3) : u),
            (a = r.add(u, a)),
            (a = r.relu(a))
          );
        }
      },
      { tslib: "vCxL", "@tensorflow/tfjs-core": "FZBM", "./convLayer": "lff0" },
    ],
    A8XY: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceRecognitionNet = void 0);
        var e = require("tslib"),
          r = l(require("@tensorflow/tfjs-core")),
          t = require("../dom"),
          n = require("../NeuralNetwork"),
          o = require("../ops"),
          a = require("./convLayer"),
          i = require("./extractParams"),
          u = require("./extractParamsFromWeigthMap"),
          c = require("./residualLayer");
        function s(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (s = function (e) {
            return e ? t : r;
          })(e);
        }
        function l(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = s(r);
          if (t && t.has(e)) return t.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var i = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(n, a, i)
                : (n[a] = e[a]);
            }
          return (n.default = e), t && t.set(e, n), n;
        }
        var d = (function (n) {
          function s() {
            return n.call(this, "FaceRecognitionNet") || this;
          }
          return (
            (0, e.__extends)(s, n),
            (s.prototype.forwardInput = function (e) {
              var t = this.params;
              if (!t)
                throw new Error(
                  "FaceRecognitionNet - load model before inference"
                );
              return r.tidy(function () {
                var n = e.toBatchTensor(150, !0).toFloat(),
                  i = (0, o.normalize)(n, [122.782, 117.001, 104.298]).div(
                    r.scalar(256)
                  ),
                  u = (0, a.convDown)(i, t.conv32_down);
                (u = r.maxPool(u, 3, 2, "valid")),
                  (u = (0, c.residual)(u, t.conv32_1)),
                  (u = (0, c.residual)(u, t.conv32_2)),
                  (u = (0, c.residual)(u, t.conv32_3)),
                  (u = (0, c.residualDown)(u, t.conv64_down)),
                  (u = (0, c.residual)(u, t.conv64_1)),
                  (u = (0, c.residual)(u, t.conv64_2)),
                  (u = (0, c.residual)(u, t.conv64_3)),
                  (u = (0, c.residualDown)(u, t.conv128_down)),
                  (u = (0, c.residual)(u, t.conv128_1)),
                  (u = (0, c.residual)(u, t.conv128_2)),
                  (u = (0, c.residualDown)(u, t.conv256_down)),
                  (u = (0, c.residual)(u, t.conv256_1)),
                  (u = (0, c.residual)(u, t.conv256_2));
                var s = (u = (0, c.residualDown)(u, t.conv256_down_out)).mean([
                  1, 2,
                ]);
                return r.matMul(s, t.fc);
              });
            }),
            (s.prototype.forward = function (r) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var n;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (n = this.forwardInput), [4, (0, t.toNetInput)(r)];
                    case 1:
                      return [2, n.apply(this, [e.sent()])];
                  }
                });
              });
            }),
            (s.prototype.computeFaceDescriptor = function (n) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var o,
                  a,
                  i,
                  u = this;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, (0, t.toNetInput)(n)];
                    case 1:
                      return (
                        (o = e.sent()),
                        (a = r.tidy(function () {
                          return r.unstack(u.forwardInput(o));
                        })),
                        [
                          4,
                          Promise.all(
                            a.map(function (e) {
                              return e.data();
                            })
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (i = e.sent()),
                        a.forEach(function (e) {
                          return e.dispose();
                        }),
                        [2, o.isBatchInput ? i : i[0]]
                      );
                  }
                });
              });
            }),
            (s.prototype.getDefaultModelName = function () {
              return "face_recognition_model";
            }),
            (s.prototype.extractParamsFromWeigthMap = function (e) {
              return (0, u.extractParamsFromWeigthMap)(e);
            }),
            (s.prototype.extractParams = function (e) {
              return (0, i.extractParams)(e);
            }),
            s
          );
        })(n.NeuralNetwork);
        exports.FaceRecognitionNet = d;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../dom": "F9LC",
        "../NeuralNetwork": "bTJB",
        "../ops": "CGLe",
        "./convLayer": "lff0",
        "./extractParams": "xFQc",
        "./extractParamsFromWeigthMap": "aTVl",
        "./residualLayer": "o0DO",
      },
    ],
    bYao: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = { createFaceRecognitionNet: !0 };
        exports.createFaceRecognitionNet = r;
        var t = require("./FaceRecognitionNet");
        function r(e) {
          var r = new t.FaceRecognitionNet();
          return r.extractWeights(e), r;
        }
        Object.keys(t).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === t[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return t[r];
                },
              }));
        });
      },
      { "./FaceRecognitionNet": "A8XY" },
    ],
    VXGS: [
      function (require, module, exports) {
        "use strict";
        function e(e, t) {
          var r = { descriptor: t };
          return Object.assign({}, e, r);
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extendWithFaceDescriptor = e);
      },
      {},
    ],
    rdnN: [
      function (require, module, exports) {
        "use strict";
        function e(e) {
          return "number" == typeof e.age;
        }
        function t(e, t) {
          var r = { age: t };
          return Object.assign({}, e, r);
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extendWithAge = t),
          (exports.isWithAge = e);
      },
      {},
    ],
    cjMs: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extendWithGender = i),
          (exports.isWithGender = t);
        var e = require("../ageGenderNet/types"),
          r = require("../utils");
        function t(t) {
          return (
            (t.gender === e.Gender.MALE || t.gender === e.Gender.FEMALE) &&
            (0, r.isValidProbablitiy)(t.genderProbability)
          );
        }
        function i(e, r, t) {
          var i = { gender: r, genderProbability: t };
          return Object.assign({}, e, i);
        }
      },
      { "../ageGenderNet/types": "Ifw1", "../utils": "acHD" },
    ],
    bBQL: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = require("./WithFaceDescriptor");
        Object.keys(e).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            ((r in exports && exports[r] === e[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return e[r];
                },
              }));
        });
        var r = require("./WithFaceDetection");
        Object.keys(r).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === r[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }));
        });
        var t = require("./WithFaceExpressions");
        Object.keys(t).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === t[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return t[e];
                },
              }));
        });
        var o = require("./WithFaceLandmarks");
        Object.keys(o).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === o[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return o[e];
                },
              }));
        });
        var n = require("./WithAge");
        Object.keys(n).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === n[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return n[e];
                },
              }));
        });
        var u = require("./WithGender");
        Object.keys(u).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === u[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return u[e];
                },
              }));
        });
      },
      {
        "./WithFaceDescriptor": "VXGS",
        "./WithFaceDetection": "ufye",
        "./WithFaceExpressions": "KSS7",
        "./WithFaceLandmarks": "bw0I",
        "./WithAge": "rdnN",
        "./WithGender": "cjMs",
      },
    ],
    Idgp: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.MtcnnOptions = void 0);
        var e = (function () {
          function e(e) {
            var t = void 0 === e ? {} : e,
              r = t.minFaceSize,
              s = t.scaleFactor,
              o = t.maxNumScales,
              n = t.scoreThresholds,
              a = t.scaleSteps;
            if (
              ((this._name = "MtcnnOptions"),
              (this._minFaceSize = r || 20),
              (this._scaleFactor = s || 0.709),
              (this._maxNumScales = o || 10),
              (this._scoreThresholds = n || [0.6, 0.7, 0.7]),
              (this._scaleSteps = a),
              "number" != typeof this._minFaceSize || this._minFaceSize < 0)
            )
              throw new Error(
                this._name + " - expected minFaceSize to be a number > 0"
              );
            if (
              "number" != typeof this._scaleFactor ||
              this._scaleFactor <= 0 ||
              this._scaleFactor >= 1
            )
              throw new Error(
                this._name +
                  " - expected scaleFactor to be a number between 0 and 1"
              );
            if ("number" != typeof this._maxNumScales || this._maxNumScales < 0)
              throw new Error(
                this._name + " - expected maxNumScales to be a number > 0"
              );
            if (
              !Array.isArray(this._scoreThresholds) ||
              3 !== this._scoreThresholds.length ||
              this._scoreThresholds.some(function (e) {
                return "number" != typeof e;
              })
            )
              throw new Error(
                this._name +
                  " - expected scoreThresholds to be an array of numbers of length 3"
              );
            if (
              this._scaleSteps &&
              (!Array.isArray(this._scaleSteps) ||
                this._scaleSteps.some(function (e) {
                  return "number" != typeof e;
                }))
            )
              throw new Error(
                this._name + " - expected scaleSteps to be an array of numbers"
              );
          }
          return (
            Object.defineProperty(e.prototype, "minFaceSize", {
              get: function () {
                return this._minFaceSize;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "scaleFactor", {
              get: function () {
                return this._scaleFactor;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "maxNumScales", {
              get: function () {
                return this._maxNumScales;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "scoreThresholds", {
              get: function () {
                return this._scoreThresholds;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "scaleSteps", {
              get: function () {
                return this._scaleSteps;
              },
              enumerable: !0,
              configurable: !0,
            }),
            e
          );
        })();
        exports.MtcnnOptions = e;
      },
      {},
    ],
    gCnX: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParams = c);
        var r = t(require("@tensorflow/tfjs-core")),
          e = require("../common");
        function o(r) {
          if ("function" != typeof WeakMap) return null;
          var e = new WeakMap(),
            t = new WeakMap();
          return (o = function (r) {
            return r ? t : e;
          })(r);
        }
        function t(r, e) {
          if (!e && r && r.__esModule) return r;
          if (null === r || ("object" != typeof r && "function" != typeof r))
            return { default: r };
          var t = o(e);
          if (t && t.has(r)) return t.get(r);
          var n = {},
            c = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in r)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(r, i)) {
              var _ = c ? Object.getOwnPropertyDescriptor(r, i) : null;
              _ && (_.get || _.set)
                ? Object.defineProperty(n, i, _)
                : (n[i] = r[i]);
            }
          return (n.default = r), t && t.set(r, n), n;
        }
        function n(e, o) {
          function t(t, n, c, i, _) {
            var a = r.tensor4d(e(t * n * c * c), [c, c, t, n]),
              p = r.tensor1d(e(n));
            return (
              o.push(
                { paramPath: i + "/filters" },
                { paramPath: i + "/" + (_ ? "batch_norm_offset" : "bias") }
              ),
              { filters: a, bias: p }
            );
          }
          function n(r, e, o, n) {
            var c = t(r, e, o, n, !0);
            return { filters: c.filters, batch_norm_offset: c.bias };
          }
          function c(t, c, i) {
            return {
              depthwise_conv: (function (t, n) {
                var c = r.tensor4d(e(9 * t), [3, 3, t, 1]),
                  i = r.tensor1d(e(t)),
                  _ = r.tensor1d(e(t)),
                  a = r.tensor1d(e(t)),
                  p = r.tensor1d(e(t));
                return (
                  o.push(
                    { paramPath: n + "/filters" },
                    { paramPath: n + "/batch_norm_scale" },
                    { paramPath: n + "/batch_norm_offset" },
                    { paramPath: n + "/batch_norm_mean" },
                    { paramPath: n + "/batch_norm_variance" }
                  ),
                  {
                    filters: c,
                    batch_norm_scale: i,
                    batch_norm_offset: _,
                    batch_norm_mean: a,
                    batch_norm_variance: p,
                  }
                );
              })(t, i + "/depthwise_conv"),
              pointwise_conv: n(t, c, 1, i + "/pointwise_conv"),
            };
          }
          return {
            extractMobilenetV1Params: function () {
              return {
                conv_0: n(3, 32, 3, "mobilenetv1/conv_0"),
                conv_1: c(32, 64, "mobilenetv1/conv_1"),
                conv_2: c(64, 128, "mobilenetv1/conv_2"),
                conv_3: c(128, 128, "mobilenetv1/conv_3"),
                conv_4: c(128, 256, "mobilenetv1/conv_4"),
                conv_5: c(256, 256, "mobilenetv1/conv_5"),
                conv_6: c(256, 512, "mobilenetv1/conv_6"),
                conv_7: c(512, 512, "mobilenetv1/conv_7"),
                conv_8: c(512, 512, "mobilenetv1/conv_8"),
                conv_9: c(512, 512, "mobilenetv1/conv_9"),
                conv_10: c(512, 512, "mobilenetv1/conv_10"),
                conv_11: c(512, 512, "mobilenetv1/conv_11"),
                conv_12: c(512, 1024, "mobilenetv1/conv_12"),
                conv_13: c(1024, 1024, "mobilenetv1/conv_13"),
              };
            },
            extractPredictionLayerParams: function () {
              return {
                conv_0: n(1024, 256, 1, "prediction_layer/conv_0"),
                conv_1: n(256, 512, 3, "prediction_layer/conv_1"),
                conv_2: n(512, 128, 1, "prediction_layer/conv_2"),
                conv_3: n(128, 256, 3, "prediction_layer/conv_3"),
                conv_4: n(256, 128, 1, "prediction_layer/conv_4"),
                conv_5: n(128, 256, 3, "prediction_layer/conv_5"),
                conv_6: n(256, 64, 1, "prediction_layer/conv_6"),
                conv_7: n(64, 128, 3, "prediction_layer/conv_7"),
                box_predictor_0: {
                  box_encoding_predictor: t(
                    512,
                    12,
                    1,
                    "prediction_layer/box_predictor_0/box_encoding_predictor"
                  ),
                  class_predictor: t(
                    512,
                    9,
                    1,
                    "prediction_layer/box_predictor_0/class_predictor"
                  ),
                },
                box_predictor_1: {
                  box_encoding_predictor: t(
                    1024,
                    24,
                    1,
                    "prediction_layer/box_predictor_1/box_encoding_predictor"
                  ),
                  class_predictor: t(
                    1024,
                    18,
                    1,
                    "prediction_layer/box_predictor_1/class_predictor"
                  ),
                },
                box_predictor_2: {
                  box_encoding_predictor: t(
                    512,
                    24,
                    1,
                    "prediction_layer/box_predictor_2/box_encoding_predictor"
                  ),
                  class_predictor: t(
                    512,
                    18,
                    1,
                    "prediction_layer/box_predictor_2/class_predictor"
                  ),
                },
                box_predictor_3: {
                  box_encoding_predictor: t(
                    256,
                    24,
                    1,
                    "prediction_layer/box_predictor_3/box_encoding_predictor"
                  ),
                  class_predictor: t(
                    256,
                    18,
                    1,
                    "prediction_layer/box_predictor_3/class_predictor"
                  ),
                },
                box_predictor_4: {
                  box_encoding_predictor: t(
                    256,
                    24,
                    1,
                    "prediction_layer/box_predictor_4/box_encoding_predictor"
                  ),
                  class_predictor: t(
                    256,
                    18,
                    1,
                    "prediction_layer/box_predictor_4/class_predictor"
                  ),
                },
                box_predictor_5: {
                  box_encoding_predictor: t(
                    128,
                    24,
                    1,
                    "prediction_layer/box_predictor_5/box_encoding_predictor"
                  ),
                  class_predictor: t(
                    128,
                    18,
                    1,
                    "prediction_layer/box_predictor_5/class_predictor"
                  ),
                },
              };
            },
          };
        }
        function c(o) {
          var t = [],
            c = (0, e.extractWeightsFactory)(o),
            i = c.extractWeights,
            _ = c.getRemainingWeights,
            a = n(i, t),
            p = a.extractMobilenetV1Params,
            d = a.extractPredictionLayerParams,
            s = p(),
            l = d(),
            v = { extra_dim: r.tensor3d(i(20472), [1, 5118, 4]) };
          if (
            (t.push({ paramPath: "output_layer/extra_dim" }), 0 !== _().length)
          )
            throw new Error("weights remaing after extract: " + _().length);
          return {
            params: { mobilenetv1: s, prediction_layer: l, output_layer: v },
            paramMappings: t,
          };
        }
      },
      { "@tensorflow/tfjs-core": "FZBM", "../common": "gZ1E" },
    ],
    bPy0: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMap = t);
        var e = require("../common"),
          o = require("../utils");
        function r(o, r) {
          var t = (0, e.extractWeightEntryFactory)(o, r);
          function n(e, o, r) {
            return {
              filters: t(
                e + "/Conv2d_" + o + "_pointwise/weights",
                4,
                r + "/filters"
              ),
              batch_norm_offset: t(
                e + "/Conv2d_" + o + "_pointwise/convolution_bn_offset",
                1,
                r + "/batch_norm_offset"
              ),
            };
          }
          function i(e) {
            var o = "mobilenetv1/conv_" + e,
              r = "MobilenetV1/Conv2d_" + e + "_depthwise",
              i = o + "/depthwise_conv",
              c = o + "/pointwise_conv";
            return {
              depthwise_conv: {
                filters: t(r + "/depthwise_weights", 4, i + "/filters"),
                batch_norm_scale: t(
                  r + "/BatchNorm/gamma",
                  1,
                  i + "/batch_norm_scale"
                ),
                batch_norm_offset: t(
                  r + "/BatchNorm/beta",
                  1,
                  i + "/batch_norm_offset"
                ),
                batch_norm_mean: t(
                  r + "/BatchNorm/moving_mean",
                  1,
                  i + "/batch_norm_mean"
                ),
                batch_norm_variance: t(
                  r + "/BatchNorm/moving_variance",
                  1,
                  i + "/batch_norm_variance"
                ),
              },
              pointwise_conv: n("MobilenetV1", e, c),
            };
          }
          function c(e, o) {
            return {
              filters: t(e + "/weights", 4, o + "/filters"),
              bias: t(e + "/biases", 1, o + "/bias"),
            };
          }
          function _(e) {
            return {
              box_encoding_predictor: c(
                "Prediction/BoxPredictor_" + e + "/BoxEncodingPredictor",
                "prediction_layer/box_predictor_" +
                  e +
                  "/box_encoding_predictor"
              ),
              class_predictor: c(
                "Prediction/BoxPredictor_" + e + "/ClassPredictor",
                "prediction_layer/box_predictor_" + e + "/class_predictor"
              ),
            };
          }
          return {
            extractMobilenetV1Params: function () {
              return {
                conv_0: n("MobilenetV1", 0, "mobilenetv1/conv_0"),
                conv_1: i(1),
                conv_2: i(2),
                conv_3: i(3),
                conv_4: i(4),
                conv_5: i(5),
                conv_6: i(6),
                conv_7: i(7),
                conv_8: i(8),
                conv_9: i(9),
                conv_10: i(10),
                conv_11: i(11),
                conv_12: i(12),
                conv_13: i(13),
              };
            },
            extractPredictionLayerParams: function () {
              return {
                conv_0: n("Prediction", 0, "prediction_layer/conv_0"),
                conv_1: n("Prediction", 1, "prediction_layer/conv_1"),
                conv_2: n("Prediction", 2, "prediction_layer/conv_2"),
                conv_3: n("Prediction", 3, "prediction_layer/conv_3"),
                conv_4: n("Prediction", 4, "prediction_layer/conv_4"),
                conv_5: n("Prediction", 5, "prediction_layer/conv_5"),
                conv_6: n("Prediction", 6, "prediction_layer/conv_6"),
                conv_7: n("Prediction", 7, "prediction_layer/conv_7"),
                box_predictor_0: _(0),
                box_predictor_1: _(1),
                box_predictor_2: _(2),
                box_predictor_3: _(3),
                box_predictor_4: _(4),
                box_predictor_5: _(5),
              };
            },
          };
        }
        function t(t) {
          var n = [],
            i = r(t, n),
            c = i.extractMobilenetV1Params,
            _ = i.extractPredictionLayerParams,
            a = t["Output/extra_dim"];
          if (
            (n.push({
              originalPath: "Output/extra_dim",
              paramPath: "output_layer/extra_dim",
            }),
            !(0, o.isTensor3D)(a))
          )
            throw new Error(
              "expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have " +
                a
            );
          var d = {
            mobilenetv1: c(),
            prediction_layer: _(),
            output_layer: { extra_dim: a },
          };
          return (
            (0, e.disposeUnusedWeightTensors)(t, n),
            { params: d, paramMappings: n }
          );
        }
      },
      { "../common": "gZ1E", "../utils": "acHD" },
    ],
    XeL0: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.pointwiseConvLayer = n);
        var e = r(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function r(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var f in e)
            if ("default" !== f && Object.prototype.hasOwnProperty.call(e, f)) {
              var a = u ? Object.getOwnPropertyDescriptor(e, f) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(o, f, a)
                : (o[f] = e[f]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(t, r, n) {
          return e.tidy(function () {
            var o = e.conv2d(t, r.filters, n, "same");
            return (o = e.add(o, r.batch_norm_offset)), e.clipByValue(o, 0, 6);
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    VwkV: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.mobileNetV1 = u);
        var e = r(require("@tensorflow/tfjs-core")),
          n = require("./pointwiseConvLayer");
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var n = new WeakMap(),
            r = new WeakMap();
          return (t = function (e) {
            return e ? r : n;
          })(e);
        }
        function r(e, n) {
          if (!n && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = t(n);
          if (r && r.has(e)) return r.get(e);
          var o = {},
            c = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in e)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
              var u = c ? Object.getOwnPropertyDescriptor(e, i) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(o, i, u)
                : (o[i] = e[i]);
            }
          return (o.default = e), r && r.set(e, o), o;
        }
        var o = 0.0010000000474974513;
        function c(n, t, r) {
          return e.tidy(function () {
            var c = e.depthwiseConv2d(n, t.filters, r, "same");
            return (
              (c = e.batchNorm(
                c,
                t.batch_norm_mean,
                t.batch_norm_variance,
                t.batch_norm_offset,
                t.batch_norm_scale,
                o
              )),
              e.clipByValue(c, 0, 6)
            );
          });
        }
        function i(e) {
          return [2, 4, 6, 12].some(function (n) {
            return n === e;
          })
            ? [2, 2]
            : [1, 1];
        }
        function u(t, r) {
          return e.tidy(function () {
            var e = null,
              o = (0, n.pointwiseConvLayer)(t, r.conv_0, [2, 2]);
            if (
              ([
                r.conv_1,
                r.conv_2,
                r.conv_3,
                r.conv_4,
                r.conv_5,
                r.conv_6,
                r.conv_7,
                r.conv_8,
                r.conv_9,
                r.conv_10,
                r.conv_11,
                r.conv_12,
                r.conv_13,
              ].forEach(function (t, r) {
                var u = r + 1,
                  a = i(u);
                (o = c(o, t.depthwise_conv, a)),
                  (o = (0, n.pointwiseConvLayer)(o, t.pointwise_conv, [1, 1])),
                  11 === u && (e = o);
              }),
              null === e)
            )
              throw new Error("mobileNetV1 - output of conv layer 11 is null");
            return { out: o, conv11: e };
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM", "./pointwiseConvLayer": "XeL0" },
    ],
    di5l: [
      function (require, module, exports) {
        "use strict";
        function r(r, a, n, e, o) {
          var h = r.shape[0],
            i = Math.min(n, h),
            c = a
              .map(function (r, t) {
                return { score: r, boxIndex: t };
              })
              .filter(function (r) {
                return r.score > o;
              })
              .sort(function (r, t) {
                return t.score - r.score;
              }),
            s = [];
          return (
            c.forEach(function (a) {
              if (!(s.length >= i)) {
                for (var n = a.score, h = s.length - 1; h >= 0; --h) {
                  var c = t(r, a.boxIndex, s[h]);
                  if (0 !== c && ((a.score *= c <= e ? 1 : 0), a.score <= o))
                    break;
                }
                n === a.score && s.push(a.boxIndex);
              }
            }),
            s
          );
        }
        function t(r, t, a) {
          var n = r.arraySync(),
            e = Math.min(n[t][0], n[t][2]),
            o = Math.min(n[t][1], n[t][3]),
            h = Math.max(n[t][0], n[t][2]),
            i = Math.max(n[t][1], n[t][3]),
            c = Math.min(n[a][0], n[a][2]),
            s = Math.min(n[a][1], n[a][3]),
            u = Math.max(n[a][0], n[a][2]),
            x = Math.max(n[a][1], n[a][3]),
            M = (h - e) * (i - o),
            m = (u - c) * (x - s);
          if (M <= 0 || m <= 0) return 0;
          var f = Math.max(e, c),
            p = Math.max(o, s),
            v = Math.min(h, u),
            b = Math.min(i, x),
            d = Math.max(v - f, 0) * Math.max(b - p, 0);
          return d / (M + m - d);
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.nonMaxSuppression = r);
      },
      {},
    ],
    WWcN: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.outputLayer = n);
        var e = t(require("@tensorflow/tfjs-core"));
        function r(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            a = new WeakMap();
          return (r = function (e) {
            return e ? a : t;
          })(e);
        }
        function t(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var a = r(t);
          if (a && a.has(e)) return a.get(e);
          var s = {},
            n = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var c = n ? Object.getOwnPropertyDescriptor(e, u) : null;
              c && (c.get || c.set)
                ? Object.defineProperty(s, u, c)
                : (s[u] = e[u]);
            }
          return (s.default = e), a && a.set(e, s), s;
        }
        function a(r) {
          var t = e.unstack(e.transpose(r, [1, 0])),
            a = [e.sub(t[2], t[0]), e.sub(t[3], t[1])];
          return {
            sizes: a,
            centers: [
              e.add(t[0], e.div(a[0], e.scalar(2))),
              e.add(t[1], e.div(a[1], e.scalar(2))),
            ],
          };
        }
        function s(r, t) {
          var s = a(r),
            n = s.sizes,
            u = s.centers,
            c = e.unstack(e.transpose(t, [1, 0])),
            i = e.div(
              e.mul(e.exp(e.div(c[2], e.scalar(5))), n[0]),
              e.scalar(2)
            ),
            o = e.add(e.mul(e.div(c[0], e.scalar(10)), n[0]), u[0]),
            d = e.div(
              e.mul(e.exp(e.div(c[3], e.scalar(5))), n[1]),
              e.scalar(2)
            ),
            p = e.add(e.mul(e.div(c[1], e.scalar(10)), n[1]), u[1]);
          return e.transpose(
            e.stack([e.sub(o, i), e.sub(p, d), e.add(o, i), e.add(p, d)]),
            [1, 0]
          );
        }
        function n(r, t, a) {
          return e.tidy(function () {
            var n = r.shape[0],
              u = s(
                e.reshape(e.tile(a.extra_dim, [n, 1, 1]), [-1, 4]),
                e.reshape(r, [-1, 4])
              );
            u = e.reshape(u, [n, u.shape[0] / n, 4]);
            var c = e.sigmoid(e.slice(t, [0, 0, 1], [-1, -1, -1])),
              i = e.slice(c, [0, 0, 0], [-1, -1, 1]);
            return (
              (i = e.reshape(i, [n, i.shape[1]])),
              { boxes: e.unstack(u), scores: e.unstack(i) }
            );
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    QHbj: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.boxPredictionLayer = o);
        var e = n(require("@tensorflow/tfjs-core")),
          r = require("../common");
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function n(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var c in e)
            if ("default" !== c && Object.prototype.hasOwnProperty.call(e, c)) {
              var a = i ? Object.getOwnPropertyDescriptor(e, c) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(o, c, a)
                : (o[c] = e[c]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function o(t, n) {
          return e.tidy(function () {
            var o = t.shape[0];
            return {
              boxPredictionEncoding: e.reshape(
                (0, r.convLayer)(t, n.box_encoding_predictor),
                [o, -1, 1, 4]
              ),
              classPrediction: e.reshape(
                (0, r.convLayer)(t, n.class_predictor),
                [o, -1, 3]
              ),
            };
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM", "../common": "gZ1E" },
    ],
    vP5J: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.predictionLayer = t);
        var e = i(require("@tensorflow/tfjs-core")),
          o = require("./boxPredictionLayer"),
          r = require("./pointwiseConvLayer");
        function n(e) {
          if ("function" != typeof WeakMap) return null;
          var o = new WeakMap(),
            r = new WeakMap();
          return (n = function (e) {
            return e ? r : o;
          })(e);
        }
        function i(e, o) {
          if (!o && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = n(o);
          if (r && r.has(e)) return r.get(e);
          var i = {},
            t = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var c in e)
            if ("default" !== c && Object.prototype.hasOwnProperty.call(e, c)) {
              var a = t ? Object.getOwnPropertyDescriptor(e, c) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(i, c, a)
                : (i[c] = e[c]);
            }
          return (i.default = e), r && r.set(e, i), i;
        }
        function t(n, i, t) {
          return e.tidy(function () {
            var c = (0, r.pointwiseConvLayer)(n, t.conv_0, [1, 1]),
              a = (0, r.pointwiseConvLayer)(c, t.conv_1, [2, 2]),
              d = (0, r.pointwiseConvLayer)(a, t.conv_2, [1, 1]),
              s = (0, r.pointwiseConvLayer)(d, t.conv_3, [2, 2]),
              p = (0, r.pointwiseConvLayer)(s, t.conv_4, [1, 1]),
              u = (0, r.pointwiseConvLayer)(p, t.conv_5, [2, 2]),
              y = (0, r.pointwiseConvLayer)(u, t.conv_6, [1, 1]),
              b = (0, r.pointwiseConvLayer)(y, t.conv_7, [2, 2]),
              P = (0, o.boxPredictionLayer)(i, t.box_predictor_0),
              v = (0, o.boxPredictionLayer)(n, t.box_predictor_1),
              f = (0, o.boxPredictionLayer)(a, t.box_predictor_2),
              _ = (0, o.boxPredictionLayer)(s, t.box_predictor_3),
              l = (0, o.boxPredictionLayer)(u, t.box_predictor_4),
              x = (0, o.boxPredictionLayer)(b, t.box_predictor_5);
            return {
              boxPredictions: e.concat(
                [
                  P.boxPredictionEncoding,
                  v.boxPredictionEncoding,
                  f.boxPredictionEncoding,
                  _.boxPredictionEncoding,
                  l.boxPredictionEncoding,
                  x.boxPredictionEncoding,
                ],
                1
              ),
              classPredictions: e.concat(
                [
                  P.classPrediction,
                  v.classPrediction,
                  f.classPrediction,
                  _.classPrediction,
                  l.classPrediction,
                  x.classPrediction,
                ],
                1
              ),
            };
          });
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "./boxPredictionLayer": "QHbj",
        "./pointwiseConvLayer": "XeL0",
      },
    ],
    sbr6: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.SsdMobilenetv1Options = void 0);
        var e = (function () {
          function e(e) {
            var n = void 0 === e ? {} : e,
              t = n.minConfidence,
              i = n.maxResults;
            if (
              ((this._name = "SsdMobilenetv1Options"),
              (this._minConfidence = t || 0.5),
              (this._maxResults = i || 100),
              "number" != typeof this._minConfidence ||
                this._minConfidence <= 0 ||
                this._minConfidence >= 1)
            )
              throw new Error(
                this._name +
                  " - expected minConfidence to be a number between 0 and 1"
              );
            if ("number" != typeof this._maxResults)
              throw new Error(
                this._name + " - expected maxResults to be a number"
              );
          }
          return (
            Object.defineProperty(e.prototype, "minConfidence", {
              get: function () {
                return this._minConfidence;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "maxResults", {
              get: function () {
                return this._maxResults;
              },
              enumerable: !0,
              configurable: !0,
            }),
            e
          );
        })();
        exports.SsdMobilenetv1Options = e;
      },
      {},
    ],
    YH6x: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.SsdMobilenetv1 = void 0);
        var e = require("tslib"),
          t = h(require("@tensorflow/tfjs-core")),
          r = require("../classes"),
          n = require("../classes/FaceDetection"),
          o = require("../dom"),
          i = require("../NeuralNetwork"),
          a = require("./extractParams"),
          u = require("./extractParamsFromWeigthMap"),
          s = require("./mobileNetV1"),
          c = require("./nonMaxSuppression"),
          p = require("./outputLayer"),
          l = require("./predictionLayer"),
          f = require("./SsdMobilenetv1Options");
        function d(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (d = function (e) {
            return e ? r : t;
          })(e);
        }
        function h(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = d(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in e)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
              var a = o ? Object.getOwnPropertyDescriptor(e, i) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(n, i, a)
                : (n[i] = e[i]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        var m = (function (i) {
          function d() {
            return i.call(this, "SsdMobilenetv1") || this;
          }
          return (
            (0, e.__extends)(d, i),
            (d.prototype.forwardInput = function (e) {
              var r = this.params;
              if (!r)
                throw new Error("SsdMobilenetv1 - load model before inference");
              return t.tidy(function () {
                var n = e.toBatchTensor(512, !1).toFloat(),
                  o = t.sub(
                    t.mul(n, t.scalar(0.007843137718737125)),
                    t.scalar(1)
                  ),
                  i = (0, s.mobileNetV1)(o, r.mobilenetv1),
                  a = (0, l.predictionLayer)(
                    i.out,
                    i.conv11,
                    r.prediction_layer
                  ),
                  u = a.boxPredictions,
                  c = a.classPredictions;
                return (0, p.outputLayer)(u, c, r.output_layer);
              });
            }),
            (d.prototype.forward = function (t) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var r;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (r = this.forwardInput), [4, (0, o.toNetInput)(t)];
                    case 1:
                      return [2, r.apply(this, [e.sent()])];
                  }
                });
              });
            }),
            (d.prototype.locateFaces = function (t, i) {
              return (
                void 0 === i && (i = {}),
                (0, e.__awaiter)(this, void 0, void 0, function () {
                  var a,
                    u,
                    s,
                    p,
                    l,
                    d,
                    h,
                    m,
                    v,
                    y,
                    b,
                    w,
                    M,
                    _,
                    g,
                    x,
                    P,
                    q,
                    O,
                    S;
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return (
                          (a = new f.SsdMobilenetv1Options(i)),
                          (u = a.maxResults),
                          (s = a.minConfidence),
                          [4, (0, o.toNetInput)(t)]
                        );
                      case 1:
                        for (
                          p = e.sent(),
                            l = this.forwardInput(p),
                            d = l.boxes,
                            h = l.scores,
                            m = d[0],
                            v = h[0],
                            y = 1;
                          y < d.length;
                          y++
                        )
                          d[y].dispose(), h[y].dispose();
                        return (M = (w = Array).from), [4, v.data()];
                      case 2:
                        return (
                          (b = M.apply(w, [e.sent()])),
                          0.5,
                          (_ = (0, c.nonMaxSuppression)(m, b, u, 0.5, s)),
                          (g = p.getReshapedInputDimensions(0)),
                          (x = p.inputSize),
                          (P = x / g.width),
                          (q = x / g.height),
                          (O = m.arraySync()),
                          (S = _.map(function (e) {
                            var t = [
                                Math.max(0, O[e][0]),
                                Math.min(1, O[e][2]),
                              ].map(function (e) {
                                return e * q;
                              }),
                              o = t[0],
                              i = t[1],
                              a = [
                                Math.max(0, O[e][1]),
                                Math.min(1, O[e][3]),
                              ].map(function (e) {
                                return e * P;
                              }),
                              u = a[0],
                              s = a[1];
                            return new n.FaceDetection(
                              b[e],
                              new r.Rect(u, o, s - u, i - o),
                              {
                                height: p.getInputHeight(0),
                                width: p.getInputWidth(0),
                              }
                            );
                          })),
                          m.dispose(),
                          v.dispose(),
                          [2, S]
                        );
                    }
                  });
                })
              );
            }),
            (d.prototype.getDefaultModelName = function () {
              return "ssd_mobilenetv1_model";
            }),
            (d.prototype.extractParamsFromWeigthMap = function (e) {
              return (0, u.extractParamsFromWeigthMap)(e);
            }),
            (d.prototype.extractParams = function (e) {
              return (0, a.extractParams)(e);
            }),
            d
          );
        })(i.NeuralNetwork);
        exports.SsdMobilenetv1 = m;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../classes": "ywa2",
        "../classes/FaceDetection": "EHzx",
        "../dom": "F9LC",
        "../NeuralNetwork": "bTJB",
        "./extractParams": "gCnX",
        "./extractParamsFromWeigthMap": "bPy0",
        "./mobileNetV1": "VwkV",
        "./nonMaxSuppression": "di5l",
        "./outputLayer": "WWcN",
        "./predictionLayer": "vP5J",
        "./SsdMobilenetv1Options": "sbr6",
      },
    ],
    pMO5: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = {
          createSsdMobilenetv1: !0,
          createFaceDetectionNet: !0,
          FaceDetectionNet: !0,
        };
        (exports.FaceDetectionNet = void 0),
          (exports.createFaceDetectionNet = c),
          (exports.createSsdMobilenetv1 = o);
        var t = require("tslib"),
          r = require("./SsdMobilenetv1");
        Object.keys(r).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === r[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return r[t];
                },
              }));
        });
        var n = require("./SsdMobilenetv1Options");
        function o(e) {
          var t = new r.SsdMobilenetv1();
          return t.extractWeights(e), t;
        }
        function c(e) {
          return o(e);
        }
        Object.keys(n).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === n[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return n[t];
                },
              }));
        });
        var i = (function (e) {
          function r() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (0, t.__extends)(r, e), r;
        })(r.SsdMobilenetv1);
        exports.FaceDetectionNet = i;
      },
      {
        tslib: "vCxL",
        "./SsdMobilenetv1": "YH6x",
        "./SsdMobilenetv1Options": "sbr6",
      },
    ],
    L1kx: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.MEAN_RGB_SEPARABLE =
            exports.IOU_THRESHOLD =
            exports.DEFAULT_MODEL_NAME_SEPARABLE_CONV =
            exports.DEFAULT_MODEL_NAME =
            exports.BOX_ANCHORS_SEPARABLE =
            exports.BOX_ANCHORS =
              void 0);
        var e = require("../classes"),
          o = 0.4;
        exports.IOU_THRESHOLD = o;
        var _ = [
          new e.Point(0.738768, 0.874946),
          new e.Point(2.42204, 2.65704),
          new e.Point(4.30971, 7.04493),
          new e.Point(10.246, 4.59428),
          new e.Point(12.6868, 11.8741),
        ];
        exports.BOX_ANCHORS = _;
        var t = [
          new e.Point(1.603231, 2.094468),
          new e.Point(6.041143, 7.080126),
          new e.Point(2.882459, 3.518061),
          new e.Point(4.266906, 5.178857),
          new e.Point(9.041765, 10.66308),
        ];
        exports.BOX_ANCHORS_SEPARABLE = t;
        var E = [117.001, 114.697, 97.404];
        exports.MEAN_RGB_SEPARABLE = E;
        var A = "tiny_yolov2_model";
        exports.DEFAULT_MODEL_NAME = A;
        var r = "tiny_yolov2_separable_conv_model";
        exports.DEFAULT_MODEL_NAME_SEPARABLE_CONV = r;
      },
      { "../classes": "ywa2" },
    ],
    Zips: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.validateConfig = e);
        var r = function (r) {
          return "number" == typeof r;
        };
        function e(e) {
          if (!e) throw new Error("invalid config: " + e);
          if ("boolean" != typeof e.withSeparableConvs)
            throw new Error(
              "config.withSeparableConvs has to be a boolean, have: " +
                e.withSeparableConvs
            );
          if (!r(e.iouThreshold) || e.iouThreshold < 0 || e.iouThreshold > 1)
            throw new Error(
              "config.iouThreshold has to be a number between [0, 1], have: " +
                e.iouThreshold
            );
          if (
            !Array.isArray(e.classes) ||
            !e.classes.length ||
            !e.classes.every(function (r) {
              return "string" == typeof r;
            })
          )
            throw new Error(
              "config.classes has to be an array class names: string[], have: " +
                JSON.stringify(e.classes)
            );
          if (
            !Array.isArray(e.anchors) ||
            !e.anchors.length ||
            !e.anchors
              .map(function (r) {
                return r || {};
              })
              .every(function (e) {
                return r(e.x) && r(e.y);
              })
          )
            throw new Error(
              "config.anchors has to be an array of { x: number, y: number }, have: " +
                JSON.stringify(e.anchors)
            );
          if (
            e.meanRgb &&
            (!Array.isArray(e.meanRgb) ||
              3 !== e.meanRgb.length ||
              !e.meanRgb.every(r))
          )
            throw new Error(
              "config.meanRgb has to be an array of shape [number, number, number], have: " +
                JSON.stringify(e.meanRgb)
            );
        }
      },
      {},
    ],
    MHFK: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.leaky = n);
        var e = t(require("@tensorflow/tfjs-core"));
        function r(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            n = new WeakMap();
          return (r = function (e) {
            return e ? n : t;
          })(e);
        }
        function t(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = r(t);
          if (n && n.has(e)) return n.get(e);
          var u = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var f = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              f && (f.get || f.set)
                ? Object.defineProperty(u, a, f)
                : (u[a] = e[a]);
            }
          return (u.default = e), n && n.set(e, u), u;
        }
        function n(r) {
          return e.tidy(function () {
            var t = e.mul(r, e.scalar(0.10000000149011612));
            return e.add(e.relu(e.sub(r, t)), t);
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    MPO1: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.convWithBatchNorm = o);
        var e = n(require("@tensorflow/tfjs-core")),
          t = require("./leaky");
        function r(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            n = new WeakMap();
          return (r = function (e) {
            return e ? n : t;
          })(e);
        }
        function n(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = r(t);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var i = u ? Object.getOwnPropertyDescriptor(e, a) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(o, a, i)
                : (o[a] = e[a]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function o(r, n) {
          return e.tidy(function () {
            var o = e.pad(r, [
              [0, 0],
              [1, 1],
              [1, 1],
              [0, 0],
            ]);
            return (
              (o = e.conv2d(o, n.conv.filters, [1, 1], "valid")),
              (o = e.sub(o, n.bn.sub)),
              (o = e.mul(o, n.bn.truediv)),
              (o = e.add(o, n.conv.bias)),
              (0, t.leaky)(o)
            );
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM", "./leaky": "MHFK" },
    ],
    OeRT: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.depthwiseSeparableConv = o);
        var e = n(require("@tensorflow/tfjs-core")),
          t = require("./leaky");
        function r(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            n = new WeakMap();
          return (r = function (e) {
            return e ? n : t;
          })(e);
        }
        function n(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = r(t);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in e)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
              var u = a ? Object.getOwnPropertyDescriptor(e, i) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(o, i, u)
                : (o[i] = e[i]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function o(r, n) {
          return e.tidy(function () {
            var o = e.pad(r, [
              [0, 0],
              [1, 1],
              [1, 1],
              [0, 0],
            ]);
            return (
              (o = e.separableConv2d(
                o,
                n.depthwise_filter,
                n.pointwise_filter,
                [1, 1],
                "valid"
              )),
              (o = e.add(o, n.bias)),
              (0, t.leaky)(o)
            );
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM", "./leaky": "MHFK" },
    ],
    ZSgS: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParams = v);
        var r = a(require("@tensorflow/tfjs-core")),
          e = require("../common"),
          t = require("../common/extractSeparableConvParamsFactory"),
          n = require("../common/extractWeightsFactory");
        function o(r) {
          if ("function" != typeof WeakMap) return null;
          var e = new WeakMap(),
            t = new WeakMap();
          return (o = function (r) {
            return r ? t : e;
          })(r);
        }
        function a(r, e) {
          if (!e && r && r.__esModule) return r;
          if (null === r || ("object" != typeof r && "function" != typeof r))
            return { default: r };
          var t = o(e);
          if (t && t.has(r)) return t.get(r);
          var n = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var c in r)
            if ("default" !== c && Object.prototype.hasOwnProperty.call(r, c)) {
              var v = a ? Object.getOwnPropertyDescriptor(r, c) : null;
              v && (v.get || v.set)
                ? Object.defineProperty(n, c, v)
                : (n[c] = r[c]);
            }
          return (n.default = r), t && t.set(r, n), n;
        }
        function c(n, o) {
          var a = (0, e.extractConvParamsFactory)(n, o);
          var c = (0, t.extractSeparableConvParamsFactory)(n, o);
          return {
            extractConvParams: a,
            extractConvWithBatchNormParams: function (e, t, c) {
              return {
                conv: a(e, t, 3, c + "/conv"),
                bn: (function (e, t) {
                  var a = r.tensor1d(n(e)),
                    c = r.tensor1d(n(e));
                  return (
                    o.push(
                      { paramPath: t + "/sub" },
                      { paramPath: t + "/truediv" }
                    ),
                    { sub: a, truediv: c }
                  );
                })(t, c + "/bn"),
              };
            },
            extractSeparableConvParams: c,
          };
        }
        function v(r, e, t, o) {
          var a,
            v = (0, n.extractWeightsFactory)(r),
            i = v.extractWeights,
            s = v.getRemainingWeights,
            u = [],
            p = c(i, u),
            f = p.extractConvParams,
            m = p.extractConvWithBatchNormParams,
            l = p.extractSeparableConvParams;
          if (e.withSeparableConvs) {
            var h = o[0],
              P = o[1],
              b = o[2],
              x = o[3],
              y = o[4],
              d = o[5],
              g = o[6],
              C = o[7],
              w = o[8];
            a = {
              conv0: e.isFirstLayerConv2d
                ? f(h, P, 3, "conv0")
                : l(h, P, "conv0"),
              conv1: l(P, b, "conv1"),
              conv2: l(b, x, "conv2"),
              conv3: l(x, y, "conv3"),
              conv4: l(y, d, "conv4"),
              conv5: l(d, g, "conv5"),
              conv6: C ? l(g, C, "conv6") : void 0,
              conv7: w ? l(C, w, "conv7") : void 0,
              conv8: f(w || C || g, 5 * t, 1, "conv8"),
            };
          } else {
            (h = o[0]),
              (P = o[1]),
              (b = o[2]),
              (x = o[3]),
              (y = o[4]),
              (d = o[5]),
              (g = o[6]),
              (C = o[7]),
              (w = o[8]);
            a = {
              conv0: m(h, P, "conv0"),
              conv1: m(P, b, "conv1"),
              conv2: m(b, x, "conv2"),
              conv3: m(x, y, "conv3"),
              conv4: m(y, d, "conv4"),
              conv5: m(d, g, "conv5"),
              conv6: m(g, C, "conv6"),
              conv7: m(C, w, "conv7"),
              conv8: f(w, 5 * t, 1, "conv8"),
            };
          }
          if (0 !== s().length)
            throw new Error("weights remaing after extract: " + s().length);
          return { params: a, paramMappings: u };
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../common": "gZ1E",
        "../common/extractSeparableConvParamsFactory": "J4Yx",
        "../common/extractWeightsFactory": "fHbF",
      },
    ],
    Yu0Z: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMap = e);
        var n = require("../common/disposeUnusedWeightTensors"),
          o = require("../common/extractSeparableConvParamsFactory"),
          r = require("../common/extractWeightEntryFactory");
        function c(n, c) {
          var e = (0, r.extractWeightEntryFactory)(n, c);
          function t(n) {
            return { filters: e(n + "/filters", 4), bias: e(n + "/bias", 1) };
          }
          return {
            extractConvParams: t,
            extractConvWithBatchNormParams: function (n) {
              return {
                conv: t(n + "/conv"),
                bn: (function (n) {
                  return {
                    sub: e(n + "/sub", 1),
                    truediv: e(n + "/truediv", 1),
                  };
                })(n + "/bn"),
              };
            },
            extractSeparableConvParams: (0, o.loadSeparableConvParamsFactory)(
              e
            ),
          };
        }
        function e(o, r) {
          var e,
            t = [],
            a = c(o, t),
            v = a.extractConvParams,
            s = a.extractConvWithBatchNormParams,
            i = a.extractSeparableConvParams;
          if (r.withSeparableConvs) {
            var u = (r.filterSizes && r.filterSizes.length) || 9;
            e = {
              conv0: r.isFirstLayerConv2d ? v("conv0") : i("conv0"),
              conv1: i("conv1"),
              conv2: i("conv2"),
              conv3: i("conv3"),
              conv4: i("conv4"),
              conv5: i("conv5"),
              conv6: u > 7 ? i("conv6") : void 0,
              conv7: u > 8 ? i("conv7") : void 0,
              conv8: v("conv8"),
            };
          } else
            e = {
              conv0: s("conv0"),
              conv1: s("conv1"),
              conv2: s("conv2"),
              conv3: s("conv3"),
              conv4: s("conv4"),
              conv5: s("conv5"),
              conv6: s("conv6"),
              conv7: s("conv7"),
              conv8: v("conv8"),
            };
          return (
            (0, n.disposeUnusedWeightTensors)(o, t),
            { params: e, paramMappings: t }
          );
        }
      },
      {
        "../common/disposeUnusedWeightTensors": "cQ29",
        "../common/extractSeparableConvParamsFactory": "J4Yx",
        "../common/extractWeightEntryFactory": "jLb1",
      },
    ],
    k8q6: [
      function (require, module, exports) {
        "use strict";
        var e;
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.TinyYolov2SizeType = exports.TinyYolov2Options = void 0),
          (exports.TinyYolov2SizeType = e),
          (function (e) {
            (e[(e.XS = 224)] = "XS"),
              (e[(e.SM = 320)] = "SM"),
              (e[(e.MD = 416)] = "MD"),
              (e[(e.LG = 608)] = "LG");
          })(e || (exports.TinyYolov2SizeType = e = {}));
        var o = (function () {
          function e(e) {
            var o = void 0 === e ? {} : e,
              t = o.inputSize,
              i = o.scoreThreshold;
            if (
              ((this._name = "TinyYolov2Options"),
              (this._inputSize = t || 416),
              (this._scoreThreshold = i || 0.5),
              "number" != typeof this._inputSize || this._inputSize % 32 != 0)
            )
              throw new Error(
                this._name +
                  " - expected inputSize to be a number divisible by 32"
              );
            if (
              "number" != typeof this._scoreThreshold ||
              this._scoreThreshold <= 0 ||
              this._scoreThreshold >= 1
            )
              throw new Error(
                this._name +
                  " - expected scoreThreshold to be a number between 0 and 1"
              );
          }
          return (
            Object.defineProperty(e.prototype, "inputSize", {
              get: function () {
                return this._inputSize;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(e.prototype, "scoreThreshold", {
              get: function () {
                return this._scoreThreshold;
              },
              enumerable: !0,
              configurable: !0,
            }),
            e
          );
        })();
        exports.TinyYolov2Options = o;
      },
      {},
    ],
    Nr16: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.TinyYolov2Base = void 0);
        var e = require("tslib"),
          t = b(require("@tensorflow/tfjs-core")),
          r = require("../classes/BoundingBox"),
          o = require("../classes/ObjectDetection"),
          n = require("../common"),
          i = require("../dom"),
          a = require("../NeuralNetwork"),
          s = require("../ops"),
          c = require("../ops/nonMaxSuppression"),
          u = require("../ops/normalize"),
          l = require("./config"),
          p = require("./convWithBatchNorm"),
          h = require("./depthwiseSeparableConv"),
          f = require("./extractParams"),
          v = require("./extractParamsFromWeigthMap"),
          d = require("./leaky"),
          m = require("./TinyYolov2Options");
        function g(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (g = function (e) {
            return e ? r : t;
          })(e);
        }
        function b(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = g(t);
          if (r && r.has(e)) return r.get(e);
          var o = {},
            n = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in e)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
              var a = n ? Object.getOwnPropertyDescriptor(e, i) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(o, i, a)
                : (o[i] = e[i]);
            }
          return (o.default = e), r && r.set(e, o), o;
        }
        var y = (function (a) {
          function g(e) {
            var t = a.call(this, "TinyYolov2") || this;
            return (0, l.validateConfig)(e), (t._config = e), t;
          }
          return (
            (0, e.__extends)(g, a),
            Object.defineProperty(g.prototype, "config", {
              get: function () {
                return this._config;
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(g.prototype, "withClassScores", {
              get: function () {
                return (
                  this.config.withClassScores || this.config.classes.length > 1
                );
              },
              enumerable: !0,
              configurable: !0,
            }),
            Object.defineProperty(g.prototype, "boxEncodingSize", {
              get: function () {
                return (
                  5 + (this.withClassScores ? this.config.classes.length : 0)
                );
              },
              enumerable: !0,
              configurable: !0,
            }),
            (g.prototype.runTinyYolov2 = function (e, r) {
              var o = (0, p.convWithBatchNorm)(e, r.conv0);
              return (
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, p.convWithBatchNorm)(o, r.conv1)),
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, p.convWithBatchNorm)(o, r.conv2)),
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, p.convWithBatchNorm)(o, r.conv3)),
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, p.convWithBatchNorm)(o, r.conv4)),
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, p.convWithBatchNorm)(o, r.conv5)),
                (o = t.maxPool(o, [2, 2], [1, 1], "same")),
                (o = (0, p.convWithBatchNorm)(o, r.conv6)),
                (o = (0, p.convWithBatchNorm)(o, r.conv7)),
                (0, n.convLayer)(o, r.conv8, "valid", !1)
              );
            }),
            (g.prototype.runMobilenet = function (e, r) {
              var o = this.config.isFirstLayerConv2d
                ? (0, d.leaky)((0, n.convLayer)(e, r.conv0, "valid", !1))
                : (0, h.depthwiseSeparableConv)(e, r.conv0);
              return (
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, h.depthwiseSeparableConv)(o, r.conv1)),
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, h.depthwiseSeparableConv)(o, r.conv2)),
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, h.depthwiseSeparableConv)(o, r.conv3)),
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, h.depthwiseSeparableConv)(o, r.conv4)),
                (o = t.maxPool(o, [2, 2], [2, 2], "same")),
                (o = (0, h.depthwiseSeparableConv)(o, r.conv5)),
                (o = t.maxPool(o, [2, 2], [1, 1], "same")),
                (o = r.conv6 ? (0, h.depthwiseSeparableConv)(o, r.conv6) : o),
                (o = r.conv7 ? (0, h.depthwiseSeparableConv)(o, r.conv7) : o),
                (0, n.convLayer)(o, r.conv8, "valid", !1)
              );
            }),
            (g.prototype.forwardInput = function (e, r) {
              var o = this,
                n = this.params;
              if (!n)
                throw new Error("TinyYolov2 - load model before inference");
              return t.tidy(function () {
                var i = e.toBatchTensor(r, !1).toFloat();
                return (
                  (i = (i = o.config.meanRgb
                    ? (0, u.normalize)(i, o.config.meanRgb)
                    : i).div(t.scalar(256))),
                  o.config.withSeparableConvs
                    ? o.runMobilenet(i, n)
                    : o.runTinyYolov2(i, n)
                );
              });
            }),
            (g.prototype.forward = function (t, r) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var o;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (o = this.forwardInput), [4, (0, i.toNetInput)(t)];
                    case 1:
                      return [4, o.apply(this, [e.sent(), r])];
                    case 2:
                      return [2, e.sent()];
                  }
                });
              });
            }),
            (g.prototype.detect = function (r, n) {
              return (
                void 0 === n && (n = {}),
                (0, e.__awaiter)(this, void 0, void 0, function () {
                  var a,
                    s,
                    u,
                    l,
                    p,
                    h,
                    f,
                    v,
                    d,
                    g,
                    b,
                    y,
                    w,
                    x = this;
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return (
                          (a = new m.TinyYolov2Options(n)),
                          (s = a.inputSize),
                          (u = a.scoreThreshold),
                          [4, (0, i.toNetInput)(r)]
                        );
                      case 1:
                        return (l = e.sent()), [4, this.forwardInput(l, s)];
                      case 2:
                        return (
                          (p = e.sent()),
                          (h = t.tidy(function () {
                            return t.unstack(p)[0].expandDims();
                          })),
                          (f = {
                            width: l.getInputWidth(0),
                            height: l.getInputHeight(0),
                          }),
                          [
                            4,
                            this.extractBoxes(
                              h,
                              l.getReshapedInputDimensions(0),
                              u
                            ),
                          ]
                        );
                      case 3:
                        return (
                          (v = e.sent()),
                          p.dispose(),
                          h.dispose(),
                          (d = v.map(function (e) {
                            return e.box;
                          })),
                          (g = v.map(function (e) {
                            return e.score;
                          })),
                          (b = v.map(function (e) {
                            return e.classScore;
                          })),
                          (y = v.map(function (e) {
                            return x.config.classes[e.label];
                          })),
                          (w = (0, c.nonMaxSuppression)(
                            d.map(function (e) {
                              return e.rescale(s);
                            }),
                            g,
                            this.config.iouThreshold,
                            !0
                          )),
                          [
                            2,
                            w.map(function (e) {
                              return new o.ObjectDetection(
                                g[e],
                                b[e],
                                y[e],
                                d[e],
                                f
                              );
                            }),
                          ]
                        );
                    }
                  });
                })
              );
            }),
            (g.prototype.getDefaultModelName = function () {
              return "";
            }),
            (g.prototype.extractParamsFromWeigthMap = function (e) {
              return (0, v.extractParamsFromWeigthMap)(e, this.config);
            }),
            (g.prototype.extractParams = function (e) {
              var t = this.config.filterSizes || g.DEFAULT_FILTER_SIZES,
                r = t ? t.length : void 0;
              if (7 !== r && 8 !== r && 9 !== r)
                throw new Error(
                  "TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found " +
                    r +
                    " filterSizes in config"
                );
              return (0, f.extractParams)(
                e,
                this.config,
                this.boxEncodingSize,
                t
              );
            }),
            (g.prototype.extractBoxes = function (o, n, i) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var a,
                  c,
                  u,
                  l,
                  p,
                  h,
                  f,
                  v,
                  d,
                  m,
                  g,
                  b,
                  y,
                  w,
                  x,
                  S,
                  _,
                  P,
                  C,
                  B,
                  q,
                  M,
                  N,
                  O,
                  T,
                  W,
                  j,
                  I,
                  E,
                  D = this;
                return (0, e.__generator)(this, function (F) {
                  switch (F.label) {
                    case 0:
                      return (
                        (a = n.width),
                        (c = n.height),
                        (u = Math.max(a, c)),
                        (l = u / a),
                        (p = u / c),
                        (h = o.shape[1]),
                        (f = this.config.anchors.length),
                        (v = t.tidy(function () {
                          var e = o.reshape([h, h, f, D.boxEncodingSize]);
                          return [
                            e.slice([0, 0, 0, 0], [h, h, f, 4]),
                            e.slice([0, 0, 0, 4], [h, h, f, 1]),
                            D.withClassScores
                              ? t.softmax(
                                  e.slice(
                                    [0, 0, 0, 5],
                                    [h, h, f, D.config.classes.length]
                                  ),
                                  3
                                )
                              : t.scalar(0),
                          ];
                        })),
                        (d = v[0]),
                        (m = v[1]),
                        (g = v[2]),
                        (b = []),
                        [4, m.array()]
                      );
                    case 1:
                      return (y = F.sent()), [4, d.array()];
                    case 2:
                      (w = F.sent()), (x = 0), (F.label = 3);
                    case 3:
                      if (!(x < h)) return [3, 12];
                      (S = 0), (F.label = 4);
                    case 4:
                      if (!(S < h)) return [3, 11];
                      (_ = 0), (F.label = 5);
                    case 5:
                      return _ < f
                        ? ((P = (0, s.sigmoid)(y[x][S][_][0])),
                          !i || P > i
                            ? ((C =
                                ((S + (0, s.sigmoid)(w[x][S][_][0])) / h) * l),
                              (B =
                                ((x + (0, s.sigmoid)(w[x][S][_][1])) / h) * p),
                              (q =
                                ((Math.exp(w[x][S][_][2]) *
                                  this.config.anchors[_].x) /
                                  h) *
                                l),
                              (M =
                                ((Math.exp(w[x][S][_][3]) *
                                  this.config.anchors[_].y) /
                                  h) *
                                p),
                              (N = C - q / 2),
                              (O = B - M / 2),
                              (T = { row: x, col: S, anchor: _ }),
                              this.withClassScores
                                ? [4, this.extractPredictedClass(g, T)]
                                : [3, 7])
                            : [3, 9])
                        : [3, 10];
                    case 6:
                      return (E = F.sent()), [3, 8];
                    case 7:
                      (E = { classScore: 1, label: 0 }), (F.label = 8);
                    case 8:
                      (j = (W = E).classScore),
                        (I = W.label),
                        b.push(
                          (0, e.__assign)(
                            {
                              box: new r.BoundingBox(N, O, N + q, O + M),
                              score: P,
                              classScore: P * j,
                              label: I,
                            },
                            T
                          )
                        ),
                        (F.label = 9);
                    case 9:
                      return _++, [3, 5];
                    case 10:
                      return S++, [3, 4];
                    case 11:
                      return x++, [3, 3];
                    case 12:
                      return d.dispose(), m.dispose(), g.dispose(), [2, b];
                  }
                });
              });
            }),
            (g.prototype.extractPredictedClass = function (t, r) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var o, n, i, a;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        (o = r.row), (n = r.col), (i = r.anchor), [4, t.array()]
                      );
                    case 1:
                      return (
                        (a = e.sent()),
                        [
                          2,
                          Array(this.config.classes.length)
                            .fill(0)
                            .map(function (e, t) {
                              return a[o][n][i][t];
                            })
                            .map(function (e, t) {
                              return { classScore: e, label: t };
                            })
                            .reduce(function (e, t) {
                              return e.classScore > t.classScore ? e : t;
                            }),
                        ]
                      );
                  }
                });
              });
            }),
            (g.DEFAULT_FILTER_SIZES = [
              3, 16, 32, 64, 128, 256, 512, 1024, 1024,
            ]),
            g
          );
        })(a.NeuralNetwork);
        exports.TinyYolov2Base = y;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../classes/BoundingBox": "FLHV",
        "../classes/ObjectDetection": "pkol",
        "../common": "gZ1E",
        "../dom": "F9LC",
        "../NeuralNetwork": "bTJB",
        "../ops": "CGLe",
        "../ops/nonMaxSuppression": "RBqA",
        "../ops/normalize": "WE0o",
        "./config": "Zips",
        "./convWithBatchNorm": "MPO1",
        "./depthwiseSeparableConv": "OeRT",
        "./extractParams": "ZSgS",
        "./extractParamsFromWeigthMap": "Yu0Z",
        "./leaky": "MHFK",
        "./TinyYolov2Options": "k8q6",
      },
    ],
    Shpd: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.TinyYolov2 = void 0);
        var e = require("tslib"),
          t = require("../classes"),
          r = require("./const"),
          o = require("./TinyYolov2Base"),
          n = (function (o) {
            function n(e) {
              void 0 === e && (e = !0);
              var t = Object.assign(
                {},
                {
                  withSeparableConvs: e,
                  iouThreshold: r.IOU_THRESHOLD,
                  classes: ["face"],
                },
                e
                  ? {
                      anchors: r.BOX_ANCHORS_SEPARABLE,
                      meanRgb: r.MEAN_RGB_SEPARABLE,
                    }
                  : { anchors: r.BOX_ANCHORS, withClassScores: !0 }
              );
              return o.call(this, t) || this;
            }
            return (
              (0, e.__extends)(n, o),
              Object.defineProperty(n.prototype, "withSeparableConvs", {
                get: function () {
                  return this.config.withSeparableConvs;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(n.prototype, "anchors", {
                get: function () {
                  return this.config.anchors;
                },
                enumerable: !0,
                configurable: !0,
              }),
              (n.prototype.locateFaces = function (r, o) {
                return (0, e.__awaiter)(this, void 0, void 0, function () {
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return [4, this.detect(r, o)];
                      case 1:
                        return [
                          2,
                          e.sent().map(function (e) {
                            return new t.FaceDetection(e.score, e.relativeBox, {
                              width: e.imageWidth,
                              height: e.imageHeight,
                            });
                          }),
                        ];
                    }
                  });
                });
              }),
              (n.prototype.getDefaultModelName = function () {
                return this.withSeparableConvs
                  ? r.DEFAULT_MODEL_NAME_SEPARABLE_CONV
                  : r.DEFAULT_MODEL_NAME;
              }),
              (n.prototype.extractParamsFromWeigthMap = function (e) {
                return o.prototype.extractParamsFromWeigthMap.call(this, e);
              }),
              n
            );
          })(o.TinyYolov2Base);
        exports.TinyYolov2 = n;
      },
      {
        tslib: "vCxL",
        "../classes": "ywa2",
        "./const": "L1kx",
        "./TinyYolov2Base": "Nr16",
      },
    ],
    viua: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = { createTinyYolov2: !0, TinyYolov2: !0 };
        Object.defineProperty(exports, "TinyYolov2", {
          enumerable: !0,
          get: function () {
            return r.TinyYolov2;
          },
        }),
          (exports.createTinyYolov2 = n);
        var r = require("./TinyYolov2"),
          t = require("./TinyYolov2Options");
        Object.keys(t).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === t[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return t[r];
                },
              }));
        });
        var o = require("./config");
        function n(e, t) {
          void 0 === t && (t = !0);
          var o = new r.TinyYolov2(t);
          return o.extractWeights(e), o;
        }
        Object.keys(o).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === o[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return o[r];
                },
              }));
        });
      },
      {
        "./TinyYolov2": "Shpd",
        "./TinyYolov2Options": "k8q6",
        "./config": "Zips",
      },
    ],
    v9q6: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.TinyFaceDetectorOptions = void 0);
        var e = require("tslib"),
          t = require("../tinyYolov2"),
          i = (function (t) {
            function i() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e._name = "TinyFaceDetectorOptions"), e;
            }
            return (0, e.__extends)(i, t), i;
          })(t.TinyYolov2Options);
        exports.TinyFaceDetectorOptions = i;
      },
      { tslib: "vCxL", "../tinyYolov2": "viua" },
    ],
    uKWf: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.ComposableTask = void 0);
        var t = require("tslib"),
          e = (function () {
            function e() {}
            return (
              (e.prototype.then = function (e) {
                return (0, t.__awaiter)(this, void 0, void 0, function () {
                  var r;
                  return (0, t.__generator)(this, function (t) {
                    switch (t.label) {
                      case 0:
                        return (r = e), [4, this.run()];
                      case 1:
                        return [2, r.apply(void 0, [t.sent()])];
                    }
                  });
                });
              }),
              (e.prototype.run = function () {
                return (0, t.__awaiter)(this, void 0, void 0, function () {
                  return (0, t.__generator)(this, function (t) {
                    throw new Error("ComposableTask - run is not implemented");
                  });
                });
              }),
              e
            );
          })();
        exports.ComposableTask = e;
      },
      { tslib: "vCxL" },
    ],
    ypiC: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractAllFacesAndComputeResults = a),
          (exports.extractSingleFaceAndComputeResult = u);
        var e = require("tslib"),
          t = i(require("@tensorflow/tfjs-core")),
          r = require("../dom"),
          n = require("../factories/WithFaceLandmarks");
        function o(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (o = function (e) {
            return e ? r : t;
          })(e);
        }
        function i(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = o(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var u = i ? Object.getOwnPropertyDescriptor(e, a) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(n, a, u)
                : (n[a] = e[a]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        function a(o, i, a, u, c) {
          return (
            void 0 === c &&
              (c = function (e) {
                return e.alignedRect;
              }),
            (0, e.__awaiter)(this, void 0, void 0, function () {
              var s, f, l, d, p;
              return (0, e.__generator)(this, function (e) {
                switch (e.label) {
                  case 0:
                    return (
                      (s = o.map(function (e) {
                        return (0, n.isWithFaceLandmarks)(e)
                          ? c(e)
                          : e.detection;
                      })),
                      (l = u)
                        ? [3, 5]
                        : i instanceof t.Tensor
                        ? [4, (0, r.extractFaceTensors)(i, s)]
                        : [3, 2]
                    );
                  case 1:
                    return (d = e.sent()), [3, 4];
                  case 2:
                    return [4, (0, r.extractFaces)(i, s)];
                  case 3:
                    (d = e.sent()), (e.label = 4);
                  case 4:
                    (l = d), (e.label = 5);
                  case 5:
                    return [4, a((f = l))];
                  case 6:
                    return (
                      (p = e.sent()),
                      f.forEach(function (e) {
                        return e instanceof t.Tensor && e.dispose();
                      }),
                      [2, p]
                    );
                }
              });
            })
          );
        }
        function u(t, r, n, o, i) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var u = this;
            return (0, e.__generator)(this, function (c) {
              return [
                2,
                a(
                  [t],
                  r,
                  function (t) {
                    return (0, e.__awaiter)(u, void 0, void 0, function () {
                      return (0, e.__generator)(this, function (e) {
                        return [2, n(t[0])];
                      });
                    });
                  },
                  o,
                  i
                ),
              ];
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../dom": "F9LC",
        "../factories/WithFaceLandmarks": "bw0I",
      },
    ],
    JBqT: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.bgrToRgbTensor = n);
        var e = r(require("@tensorflow/tfjs-core"));
        function t(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (t = function (e) {
            return e ? n : r;
          })(e);
        }
        function r(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = t(r);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var f in e)
            if ("default" !== f && Object.prototype.hasOwnProperty.call(e, f)) {
              var a = u ? Object.getOwnPropertyDescriptor(e, f) : null;
              a && (a.get || a.set)
                ? Object.defineProperty(o, f, a)
                : (o[f] = e[f]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(t) {
          return e.tidy(function () {
            return e.stack(e.unstack(t, 3).reverse(), 3);
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    FWxD: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.CELL_STRIDE = exports.CELL_SIZE = void 0);
        var e = 2;
        exports.CELL_STRIDE = e;
        var r = 12;
        exports.CELL_SIZE = r;
      },
      {},
    ],
    QWyn: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParams = o);
        var e = require("tslib"),
          t = n(require("@tensorflow/tfjs-core")),
          r = require("../common");
        function a(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (a = function (e) {
            return e ? r : t;
          })(e);
        }
        function n(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = a(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            c = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var o in e)
            if ("default" !== o && Object.prototype.hasOwnProperty.call(e, o)) {
              var p = c ? Object.getOwnPropertyDescriptor(e, o) : null;
              p && (p.get || p.set)
                ? Object.defineProperty(n, o, p)
                : (n[o] = e[o]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        function c(a, n) {
          var c = (0, r.extractConvParamsFactory)(a, n),
            o = (0, r.extractFCParamsFactory)(a, n);
          function p(e, r) {
            var c = t.tensor1d(a(e));
            return n.push({ paramPath: r }), c;
          }
          function u(e, t, r) {
            return (
              void 0 === r && (r = !1),
              {
                conv1: c(e[0], e[1], 3, t + "/conv1"),
                prelu1_alpha: p(e[1], t + "/prelu1_alpha"),
                conv2: c(e[1], e[2], 3, t + "/conv2"),
                prelu2_alpha: p(e[2], t + "/prelu2_alpha"),
                conv3: c(e[2], e[3], r ? 2 : 3, t + "/conv3"),
                prelu3_alpha: p(e[3], t + "/prelu3_alpha"),
              }
            );
          }
          return {
            extractPNetParams: function () {
              var t = u([3, 10, 16, 32], "pnet"),
                r = c(32, 2, 1, "pnet/conv4_1"),
                a = c(32, 4, 1, "pnet/conv4_2");
              return (0, e.__assign)((0, e.__assign)({}, t), {
                conv4_1: r,
                conv4_2: a,
              });
            },
            extractRNetParams: function () {
              var t = u([3, 28, 48, 64], "rnet", !0),
                r = o(576, 128, "rnet/fc1"),
                a = p(128, "rnet/prelu4_alpha"),
                n = o(128, 2, "rnet/fc2_1"),
                c = o(128, 4, "rnet/fc2_2");
              return (0, e.__assign)((0, e.__assign)({}, t), {
                fc1: r,
                prelu4_alpha: a,
                fc2_1: n,
                fc2_2: c,
              });
            },
            extractONetParams: function () {
              var t = u([3, 32, 64, 64], "onet"),
                r = c(64, 128, 2, "onet/conv4"),
                a = p(128, "onet/prelu4_alpha"),
                n = o(1152, 256, "onet/fc1"),
                f = p(256, "onet/prelu5_alpha"),
                i = o(256, 2, "onet/fc2_1"),
                s = o(256, 4, "onet/fc2_2"),
                l = o(256, 10, "onet/fc2_3");
              return (0, e.__assign)((0, e.__assign)({}, t), {
                conv4: r,
                prelu4_alpha: a,
                fc1: n,
                prelu5_alpha: f,
                fc2_1: i,
                fc2_2: s,
                fc2_3: l,
              });
            },
          };
        }
        function o(e) {
          var t = (0, r.extractWeightsFactory)(e),
            a = t.extractWeights,
            n = t.getRemainingWeights,
            o = [],
            p = c(a, o),
            u = p.extractPNetParams,
            f = p.extractRNetParams,
            i = p.extractONetParams,
            s = u(),
            l = f(),
            _ = i();
          if (0 !== n().length)
            throw new Error("weights remaing after extract: " + n().length);
          return { params: { pnet: s, rnet: l, onet: _ }, paramMappings: o };
        }
      },
      { tslib: "vCxL", "@tensorflow/tfjs-core": "FZBM", "../common": "gZ1E" },
    ],
    pss6: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractParamsFromWeigthMap = a);
        var e = require("tslib"),
          t = require("../common");
        function r(r, a) {
          var n = (0, t.extractWeightEntryFactory)(r, a);
          function c(e) {
            return {
              filters: n(e + "/weights", 4, e + "/filters"),
              bias: n(e + "/bias", 1),
            };
          }
          function s(e) {
            return { weights: n(e + "/weights", 2), bias: n(e + "/bias", 1) };
          }
          function o(e) {
            return n(e, 1);
          }
          function _(e) {
            return {
              conv1: c(e + "/conv1"),
              prelu1_alpha: o(e + "/prelu1_alpha"),
              conv2: c(e + "/conv2"),
              prelu2_alpha: o(e + "/prelu2_alpha"),
              conv3: c(e + "/conv3"),
              prelu3_alpha: o(e + "/prelu3_alpha"),
            };
          }
          return {
            extractPNetParams: function () {
              var t = _("pnet"),
                r = c("pnet/conv4_1"),
                a = c("pnet/conv4_2");
              return (0, e.__assign)((0, e.__assign)({}, t), {
                conv4_1: r,
                conv4_2: a,
              });
            },
            extractRNetParams: function () {
              var t = _("rnet"),
                r = s("rnet/fc1"),
                a = o("rnet/prelu4_alpha"),
                n = s("rnet/fc2_1"),
                c = s("rnet/fc2_2");
              return (0, e.__assign)((0, e.__assign)({}, t), {
                fc1: r,
                prelu4_alpha: a,
                fc2_1: n,
                fc2_2: c,
              });
            },
            extractONetParams: function () {
              var t = _("onet"),
                r = c("onet/conv4"),
                a = o("onet/prelu4_alpha"),
                n = s("onet/fc1"),
                p = o("onet/prelu5_alpha"),
                u = s("onet/fc2_1"),
                i = s("onet/fc2_2"),
                l = s("onet/fc2_3");
              return (0, e.__assign)((0, e.__assign)({}, t), {
                conv4: r,
                prelu4_alpha: a,
                fc1: n,
                prelu5_alpha: p,
                fc2_1: u,
                fc2_2: i,
                fc2_3: l,
              });
            },
          };
        }
        function a(e) {
          var a = [],
            n = r(e, a),
            c = n.extractPNetParams,
            s = n.extractRNetParams,
            o = n.extractONetParams,
            _ = c(),
            p = s(),
            u = o();
          return (
            (0, t.disposeUnusedWeightTensors)(e, a),
            { params: { pnet: _, rnet: p, onet: u }, paramMappings: a }
          );
        }
      },
      { tslib: "vCxL", "../common": "gZ1E" },
    ],
    i57n: [
      function (require, module, exports) {
        "use strict";
        function e(e, t) {
          var r = t[0],
            o = t[1];
          return { height: Math.floor(r * e), width: Math.floor(o * e) };
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.getSizesForScale = e);
      },
      {},
    ],
    MGmq: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.pyramidDown = r);
        var e = require("./config");
        function r(r, t, o) {
          for (
            var i = o[0],
              n = o[1],
              u = e.CELL_SIZE / r,
              a = [],
              p = Math.min(i, n) * u,
              s = 0;
            p >= 12;

          )
            a.push(u * Math.pow(t, s)), (p *= t), (s += 1);
          return a;
        }
      },
      { "./config": "FWxD" },
    ],
    JgXS: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.MtcnnBox = void 0);
        var t = require("tslib"),
          e = require("../classes"),
          r = (function (e) {
            function r(t, r, o, s) {
              return (
                e.call(this, { left: t, top: r, right: o, bottom: s }, !0) ||
                this
              );
            }
            return (0, t.__extends)(r, e), r;
          })(e.Box);
        exports.MtcnnBox = r;
      },
      { tslib: "vCxL", "../classes": "ywa2" },
    ],
    HmoS: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.normalize = n);
        var e = t(require("@tensorflow/tfjs-core"));
        function r(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            n = new WeakMap();
          return (r = function (e) {
            return e ? n : t;
          })(e);
        }
        function t(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = r(t);
          if (n && n.has(e)) return n.get(e);
          var o = {},
            u = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var f = u ? Object.getOwnPropertyDescriptor(e, a) : null;
              f && (f.get || f.set)
                ? Object.defineProperty(o, a, f)
                : (o[a] = e[a]);
            }
          return (o.default = e), n && n.set(e, o), o;
        }
        function n(r) {
          return e.tidy(function () {
            return e.mul(e.sub(r, e.scalar(127.5)), e.scalar(0.0078125));
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    l0WF: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.prelu = n);
        var e = t(require("@tensorflow/tfjs-core"));
        function r(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            n = new WeakMap();
          return (r = function (e) {
            return e ? n : t;
          })(e);
        }
        function t(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = r(t);
          if (n && n.has(e)) return n.get(e);
          var u = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var f in e)
            if ("default" !== f && Object.prototype.hasOwnProperty.call(e, f)) {
              var i = o ? Object.getOwnPropertyDescriptor(e, f) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(u, f, i)
                : (u[f] = e[f]);
            }
          return (u.default = e), n && n.set(e, u), u;
        }
        function n(r, t) {
          return e.tidy(function () {
            return e.add(e.relu(r), e.mul(t, e.neg(e.relu(e.neg(r)))));
          });
        }
      },
      { "@tensorflow/tfjs-core": "FZBM" },
    ],
    rrlW: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.sharedLayer = a);
        var e = o(require("@tensorflow/tfjs-core")),
          r = require("../common"),
          t = require("./prelu");
        function n(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (n = function (e) {
            return e ? t : r;
          })(e);
        }
        function o(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = n(r);
          if (t && t.has(e)) return t.get(e);
          var o = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var l = a ? Object.getOwnPropertyDescriptor(e, u) : null;
              l && (l.get || l.set)
                ? Object.defineProperty(o, u, l)
                : (o[u] = e[u]);
            }
          return (o.default = e), t && t.set(e, o), o;
        }
        function a(n, o, a) {
          return (
            void 0 === a && (a = !1),
            e.tidy(function () {
              var u = (0, r.convLayer)(n, o.conv1, "valid");
              return (
                (u = (0, t.prelu)(u, o.prelu1_alpha)),
                (u = e.maxPool(u, a ? [2, 2] : [3, 3], [2, 2], "same")),
                (u = (0, r.convLayer)(u, o.conv2, "valid")),
                (u = (0, t.prelu)(u, o.prelu2_alpha)),
                (u = a ? u : e.maxPool(u, [3, 3], [2, 2], "valid")),
                (u = (0, r.convLayer)(u, o.conv3, "valid")),
                (u = (0, t.prelu)(u, o.prelu3_alpha))
              );
            })
          );
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../common": "gZ1E",
        "./prelu": "l0WF",
      },
    ],
    fy1H: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.PNet = a);
        var e = o(require("@tensorflow/tfjs-core")),
          r = require("../common"),
          t = require("./sharedLayers");
        function n(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (n = function (e) {
            return e ? t : r;
          })(e);
        }
        function o(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = n(r);
          if (t && t.has(e)) return t.get(e);
          var o = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(o, u, i)
                : (o[u] = e[u]);
            }
          return (o.default = e), t && t.set(e, o), o;
        }
        function a(n, o) {
          return e.tidy(function () {
            var a = (0, t.sharedLayer)(n, o, !0),
              u = (0, r.convLayer)(a, o.conv4_1, "valid"),
              i = e.expandDims(e.max(u, 3), 3);
            return {
              prob: e.softmax(e.sub(u, i), 3),
              regions: (0, r.convLayer)(a, o.conv4_2, "valid"),
            };
          });
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../common": "gZ1E",
        "./sharedLayers": "rrlW",
      },
    ],
    DDZI: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.stage1 = l);
        var e = c(require("@tensorflow/tfjs-core")),
          r = require("../classes"),
          n = require("../ops"),
          t = require("./config"),
          o = require("./getSizesForScale"),
          a = require("./MtcnnBox"),
          u = require("./normalize"),
          i = require("./PNet");
        function s(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            n = new WeakMap();
          return (s = function (e) {
            return e ? n : r;
          })(e);
        }
        function c(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = s(r);
          if (n && n.has(e)) return n.get(e);
          var t = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var u = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(t, a, u)
                : (t[a] = e[a]);
            }
          return (t.default = e), n && n.set(e, t), t;
        }
        function p(r, n) {
          return e.tidy(function () {
            var t = (0, o.getSizesForScale)(n, r.shape.slice(1)),
              a = t.height,
              i = t.width,
              s = e.image.resizeBilinear(r, [a, i]),
              c = (0, u.normalize)(s);
            return e.transpose(c, [0, 2, 1, 3]);
          });
        }
        function f(e, n, o, u) {
          for (var i = [], s = e.arraySync(), c = 0; c < e.shape[0]; c++)
            for (var p = 0; p < e.shape[1]; p++)
              s[c][p] >= u && i.push(new r.Point(p, c));
          return i.map(function (e) {
            var u = new r.BoundingBox(
                Math.round((e.y * t.CELL_STRIDE + 1) / o),
                Math.round((e.x * t.CELL_STRIDE + 1) / o),
                Math.round((e.y * t.CELL_STRIDE + t.CELL_SIZE) / o),
                Math.round((e.x * t.CELL_STRIDE + t.CELL_SIZE) / o)
              ),
              i = s[e.y][e.x],
              c = n.arraySync();
            return {
              cell: u,
              score: i,
              region: new a.MtcnnBox(
                c[e.y][e.x][0],
                c[e.y][e.x][1],
                c[e.y][e.x][2],
                c[e.y][e.x][3]
              ),
            };
          });
        }
        function l(t, o, a, u, s) {
          s.stage1 = [];
          var c = o
              .map(function (r) {
                return e.tidy(function () {
                  var n = { scale: r },
                    o = p(t, r),
                    a = Date.now(),
                    s = (0, i.PNet)(o, u),
                    c = s.prob,
                    f = s.regions;
                  return (
                    (n.pnet = Date.now() - a),
                    {
                      scoresTensor: e.unstack(e.unstack(c, 3)[1])[0],
                      regionsTensor: e.unstack(f)[0],
                      scale: r,
                      statsForScale: n,
                    }
                  );
                });
              })
              .map(function (e) {
                var r = e.scoresTensor,
                  t = e.regionsTensor,
                  o = e.scale,
                  u = e.statsForScale,
                  i = f(r, t, o, a);
                if ((r.dispose(), t.dispose(), !i.length))
                  return s.stage1.push(u), [];
                var c = Date.now(),
                  p = (0, n.nonMaxSuppression)(
                    i.map(function (e) {
                      return e.cell;
                    }),
                    i.map(function (e) {
                      return e.score;
                    }),
                    0.5
                  );
                return (
                  (u.nms = Date.now() - c),
                  (u.numBoxes = p.length),
                  s.stage1.push(u),
                  p.map(function (e) {
                    return i[e];
                  })
                );
              })
              .reduce(function (e, r) {
                return e.concat(r);
              }, []),
            l = [],
            g = [];
          if (c.length > 0) {
            var h = Date.now(),
              d = (0, n.nonMaxSuppression)(
                c.map(function (e) {
                  return e.cell;
                }),
                c.map(function (e) {
                  return e.score;
                }),
                0.7
              );
            (s.stage1_nms = Date.now() - h),
              (g = d.map(function (e) {
                return c[e].score;
              })),
              (l = d
                .map(function (e) {
                  return c[e];
                })
                .map(function (e) {
                  var n = e.cell,
                    t = e.region;
                  return new r.BoundingBox(
                    n.left + t.left * n.width,
                    n.top + t.top * n.height,
                    n.right + t.right * n.width,
                    n.bottom + t.bottom * n.height
                  )
                    .toSquare()
                    .round();
                }));
          }
          return { boxes: l, scores: g };
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../classes": "ywa2",
        "../ops": "CGLe",
        "./config": "FWxD",
        "./getSizesForScale": "i57n",
        "./MtcnnBox": "JgXS",
        "./normalize": "HmoS",
        "./PNet": "fy1H",
      },
    ],
    gHdc: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.extractImagePatches = u);
        var e = require("tslib"),
          t = i(require("@tensorflow/tfjs-core")),
          r = require("../dom"),
          n = require("../env"),
          a = require("./normalize");
        function o(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (o = function (e) {
            return e ? r : t;
          })(e);
        }
        function i(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = o(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            a = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var i in e)
            if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
              var u = a ? Object.getOwnPropertyDescriptor(e, i) : null;
              u && (u.get || u.set)
                ? Object.defineProperty(n, i, u)
                : (n[i] = e[i]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        function u(o, i, u) {
          var s = u.width,
            c = u.height;
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var u,
              f,
              p,
              d = this;
            return (0, e.__generator)(this, function (h) {
              switch (h.label) {
                case 0:
                  return (
                    (u = (0, r.getContext2dOrThrow)(o)),
                    [
                      4,
                      Promise.all(
                        i.map(function (t) {
                          return (0,
                          e.__awaiter)(d, void 0, void 0, function () {
                            var a, i, s, c, f, p, d, h;
                            return (0, e.__generator)(this, function (e) {
                              return (
                                (a = t.padAtBorders(o.height, o.width)),
                                (i = a.y),
                                (s = a.ey),
                                (c = a.x),
                                (f = a.ex),
                                (p = c - 1),
                                (d = i - 1),
                                (h = u.getImageData(p, d, f - p, s - d)),
                                [
                                  2,
                                  n.env.isNodejs()
                                    ? (0, r.createCanvasFromMedia)(h)
                                    : createImageBitmap(h),
                                ]
                              );
                            });
                          });
                        })
                      ),
                    ]
                  );
                case 1:
                  return (
                    (f = h.sent()),
                    (p = []),
                    f.forEach(function (e) {
                      var t = (0, r.createCanvas)({ width: s, height: c }),
                        n = (0, r.getContext2dOrThrow)(t);
                      n.drawImage(e, 0, 0, s, c);
                      for (
                        var a = n.getImageData(0, 0, s, c).data, o = [], i = 0;
                        i < a.length;
                        i += 4
                      )
                        o.push(a[i + 2]), o.push(a[i + 1]), o.push(a[i]);
                      p.push(o);
                    }),
                    [
                      2,
                      p.map(function (e) {
                        return t.tidy(function () {
                          var r = t
                            .transpose(
                              t.tensor4d(e, [1, s, c, 3]),
                              [0, 2, 1, 3]
                            )
                            .toFloat();
                          return (0, a.normalize)(r);
                        });
                      }),
                    ]
                  );
              }
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../dom": "F9LC",
        "../env": "iBDr",
        "./normalize": "HmoS",
      },
    ],
    pUwR: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.RNet = a);
        var e = o(require("@tensorflow/tfjs-core")),
          r = require("../common/fullyConnectedLayer"),
          t = require("./prelu"),
          n = require("./sharedLayers");
        function u(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (u = function (e) {
            return e ? t : r;
          })(e);
        }
        function o(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = u(r);
          if (t && t.has(e)) return t.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var f = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              f && (f.get || f.set)
                ? Object.defineProperty(n, a, f)
                : (n[a] = e[a]);
            }
          return (n.default = e), t && t.set(e, n), n;
        }
        function a(u, o) {
          return e.tidy(function () {
            var a = (0, n.sharedLayer)(u, o),
              f = e.reshape(a, [a.shape[0], o.fc1.weights.shape[0]]),
              c = (0, r.fullyConnectedLayer)(f, o.fc1),
              s = (0, t.prelu)(c, o.prelu4_alpha),
              i = (0, r.fullyConnectedLayer)(s, o.fc2_1),
              l = e.expandDims(e.max(i, 1), 1),
              p = e.softmax(e.sub(i, l), 1),
              y = (0, r.fullyConnectedLayer)(s, o.fc2_2);
            return { scores: e.unstack(p, 1)[1], regions: y };
          });
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../common/fullyConnectedLayer": "E0V1",
        "./prelu": "l0WF",
        "./sharedLayers": "rrlW",
      },
    ],
    ulT3: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.stage2 = s);
        var e = require("tslib"),
          t = i(require("@tensorflow/tfjs-core")),
          r = require("../ops"),
          n = require("./extractImagePatches"),
          o = require("./MtcnnBox"),
          a = require("./RNet");
        function u(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (u = function (e) {
            return e ? r : t;
          })(e);
        }
        function i(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = u(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var i = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(n, a, i)
                : (n[a] = e[a]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        function s(u, i, s, c, f) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var p, l, d, g, w, h, m, y, v, b, x, _, O, P;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return (
                    (p = Date.now()),
                    [
                      4,
                      (0, n.extractImagePatches)(u, i, {
                        width: 24,
                        height: 24,
                      }),
                    ]
                  );
                case 1:
                  return (
                    (l = e.sent()),
                    (f.stage2_extractImagePatches = Date.now() - p),
                    (p = Date.now()),
                    (d = l.map(function (e) {
                      var t = (0, a.RNet)(e, c);
                      return e.dispose(), t;
                    })),
                    (f.stage2_rnet = Date.now() - p),
                    (g =
                      d.length > 1
                        ? t.concat(
                            d.map(function (e) {
                              return e.scores;
                            })
                          )
                        : d[0].scores),
                    (m = (h = Array).from),
                    [4, g.data()]
                  );
                case 2:
                  return (
                    (w = m.apply(h, [e.sent()])),
                    g.dispose(),
                    (y = w
                      .map(function (e, t) {
                        return { score: e, idx: t };
                      })
                      .filter(function (e) {
                        return e.score > s;
                      })
                      .map(function (e) {
                        return e.idx;
                      })),
                    (v = y.map(function (e) {
                      return i[e];
                    })),
                    (b = y.map(function (e) {
                      return w[e];
                    })),
                    (x = []),
                    (_ = []),
                    v.length > 0 &&
                      ((p = Date.now()),
                      (O = (0, r.nonMaxSuppression)(v, b, 0.7)),
                      (f.stage2_nms = Date.now() - p),
                      (P = O.map(function (e) {
                        var t = d[y[e]].regions.arraySync();
                        return new o.MtcnnBox(
                          t[0][0],
                          t[0][1],
                          t[0][2],
                          t[0][3]
                        );
                      })),
                      (_ = O.map(function (e) {
                        return b[e];
                      })),
                      (x = O.map(function (e, t) {
                        return v[e].calibrate(P[t]);
                      }))),
                    d.forEach(function (e) {
                      e.regions.dispose(), e.scores.dispose();
                    }),
                    [2, { boxes: x, scores: _ }]
                  );
              }
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../ops": "CGLe",
        "./extractImagePatches": "gHdc",
        "./MtcnnBox": "JgXS",
        "./RNet": "pUwR",
      },
    ],
    XbMk: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.ONet = c);
        var e = u(require("@tensorflow/tfjs-core")),
          r = require("../common"),
          t = require("../common/fullyConnectedLayer"),
          n = require("./prelu"),
          o = require("./sharedLayers");
        function a(e) {
          if ("function" != typeof WeakMap) return null;
          var r = new WeakMap(),
            t = new WeakMap();
          return (a = function (e) {
            return e ? t : r;
          })(e);
        }
        function u(e, r) {
          if (!r && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var t = a(r);
          if (t && t.has(e)) return t.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var c = o ? Object.getOwnPropertyDescriptor(e, u) : null;
              c && (c.get || c.set)
                ? Object.defineProperty(n, u, c)
                : (n[u] = e[u]);
            }
          return (n.default = e), t && t.set(e, n), n;
        }
        function c(a, u) {
          return e.tidy(function () {
            var c = (0, o.sharedLayer)(a, u);
            (c = e.maxPool(c, [2, 2], [2, 2], "same")),
              (c = (0, r.convLayer)(c, u.conv4, "valid")),
              (c = (0, n.prelu)(c, u.prelu4_alpha));
            var f = e.reshape(c, [c.shape[0], u.fc1.weights.shape[0]]),
              l = (0, t.fullyConnectedLayer)(f, u.fc1),
              i = (0, n.prelu)(l, u.prelu5_alpha),
              p = (0, t.fullyConnectedLayer)(i, u.fc2_1),
              s = e.expandDims(e.max(p, 1), 1),
              y = e.softmax(e.sub(p, s), 1),
              d = (0, t.fullyConnectedLayer)(i, u.fc2_2),
              v = (0, t.fullyConnectedLayer)(i, u.fc2_3);
            return { scores: e.unstack(y, 1)[1], regions: d, points: v };
          });
        }
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "../common": "gZ1E",
        "../common/fullyConnectedLayer": "E0V1",
        "./prelu": "l0WF",
        "./sharedLayers": "rrlW",
      },
    ],
    P3Qr: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.stage3 = c);
        var e = require("tslib"),
          t = u(require("@tensorflow/tfjs-core")),
          r = require("../classes"),
          n = require("../ops"),
          o = require("./extractImagePatches"),
          a = require("./MtcnnBox"),
          i = require("./ONet");
        function s(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (s = function (e) {
            return e ? r : t;
          })(e);
        }
        function u(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = s(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var i = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(n, a, i)
                : (n[a] = e[a]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        function c(s, u, c, f, p) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            var l, d, g, w, h, y, m, v, b, x, O, _, P, j, D;
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return (
                    (l = Date.now()),
                    [
                      4,
                      (0, o.extractImagePatches)(s, u, {
                        width: 48,
                        height: 48,
                      }),
                    ]
                  );
                case 1:
                  return (
                    (d = e.sent()),
                    (p.stage3_extractImagePatches = Date.now() - l),
                    (l = Date.now()),
                    (g = d.map(function (e) {
                      var t = (0, i.ONet)(e, f);
                      return e.dispose(), t;
                    })),
                    (p.stage3_onet = Date.now() - l),
                    (w =
                      g.length > 1
                        ? t.concat(
                            g.map(function (e) {
                              return e.scores;
                            })
                          )
                        : g[0].scores),
                    (m = (y = Array).from),
                    [4, w.data()]
                  );
                case 2:
                  return (
                    (h = m.apply(y, [e.sent()])),
                    w.dispose(),
                    (v = h
                      .map(function (e, t) {
                        return { score: e, idx: t };
                      })
                      .filter(function (e) {
                        return e.score > c;
                      })
                      .map(function (e) {
                        return e.idx;
                      })),
                    (b = v.map(function (e) {
                      var t = g[e].regions.arraySync();
                      return new a.MtcnnBox(t[0][0], t[0][1], t[0][2], t[0][3]);
                    })),
                    (x = v.map(function (e, t) {
                      return u[e].calibrate(b[t]);
                    })),
                    (O = v.map(function (e) {
                      return h[e];
                    })),
                    (_ = []),
                    (P = []),
                    (j = []),
                    x.length > 0 &&
                      ((l = Date.now()),
                      (D = (0, n.nonMaxSuppression)(x, O, 0.7, !1)),
                      (p.stage3_nms = Date.now() - l),
                      (_ = D.map(function (e) {
                        return x[e];
                      })),
                      (P = D.map(function (e) {
                        return O[e];
                      })),
                      (j = D.map(function (e, t) {
                        return Array(5)
                          .fill(0)
                          .map(function (n, o) {
                            var a = g[e].points.arraySync();
                            return new r.Point(
                              a[0][o] * (_[t].width + 1) + _[t].left,
                              a[0][o + 5] * (_[t].height + 1) + _[t].top
                            );
                          });
                      }))),
                    g.forEach(function (e) {
                      e.regions.dispose(),
                        e.scores.dispose(),
                        e.points.dispose();
                    }),
                    [2, { boxes: _, scores: P, points: j }]
                  );
              }
            });
          });
        }
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../classes": "ywa2",
        "../ops": "CGLe",
        "./extractImagePatches": "gHdc",
        "./MtcnnBox": "JgXS",
        "./ONet": "XbMk",
      },
    ],
    uYvs: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.Mtcnn = void 0);
        var e = require("tslib"),
          t = v(require("@tensorflow/tfjs-core")),
          r = require("../classes"),
          n = require("../classes/FaceDetection"),
          o = require("../classes/FaceLandmarks5"),
          a = require("../dom"),
          i = require("../factories"),
          s = require("../NeuralNetwork"),
          u = require("./bgrToRgbTensor"),
          c = require("./config"),
          l = require("./extractParams"),
          p = require("./extractParamsFromWeigthMap"),
          d = require("./getSizesForScale"),
          f = require("./MtcnnOptions"),
          h = require("./pyramidDown"),
          w = require("./stage1"),
          g = require("./stage2"),
          m = require("./stage3");
        function _(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (_ = function (e) {
            return e ? r : t;
          })(e);
        }
        function v(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = _(t);
          if (r && r.has(e)) return r.get(e);
          var n = {},
            o = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var i = o ? Object.getOwnPropertyDescriptor(e, a) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(n, a, i)
                : (n[a] = e[a]);
            }
          return (n.default = e), r && r.set(e, n), n;
        }
        var b = (function (s) {
          function _() {
            return s.call(this, "Mtcnn") || this;
          }
          return (
            (0, e.__extends)(_, s),
            (_.prototype.load = function (t) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                return (0, e.__generator)(this, function (e) {
                  return (
                    console.warn(
                      "mtcnn is deprecated and will be removed soon"
                    ),
                    [2, s.prototype.load.call(this, t)]
                  );
                });
              });
            }),
            (_.prototype.loadFromDisk = function (t) {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                return (0, e.__generator)(this, function (e) {
                  return (
                    console.warn(
                      "mtcnn is deprecated and will be removed soon"
                    ),
                    [2, s.prototype.loadFromDisk.call(this, t)]
                  );
                });
              });
            }),
            (_.prototype.forwardInput = function (a, s) {
              return (
                void 0 === s && (s = {}),
                (0, e.__awaiter)(this, void 0, void 0, function () {
                  var l,
                    p,
                    _,
                    v,
                    b,
                    y,
                    x,
                    D,
                    q,
                    M,
                    F,
                    P,
                    O,
                    S,
                    k,
                    I,
                    W,
                    j,
                    N,
                    L,
                    T;
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        if (!(l = this.params))
                          throw new Error(
                            "Mtcnn - load model before inference"
                          );
                        if (!(p = a.canvases[0]))
                          throw new Error(
                            "Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet."
                          );
                        return (
                          (_ = {}),
                          (v = Date.now()),
                          (b = t.tidy(function () {
                            return (0,
                            u.bgrToRgbTensor)(t.expandDims(t.browser.fromPixels(p)).toFloat());
                          })),
                          (y = function (e) {
                            return b.dispose(), (_.total = Date.now() - v), e;
                          }),
                          (x = b.shape.slice(1)),
                          (D = x[0]),
                          (q = x[1]),
                          (M = new f.MtcnnOptions(s)),
                          (F = M.minFaceSize),
                          (P = M.scaleFactor),
                          (O = M.maxNumScales),
                          (S = M.scoreThresholds),
                          (k = M.scaleSteps),
                          (I = (k || (0, h.pyramidDown)(F, P, [D, q]))
                            .filter(function (e) {
                              var t = (0, d.getSizesForScale)(e, [D, q]);
                              return Math.min(t.width, t.height) > c.CELL_SIZE;
                            })
                            .slice(0, O)),
                          (_.scales = I),
                          (_.pyramid = I.map(function (e) {
                            return (0, d.getSizesForScale)(e, [D, q]);
                          })),
                          (W = Date.now()),
                          [4, (0, w.stage1)(b, I, S[0], l.pnet, _)]
                        );
                      case 1:
                        return (
                          (j = e.sent()),
                          (_.total_stage1 = Date.now() - W),
                          j.boxes.length
                            ? ((_.stage2_numInputBoxes = j.boxes.length),
                              (W = Date.now()),
                              [4, (0, g.stage2)(p, j.boxes, S[1], l.rnet, _)])
                            : [2, y({ results: [], stats: _ })]
                        );
                      case 2:
                        return (
                          (N = e.sent()),
                          (_.total_stage2 = Date.now() - W),
                          N.boxes.length
                            ? ((_.stage3_numInputBoxes = N.boxes.length),
                              (W = Date.now()),
                              [4, (0, m.stage3)(p, N.boxes, S[2], l.onet, _)])
                            : [2, y({ results: [], stats: _ })]
                        );
                      case 3:
                        return (
                          (L = e.sent()),
                          (_.total_stage3 = Date.now() - W),
                          (T = L.boxes.map(function (e, t) {
                            return (0, i.extendWithFaceLandmarks)(
                              (0, i.extendWithFaceDetection)(
                                {},
                                new n.FaceDetection(
                                  L.scores[t],
                                  new r.Rect(
                                    e.left / q,
                                    e.top / D,
                                    e.width / q,
                                    e.height / D
                                  ),
                                  { height: D, width: q }
                                )
                              ),
                              new o.FaceLandmarks5(
                                L.points[t].map(function (t) {
                                  return t
                                    .sub(new r.Point(e.left, e.top))
                                    .div(new r.Point(e.width, e.height));
                                }),
                                { width: e.width, height: e.height }
                              )
                            );
                          })),
                          [2, y({ results: T, stats: _ })]
                        );
                    }
                  });
                })
              );
            }),
            (_.prototype.forward = function (t, r) {
              return (
                void 0 === r && (r = {}),
                (0, e.__awaiter)(this, void 0, void 0, function () {
                  var n;
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return (
                          (n = this.forwardInput), [4, (0, a.toNetInput)(t)]
                        );
                      case 1:
                        return [4, n.apply(this, [e.sent(), r])];
                      case 2:
                        return [2, e.sent().results];
                    }
                  });
                })
              );
            }),
            (_.prototype.forwardWithStats = function (t, r) {
              return (
                void 0 === r && (r = {}),
                (0, e.__awaiter)(this, void 0, void 0, function () {
                  var n;
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return (
                          (n = this.forwardInput), [4, (0, a.toNetInput)(t)]
                        );
                      case 1:
                        return [2, n.apply(this, [e.sent(), r])];
                    }
                  });
                })
              );
            }),
            (_.prototype.getDefaultModelName = function () {
              return "mtcnn_model";
            }),
            (_.prototype.extractParamsFromWeigthMap = function (e) {
              return (0, p.extractParamsFromWeigthMap)(e);
            }),
            (_.prototype.extractParams = function (e) {
              return (0, l.extractParams)(e);
            }),
            _
          );
        })(s.NeuralNetwork);
        exports.Mtcnn = b;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../classes": "ywa2",
        "../classes/FaceDetection": "EHzx",
        "../classes/FaceLandmarks5": "dtUY",
        "../dom": "F9LC",
        "../factories": "bBQL",
        "../NeuralNetwork": "bTJB",
        "./bgrToRgbTensor": "JBqT",
        "./config": "FWxD",
        "./extractParams": "QWyn",
        "./extractParamsFromWeigthMap": "pss6",
        "./getSizesForScale": "i57n",
        "./MtcnnOptions": "Idgp",
        "./pyramidDown": "MGmq",
        "./stage1": "DDZI",
        "./stage2": "ulT3",
        "./stage3": "P3Qr",
      },
    ],
    bGQJ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.MEAN_RGB =
            exports.IOU_THRESHOLD =
            exports.BOX_ANCHORS =
              void 0);
        var e = require("../classes"),
          t = 0.4;
        exports.IOU_THRESHOLD = t;
        var o = [
          new e.Point(1.603231, 2.094468),
          new e.Point(6.041143, 7.080126),
          new e.Point(2.882459, 3.518061),
          new e.Point(4.266906, 5.178857),
          new e.Point(9.041765, 10.66308),
        ];
        exports.BOX_ANCHORS = o;
        var r = [117.001, 114.697, 97.404];
        exports.MEAN_RGB = r;
      },
      { "../classes": "ywa2" },
    ],
    kpkq: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.TinyFaceDetector = void 0);
        var e = require("tslib"),
          t = require("../classes"),
          r = require("../tinyYolov2/TinyYolov2Base"),
          o = require("./const"),
          i = (function (r) {
            function i() {
              var e = {
                withSeparableConvs: !0,
                iouThreshold: o.IOU_THRESHOLD,
                classes: ["face"],
                anchors: o.BOX_ANCHORS,
                meanRgb: o.MEAN_RGB,
                isFirstLayerConv2d: !0,
                filterSizes: [3, 16, 32, 64, 128, 256, 512],
              };
              return r.call(this, e) || this;
            }
            return (
              (0, e.__extends)(i, r),
              Object.defineProperty(i.prototype, "anchors", {
                get: function () {
                  return this.config.anchors;
                },
                enumerable: !0,
                configurable: !0,
              }),
              (i.prototype.locateFaces = function (r, o) {
                return (0, e.__awaiter)(this, void 0, void 0, function () {
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return [4, this.detect(r, o)];
                      case 1:
                        return [
                          2,
                          e.sent().map(function (e) {
                            return new t.FaceDetection(e.score, e.relativeBox, {
                              width: e.imageWidth,
                              height: e.imageHeight,
                            });
                          }),
                        ];
                    }
                  });
                });
              }),
              (i.prototype.getDefaultModelName = function () {
                return "tiny_face_detector_model";
              }),
              (i.prototype.extractParamsFromWeigthMap = function (e) {
                return r.prototype.extractParamsFromWeigthMap.call(this, e);
              }),
              i
            );
          })(r.TinyYolov2Base);
        exports.TinyFaceDetector = i;
      },
      {
        tslib: "vCxL",
        "../classes": "ywa2",
        "../tinyYolov2/TinyYolov2Base": "Nr16",
        "./const": "bGQJ",
      },
    ],
    Tqdo: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.tinyYolov2 =
            exports.tinyFaceDetector =
            exports.ssdMobilenetv1 =
            exports.recognizeFaceExpressions =
            exports.predictAgeAndGender =
            exports.nets =
            exports.mtcnn =
            exports.locateFaces =
            exports.loadTinyYolov2Model =
            exports.loadTinyFaceDetectorModel =
            exports.loadSsdMobilenetv1Model =
            exports.loadMtcnnModel =
            exports.loadFaceRecognitionModel =
            exports.loadFaceLandmarkTinyModel =
            exports.loadFaceLandmarkModel =
            exports.loadFaceExpressionModel =
            exports.loadFaceDetectionModel =
            exports.loadAgeGenderModel =
            exports.detectLandmarks =
            exports.detectFaceLandmarksTiny =
            exports.detectFaceLandmarks =
            exports.computeFaceDescriptor =
              void 0);
        var e = require("../ageGenderNet/AgeGenderNet"),
          t = require("../faceExpressionNet/FaceExpressionNet"),
          o = require("../faceLandmarkNet/FaceLandmark68Net"),
          r = require("../faceLandmarkNet/FaceLandmark68TinyNet"),
          n = require("../faceRecognitionNet/FaceRecognitionNet"),
          a = require("../mtcnn/Mtcnn"),
          c = require("../ssdMobilenetv1/SsdMobilenetv1"),
          d = require("../tinyFaceDetector/TinyFaceDetector"),
          s = require("../tinyYolov2"),
          i = {
            ssdMobilenetv1: new c.SsdMobilenetv1(),
            tinyFaceDetector: new d.TinyFaceDetector(),
            tinyYolov2: new s.TinyYolov2(),
            mtcnn: new a.Mtcnn(),
            faceLandmark68Net: new o.FaceLandmark68Net(),
            faceLandmark68TinyNet: new r.FaceLandmark68TinyNet(),
            faceRecognitionNet: new n.FaceRecognitionNet(),
            faceExpressionNet: new t.FaceExpressionNet(),
            ageGenderNet: new e.AgeGenderNet(),
          };
        exports.nets = i;
        var l = function (e, t) {
          return i.ssdMobilenetv1.locateFaces(e, t);
        };
        exports.ssdMobilenetv1 = l;
        var p = function (e, t) {
          return i.tinyFaceDetector.locateFaces(e, t);
        };
        exports.tinyFaceDetector = p;
        var x = function (e, t) {
          return i.tinyYolov2.locateFaces(e, t);
        };
        exports.tinyYolov2 = x;
        var u = function (e, t) {
          return i.mtcnn.forward(e, t);
        };
        exports.mtcnn = u;
        var v = function (e) {
          return i.faceLandmark68Net.detectLandmarks(e);
        };
        exports.detectFaceLandmarks = v;
        var F = function (e) {
          return i.faceLandmark68TinyNet.detectLandmarks(e);
        };
        exports.detectFaceLandmarksTiny = F;
        var f = function (e) {
          return i.faceRecognitionNet.computeFaceDescriptor(e);
        };
        exports.computeFaceDescriptor = f;
        var M = function (e) {
          return i.faceExpressionNet.predictExpressions(e);
        };
        exports.recognizeFaceExpressions = M;
        var m = function (e) {
          return i.ageGenderNet.predictAgeAndGender(e);
        };
        exports.predictAgeAndGender = m;
        var N = function (e) {
          return i.ssdMobilenetv1.load(e);
        };
        exports.loadSsdMobilenetv1Model = N;
        var y = function (e) {
          return i.tinyFaceDetector.load(e);
        };
        exports.loadTinyFaceDetectorModel = y;
        var k = function (e) {
          return i.mtcnn.load(e);
        };
        exports.loadMtcnnModel = k;
        var L = function (e) {
          return i.tinyYolov2.load(e);
        };
        exports.loadTinyYolov2Model = L;
        var g = function (e) {
          return i.faceLandmark68Net.load(e);
        };
        exports.loadFaceLandmarkModel = g;
        var T = function (e) {
          return i.faceLandmark68TinyNet.load(e);
        };
        exports.loadFaceLandmarkTinyModel = T;
        var D = function (e) {
          return i.faceRecognitionNet.load(e);
        };
        exports.loadFaceRecognitionModel = D;
        var b = function (e) {
          return i.faceExpressionNet.load(e);
        };
        exports.loadFaceExpressionModel = b;
        var E = function (e) {
          return i.ageGenderNet.load(e);
        };
        exports.loadAgeGenderModel = E;
        var G = N;
        exports.loadFaceDetectionModel = G;
        var w = l;
        exports.locateFaces = w;
        var A = v;
        exports.detectLandmarks = A;
      },
      {
        "../ageGenderNet/AgeGenderNet": "o2hs",
        "../faceExpressionNet/FaceExpressionNet": "uqll",
        "../faceLandmarkNet/FaceLandmark68Net": "bacu",
        "../faceLandmarkNet/FaceLandmark68TinyNet": "TU0Q",
        "../faceRecognitionNet/FaceRecognitionNet": "A8XY",
        "../mtcnn/Mtcnn": "uYvs",
        "../ssdMobilenetv1/SsdMobilenetv1": "YH6x",
        "../tinyFaceDetector/TinyFaceDetector": "kpkq",
        "../tinyYolov2": "viua",
      },
    ],
    k9y7: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.PredictSingleFaceExpressionsWithFaceAlignmentTask =
            exports.PredictSingleFaceExpressionsTask =
            exports.PredictFaceExpressionsTaskBase =
            exports.PredictAllFaceExpressionsWithFaceAlignmentTask =
            exports.PredictAllFaceExpressionsTask =
              void 0);
        var e = require("tslib"),
          t = require("../factories/WithFaceExpressions"),
          n = require("./ComposableTask"),
          r = require("./ComputeFaceDescriptorsTasks"),
          s = require("./extractFacesAndComputeResults"),
          i = require("./nets"),
          a = require("./PredictAgeAndGenderTask"),
          c = (function (t) {
            function n(e, n, r) {
              var s = t.call(this) || this;
              return (
                (s.parentTask = e), (s.input = n), (s.extractedFaces = r), s
              );
            }
            return (0, e.__extends)(n, t), n;
          })(n.ComposableTask);
        exports.PredictFaceExpressionsTaskBase = c;
        var o = (function (n) {
          function r() {
            return (null !== n && n.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(r, n),
            (r.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var n,
                  r,
                  a = this;
                return (0, e.__generator)(this, function (c) {
                  switch (c.label) {
                    case 0:
                      return [4, this.parentTask];
                    case 1:
                      return (
                        (n = c.sent()),
                        [
                          4,
                          (0, s.extractAllFacesAndComputeResults)(
                            n,
                            this.input,
                            function (t) {
                              return (0, e.__awaiter)(
                                a,
                                void 0,
                                void 0,
                                function () {
                                  return (0, e.__generator)(this, function (e) {
                                    switch (e.label) {
                                      case 0:
                                        return [
                                          4,
                                          Promise.all(
                                            t.map(function (e) {
                                              return i.nets.faceExpressionNet.predictExpressions(
                                                e
                                              );
                                            })
                                          ),
                                        ];
                                      case 1:
                                        return [2, e.sent()];
                                    }
                                  });
                                }
                              );
                            },
                            this.extractedFaces
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (r = c.sent()),
                        [
                          2,
                          n.map(function (e, n) {
                            return (0, t.extendWithFaceExpressions)(e, r[n]);
                          }),
                        ]
                      );
                  }
                });
              });
            }),
            (r.prototype.withAgeAndGender = function () {
              return new a.PredictAllAgeAndGenderTask(this, this.input);
            }),
            r
          );
        })(c);
        exports.PredictAllFaceExpressionsTask = o;
        var u = (function (n) {
          function r() {
            return (null !== n && n.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(r, n),
            (r.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var n, r;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.parentTask];
                    case 1:
                      return (n = e.sent())
                        ? [
                            4,
                            (0, s.extractSingleFaceAndComputeResult)(
                              n,
                              this.input,
                              function (e) {
                                return i.nets.faceExpressionNet.predictExpressions(
                                  e
                                );
                              },
                              this.extractedFaces
                            ),
                          ]
                        : [2];
                    case 2:
                      return (
                        (r = e.sent()),
                        [2, (0, t.extendWithFaceExpressions)(n, r)]
                      );
                  }
                });
              });
            }),
            (r.prototype.withAgeAndGender = function () {
              return new a.PredictSingleAgeAndGenderTask(this, this.input);
            }),
            r
          );
        })(c);
        exports.PredictSingleFaceExpressionsTask = u;
        var p = (function (t) {
          function n() {
            return (null !== t && t.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(n, t),
            (n.prototype.withAgeAndGender = function () {
              return new a.PredictAllAgeAndGenderWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (n.prototype.withFaceDescriptors = function () {
              return new r.ComputeAllFaceDescriptorsTask(this, this.input);
            }),
            n
          );
        })(o);
        exports.PredictAllFaceExpressionsWithFaceAlignmentTask = p;
        var l = (function (t) {
          function n() {
            return (null !== t && t.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(n, t),
            (n.prototype.withAgeAndGender = function () {
              return new a.PredictSingleAgeAndGenderWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (n.prototype.withFaceDescriptor = function () {
              return new r.ComputeSingleFaceDescriptorTask(this, this.input);
            }),
            n
          );
        })(u);
        exports.PredictSingleFaceExpressionsWithFaceAlignmentTask = l;
      },
      {
        tslib: "vCxL",
        "../factories/WithFaceExpressions": "KSS7",
        "./ComposableTask": "uKWf",
        "./ComputeFaceDescriptorsTasks": "lU9f",
        "./extractFacesAndComputeResults": "ypiC",
        "./nets": "Tqdo",
        "./PredictAgeAndGenderTask": "Rc8t",
      },
    ],
    Rc8t: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.PredictSingleAgeAndGenderWithFaceAlignmentTask =
            exports.PredictSingleAgeAndGenderTask =
            exports.PredictAllAgeAndGenderWithFaceAlignmentTask =
            exports.PredictAllAgeAndGenderTask =
            exports.PredictAgeAndGenderTaskBase =
              void 0);
        var e = require("tslib"),
          t = require("../factories/WithAge"),
          n = require("../factories/WithGender"),
          r = require("./ComposableTask"),
          i = require("./ComputeFaceDescriptorsTasks"),
          s = require("./extractFacesAndComputeResults"),
          a = require("./nets"),
          c = require("./PredictFaceExpressionsTask"),
          o = (function (t) {
            function n(e, n, r) {
              var i = t.call(this) || this;
              return (
                (i.parentTask = e), (i.input = n), (i.extractedFaces = r), i
              );
            }
            return (0, e.__extends)(n, t), n;
          })(r.ComposableTask);
        exports.PredictAgeAndGenderTaskBase = o;
        var u = (function (r) {
          function i() {
            return (null !== r && r.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(i, r),
            (i.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var r,
                  i,
                  c = this;
                return (0, e.__generator)(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return [4, this.parentTask];
                    case 1:
                      return (
                        (r = o.sent()),
                        [
                          4,
                          (0, s.extractAllFacesAndComputeResults)(
                            r,
                            this.input,
                            function (t) {
                              return (0, e.__awaiter)(
                                c,
                                void 0,
                                void 0,
                                function () {
                                  return (0, e.__generator)(this, function (e) {
                                    switch (e.label) {
                                      case 0:
                                        return [
                                          4,
                                          Promise.all(
                                            t.map(function (e) {
                                              return a.nets.ageGenderNet.predictAgeAndGender(
                                                e
                                              );
                                            })
                                          ),
                                        ];
                                      case 1:
                                        return [2, e.sent()];
                                    }
                                  });
                                }
                              );
                            },
                            this.extractedFaces
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (i = o.sent()),
                        [
                          2,
                          r.map(function (e, r) {
                            var s = i[r],
                              a = s.age,
                              c = s.gender,
                              o = s.genderProbability;
                            return (0,
                            t.extendWithAge)((0, n.extendWithGender)(e, c, o), a);
                          }),
                        ]
                      );
                  }
                });
              });
            }),
            (i.prototype.withFaceExpressions = function () {
              return new c.PredictAllFaceExpressionsTask(this, this.input);
            }),
            i
          );
        })(o);
        exports.PredictAllAgeAndGenderTask = u;
        var d = (function (r) {
          function i() {
            return (null !== r && r.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(i, r),
            (i.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var r, i, c, o, u;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.parentTask];
                    case 1:
                      return (r = e.sent())
                        ? [
                            4,
                            (0, s.extractSingleFaceAndComputeResult)(
                              r,
                              this.input,
                              function (e) {
                                return a.nets.ageGenderNet.predictAgeAndGender(
                                  e
                                );
                              },
                              this.extractedFaces
                            ),
                          ]
                        : [2];
                    case 2:
                      return (
                        (i = e.sent()),
                        (c = i.age),
                        (o = i.gender),
                        (u = i.genderProbability),
                        [
                          2,
                          (0, t.extendWithAge)(
                            (0, n.extendWithGender)(r, o, u),
                            c
                          ),
                        ]
                      );
                  }
                });
              });
            }),
            (i.prototype.withFaceExpressions = function () {
              return new c.PredictSingleFaceExpressionsTask(this, this.input);
            }),
            i
          );
        })(o);
        exports.PredictSingleAgeAndGenderTask = d;
        var p = (function (t) {
          function n() {
            return (null !== t && t.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(n, t),
            (n.prototype.withFaceExpressions = function () {
              return new c.PredictAllFaceExpressionsWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (n.prototype.withFaceDescriptors = function () {
              return new i.ComputeAllFaceDescriptorsTask(this, this.input);
            }),
            n
          );
        })(u);
        exports.PredictAllAgeAndGenderWithFaceAlignmentTask = p;
        var l = (function (t) {
          function n() {
            return (null !== t && t.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(n, t),
            (n.prototype.withFaceExpressions = function () {
              return new c.PredictSingleFaceExpressionsWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (n.prototype.withFaceDescriptor = function () {
              return new i.ComputeSingleFaceDescriptorTask(this, this.input);
            }),
            n
          );
        })(d);
        exports.PredictSingleAgeAndGenderWithFaceAlignmentTask = l;
      },
      {
        tslib: "vCxL",
        "../factories/WithAge": "rdnN",
        "../factories/WithGender": "cjMs",
        "./ComposableTask": "uKWf",
        "./ComputeFaceDescriptorsTasks": "lU9f",
        "./extractFacesAndComputeResults": "ypiC",
        "./nets": "Tqdo",
        "./PredictFaceExpressionsTask": "k9y7",
      },
    ],
    lU9f: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.ComputeSingleFaceDescriptorTask =
            exports.ComputeFaceDescriptorsTaskBase =
            exports.ComputeAllFaceDescriptorsTask =
              void 0);
        var e = require("tslib"),
          t = require("../factories/WithFaceDescriptor"),
          n = require("./ComposableTask"),
          r = require("./extractFacesAndComputeResults"),
          i = require("./nets"),
          s = require("./PredictAgeAndGenderTask"),
          u = require("./PredictFaceExpressionsTask"),
          o = (function (t) {
            function n(e, n) {
              var r = t.call(this) || this;
              return (r.parentTask = e), (r.input = n), r;
            }
            return (0, e.__extends)(n, t), n;
          })(n.ComposableTask);
        exports.ComputeFaceDescriptorsTaskBase = o;
        var a = (function (n) {
          function o() {
            return (null !== n && n.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(o, n),
            (o.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var n;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.parentTask];
                    case 1:
                      return (
                        (n = e.sent()),
                        [
                          4,
                          (0, r.extractAllFacesAndComputeResults)(
                            n,
                            this.input,
                            function (e) {
                              return Promise.all(
                                e.map(function (e) {
                                  return i.nets.faceRecognitionNet.computeFaceDescriptor(
                                    e
                                  );
                                })
                              );
                            },
                            null,
                            function (e) {
                              return e.landmarks.align(null, {
                                useDlibAlignment: !0,
                              });
                            }
                          ),
                        ]
                      );
                    case 2:
                      return [
                        2,
                        e.sent().map(function (e, r) {
                          return (0, t.extendWithFaceDescriptor)(n[r], e);
                        }),
                      ];
                  }
                });
              });
            }),
            (o.prototype.withFaceExpressions = function () {
              return new u.PredictAllFaceExpressionsWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (o.prototype.withAgeAndGender = function () {
              return new s.PredictAllAgeAndGenderWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            o
          );
        })(o);
        exports.ComputeAllFaceDescriptorsTask = a;
        var c = (function (n) {
          function o() {
            return (null !== n && n.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(o, n),
            (o.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var n, s;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.parentTask];
                    case 1:
                      return (n = e.sent())
                        ? [
                            4,
                            (0, r.extractSingleFaceAndComputeResult)(
                              n,
                              this.input,
                              function (e) {
                                return i.nets.faceRecognitionNet.computeFaceDescriptor(
                                  e
                                );
                              },
                              null,
                              function (e) {
                                return e.landmarks.align(null, {
                                  useDlibAlignment: !0,
                                });
                              }
                            ),
                          ]
                        : [2];
                    case 2:
                      return (
                        (s = e.sent()),
                        [2, (0, t.extendWithFaceDescriptor)(n, s)]
                      );
                  }
                });
              });
            }),
            (o.prototype.withFaceExpressions = function () {
              return new u.PredictSingleFaceExpressionsWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (o.prototype.withAgeAndGender = function () {
              return new s.PredictSingleAgeAndGenderWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            o
          );
        })(o);
        exports.ComputeSingleFaceDescriptorTask = c;
      },
      {
        tslib: "vCxL",
        "../factories/WithFaceDescriptor": "VXGS",
        "./ComposableTask": "uKWf",
        "./extractFacesAndComputeResults": "ypiC",
        "./nets": "Tqdo",
        "./PredictAgeAndGenderTask": "Rc8t",
        "./PredictFaceExpressionsTask": "k9y7",
      },
    ],
    g1OH: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.DetectSingleFaceLandmarksTask =
            exports.DetectFaceLandmarksTaskBase =
            exports.DetectAllFaceLandmarksTask =
              void 0);
        var e = require("tslib"),
          t = p(require("@tensorflow/tfjs-core")),
          n = require("../dom"),
          r = require("../factories/WithFaceLandmarks"),
          s = require("./ComposableTask"),
          a = require("./ComputeFaceDescriptorsTasks"),
          i = require("./nets"),
          c = require("./PredictAgeAndGenderTask"),
          o = require("./PredictFaceExpressionsTask");
        function u(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            n = new WeakMap();
          return (u = function (e) {
            return e ? n : t;
          })(e);
        }
        function p(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var n = u(t);
          if (n && n.has(e)) return n.get(e);
          var r = {},
            s = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in e)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
              var i = s ? Object.getOwnPropertyDescriptor(e, a) : null;
              i && (i.get || i.set)
                ? Object.defineProperty(r, a, i)
                : (r[a] = e[a]);
            }
          return (r.default = e), n && n.set(e, r), r;
        }
        var d = (function (t) {
          function n(e, n, r) {
            var s = t.call(this) || this;
            return (
              (s.parentTask = e), (s.input = n), (s.useTinyLandmarkNet = r), s
            );
          }
          return (
            (0, e.__extends)(n, t),
            Object.defineProperty(n.prototype, "landmarkNet", {
              get: function () {
                return this.useTinyLandmarkNet
                  ? i.nets.faceLandmark68TinyNet
                  : i.nets.faceLandmark68Net;
              },
              enumerable: !0,
              configurable: !0,
            }),
            n
          );
        })(s.ComposableTask);
        exports.DetectFaceLandmarksTaskBase = d;
        var l = (function (s) {
          function i() {
            return (null !== s && s.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(i, s),
            (i.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var s,
                  a,
                  i,
                  c,
                  o,
                  u = this;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.parentTask];
                    case 1:
                      return (
                        (s = e.sent()),
                        (a = s.map(function (e) {
                          return e.detection;
                        })),
                        this.input instanceof t.Tensor
                          ? [4, (0, n.extractFaceTensors)(this.input, a)]
                          : [3, 3]
                      );
                    case 2:
                      return (c = e.sent()), [3, 5];
                    case 3:
                      return [4, (0, n.extractFaces)(this.input, a)];
                    case 4:
                      (c = e.sent()), (e.label = 5);
                    case 5:
                      return (
                        (i = c),
                        [
                          4,
                          Promise.all(
                            i.map(function (e) {
                              return u.landmarkNet.detectLandmarks(e);
                            })
                          ),
                        ]
                      );
                    case 6:
                      return (
                        (o = e.sent()),
                        i.forEach(function (e) {
                          return e instanceof t.Tensor && e.dispose();
                        }),
                        [
                          2,
                          s.map(function (e, t) {
                            return (0, r.extendWithFaceLandmarks)(e, o[t]);
                          }),
                        ]
                      );
                  }
                });
              });
            }),
            (i.prototype.withFaceExpressions = function () {
              return new o.PredictAllFaceExpressionsWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (i.prototype.withAgeAndGender = function () {
              return new c.PredictAllAgeAndGenderWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (i.prototype.withFaceDescriptors = function () {
              return new a.ComputeAllFaceDescriptorsTask(this, this.input);
            }),
            i
          );
        })(d);
        exports.DetectAllFaceLandmarksTask = l;
        var f = (function (s) {
          function i() {
            return (null !== s && s.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(i, s),
            (i.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var s, a, i, c, o;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.parentTask];
                    case 1:
                      return (s = e.sent())
                        ? ((a = s.detection),
                          this.input instanceof t.Tensor
                            ? [4, (0, n.extractFaceTensors)(this.input, [a])]
                            : [3, 3])
                        : [2];
                    case 2:
                      return (c = e.sent()), [3, 5];
                    case 3:
                      return [4, (0, n.extractFaces)(this.input, [a])];
                    case 4:
                      (c = e.sent()), (e.label = 5);
                    case 5:
                      return (
                        (i = c), [4, this.landmarkNet.detectLandmarks(i[0])]
                      );
                    case 6:
                      return (
                        (o = e.sent()),
                        i.forEach(function (e) {
                          return e instanceof t.Tensor && e.dispose();
                        }),
                        [2, (0, r.extendWithFaceLandmarks)(s, o)]
                      );
                  }
                });
              });
            }),
            (i.prototype.withFaceExpressions = function () {
              return new o.PredictSingleFaceExpressionsWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (i.prototype.withAgeAndGender = function () {
              return new c.PredictSingleAgeAndGenderWithFaceAlignmentTask(
                this,
                this.input
              );
            }),
            (i.prototype.withFaceDescriptor = function () {
              return new a.ComputeSingleFaceDescriptorTask(this, this.input);
            }),
            i
          );
        })(d);
        exports.DetectSingleFaceLandmarksTask = f;
      },
      {
        tslib: "vCxL",
        "@tensorflow/tfjs-core": "FZBM",
        "../dom": "F9LC",
        "../factories/WithFaceLandmarks": "bw0I",
        "./ComposableTask": "uKWf",
        "./ComputeFaceDescriptorsTasks": "lU9f",
        "./nets": "Tqdo",
        "./PredictAgeAndGenderTask": "Rc8t",
        "./PredictFaceExpressionsTask": "k9y7",
      },
    ],
    GJ3p: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.DetectSingleFaceTask =
            exports.DetectFacesTaskBase =
            exports.DetectAllFacesTask =
              void 0);
        var e = require("tslib"),
          t = require("../factories/WithFaceDetection"),
          n = require("../mtcnn/MtcnnOptions"),
          i = require("../ssdMobilenetv1/SsdMobilenetv1Options"),
          r = require("../tinyFaceDetector/TinyFaceDetectorOptions"),
          o = require("../tinyYolov2"),
          s = require("./ComposableTask"),
          c = require("./DetectFaceLandmarksTasks"),
          a = require("./nets"),
          u = require("./PredictAgeAndGenderTask"),
          d = require("./PredictFaceExpressionsTask"),
          p = (function (t) {
            function n(e, n) {
              void 0 === n && (n = new i.SsdMobilenetv1Options());
              var r = t.call(this) || this;
              return (r.input = e), (r.options = n), r;
            }
            return (0, e.__extends)(n, t), n;
          })(s.ComposableTask);
        exports.DetectFacesTaskBase = p;
        var h = (function (s) {
          function p() {
            return (null !== s && s.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(p, s),
            (p.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var t, s, c, u;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return (
                        (s = (t = this).input),
                        (c = t.options) instanceof n.MtcnnOptions
                          ? [4, a.nets.mtcnn.forward(s, c)]
                          : [3, 2]
                      );
                    case 1:
                      return [
                        2,
                        e.sent().map(function (e) {
                          return e.detection;
                        }),
                      ];
                    case 2:
                      if (
                        !(u =
                          c instanceof r.TinyFaceDetectorOptions
                            ? function (e) {
                                return a.nets.tinyFaceDetector.locateFaces(
                                  e,
                                  c
                                );
                              }
                            : c instanceof i.SsdMobilenetv1Options
                            ? function (e) {
                                return a.nets.ssdMobilenetv1.locateFaces(e, c);
                              }
                            : c instanceof o.TinyYolov2Options
                            ? function (e) {
                                return a.nets.tinyYolov2.locateFaces(e, c);
                              }
                            : null)
                      )
                        throw new Error(
                          "detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options"
                        );
                      return [2, u(s)];
                  }
                });
              });
            }),
            (p.prototype.runAndExtendWithFaceDetections = function () {
              var n = this;
              return new Promise(function (i) {
                return (0, e.__awaiter)(n, void 0, void 0, function () {
                  var n;
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return [4, this.run()];
                      case 1:
                        return (
                          (n = e.sent()),
                          [
                            2,
                            i(
                              n.map(function (e) {
                                return (0, t.extendWithFaceDetection)({}, e);
                              })
                            ),
                          ]
                        );
                    }
                  });
                });
              });
            }),
            (p.prototype.withFaceLandmarks = function (e) {
              return (
                void 0 === e && (e = !1),
                new c.DetectAllFaceLandmarksTask(
                  this.runAndExtendWithFaceDetections(),
                  this.input,
                  e
                )
              );
            }),
            (p.prototype.withFaceExpressions = function () {
              return new d.PredictAllFaceExpressionsTask(
                this.runAndExtendWithFaceDetections(),
                this.input
              );
            }),
            (p.prototype.withAgeAndGender = function () {
              return new u.PredictAllAgeAndGenderTask(
                this.runAndExtendWithFaceDetections(),
                this.input
              );
            }),
            p
          );
        })(p);
        exports.DetectAllFacesTask = h;
        var l = (function (n) {
          function i() {
            return (null !== n && n.apply(this, arguments)) || this;
          }
          return (
            (0, e.__extends)(i, n),
            (i.prototype.run = function () {
              return (0, e.__awaiter)(this, void 0, void 0, function () {
                var t, n;
                return (0, e.__generator)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, new h(this.input, this.options)];
                    case 1:
                      return (
                        (t = e.sent()),
                        (n = t[0]),
                        t.forEach(function (e) {
                          e.score > n.score && (n = e);
                        }),
                        [2, n]
                      );
                  }
                });
              });
            }),
            (i.prototype.runAndExtendWithFaceDetection = function () {
              var n = this;
              return new Promise(function (i) {
                return (0, e.__awaiter)(n, void 0, void 0, function () {
                  var n;
                  return (0, e.__generator)(this, function (e) {
                    switch (e.label) {
                      case 0:
                        return [4, this.run()];
                      case 1:
                        return (
                          (n = e.sent()),
                          [
                            2,
                            i(
                              n ? (0, t.extendWithFaceDetection)({}, n) : void 0
                            ),
                          ]
                        );
                    }
                  });
                });
              });
            }),
            (i.prototype.withFaceLandmarks = function (e) {
              return (
                void 0 === e && (e = !1),
                new c.DetectSingleFaceLandmarksTask(
                  this.runAndExtendWithFaceDetection(),
                  this.input,
                  e
                )
              );
            }),
            (i.prototype.withFaceExpressions = function () {
              return new d.PredictSingleFaceExpressionsTask(
                this.runAndExtendWithFaceDetection(),
                this.input
              );
            }),
            (i.prototype.withAgeAndGender = function () {
              return new u.PredictSingleAgeAndGenderTask(
                this.runAndExtendWithFaceDetection(),
                this.input
              );
            }),
            i
          );
        })(p);
        exports.DetectSingleFaceTask = l;
      },
      {
        tslib: "vCxL",
        "../factories/WithFaceDetection": "ufye",
        "../mtcnn/MtcnnOptions": "Idgp",
        "../ssdMobilenetv1/SsdMobilenetv1Options": "sbr6",
        "../tinyFaceDetector/TinyFaceDetectorOptions": "v9q6",
        "../tinyYolov2": "viua",
        "./ComposableTask": "uKWf",
        "./DetectFaceLandmarksTasks": "g1OH",
        "./nets": "Tqdo",
        "./PredictAgeAndGenderTask": "Rc8t",
        "./PredictFaceExpressionsTask": "k9y7",
      },
    ],
    Daqn: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.detectAllFaces = n),
          (exports.detectSingleFace = s);
        var e = require("../ssdMobilenetv1/SsdMobilenetv1Options"),
          t = require("./DetectFacesTasks");
        function s(s, n) {
          return (
            void 0 === n && (n = new e.SsdMobilenetv1Options()),
            new t.DetectSingleFaceTask(s, n)
          );
        }
        function n(s, n) {
          return (
            void 0 === n && (n = new e.SsdMobilenetv1Options()),
            new t.DetectAllFacesTask(s, n)
          );
        }
      },
      {
        "../ssdMobilenetv1/SsdMobilenetv1Options": "sbr6",
        "./DetectFacesTasks": "GJ3p",
      },
    ],
    M1wi: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.allFaces = void 0),
          (exports.allFacesMtcnn = o),
          (exports.allFacesSsdMobilenetv1 = r),
          (exports.allFacesTinyYolov2 = a);
        var e = require("tslib"),
          t = require("../mtcnn/MtcnnOptions"),
          n = require("../ssdMobilenetv1"),
          i = require("../tinyYolov2"),
          s = require("./detectFaces");
        function r(t, i) {
          return (0, e.__awaiter)(this, void 0, void 0, function () {
            return (0, e.__generator)(this, function (e) {
              switch (e.label) {
                case 0:
                  return (
                    console.warn(
                      "allFacesSsdMobilenetv1 is deprecated and will be removed soon, use the high level api instead"
                    ),
                    [
                      4,
                      (0, s.detectAllFaces)(
                        t,
                        new n.SsdMobilenetv1Options(
                          i ? { minConfidence: i } : {}
                        )
                      )
                        .withFaceLandmarks()
                        .withFaceDescriptors(),
                    ]
                  );
                case 1:
                  return [2, e.sent()];
              }
            });
          });
        }
        function a(t, n) {
          return (
            void 0 === n && (n = {}),
            (0, e.__awaiter)(this, void 0, void 0, function () {
              return (0, e.__generator)(this, function (e) {
                switch (e.label) {
                  case 0:
                    return (
                      console.warn(
                        "allFacesTinyYolov2 is deprecated and will be removed soon, use the high level api instead"
                      ),
                      [
                        4,
                        (0, s.detectAllFaces)(t, new i.TinyYolov2Options(n))
                          .withFaceLandmarks()
                          .withFaceDescriptors(),
                      ]
                    );
                  case 1:
                    return [2, e.sent()];
                }
              });
            })
          );
        }
        function o(n, i) {
          return (
            void 0 === i && (i = {}),
            (0, e.__awaiter)(this, void 0, void 0, function () {
              return (0, e.__generator)(this, function (e) {
                switch (e.label) {
                  case 0:
                    return (
                      console.warn(
                        "allFacesMtcnn is deprecated and will be removed soon, use the high level api instead"
                      ),
                      [
                        4,
                        (0, s.detectAllFaces)(n, new t.MtcnnOptions(i))
                          .withFaceLandmarks()
                          .withFaceDescriptors(),
                      ]
                    );
                  case 1:
                    return [2, e.sent()];
                }
              });
            })
          );
        }
        var c = r;
        exports.allFaces = c;
      },
      {
        tslib: "vCxL",
        "../mtcnn/MtcnnOptions": "Idgp",
        "../ssdMobilenetv1": "pMO5",
        "../tinyYolov2": "viua",
        "./detectFaces": "Daqn",
      },
    ],
    lsRB: [
      function (require, module, exports) {
        "use strict";
        function r(r, e) {
          if (r.length !== e.length)
            throw new Error("euclideanDistance: arr1.length !== arr2.length");
          var t = Array.from(r),
            n = Array.from(e);
          return Math.sqrt(
            t
              .map(function (r, e) {
                return r - n[e];
              })
              .reduce(function (r, e) {
                return r + Math.pow(e, 2);
              }, 0)
          );
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.euclideanDistance = r);
      },
      {},
    ],
    VocE: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.FaceMatcher = void 0);
        var e = require("../classes/FaceMatch"),
          r = require("../classes/LabeledFaceDescriptors"),
          t = require("../euclideanDistance"),
          n = (function () {
            function n(e, t) {
              void 0 === t && (t = 0.6), (this._distanceThreshold = t);
              var n = Array.isArray(e) ? e : [e];
              if (!n.length)
                throw new Error(
                  "FaceRecognizer.constructor - expected atleast one input"
                );
              var c = 1,
                o = function () {
                  return "person " + c++;
                };
              this._labeledDescriptors = n.map(function (e) {
                if (e instanceof r.LabeledFaceDescriptors) return e;
                if (e instanceof Float32Array)
                  return new r.LabeledFaceDescriptors(o(), [e]);
                if (e.descriptor && e.descriptor instanceof Float32Array)
                  return new r.LabeledFaceDescriptors(o(), [e.descriptor]);
                throw new Error(
                  "FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>"
                );
              });
            }
            return (
              Object.defineProperty(n.prototype, "labeledDescriptors", {
                get: function () {
                  return this._labeledDescriptors;
                },
                enumerable: !0,
                configurable: !0,
              }),
              Object.defineProperty(n.prototype, "distanceThreshold", {
                get: function () {
                  return this._distanceThreshold;
                },
                enumerable: !0,
                configurable: !0,
              }),
              (n.prototype.computeMeanDistance = function (e, r) {
                return (
                  r
                    .map(function (r) {
                      return (0, t.euclideanDistance)(r, e);
                    })
                    .reduce(function (e, r) {
                      return e + r;
                    }, 0) / (r.length || 1)
                );
              }),
              (n.prototype.matchDescriptor = function (r) {
                var t = this;
                return this.labeledDescriptors
                  .map(function (n) {
                    var c = n.descriptors,
                      o = n.label;
                    return new e.FaceMatch(o, t.computeMeanDistance(r, c));
                  })
                  .reduce(function (e, r) {
                    return e.distance < r.distance ? e : r;
                  });
              }),
              (n.prototype.findBestMatch = function (r) {
                var t = this.matchDescriptor(r);
                return t.distance < this.distanceThreshold
                  ? t
                  : new e.FaceMatch("unknown", t.distance);
              }),
              (n.prototype.toJSON = function () {
                return {
                  distanceThreshold: this.distanceThreshold,
                  labeledDescriptors: this.labeledDescriptors.map(function (e) {
                    return e.toJSON();
                  }),
                };
              }),
              (n.fromJSON = function (e) {
                return new n(
                  e.labeledDescriptors.map(function (e) {
                    return r.LabeledFaceDescriptors.fromJSON(e);
                  }),
                  e.distanceThreshold
                );
              }),
              n
            );
          })();
        exports.FaceMatcher = n;
      },
      {
        "../classes/FaceMatch": "oI1C",
        "../classes/LabeledFaceDescriptors": "MbIs",
        "../euclideanDistance": "lsRB",
      },
    ],
    bMPk: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = require("./allFaces");
        Object.keys(e).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            ((r in exports && exports[r] === e[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return e[r];
                },
              }));
        });
        var r = require("./ComposableTask");
        Object.keys(r).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === r[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }));
        });
        var t = require("./ComputeFaceDescriptorsTasks");
        Object.keys(t).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === t[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return t[e];
                },
              }));
        });
        var o = require("./detectFaces");
        Object.keys(o).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === o[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return o[e];
                },
              }));
        });
        var n = require("./DetectFacesTasks");
        Object.keys(n).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === n[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return n[e];
                },
              }));
        });
        var u = require("./DetectFaceLandmarksTasks");
        Object.keys(u).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === u[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return u[e];
                },
              }));
        });
        var s = require("./FaceMatcher");
        Object.keys(s).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === s[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return s[e];
                },
              }));
        });
        var c = require("./nets");
        Object.keys(c).forEach(function (e) {
          "default" !== e &&
            "__esModule" !== e &&
            ((e in exports && exports[e] === c[e]) ||
              Object.defineProperty(exports, e, {
                enumerable: !0,
                get: function () {
                  return c[e];
                },
              }));
        });
      },
      {
        "./allFaces": "M1wi",
        "./ComposableTask": "uKWf",
        "./ComputeFaceDescriptorsTasks": "lU9f",
        "./detectFaces": "Daqn",
        "./DetectFacesTasks": "GJ3p",
        "./DetectFaceLandmarksTasks": "g1OH",
        "./FaceMatcher": "VocE",
        "./nets": "Tqdo",
      },
    ],
    WvOb: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = { createMtcnn: !0 };
        exports.createMtcnn = n;
        var t = require("./Mtcnn");
        Object.keys(t).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === t[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return t[r];
                },
              }));
        });
        var r = require("./MtcnnOptions");
        function n(e) {
          var r = new t.Mtcnn();
          return r.extractWeights(e), r;
        }
        Object.keys(r).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === r[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return r[t];
                },
              }));
        });
      },
      { "./Mtcnn": "uYvs", "./MtcnnOptions": "Idgp" },
    ],
    AXDT: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = { createTinyFaceDetector: !0 };
        exports.createTinyFaceDetector = o;
        var t = require("./TinyFaceDetector");
        Object.keys(t).forEach(function (r) {
          "default" !== r &&
            "__esModule" !== r &&
            (Object.prototype.hasOwnProperty.call(e, r) ||
              (r in exports && exports[r] === t[r]) ||
              Object.defineProperty(exports, r, {
                enumerable: !0,
                get: function () {
                  return t[r];
                },
              }));
        });
        var r = require("./TinyFaceDetectorOptions");
        function o(e) {
          var r = new t.TinyFaceDetector();
          return r.extractWeights(e), r;
        }
        Object.keys(r).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === r[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return r[t];
                },
              }));
        });
      },
      { "./TinyFaceDetector": "kpkq", "./TinyFaceDetectorOptions": "v9q6" },
    ],
    ybHn: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.resizeResults = s);
        var e = require("./classes"),
          i = require("./classes/FaceDetection"),
          t = require("./classes/FaceLandmarks"),
          r = require("./factories/WithFaceDetection"),
          n = require("./factories/WithFaceLandmarks");
        function s(a, c) {
          var o = new e.Dimensions(c.width, c.height),
            h = o.width,
            d = o.height;
          if (h <= 0 || d <= 0)
            throw new Error(
              "resizeResults - invalid dimensions: " +
                JSON.stringify({ width: h, height: d })
            );
          if (Array.isArray(a))
            return a.map(function (e) {
              return s(e, { width: h, height: d });
            });
          if ((0, n.isWithFaceLandmarks)(a)) {
            var u = a.detection.forSize(h, d),
              f = a.unshiftedLandmarks.forSize(u.box.width, u.box.height);
            return (0, n.extendWithFaceLandmarks)(
              (0, r.extendWithFaceDetection)(a, u),
              f
            );
          }
          return (0, r.isWithFaceDetection)(a)
            ? (0, r.extendWithFaceDetection)(a, a.detection.forSize(h, d))
            : a instanceof t.FaceLandmarks || a instanceof i.FaceDetection
            ? a.forSize(h, d)
            : a;
        }
      },
      {
        "./classes": "ywa2",
        "./classes/FaceDetection": "EHzx",
        "./classes/FaceLandmarks": "Cc3m",
        "./factories/WithFaceDetection": "ufye",
        "./factories/WithFaceLandmarks": "bw0I",
      },
    ],
    yNIJ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 });
        var e = { tf: !0, draw: !0, utils: !0 };
        exports.utils = exports.tf = exports.draw = void 0;
        var t = v(require("@tensorflow/tfjs-core"));
        exports.tf = t;
        var r = v(require("./draw"));
        exports.draw = r;
        var o = v(require("./utils"));
        exports.utils = o;
        var n = require("./ageGenderNet/index");
        Object.keys(n).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === n[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return n[t];
                },
              }));
        });
        var u = require("./classes/index");
        Object.keys(u).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === u[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return u[t];
                },
              }));
        });
        var c = require("./dom/index");
        Object.keys(c).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === c[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return c[t];
                },
              }));
        });
        var p = require("./env/index");
        Object.keys(p).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === p[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return p[t];
                },
              }));
        });
        var a = require("./faceExpressionNet/index");
        Object.keys(a).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === a[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return a[t];
                },
              }));
        });
        var s = require("./faceLandmarkNet/index");
        Object.keys(s).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === s[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return s[t];
                },
              }));
        });
        var i = require("./faceRecognitionNet/index");
        Object.keys(i).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === i[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return i[t];
                },
              }));
        });
        var f = require("./factories/index");
        Object.keys(f).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === f[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return f[t];
                },
              }));
        });
        var l = require("./globalApi/index");
        Object.keys(l).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === l[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return l[t];
                },
              }));
        });
        var d = require("./mtcnn/index");
        Object.keys(d).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === d[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return d[t];
                },
              }));
        });
        var y = require("./ops/index");
        Object.keys(y).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === y[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return y[t];
                },
              }));
        });
        var b = require("./ssdMobilenetv1/index");
        Object.keys(b).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === b[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return b[t];
                },
              }));
        });
        var O = require("./tinyFaceDetector/index");
        Object.keys(O).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === O[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return O[t];
                },
              }));
        });
        var x = require("./tinyYolov2/index");
        Object.keys(x).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === x[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return x[t];
                },
              }));
        });
        var j = require("./euclideanDistance");
        Object.keys(j).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === j[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return j[t];
                },
              }));
        });
        var P = require("./NeuralNetwork");
        Object.keys(P).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === P[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return P[t];
                },
              }));
        });
        var _ = require("./resizeResults");
        function h(e) {
          if ("function" != typeof WeakMap) return null;
          var t = new WeakMap(),
            r = new WeakMap();
          return (h = function (e) {
            return e ? r : t;
          })(e);
        }
        function v(e, t) {
          if (!t && e && e.__esModule) return e;
          if (null === e || ("object" != typeof e && "function" != typeof e))
            return { default: e };
          var r = h(t);
          if (r && r.has(e)) return r.get(e);
          var o = {},
            n = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var u in e)
            if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) {
              var c = n ? Object.getOwnPropertyDescriptor(e, u) : null;
              c && (c.get || c.set)
                ? Object.defineProperty(o, u, c)
                : (o[u] = e[u]);
            }
          return (o.default = e), r && r.set(e, o), o;
        }
        Object.keys(_).forEach(function (t) {
          "default" !== t &&
            "__esModule" !== t &&
            (Object.prototype.hasOwnProperty.call(e, t) ||
              (t in exports && exports[t] === _[t]) ||
              Object.defineProperty(exports, t, {
                enumerable: !0,
                get: function () {
                  return _[t];
                },
              }));
        });
      },
      {
        "@tensorflow/tfjs-core": "FZBM",
        "./draw": "sID2",
        "./utils": "acHD",
        "./ageGenderNet/index": "EEkx",
        "./classes/index": "ywa2",
        "./dom/index": "F9LC",
        "./env/index": "iBDr",
        "./faceExpressionNet/index": "YaCQ",
        "./faceLandmarkNet/index": "DBMC",
        "./faceRecognitionNet/index": "bYao",
        "./factories/index": "bBQL",
        "./globalApi/index": "bMPk",
        "./mtcnn/index": "WvOb",
        "./ops/index": "CGLe",
        "./ssdMobilenetv1/index": "pMO5",
        "./tinyFaceDetector/index": "AXDT",
        "./tinyYolov2/index": "viua",
        "./euclideanDistance": "lsRB",
        "./NeuralNetwork": "bTJB",
        "./resizeResults": "ybHn",
      },
    ],
    Cf6Q: [
      function (require, module, exports) {
        "use strict";
        function r(t) {
          return (r =
            "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
              ? function (r) {
                  return typeof r;
                }
              : function (r) {
                  return r &&
                    "function" == typeof Symbol &&
                    r.constructor === Symbol &&
                    r !== Symbol.prototype
                    ? "symbol"
                    : typeof r;
                })(t);
        }
        function t(r, t) {
          var e = Object.keys(r);
          if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(r);
            t &&
              (n = n.filter(function (t) {
                return Object.getOwnPropertyDescriptor(r, t).enumerable;
              })),
              e.push.apply(e, n);
          }
          return e;
        }
        function e(r) {
          for (var e = 1; e < arguments.length; e++) {
            var o = null != arguments[e] ? arguments[e] : {};
            e % 2
              ? t(Object(o), !0).forEach(function (t) {
                  n(r, t, o[t]);
                })
              : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(o))
              : t(Object(o)).forEach(function (t) {
                  Object.defineProperty(
                    r,
                    t,
                    Object.getOwnPropertyDescriptor(o, t)
                  );
                });
          }
          return r;
        }
        function n(r, t, e) {
          return (
            (t = o(t)) in r
              ? Object.defineProperty(r, t, {
                  value: e,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                })
              : (r[t] = e),
            r
          );
        }
        function o(t) {
          var e = i(t, "string");
          return "symbol" === r(e) ? e : String(e);
        }
        function i(t, e) {
          if ("object" !== r(t) || null === t) return t;
          var n = t[Symbol.toPrimitive];
          if (void 0 !== n) {
            var o = n.call(t, e || "default");
            if ("object" !== r(o)) return o;
            throw new TypeError("@@toPrimitive must return a primitive value.");
          }
          return ("string" === e ? String : Number)(t);
        }
        function u(r) {
          return l(r) || f(r) || a(r) || c();
        }
        function c() {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        }
        function a(r, t) {
          if (r) {
            if ("string" == typeof r) return p(r, t);
            var e = Object.prototype.toString.call(r).slice(8, -1);
            return (
              "Object" === e && r.constructor && (e = r.constructor.name),
              "Map" === e || "Set" === e
                ? Array.from(r)
                : "Arguments" === e ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)
                ? p(r, t)
                : void 0
            );
          }
        }
        function f(r) {
          if (
            ("undefined" != typeof Symbol && null != r[Symbol.iterator]) ||
            null != r["@@iterator"]
          )
            return Array.from(r);
        }
        function l(r) {
          if (Array.isArray(r)) return p(r);
        }
        function p(r, t) {
          (null == t || t > r.length) && (t = r.length);
          for (var e = 0, n = new Array(t); e < t; e++) n[e] = r[e];
          return n;
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.write =
            exports.update =
            exports.read =
            exports.destroy =
              void 0);
        var s = "imagenes",
          y = function () {
            var r = localStorage.getItem(s);
            return r ? JSON.parse(r) : [];
          };
        exports.read = y;
        var b = function (r) {
          localStorage.setItem(s, JSON.stringify(r));
        };
        exports.write = b;
        var m = function (r, t) {
          var n = u(y()),
            o = n.findIndex(function (t) {
              return t.id === r;
            });
          (n[o] = e(e({}, n[o]), t)), b(n);
        };
        exports.update = m;
        var d = function (r) {
          var t = u(y()),
            e = t.findIndex(function (t) {
              return t.id === r;
            });
          t.splice(e, 1), b(t);
        };
        exports.destroy = d;
      },
      {},
    ],
    saRr: [
      function (require, module, exports) {
        "use strict";
        let e;
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = o);
        const t = new Uint8Array(16);
        function o() {
          if (
            !e &&
            !(e =
              "undefined" != typeof crypto &&
              crypto.getRandomValues &&
              crypto.getRandomValues.bind(crypto))
          )
            throw new Error(
              "crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"
            );
          return e(t);
        }
      },
      {},
    ],
    Kfyb: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e =
          /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
        exports.default = e;
      },
      {},
    ],
    dh4g: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e = t(require("./regex.js"));
        function t(e) {
          return e && e.__esModule ? e : { default: e };
        }
        function r(t) {
          return "string" == typeof t && e.default.test(t);
        }
        var u = r;
        exports.default = u;
      },
      { "./regex.js": "Kfyb" },
    ],
    Okf7: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0),
          (exports.unsafeStringify = i);
        var e = t(require("./validate.js"));
        function t(e) {
          return e && e.__esModule ? e : { default: e };
        }
        const r = [];
        for (let u = 0; u < 256; ++u) r.push((u + 256).toString(16).slice(1));
        function i(e, t = 0) {
          return (
            r[e[t + 0]] +
            r[e[t + 1]] +
            r[e[t + 2]] +
            r[e[t + 3]] +
            "-" +
            r[e[t + 4]] +
            r[e[t + 5]] +
            "-" +
            r[e[t + 6]] +
            r[e[t + 7]] +
            "-" +
            r[e[t + 8]] +
            r[e[t + 9]] +
            "-" +
            r[e[t + 10]] +
            r[e[t + 11]] +
            r[e[t + 12]] +
            r[e[t + 13]] +
            r[e[t + 14]] +
            r[e[t + 15]]
          ).toLowerCase();
        }
        function o(t, r = 0) {
          const o = i(t, r);
          if (!(0, e.default)(o))
            throw TypeError("Stringified UUID is invalid");
          return o;
        }
        var n = o;
        exports.default = n;
      },
      { "./validate.js": "dh4g" },
    ],
    ds1e: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e = n(require("./rng.js")),
          t = require("./stringify.js");
        function n(e) {
          return e && e.__esModule ? e : { default: e };
        }
        let s,
          r,
          o = 0,
          l = 0;
        function u(n, u, c) {
          let i = (u && c) || 0;
          const d = u || new Array(16);
          let a = (n = n || {}).node || s,
            f = void 0 !== n.clockseq ? n.clockseq : r;
          if (null == a || null == f) {
            const t = n.random || (n.rng || e.default)();
            null == a && (a = s = [1 | t[0], t[1], t[2], t[3], t[4], t[5]]),
              null == f && (f = r = 16383 & ((t[6] << 8) | t[7]));
          }
          let v = void 0 !== n.msecs ? n.msecs : Date.now(),
            q = void 0 !== n.nsecs ? n.nsecs : l + 1;
          const g = v - o + (q - l) / 1e4;
          if (
            (g < 0 && void 0 === n.clockseq && (f = (f + 1) & 16383),
            (g < 0 || v > o) && void 0 === n.nsecs && (q = 0),
            q >= 1e4)
          )
            throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
          (o = v), (l = q), (r = f);
          const m = (1e4 * (268435455 & (v += 122192928e5)) + q) % 4294967296;
          (d[i++] = (m >>> 24) & 255),
            (d[i++] = (m >>> 16) & 255),
            (d[i++] = (m >>> 8) & 255),
            (d[i++] = 255 & m);
          const p = ((v / 4294967296) * 1e4) & 268435455;
          (d[i++] = (p >>> 8) & 255),
            (d[i++] = 255 & p),
            (d[i++] = ((p >>> 24) & 15) | 16),
            (d[i++] = (p >>> 16) & 255),
            (d[i++] = (f >>> 8) | 128),
            (d[i++] = 255 & f);
          for (let e = 0; e < 6; ++e) d[i + e] = a[e];
          return u || (0, t.unsafeStringify)(d);
        }
        var c = u;
        exports.default = c;
      },
      { "./rng.js": "saRr", "./stringify.js": "Okf7" },
    ],
    i9qQ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e = r(require("./validate.js"));
        function r(e) {
          return e && e.__esModule ? e : { default: e };
        }
        function t(r) {
          if (!(0, e.default)(r)) throw TypeError("Invalid UUID");
          let t;
          const s = new Uint8Array(16);
          return (
            (s[0] = (t = parseInt(r.slice(0, 8), 16)) >>> 24),
            (s[1] = (t >>> 16) & 255),
            (s[2] = (t >>> 8) & 255),
            (s[3] = 255 & t),
            (s[4] = (t = parseInt(r.slice(9, 13), 16)) >>> 8),
            (s[5] = 255 & t),
            (s[6] = (t = parseInt(r.slice(14, 18), 16)) >>> 8),
            (s[7] = 255 & t),
            (s[8] = (t = parseInt(r.slice(19, 23), 16)) >>> 8),
            (s[9] = 255 & t),
            (s[10] =
              ((t = parseInt(r.slice(24, 36), 16)) / 1099511627776) & 255),
            (s[11] = (t / 4294967296) & 255),
            (s[12] = (t >>> 24) & 255),
            (s[13] = (t >>> 16) & 255),
            (s[14] = (t >>> 8) & 255),
            (s[15] = 255 & t),
            s
          );
        }
        var s = t;
        exports.default = s;
      },
      { "./validate.js": "dh4g" },
    ],
    jljL: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.URL = exports.DNS = void 0),
          (exports.default = u);
        var e = require("./stringify.js"),
          t = r(require("./parse.js"));
        function r(e) {
          return e && e.__esModule ? e : { default: e };
        }
        function n(e) {
          e = unescape(encodeURIComponent(e));
          const t = [];
          for (let r = 0; r < e.length; ++r) t.push(e.charCodeAt(r));
          return t;
        }
        const o = "6ba7b810-9dad-11d1-80b4-00c04fd430c8";
        exports.DNS = o;
        const s = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
        function u(r, u, a) {
          function i(r, o, s, i) {
            var c;
            if (
              ("string" == typeof r && (r = n(r)),
              "string" == typeof o && (o = (0, t.default)(o)),
              16 !== (null === (c = o) || void 0 === c ? void 0 : c.length))
            )
              throw TypeError(
                "Namespace must be array-like (16 iterable integer values, 0-255)"
              );
            let d = new Uint8Array(16 + r.length);
            if (
              (d.set(o),
              d.set(r, o.length),
              ((d = a(d))[6] = (15 & d[6]) | u),
              (d[8] = (63 & d[8]) | 128),
              s)
            ) {
              i = i || 0;
              for (let e = 0; e < 16; ++e) s[i + e] = d[e];
              return s;
            }
            return (0, e.unsafeStringify)(d);
          }
          try {
            i.name = r;
          } catch (c) {}
          return (i.DNS = o), (i.URL = s), i;
        }
        exports.URL = s;
      },
      { "./stringify.js": "Okf7", "./parse.js": "i9qQ" },
    ],
    z990: [
      function (require, module, exports) {
        "use strict";
        function n(n) {
          if ("string" == typeof n) {
            const t = unescape(encodeURIComponent(n));
            n = new Uint8Array(t.length);
            for (let e = 0; e < t.length; ++e) n[e] = t.charCodeAt(e);
          }
          return t(r(o(n), 8 * n.length));
        }
        function t(n) {
          const t = [],
            e = 32 * n.length;
          for (let r = 0; r < e; r += 8) {
            const e = (n[r >> 5] >>> r % 32) & 255,
              o = parseInt(
                "0123456789abcdef".charAt((e >>> 4) & 15) +
                  "0123456789abcdef".charAt(15 & e),
                16
              );
            t.push(o);
          }
          return t;
        }
        function e(n) {
          return 14 + (((n + 64) >>> 9) << 4) + 1;
        }
        function r(n, t) {
          (n[t >> 5] |= 128 << t % 32), (n[e(t) - 1] = t);
          let r = 1732584193,
            o = -271733879,
            c = -1732584194,
            f = 271733878;
          for (let e = 0; e < n.length; e += 16) {
            const t = r,
              h = o,
              d = c,
              p = f;
            (r = i(r, o, c, f, n[e], 7, -680876936)),
              (f = i(f, r, o, c, n[e + 1], 12, -389564586)),
              (c = i(c, f, r, o, n[e + 2], 17, 606105819)),
              (o = i(o, c, f, r, n[e + 3], 22, -1044525330)),
              (r = i(r, o, c, f, n[e + 4], 7, -176418897)),
              (f = i(f, r, o, c, n[e + 5], 12, 1200080426)),
              (c = i(c, f, r, o, n[e + 6], 17, -1473231341)),
              (o = i(o, c, f, r, n[e + 7], 22, -45705983)),
              (r = i(r, o, c, f, n[e + 8], 7, 1770035416)),
              (f = i(f, r, o, c, n[e + 9], 12, -1958414417)),
              (c = i(c, f, r, o, n[e + 10], 17, -42063)),
              (o = i(o, c, f, r, n[e + 11], 22, -1990404162)),
              (r = i(r, o, c, f, n[e + 12], 7, 1804603682)),
              (f = i(f, r, o, c, n[e + 13], 12, -40341101)),
              (c = i(c, f, r, o, n[e + 14], 17, -1502002290)),
              (r = l(
                r,
                (o = i(o, c, f, r, n[e + 15], 22, 1236535329)),
                c,
                f,
                n[e + 1],
                5,
                -165796510
              )),
              (f = l(f, r, o, c, n[e + 6], 9, -1069501632)),
              (c = l(c, f, r, o, n[e + 11], 14, 643717713)),
              (o = l(o, c, f, r, n[e], 20, -373897302)),
              (r = l(r, o, c, f, n[e + 5], 5, -701558691)),
              (f = l(f, r, o, c, n[e + 10], 9, 38016083)),
              (c = l(c, f, r, o, n[e + 15], 14, -660478335)),
              (o = l(o, c, f, r, n[e + 4], 20, -405537848)),
              (r = l(r, o, c, f, n[e + 9], 5, 568446438)),
              (f = l(f, r, o, c, n[e + 14], 9, -1019803690)),
              (c = l(c, f, r, o, n[e + 3], 14, -187363961)),
              (o = l(o, c, f, r, n[e + 8], 20, 1163531501)),
              (r = l(r, o, c, f, n[e + 13], 5, -1444681467)),
              (f = l(f, r, o, c, n[e + 2], 9, -51403784)),
              (c = l(c, f, r, o, n[e + 7], 14, 1735328473)),
              (r = s(
                r,
                (o = l(o, c, f, r, n[e + 12], 20, -1926607734)),
                c,
                f,
                n[e + 5],
                4,
                -378558
              )),
              (f = s(f, r, o, c, n[e + 8], 11, -2022574463)),
              (c = s(c, f, r, o, n[e + 11], 16, 1839030562)),
              (o = s(o, c, f, r, n[e + 14], 23, -35309556)),
              (r = s(r, o, c, f, n[e + 1], 4, -1530992060)),
              (f = s(f, r, o, c, n[e + 4], 11, 1272893353)),
              (c = s(c, f, r, o, n[e + 7], 16, -155497632)),
              (o = s(o, c, f, r, n[e + 10], 23, -1094730640)),
              (r = s(r, o, c, f, n[e + 13], 4, 681279174)),
              (f = s(f, r, o, c, n[e], 11, -358537222)),
              (c = s(c, f, r, o, n[e + 3], 16, -722521979)),
              (o = s(o, c, f, r, n[e + 6], 23, 76029189)),
              (r = s(r, o, c, f, n[e + 9], 4, -640364487)),
              (f = s(f, r, o, c, n[e + 12], 11, -421815835)),
              (c = s(c, f, r, o, n[e + 15], 16, 530742520)),
              (r = a(
                r,
                (o = s(o, c, f, r, n[e + 2], 23, -995338651)),
                c,
                f,
                n[e],
                6,
                -198630844
              )),
              (f = a(f, r, o, c, n[e + 7], 10, 1126891415)),
              (c = a(c, f, r, o, n[e + 14], 15, -1416354905)),
              (o = a(o, c, f, r, n[e + 5], 21, -57434055)),
              (r = a(r, o, c, f, n[e + 12], 6, 1700485571)),
              (f = a(f, r, o, c, n[e + 3], 10, -1894986606)),
              (c = a(c, f, r, o, n[e + 10], 15, -1051523)),
              (o = a(o, c, f, r, n[e + 1], 21, -2054922799)),
              (r = a(r, o, c, f, n[e + 8], 6, 1873313359)),
              (f = a(f, r, o, c, n[e + 15], 10, -30611744)),
              (c = a(c, f, r, o, n[e + 6], 15, -1560198380)),
              (o = a(o, c, f, r, n[e + 13], 21, 1309151649)),
              (r = a(r, o, c, f, n[e + 4], 6, -145523070)),
              (f = a(f, r, o, c, n[e + 11], 10, -1120210379)),
              (c = a(c, f, r, o, n[e + 2], 15, 718787259)),
              (o = a(o, c, f, r, n[e + 9], 21, -343485551)),
              (r = u(r, t)),
              (o = u(o, h)),
              (c = u(c, d)),
              (f = u(f, p));
          }
          return [r, o, c, f];
        }
        function o(n) {
          if (0 === n.length) return [];
          const t = 8 * n.length,
            r = new Uint32Array(e(t));
          for (let e = 0; e < t; e += 8)
            r[e >> 5] |= (255 & n[e / 8]) << e % 32;
          return r;
        }
        function u(n, t) {
          const e = (65535 & n) + (65535 & t);
          return (((n >> 16) + (t >> 16) + (e >> 16)) << 16) | (65535 & e);
        }
        function c(n, t) {
          return (n << t) | (n >>> (32 - t));
        }
        function f(n, t, e, r, o, f) {
          return u(c(u(u(t, n), u(r, f)), o), e);
        }
        function i(n, t, e, r, o, u, c) {
          return f((t & e) | (~t & r), n, t, o, u, c);
        }
        function l(n, t, e, r, o, u, c) {
          return f((t & r) | (e & ~r), n, t, o, u, c);
        }
        function s(n, t, e, r, o, u, c) {
          return f(t ^ e ^ r, n, t, o, u, c);
        }
        function a(n, t, e, r, o, u, c) {
          return f(e ^ (t | ~r), n, t, o, u, c);
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var h = n;
        exports.default = h;
      },
      {},
    ],
    Nc2A: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e = r(require("./v35.js")),
          t = r(require("./md5.js"));
        function r(e) {
          return e && e.__esModule ? e : { default: e };
        }
        const u = (0, e.default)("v3", 48, t.default);
        var d = u;
        exports.default = d;
      },
      { "./v35.js": "jljL", "./md5.js": "z990" },
    ],
    WcjG: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        const e =
          "undefined" != typeof crypto &&
          crypto.randomUUID &&
          crypto.randomUUID.bind(crypto);
        var o = { randomUUID: e };
        exports.default = o;
      },
      {},
    ],
    HQTZ: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e = u(require("./native.js")),
          r = u(require("./rng.js")),
          t = require("./stringify.js");
        function u(e) {
          return e && e.__esModule ? e : { default: e };
        }
        function n(u, n, f) {
          if (e.default.randomUUID && !n && !u) return e.default.randomUUID();
          const i = (u = u || {}).random || (u.rng || r.default)();
          if (((i[6] = (15 & i[6]) | 64), (i[8] = (63 & i[8]) | 128), n)) {
            f = f || 0;
            for (let e = 0; e < 16; ++e) n[f + e] = i[e];
            return n;
          }
          return (0, t.unsafeStringify)(i);
        }
        var f = n;
        exports.default = f;
      },
      { "./native.js": "WcjG", "./rng.js": "saRr", "./stringify.js": "Okf7" },
    ],
    F2vf: [
      function (require, module, exports) {
        "use strict";
        function e(e, t, r, o) {
          switch (e) {
            case 0:
              return (t & r) ^ (~t & o);
            case 1:
              return t ^ r ^ o;
            case 2:
              return (t & r) ^ (t & o) ^ (r & o);
            case 3:
              return t ^ r ^ o;
          }
        }
        function t(e, t) {
          return (e << t) | (e >>> (32 - t));
        }
        function r(r) {
          const o = [1518500249, 1859775393, 2400959708, 3395469782],
            n = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
          if ("string" == typeof r) {
            const e = unescape(encodeURIComponent(r));
            r = [];
            for (let t = 0; t < e.length; ++t) r.push(e.charCodeAt(t));
          } else Array.isArray(r) || (r = Array.prototype.slice.call(r));
          r.push(128);
          const s = r.length / 4 + 2,
            l = Math.ceil(s / 16),
            c = new Array(l);
          for (let e = 0; e < l; ++e) {
            const t = new Uint32Array(16);
            for (let o = 0; o < 16; ++o)
              t[o] =
                (r[64 * e + 4 * o] << 24) |
                (r[64 * e + 4 * o + 1] << 16) |
                (r[64 * e + 4 * o + 2] << 8) |
                r[64 * e + 4 * o + 3];
            c[e] = t;
          }
          (c[l - 1][14] = (8 * (r.length - 1)) / Math.pow(2, 32)),
            (c[l - 1][14] = Math.floor(c[l - 1][14])),
            (c[l - 1][15] = (8 * (r.length - 1)) & 4294967295);
          for (let a = 0; a < l; ++a) {
            const r = new Uint32Array(80);
            for (let e = 0; e < 16; ++e) r[e] = c[a][e];
            for (let e = 16; e < 80; ++e)
              r[e] = t(r[e - 3] ^ r[e - 8] ^ r[e - 14] ^ r[e - 16], 1);
            let s = n[0],
              l = n[1],
              f = n[2],
              u = n[3],
              i = n[4];
            for (let n = 0; n < 80; ++n) {
              const c = Math.floor(n / 20),
                a = (t(s, 5) + e(c, l, f, u) + i + o[c] + r[n]) >>> 0;
              (i = u), (u = f), (f = t(l, 30) >>> 0), (l = s), (s = a);
            }
            (n[0] = (n[0] + s) >>> 0),
              (n[1] = (n[1] + l) >>> 0),
              (n[2] = (n[2] + f) >>> 0),
              (n[3] = (n[3] + u) >>> 0),
              (n[4] = (n[4] + i) >>> 0);
          }
          return [
            (n[0] >> 24) & 255,
            (n[0] >> 16) & 255,
            (n[0] >> 8) & 255,
            255 & n[0],
            (n[1] >> 24) & 255,
            (n[1] >> 16) & 255,
            (n[1] >> 8) & 255,
            255 & n[1],
            (n[2] >> 24) & 255,
            (n[2] >> 16) & 255,
            (n[2] >> 8) & 255,
            255 & n[2],
            (n[3] >> 24) & 255,
            (n[3] >> 16) & 255,
            (n[3] >> 8) & 255,
            255 & n[3],
            (n[4] >> 24) & 255,
            (n[4] >> 16) & 255,
            (n[4] >> 8) & 255,
            255 & n[4],
          ];
        }
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var o = r;
        exports.default = o;
      },
      {},
    ],
    oZbo: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e = r(require("./v35.js")),
          t = r(require("./sha1.js"));
        function r(e) {
          return e && e.__esModule ? e : { default: e };
        }
        const u = (0, e.default)("v5", 80, t.default);
        var s = u;
        exports.default = s;
      },
      { "./v35.js": "jljL", "./sha1.js": "F2vf" },
    ],
    Bkgj: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e = "00000000-0000-0000-0000-000000000000";
        exports.default = e;
      },
      {},
    ],
    kmp0: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var e = r(require("./validate.js"));
        function r(e) {
          return e && e.__esModule ? e : { default: e };
        }
        function t(r) {
          if (!(0, e.default)(r)) throw TypeError("Invalid UUID");
          return parseInt(r.slice(14, 15), 16);
        }
        var u = t;
        exports.default = u;
      },
      { "./validate.js": "dh4g" },
    ],
    D6fo: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          Object.defineProperty(exports, "NIL", {
            enumerable: !0,
            get: function () {
              return u.default;
            },
          }),
          Object.defineProperty(exports, "parse", {
            enumerable: !0,
            get: function () {
              return s.default;
            },
          }),
          Object.defineProperty(exports, "stringify", {
            enumerable: !0,
            get: function () {
              return f.default;
            },
          }),
          Object.defineProperty(exports, "v1", {
            enumerable: !0,
            get: function () {
              return e.default;
            },
          }),
          Object.defineProperty(exports, "v3", {
            enumerable: !0,
            get: function () {
              return r.default;
            },
          }),
          Object.defineProperty(exports, "v4", {
            enumerable: !0,
            get: function () {
              return t.default;
            },
          }),
          Object.defineProperty(exports, "v5", {
            enumerable: !0,
            get: function () {
              return n.default;
            },
          }),
          Object.defineProperty(exports, "validate", {
            enumerable: !0,
            get: function () {
              return o.default;
            },
          }),
          Object.defineProperty(exports, "version", {
            enumerable: !0,
            get: function () {
              return i.default;
            },
          });
        var e = a(require("./v1.js")),
          r = a(require("./v3.js")),
          t = a(require("./v4.js")),
          n = a(require("./v5.js")),
          u = a(require("./nil.js")),
          i = a(require("./version.js")),
          o = a(require("./validate.js")),
          f = a(require("./stringify.js")),
          s = a(require("./parse.js"));
        function a(e) {
          return e && e.__esModule ? e : { default: e };
        }
      },
      {
        "./v1.js": "ds1e",
        "./v3.js": "Nc2A",
        "./v4.js": "HQTZ",
        "./v5.js": "oZbo",
        "./nil.js": "Bkgj",
        "./version.js": "kmp0",
        "./validate.js": "dh4g",
        "./stringify.js": "Okf7",
        "./parse.js": "i9qQ",
      },
    ],
    xjEe: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: !0 }),
          (exports.default = void 0);
        var t = require("./localStorage"),
          e = o(require("face-api.js")),
          r = require("uuid");
        function n(t) {
          if ("function" != typeof WeakMap) return null;
          var e = new WeakMap(),
            r = new WeakMap();
          return (n = function (t) {
            return t ? r : e;
          })(t);
        }
        function o(t, e) {
          if (!e && t && t.__esModule) return t;
          if (null === t || ("object" != typeof t && "function" != typeof t))
            return { default: t };
          var r = n(e);
          if (r && r.has(t)) return r.get(t);
          var o = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in t)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(t, a)) {
              var c = i ? Object.getOwnPropertyDescriptor(t, a) : null;
              c && (c.get || c.set)
                ? Object.defineProperty(o, a, c)
                : (o[a] = t[a]);
            }
          return (o.default = t), r && r.set(t, o), o;
        }
        function i(t) {
          return (i =
            "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
              ? function (t) {
                  return typeof t;
                }
              : function (t) {
                  return t &&
                    "function" == typeof Symbol &&
                    t.constructor === Symbol &&
                    t !== Symbol.prototype
                    ? "symbol"
                    : typeof t;
                })(t);
        }
        function a(t) {
          return f(t) || s(t) || u(t) || c();
        }
        function c() {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        }
        function u(t, e) {
          if (t) {
            if ("string" == typeof t) return l(t, e);
            var r = Object.prototype.toString.call(t).slice(8, -1);
            return (
              "Object" === r && t.constructor && (r = t.constructor.name),
              "Map" === r || "Set" === r
                ? Array.from(t)
                : "Arguments" === r ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                ? l(t, e)
                : void 0
            );
          }
        }
        function s(t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        }
        function f(t) {
          if (Array.isArray(t)) return l(t);
        }
        function l(t, e) {
          (null == e || e > t.length) && (e = t.length);
          for (var r = 0, n = new Array(e); r < e; r++) n[r] = t[r];
          return n;
        }
        function h() {
          h = function () {
            return t;
          };
          var t = {},
            e = Object.prototype,
            r = e.hasOwnProperty,
            n =
              Object.defineProperty ||
              function (t, e, r) {
                t[e] = r.value;
              },
            o = "function" == typeof Symbol ? Symbol : {},
            a = o.iterator || "@@iterator",
            c = o.asyncIterator || "@@asyncIterator",
            u = o.toStringTag || "@@toStringTag";
          function s(t, e, r) {
            return (
              Object.defineProperty(t, e, {
                value: r,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              }),
              t[e]
            );
          }
          try {
            s({}, "");
          } catch (F) {
            s = function (t, e, r) {
              return (t[e] = r);
            };
          }
          function f(t, e, r, o) {
            var i = e && e.prototype instanceof p ? e : p,
              a = Object.create(i.prototype),
              c = new P(o || []);
            return n(a, "_invoke", { value: E(t, r, c) }), a;
          }
          function l(t, e, r) {
            try {
              return { type: "normal", arg: t.call(e, r) };
            } catch (F) {
              return { type: "throw", arg: F };
            }
          }
          t.wrap = f;
          var d = {};
          function p() {}
          function y() {}
          function v() {}
          var m = {};
          s(m, a, function () {
            return this;
          });
          var g = Object.getPrototypeOf,
            w = g && g(g(k([])));
          w && w !== e && r.call(w, a) && (m = w);
          var b = (v.prototype = p.prototype = Object.create(m));
          function x(t) {
            ["next", "throw", "return"].forEach(function (e) {
              s(t, e, function (t) {
                return this._invoke(e, t);
              });
            });
          }
          function L(t, e) {
            var o;
            n(this, "_invoke", {
              value: function (n, a) {
                function c() {
                  return new e(function (o, c) {
                    !(function n(o, a, c, u) {
                      var s = l(t[o], t, a);
                      if ("throw" !== s.type) {
                        var f = s.arg,
                          h = f.value;
                        return h && "object" == i(h) && r.call(h, "__await")
                          ? e.resolve(h.__await).then(
                              function (t) {
                                n("next", t, c, u);
                              },
                              function (t) {
                                n("throw", t, c, u);
                              }
                            )
                          : e.resolve(h).then(
                              function (t) {
                                (f.value = t), c(f);
                              },
                              function (t) {
                                return n("throw", t, c, u);
                              }
                            );
                      }
                      u(s.arg);
                    })(n, a, o, c);
                  });
                }
                return (o = o ? o.then(c, c) : c());
              },
            });
          }
          function E(t, e, r) {
            var n = "suspendedStart";
            return function (o, i) {
              if ("executing" === n)
                throw new Error("Generator is already running");
              if ("completed" === n) {
                if ("throw" === o) throw i;
                return _();
              }
              for (r.method = o, r.arg = i; ; ) {
                var a = r.delegate;
                if (a) {
                  var c = S(a, r);
                  if (c) {
                    if (c === d) continue;
                    return c;
                  }
                }
                if ("next" === r.method) r.sent = r._sent = r.arg;
                else if ("throw" === r.method) {
                  if ("suspendedStart" === n) throw ((n = "completed"), r.arg);
                  r.dispatchException(r.arg);
                } else "return" === r.method && r.abrupt("return", r.arg);
                n = "executing";
                var u = l(t, e, r);
                if ("normal" === u.type) {
                  if (
                    ((n = r.done ? "completed" : "suspendedYield"), u.arg === d)
                  )
                    continue;
                  return { value: u.arg, done: r.done };
                }
                "throw" === u.type &&
                  ((n = "completed"), (r.method = "throw"), (r.arg = u.arg));
              }
            };
          }
          function S(t, e) {
            var r = e.method,
              n = t.iterator[r];
            if (void 0 === n)
              return (
                (e.delegate = null),
                ("throw" === r &&
                  t.iterator.return &&
                  ((e.method = "return"),
                  (e.arg = void 0),
                  S(t, e),
                  "throw" === e.method)) ||
                  ("return" !== r &&
                    ((e.method = "throw"),
                    (e.arg = new TypeError(
                      "The iterator does not provide a '" + r + "' method"
                    )))),
                d
              );
            var o = l(n, t.iterator, e.arg);
            if ("throw" === o.type)
              return (
                (e.method = "throw"), (e.arg = o.arg), (e.delegate = null), d
              );
            var i = o.arg;
            return i
              ? i.done
                ? ((e[t.resultName] = i.value),
                  (e.next = t.nextLoc),
                  "return" !== e.method &&
                    ((e.method = "next"), (e.arg = void 0)),
                  (e.delegate = null),
                  d)
                : i
              : ((e.method = "throw"),
                (e.arg = new TypeError("iterator result is not an object")),
                (e.delegate = null),
                d);
          }
          function O(t) {
            var e = { tryLoc: t[0] };
            1 in t && (e.catchLoc = t[1]),
              2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
              this.tryEntries.push(e);
          }
          function j(t) {
            var e = t.completion || {};
            (e.type = "normal"), delete e.arg, (t.completion = e);
          }
          function P(t) {
            (this.tryEntries = [{ tryLoc: "root" }]),
              t.forEach(O, this),
              this.reset(!0);
          }
          function k(t) {
            if (t) {
              var e = t[a];
              if (e) return e.call(t);
              if ("function" == typeof t.next) return t;
              if (!isNaN(t.length)) {
                var n = -1,
                  o = function e() {
                    for (; ++n < t.length; )
                      if (r.call(t, n))
                        return (e.value = t[n]), (e.done = !1), e;
                    return (e.value = void 0), (e.done = !0), e;
                  };
                return (o.next = o);
              }
            }
            return { next: _ };
          }
          function _() {
            return { value: void 0, done: !0 };
          }
          return (
            (y.prototype = v),
            n(b, "constructor", { value: v, configurable: !0 }),
            n(v, "constructor", { value: y, configurable: !0 }),
            (y.displayName = s(v, u, "GeneratorFunction")),
            (t.isGeneratorFunction = function (t) {
              var e = "function" == typeof t && t.constructor;
              return (
                !!e &&
                (e === y || "GeneratorFunction" === (e.displayName || e.name))
              );
            }),
            (t.mark = function (t) {
              return (
                Object.setPrototypeOf
                  ? Object.setPrototypeOf(t, v)
                  : ((t.__proto__ = v), s(t, u, "GeneratorFunction")),
                (t.prototype = Object.create(b)),
                t
              );
            }),
            (t.awrap = function (t) {
              return { __await: t };
            }),
            x(L.prototype),
            s(L.prototype, c, function () {
              return this;
            }),
            (t.AsyncIterator = L),
            (t.async = function (e, r, n, o, i) {
              void 0 === i && (i = Promise);
              var a = new L(f(e, r, n, o), i);
              return t.isGeneratorFunction(r)
                ? a
                : a.next().then(function (t) {
                    return t.done ? t.value : a.next();
                  });
            }),
            x(b),
            s(b, u, "Generator"),
            s(b, a, function () {
              return this;
            }),
            s(b, "toString", function () {
              return "[object Generator]";
            }),
            (t.keys = function (t) {
              var e = Object(t),
                r = [];
              for (var n in e) r.push(n);
              return (
                r.reverse(),
                function t() {
                  for (; r.length; ) {
                    var n = r.pop();
                    if (n in e) return (t.value = n), (t.done = !1), t;
                  }
                  return (t.done = !0), t;
                }
              );
            }),
            (t.values = k),
            (P.prototype = {
              constructor: P,
              reset: function (t) {
                if (
                  ((this.prev = 0),
                  (this.next = 0),
                  (this.sent = this._sent = void 0),
                  (this.done = !1),
                  (this.delegate = null),
                  (this.method = "next"),
                  (this.arg = void 0),
                  this.tryEntries.forEach(j),
                  !t)
                )
                  for (var e in this)
                    "t" === e.charAt(0) &&
                      r.call(this, e) &&
                      !isNaN(+e.slice(1)) &&
                      (this[e] = void 0);
              },
              stop: function () {
                this.done = !0;
                var t = this.tryEntries[0].completion;
                if ("throw" === t.type) throw t.arg;
                return this.rval;
              },
              dispatchException: function (t) {
                if (this.done) throw t;
                var e = this;
                function n(r, n) {
                  return (
                    (a.type = "throw"),
                    (a.arg = t),
                    (e.next = r),
                    n && ((e.method = "next"), (e.arg = void 0)),
                    !!n
                  );
                }
                for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                  var i = this.tryEntries[o],
                    a = i.completion;
                  if ("root" === i.tryLoc) return n("end");
                  if (i.tryLoc <= this.prev) {
                    var c = r.call(i, "catchLoc"),
                      u = r.call(i, "finallyLoc");
                    if (c && u) {
                      if (this.prev < i.catchLoc) return n(i.catchLoc, !0);
                      if (this.prev < i.finallyLoc) return n(i.finallyLoc);
                    } else if (c) {
                      if (this.prev < i.catchLoc) return n(i.catchLoc, !0);
                    } else {
                      if (!u)
                        throw new Error(
                          "try statement without catch or finally"
                        );
                      if (this.prev < i.finallyLoc) return n(i.finallyLoc);
                    }
                  }
                }
              },
              abrupt: function (t, e) {
                for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                  var o = this.tryEntries[n];
                  if (
                    o.tryLoc <= this.prev &&
                    r.call(o, "finallyLoc") &&
                    this.prev < o.finallyLoc
                  ) {
                    var i = o;
                    break;
                  }
                }
                i &&
                  ("break" === t || "continue" === t) &&
                  i.tryLoc <= e &&
                  e <= i.finallyLoc &&
                  (i = null);
                var a = i ? i.completion : {};
                return (
                  (a.type = t),
                  (a.arg = e),
                  i
                    ? ((this.method = "next"), (this.next = i.finallyLoc), d)
                    : this.complete(a)
                );
              },
              complete: function (t, e) {
                if ("throw" === t.type) throw t.arg;
                return (
                  "break" === t.type || "continue" === t.type
                    ? (this.next = t.arg)
                    : "return" === t.type
                    ? ((this.rval = this.arg = t.arg),
                      (this.method = "return"),
                      (this.next = "end"))
                    : "normal" === t.type && e && (this.next = e),
                  d
                );
              },
              finish: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                  var r = this.tryEntries[e];
                  if (r.finallyLoc === t)
                    return this.complete(r.completion, r.afterLoc), j(r), d;
                }
              },
              catch: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                  var r = this.tryEntries[e];
                  if (r.tryLoc === t) {
                    var n = r.completion;
                    if ("throw" === n.type) {
                      var o = n.arg;
                      j(r);
                    }
                    return o;
                  }
                }
                throw new Error("illegal catch attempt");
              },
              delegateYield: function (t, e, r) {
                return (
                  (this.delegate = {
                    iterator: k(t),
                    resultName: e,
                    nextLoc: r,
                  }),
                  "next" === this.method && (this.arg = void 0),
                  d
                );
              },
            }),
            t
          );
        }
        function d(t, e, r, n, o, i, a) {
          try {
            var c = t[i](a),
              u = c.value;
          } catch (s) {
            return void r(s);
          }
          c.done ? e(u) : Promise.resolve(u).then(n, o);
        }
        function p(t) {
          return function () {
            var e = this,
              r = arguments;
            return new Promise(function (n, o) {
              var i = t.apply(e, r);
              function a(t) {
                d(i, n, o, a, c, "next", t);
              }
              function c(t) {
                d(i, n, o, a, c, "throw", t);
              }
              a(void 0);
            });
          };
        }
        window.requestFileSystem =
          window.requestFileSystem || window.webkitRequestFileSystem;
        var y = function (t) {
            return new Promise(function (e, n) {
              window.requestFileSystem(window.TEMPORARY, 1048576, function (n) {
                n.root.getFile(
                  "".concat(t.name).concat((0, r.v4)()),
                  { create: !0, exclusive: !0 },
                  function (r) {
                    r.createWriter(
                      function (n) {
                        n.write(t), e(r);
                      },
                      function (t) {
                        return console.log(t);
                      }
                    );
                  },
                  function (t) {
                    return console.log(t);
                  }
                );
              });
            });
          },
          v = (function () {
            var t = p(
              h().mark(function t(e) {
                return h().wrap(function (t) {
                  for (;;)
                    switch ((t.prev = t.next)) {
                      case 0:
                        return (
                          (t.t0 = URL),
                          (t.next = 3),
                          new Promise(function (t, r) {
                            window.requestFileSystem(
                              window.TEMPORARY,
                              1048576,
                              function (n) {
                                n.root.getFile(
                                  e,
                                  { create: !0, exclusive: !1 },
                                  function (e) {
                                    e.file(t, r);
                                  },
                                  function (t) {
                                    return console.log(t);
                                  }
                                );
                              }
                            );
                          })
                        );
                      case 3:
                        return (
                          (t.t1 = t.sent),
                          t.abrupt(
                            "return",
                            t.t0.createObjectURL.call(t.t0, t.t1)
                          )
                        );
                      case 5:
                      case "end":
                        return t.stop();
                    }
                }, t);
              })
            );
            return function (e) {
              return t.apply(this, arguments);
            };
          })(),
          m = function (n, o) {
            var i,
              c = document.querySelector(n),
              u = document.querySelector(o),
              s = [],
              f = (function () {
                var t = p(
                  h().mark(function t(r, n, o) {
                    var a;
                    return h().wrap(function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            return (
                              (t.next = 2),
                              e
                                .detectSingleFace(
                                  r,
                                  new e.TinyFaceDetectorOptions()
                                )
                                .withFaceLandmarks()
                                .withFaceDescriptor()
                            );
                          case 2:
                            if (void 0 !== (a = t.sent)) {
                              t.next = 6;
                              break;
                            }
                            return (
                              (n.querySelector(".status").innerText =
                                "No tiene cara"),
                              t.abrupt("return")
                            );
                          case 6:
                            s.push({ id: o, detection: a }),
                              (n.querySelector(".status").innerText =
                                "Procesado"),
                              (i = new e.FaceMatcher(
                                s.map(function (t) {
                                  return new e.LabeledFaceDescriptors(
                                    t.id.toString(),
                                    [t.detection.descriptor]
                                  );
                                })
                              ));
                          case 10:
                          case "end":
                            return t.stop();
                        }
                    }, t);
                  })
                );
                return function (e, r, n) {
                  return t.apply(this, arguments);
                };
              })(),
              l = function e() {
                for (; u.firstChild; ) u.removeChild(u.firstChild);
                (0, t.read)().forEach(
                  (function () {
                    var r = p(
                      h().mark(function r(n) {
                        var o, i, a, c, s;
                        return h().wrap(function (r) {
                          for (;;)
                            switch ((r.prev = r.next)) {
                              case 0:
                                return (
                                  (o = document.createElement("div")),
                                  (i = document.createElement("input")),
                                  (a = document.createElement("img")),
                                  (c = document.createElement("div")),
                                  (s = document.createElement("a")),
                                  o.classList.add("image-container"),
                                  s.classList.add("cerrar"),
                                  a.classList.add("card-img-top"),
                                  (o.id = n.id),
                                  (s.href = "#"),
                                  (s.innerText = "x"),
                                  c.classList.add("status"),
                                  (c.innerText = "Pendiente"),
                                  (r.next = 15),
                                  v(n.path)
                                );
                              case 15:
                                (a.src = r.sent),
                                  (i.value = n.name),
                                  i.addEventListener("keyup", function (e) {
                                    return (0,
                                    t.update)(n.id, { name: e.target.value });
                                  }),
                                  s.addEventListener("click", function (r) {
                                    r.preventDefault(),
                                      (0, t.destroy)(n.id),
                                      e();
                                  }),
                                  o.appendChild(s),
                                  o.appendChild(c),
                                  o.appendChild(a),
                                  u.appendChild(o),
                                  f(a, o, n.id);
                              case 24:
                              case "end":
                                return r.stop();
                            }
                        }, r);
                      })
                    );
                    return function (t) {
                      return r.apply(this, arguments);
                    };
                  })()
                );
              };
            return (
              c.addEventListener(
                "change",
                (function () {
                  var e = p(
                    h().mark(function e(n) {
                      var o;
                      return h().wrap(function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              return (e.next = 2), y(n.target.files[0]);
                            case 2:
                              (o = e.sent),
                                (0, t.write)(
                                  [].concat(a((0, t.read)()), [
                                    {
                                      id: (0, r.v4)(),
                                      path: o.fullPath,
                                      name: (0, r.v4)().toString(),
                                    },
                                  ])
                                ),
                                l();
                            case 5:
                            case "end":
                              return e.stop();
                          }
                      }, e);
                    })
                  );
                  return function (t) {
                    return e.apply(this, arguments);
                  };
                })()
              ),
              l(),
              function (t) {
                if (i && t) {
                  var e = i.findBestMatch(t);
                  return (
                    a(u.children).forEach(function (t) {
                      if (e.label !== t.id)
                        return t.classList.remove("selected");
                      t.classList.add("selected");
                    }),
                    e
                  );
                }
              }
            );
          },
          g = m;
        exports.default = g;
      },
      { "./localStorage": "Cf6Q", "face-api.js": "yNIJ", uuid: "D6fo" },
    ],
    epB2: [
      function (require, module, exports) {
        "use strict";
        require("babel-polyfill");
        var t = o(require("face-api.js")),
          e = r(require("./uploader.js"));
        function r(t) {
          return t && t.__esModule ? t : { default: t };
        }
        function n(t) {
          if ("function" != typeof WeakMap) return null;
          var e = new WeakMap(),
            r = new WeakMap();
          return (n = function (t) {
            return t ? r : e;
          })(t);
        }
        function o(t, e) {
          if (!e && t && t.__esModule) return t;
          if (null === t || ("object" != typeof t && "function" != typeof t))
            return { default: t };
          var r = n(e);
          if (r && r.has(t)) return r.get(t);
          var o = {},
            i = Object.defineProperty && Object.getOwnPropertyDescriptor;
          for (var a in t)
            if ("default" !== a && Object.prototype.hasOwnProperty.call(t, a)) {
              var c = i ? Object.getOwnPropertyDescriptor(t, a) : null;
              c && (c.get || c.set)
                ? Object.defineProperty(o, a, c)
                : (o[a] = t[a]);
            }
          return (o.default = t), r && r.set(t, o), o;
        }
        function i(t) {
          return (i =
            "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
              ? function (t) {
                  return typeof t;
                }
              : function (t) {
                  return t &&
                    "function" == typeof Symbol &&
                    t.constructor === Symbol &&
                    t !== Symbol.prototype
                    ? "symbol"
                    : typeof t;
                })(t);
        }
        function a() {
          a = function () {
            return t;
          };
          var t = {},
            e = Object.prototype,
            r = e.hasOwnProperty,
            n =
              Object.defineProperty ||
              function (t, e, r) {
                t[e] = r.value;
              },
            o = "function" == typeof Symbol ? Symbol : {},
            c = o.iterator || "@@iterator",
            u = o.asyncIterator || "@@asyncIterator",
            f = o.toStringTag || "@@toStringTag";
          function s(t, e, r) {
            return (
              Object.defineProperty(t, e, {
                value: r,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              }),
              t[e]
            );
          }
          try {
            s({}, "");
          } catch (P) {
            s = function (t, e, r) {
              return (t[e] = r);
            };
          }
          function l(t, e, r, o) {
            var i = e && e.prototype instanceof v ? e : v,
              a = Object.create(i.prototype),
              c = new k(o || []);
            return n(a, "_invoke", { value: j(t, r, c) }), a;
          }
          function h(t, e, r) {
            try {
              return { type: "normal", arg: t.call(e, r) };
            } catch (P) {
              return { type: "throw", arg: P };
            }
          }
          t.wrap = l;
          var p = {};
          function v() {}
          function y() {}
          function d() {}
          var m = {};
          s(m, c, function () {
            return this;
          });
          var g = Object.getPrototypeOf,
            w = g && g(g(F([])));
          w && w !== e && r.call(w, c) && (m = w);
          var b = (d.prototype = v.prototype = Object.create(m));
          function x(t) {
            ["next", "throw", "return"].forEach(function (e) {
              s(t, e, function (t) {
                return this._invoke(e, t);
              });
            });
          }
          function L(t, e) {
            var o;
            n(this, "_invoke", {
              value: function (n, a) {
                function c() {
                  return new e(function (o, c) {
                    !(function n(o, a, c, u) {
                      var f = h(t[o], t, a);
                      if ("throw" !== f.type) {
                        var s = f.arg,
                          l = s.value;
                        return l && "object" == i(l) && r.call(l, "__await")
                          ? e.resolve(l.__await).then(
                              function (t) {
                                n("next", t, c, u);
                              },
                              function (t) {
                                n("throw", t, c, u);
                              }
                            )
                          : e.resolve(l).then(
                              function (t) {
                                (s.value = t), c(s);
                              },
                              function (t) {
                                return n("throw", t, c, u);
                              }
                            );
                      }
                      u(f.arg);
                    })(n, a, o, c);
                  });
                }
                return (o = o ? o.then(c, c) : c());
              },
            });
          }
          function j(t, e, r) {
            var n = "suspendedStart";
            return function (o, i) {
              if ("executing" === n)
                throw new Error("Generator is already running");
              if ("completed" === n) {
                if ("throw" === o) throw i;
                return S();
              }
              for (r.method = o, r.arg = i; ; ) {
                var a = r.delegate;
                if (a) {
                  var c = O(a, r);
                  if (c) {
                    if (c === p) continue;
                    return c;
                  }
                }
                if ("next" === r.method) r.sent = r._sent = r.arg;
                else if ("throw" === r.method) {
                  if ("suspendedStart" === n) throw ((n = "completed"), r.arg);
                  r.dispatchException(r.arg);
                } else "return" === r.method && r.abrupt("return", r.arg);
                n = "executing";
                var u = h(t, e, r);
                if ("normal" === u.type) {
                  if (
                    ((n = r.done ? "completed" : "suspendedYield"), u.arg === p)
                  )
                    continue;
                  return { value: u.arg, done: r.done };
                }
                "throw" === u.type &&
                  ((n = "completed"), (r.method = "throw"), (r.arg = u.arg));
              }
            };
          }
          function O(t, e) {
            var r = e.method,
              n = t.iterator[r];
            if (void 0 === n)
              return (
                (e.delegate = null),
                ("throw" === r &&
                  t.iterator.return &&
                  ((e.method = "return"),
                  (e.arg = void 0),
                  O(t, e),
                  "throw" === e.method)) ||
                  ("return" !== r &&
                    ((e.method = "throw"),
                    (e.arg = new TypeError(
                      "The iterator does not provide a '" + r + "' method"
                    )))),
                p
              );
            var o = h(n, t.iterator, e.arg);
            if ("throw" === o.type)
              return (
                (e.method = "throw"), (e.arg = o.arg), (e.delegate = null), p
              );
            var i = o.arg;
            return i
              ? i.done
                ? ((e[t.resultName] = i.value),
                  (e.next = t.nextLoc),
                  "return" !== e.method &&
                    ((e.method = "next"), (e.arg = void 0)),
                  (e.delegate = null),
                  p)
                : i
              : ((e.method = "throw"),
                (e.arg = new TypeError("iterator result is not an object")),
                (e.delegate = null),
                p);
          }
          function E(t) {
            var e = { tryLoc: t[0] };
            1 in t && (e.catchLoc = t[1]),
              2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
              this.tryEntries.push(e);
          }
          function _(t) {
            var e = t.completion || {};
            (e.type = "normal"), delete e.arg, (t.completion = e);
          }
          function k(t) {
            (this.tryEntries = [{ tryLoc: "root" }]),
              t.forEach(E, this),
              this.reset(!0);
          }
          function F(t) {
            if (t) {
              var e = t[c];
              if (e) return e.call(t);
              if ("function" == typeof t.next) return t;
              if (!isNaN(t.length)) {
                var n = -1,
                  o = function e() {
                    for (; ++n < t.length; )
                      if (r.call(t, n))
                        return (e.value = t[n]), (e.done = !1), e;
                    return (e.value = void 0), (e.done = !0), e;
                  };
                return (o.next = o);
              }
            }
            return { next: S };
          }
          function S() {
            return { value: void 0, done: !0 };
          }
          return (
            (y.prototype = d),
            n(b, "constructor", { value: d, configurable: !0 }),
            n(d, "constructor", { value: y, configurable: !0 }),
            (y.displayName = s(d, f, "GeneratorFunction")),
            (t.isGeneratorFunction = function (t) {
              var e = "function" == typeof t && t.constructor;
              return (
                !!e &&
                (e === y || "GeneratorFunction" === (e.displayName || e.name))
              );
            }),
            (t.mark = function (t) {
              return (
                Object.setPrototypeOf
                  ? Object.setPrototypeOf(t, d)
                  : ((t.__proto__ = d), s(t, f, "GeneratorFunction")),
                (t.prototype = Object.create(b)),
                t
              );
            }),
            (t.awrap = function (t) {
              return { __await: t };
            }),
            x(L.prototype),
            s(L.prototype, u, function () {
              return this;
            }),
            (t.AsyncIterator = L),
            (t.async = function (e, r, n, o, i) {
              void 0 === i && (i = Promise);
              var a = new L(l(e, r, n, o), i);
              return t.isGeneratorFunction(r)
                ? a
                : a.next().then(function (t) {
                    return t.done ? t.value : a.next();
                  });
            }),
            x(b),
            s(b, f, "Generator"),
            s(b, c, function () {
              return this;
            }),
            s(b, "toString", function () {
              return "[object Generator]";
            }),
            (t.keys = function (t) {
              var e = Object(t),
                r = [];
              for (var n in e) r.push(n);
              return (
                r.reverse(),
                function t() {
                  for (; r.length; ) {
                    var n = r.pop();
                    if (n in e) return (t.value = n), (t.done = !1), t;
                  }
                  return (t.done = !0), t;
                }
              );
            }),
            (t.values = F),
            (k.prototype = {
              constructor: k,
              reset: function (t) {
                if (
                  ((this.prev = 0),
                  (this.next = 0),
                  (this.sent = this._sent = void 0),
                  (this.done = !1),
                  (this.delegate = null),
                  (this.method = "next"),
                  (this.arg = void 0),
                  this.tryEntries.forEach(_),
                  !t)
                )
                  for (var e in this)
                    "t" === e.charAt(0) &&
                      r.call(this, e) &&
                      !isNaN(+e.slice(1)) &&
                      (this[e] = void 0);
              },
              stop: function () {
                this.done = !0;
                var t = this.tryEntries[0].completion;
                if ("throw" === t.type) throw t.arg;
                return this.rval;
              },
              dispatchException: function (t) {
                if (this.done) throw t;
                var e = this;
                function n(r, n) {
                  return (
                    (a.type = "throw"),
                    (a.arg = t),
                    (e.next = r),
                    n && ((e.method = "next"), (e.arg = void 0)),
                    !!n
                  );
                }
                for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                  var i = this.tryEntries[o],
                    a = i.completion;
                  if ("root" === i.tryLoc) return n("end");
                  if (i.tryLoc <= this.prev) {
                    var c = r.call(i, "catchLoc"),
                      u = r.call(i, "finallyLoc");
                    if (c && u) {
                      if (this.prev < i.catchLoc) return n(i.catchLoc, !0);
                      if (this.prev < i.finallyLoc) return n(i.finallyLoc);
                    } else if (c) {
                      if (this.prev < i.catchLoc) return n(i.catchLoc, !0);
                    } else {
                      if (!u)
                        throw new Error(
                          "try statement without catch or finally"
                        );
                      if (this.prev < i.finallyLoc) return n(i.finallyLoc);
                    }
                  }
                }
              },
              abrupt: function (t, e) {
                for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                  var o = this.tryEntries[n];
                  if (
                    o.tryLoc <= this.prev &&
                    r.call(o, "finallyLoc") &&
                    this.prev < o.finallyLoc
                  ) {
                    var i = o;
                    break;
                  }
                }
                i &&
                  ("break" === t || "continue" === t) &&
                  i.tryLoc <= e &&
                  e <= i.finallyLoc &&
                  (i = null);
                var a = i ? i.completion : {};
                return (
                  (a.type = t),
                  (a.arg = e),
                  i
                    ? ((this.method = "next"), (this.next = i.finallyLoc), p)
                    : this.complete(a)
                );
              },
              complete: function (t, e) {
                if ("throw" === t.type) throw t.arg;
                return (
                  "break" === t.type || "continue" === t.type
                    ? (this.next = t.arg)
                    : "return" === t.type
                    ? ((this.rval = this.arg = t.arg),
                      (this.method = "return"),
                      (this.next = "end"))
                    : "normal" === t.type && e && (this.next = e),
                  p
                );
              },
              finish: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                  var r = this.tryEntries[e];
                  if (r.finallyLoc === t)
                    return this.complete(r.completion, r.afterLoc), _(r), p;
                }
              },
              catch: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                  var r = this.tryEntries[e];
                  if (r.tryLoc === t) {
                    var n = r.completion;
                    if ("throw" === n.type) {
                      var o = n.arg;
                      _(r);
                    }
                    return o;
                  }
                }
                throw new Error("illegal catch attempt");
              },
              delegateYield: function (t, e, r) {
                return (
                  (this.delegate = {
                    iterator: F(t),
                    resultName: e,
                    nextLoc: r,
                  }),
                  "next" === this.method && (this.arg = void 0),
                  p
                );
              },
            }),
            t
          );
        }
        function c(t, e, r, n, o, i, a) {
          try {
            var c = t[i](a),
              u = c.value;
          } catch (f) {
            return void r(f);
          }
          c.done ? e(u) : Promise.resolve(u).then(n, o);
        }
        function u(t) {
          return function () {
            var e = this,
              r = arguments;
            return new Promise(function (n, o) {
              var i = t.apply(e, r);
              function a(t) {
                c(i, n, o, a, u, "next", t);
              }
              function u(t) {
                c(i, n, o, a, u, "throw", t);
              }
              a(void 0);
            });
          };
        }
        var f = (function () {
          var r = u(
            a().mark(function r() {
              var n, o, i, c, f, s, l;
              return a().wrap(function (r) {
                for (;;)
                  switch ((r.prev = r.next)) {
                    case 0:
                      return (
                        (n = document.querySelector(".js-video")),
                        (o = document.querySelector(".js-canvas")),
                        (i = o.getContext("2d")),
                        (r.next = 5),
                        navigator.mediaDevices.getUserMedia({ video: !0 })
                      );
                    case 5:
                      return (
                        (c = r.sent),
                        (f = "/data/models"),
                        (r.next = 9),
                        t.nets.tinyFaceDetector.loadFromUri(f)
                      );
                    case 9:
                      return (
                        (r.next = 11), t.nets.faceExpressionNet.loadFromUri(f)
                      );
                    case 11:
                      return (
                        (r.next = 13), t.nets.faceLandmark68Net.loadFromUri(f)
                      );
                    case 13:
                      return (
                        (r.next = 15), t.nets.faceRecognitionNet.loadFromUri(f)
                      );
                    case 15:
                      (s = (0, e.default)(".input-submit", ".images-list")),
                        (n.srcObject = c),
                        (l = (function () {
                          var t = u(
                            a().mark(function t() {
                              return a().wrap(function (t) {
                                for (;;)
                                  switch ((t.prev = t.next)) {
                                    case 0:
                                      i.drawImage(n, 0, 0, 640, 480),
                                        requestAnimationFrame(l);
                                    case 2:
                                    case "end":
                                      return t.stop();
                                  }
                              }, t);
                            })
                          );
                          return function () {
                            return t.apply(this, arguments);
                          };
                        })()),
                        setInterval(
                          (function () {
                            var e = u(
                              a().mark(function e() {
                                var r;
                                return a().wrap(function (e) {
                                  for (;;)
                                    switch ((e.prev = e.next)) {
                                      case 0:
                                        return (
                                          (e.next = 2),
                                          t
                                            .detectSingleFace(
                                              o,
                                              new t.TinyFaceDetectorOptions()
                                            )
                                            .withFaceLandmarks()
                                            .withFaceDescriptor()
                                        );
                                      case 2:
                                        if (void 0 !== (r = e.sent)) {
                                          e.next = 5;
                                          break;
                                        }
                                        return e.abrupt("return");
                                      case 5:
                                        s(r.descriptor);
                                      case 6:
                                      case "end":
                                        return e.stop();
                                    }
                                }, e);
                              })
                            );
                            return function () {
                              return e.apply(this, arguments);
                            };
                          })(),
                          1e3
                        ),
                        requestAnimationFrame(l);
                    case 21:
                    case "end":
                      return r.stop();
                  }
              }, r);
            })
          );
          return function () {
            return r.apply(this, arguments);
          };
        })();
        f();
      },
      {
        "babel-polyfill": "wllv",
        "face-api.js": "yNIJ",
        "./uploader.js": "xjEe",
      },
    ],
  },
  {},
  ["epB2"],
  null
);
//# sourceMappingURL=/main.0029cb62.js.map
